{"version":3,"file":"neep.router.js","sources":["../src/install/context.ts","../src/View.ts","../src/Link.ts","../src/install/index.ts","../src/util.ts","../node_modules/path-to-regexp/dist.es2015/index.js","../src/route.ts","../src/query.ts","../src/history/Memory.ts","../src/history/WebPath.ts","../src/history/WebHash.ts","../src/Router.ts","../src/browser.ts"],"sourcesContent":["import { Context } from '@neep/core';\n\nexport default function contextConstructor(context: Context) {\n\tconst router = context.delivered.__NeepRouter__;\n\tconst depth = context.delivered.__RouteDepth__ || 0;\n\tReflect.defineProperty(context, 'route', {\n\t\tvalue: router,\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n\tReflect.defineProperty(context, 'match', {\n\t\tget: () => router?._get(depth),\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n}","import { Context, Auxiliary, mName, mSimple } from '@neep/core';\nimport Router from './Router';\n\nexport interface ViewProps {\n\tname?: string;\n\tdepth?: number;\n\trouter?: Router;\n}\nexport default function RouterView(\n\tprops: ViewProps,\n\t{ delivered }: Context,\n\t{ createElement, Deliver, label }: Auxiliary,\n) {\n\tconst isNew = props.router instanceof Router;\n\tconst router = isNew ? props.router : delivered.__NeepRouter__;\n\tif (!(router instanceof Router)) { return; }\n\tlet depth = props.depth;\n\tif (typeof depth === 'number' && Number.isInteger(depth)) {\n\t\tif (depth < 0) { depth = router.size - depth; }\n\t} else {\n\t\tdepth = isNew ? 0 : (delivered.__RouteDepth__ || 0) + 1;\n\t}\n\tif (depth < 0) { return null; }\n\tconst match = router._get(depth);\n\tif (!match) { return; }\n\tconst { route: { components } } = match;\n\tif (!components) { return null; }\n\tconst name = props.name || 'default';\n\tconst component = name in components ? components[name] : undefined;\n\tif (!component) { return null; }\n\tlabel(`[path=${match.path}]`, '#987654');\n\treturn createElement(Deliver, {\n\t\t__RouteDepth__: depth,\n\t\t__NeepRouter__: router,\n\t}, createElement(component, props));\n}\nmSimple(RouterView);\nmName('RouterView', RouterView);\n","import { Context, Auxiliary, mName, mSimple } from '@neep/core';\nimport { Location } from './type';\n\nexport interface LinkProps extends Location {\n\tto?: Location | string;\n\treplace?: boolean;\n}\nexport default function RouterLink(\n\tprops: LinkProps,\n\tcontext: Context,\n\tauxiliary: Auxiliary,\n) {\n\tconst { route, childNodes } = context;\n\tconst { createElement } = auxiliary;\n\tif (!route) { return createElement('template', {}, ...childNodes); }\n\tlet {to, append, replace, path, search, hash, query, alias, params} = props;\n\tif (!to) {\n\t\tto = { path, search, hash, query, alias, params };\n\t} else if (typeof to === 'string') {\n\t\tto = { path: to };\n\t}\n\tif (append) {\n\t\tto.append = true;\n\t}\n\tfunction onclick() {\n\t\tif (!route || !to) { return; }\n\t\tif (replace) {\n\t\t\troute.replace(to);\n\t\t} else {\n\t\t\troute.push(to);\n\t\t}\n\t}\n\treturn route\n\t\t.history?.link({...props, to}, context, auxiliary, onclick)\n\t\t|| createElement('span', {'@click': onclick}, ...childNodes);\n\n}\nmSimple(RouterLink);\nmName('RouterLink', RouterLink);\n","import contextConstructor from './context';\nimport RouterView from '../View';\nimport RouterLink from '../Link';\n\nexport let Neep: typeof import ('@neep/core');\nexport default function install(neep: typeof import ('@neep/core')) {\n\tNeep = neep;\n\tNeep.addContextConstructor(contextConstructor);\n\tNeep.register('RouterView', RouterView);\n\tNeep.register('router-view', RouterView);\n\tNeep.register('RouterLink', RouterLink);\n\tNeep.register('router-link', RouterLink);\n}\n","export function cleanPath(path: string) {\n\tpath = `/${path}`.replace(/\\/+(\\/|$)/g, '$1');\n\twhile(/[^/]+\\/\\.{2,}(\\/|$)/.test(path)) {\n\t\tpath = path.replace(/\\/[^/]+\\/\\.(\\.+(?:\\/|$))/g, '/$1');\n\t}\n\tpath = path.replace(/\\/\\.+(\\/|$)/g, '$1');\n\treturn path || '/';\n}","/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n    var tokens = [];\n    var i = 0;\n    while (i < str.length) {\n        var char = str[i];\n        if (char === \"*\" || char === \"+\" || char === \"?\") {\n            tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"\\\\\") {\n            tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n            continue;\n        }\n        if (char === \"{\") {\n            tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"}\") {\n            tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \":\") {\n            var name = \"\";\n            var j = i + 1;\n            while (j < str.length) {\n                var code = str.charCodeAt(j);\n                if (\n                // `0-9`\n                (code >= 48 && code <= 57) ||\n                    // `A-Z`\n                    (code >= 65 && code <= 90) ||\n                    // `a-z`\n                    (code >= 97 && code <= 122) ||\n                    // `_`\n                    code === 95) {\n                    name += str[j++];\n                    continue;\n                }\n                break;\n            }\n            if (!name)\n                throw new TypeError(\"Missing parameter name at \" + i);\n            tokens.push({ type: \"NAME\", index: i, value: name });\n            i = j;\n            continue;\n        }\n        if (char === \"(\") {\n            var count = 1;\n            var pattern = \"\";\n            var j = i + 1;\n            if (str[j] === \"?\") {\n                throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \" + j);\n            }\n            while (j < str.length) {\n                if (str[j] === \"\\\\\") {\n                    pattern += str[j++] + str[j++];\n                    continue;\n                }\n                if (str[j] === \")\") {\n                    count--;\n                    if (count === 0) {\n                        j++;\n                        break;\n                    }\n                }\n                else if (str[j] === \"(\") {\n                    count++;\n                    if (str[j + 1] !== \"?\") {\n                        throw new TypeError(\"Capturing groups are not allowed at \" + j);\n                    }\n                }\n                pattern += str[j++];\n            }\n            if (count)\n                throw new TypeError(\"Unbalanced pattern at \" + i);\n            if (!pattern)\n                throw new TypeError(\"Missing pattern at \" + i);\n            tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n            i = j;\n            continue;\n        }\n        tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n    }\n    tokens.push({ type: \"END\", index: i, value: \"\" });\n    return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str, options) {\n    if (options === void 0) { options = {}; }\n    var tokens = lexer(str);\n    var _a = options.prefixes, prefixes = _a === void 0 ? \"./\" : _a;\n    var defaultPattern = \"[^\" + escapeString(options.delimiter || \"/#?\") + \"]+?\";\n    var result = [];\n    var key = 0;\n    var i = 0;\n    var path = \"\";\n    var tryConsume = function (type) {\n        if (i < tokens.length && tokens[i].type === type)\n            return tokens[i++].value;\n    };\n    var mustConsume = function (type) {\n        var value = tryConsume(type);\n        if (value !== undefined)\n            return value;\n        var _a = tokens[i], nextType = _a.type, index = _a.index;\n        throw new TypeError(\"Unexpected \" + nextType + \" at \" + index + \", expected \" + type);\n    };\n    var consumeText = function () {\n        var result = \"\";\n        var value;\n        // tslint:disable-next-line\n        while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n            result += value;\n        }\n        return result;\n    };\n    while (i < tokens.length) {\n        var char = tryConsume(\"CHAR\");\n        var name = tryConsume(\"NAME\");\n        var pattern = tryConsume(\"PATTERN\");\n        if (name || pattern) {\n            var prefix = char || \"\";\n            if (prefixes.indexOf(prefix) === -1) {\n                path += prefix;\n                prefix = \"\";\n            }\n            if (path) {\n                result.push(path);\n                path = \"\";\n            }\n            result.push({\n                name: name || key++,\n                prefix: prefix,\n                suffix: \"\",\n                pattern: pattern || defaultPattern,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        var value = char || tryConsume(\"ESCAPED_CHAR\");\n        if (value) {\n            path += value;\n            continue;\n        }\n        if (path) {\n            result.push(path);\n            path = \"\";\n        }\n        var open = tryConsume(\"OPEN\");\n        if (open) {\n            var prefix = consumeText();\n            var name_1 = tryConsume(\"NAME\") || \"\";\n            var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n            var suffix = consumeText();\n            mustConsume(\"CLOSE\");\n            result.push({\n                name: name_1 || (pattern_1 ? key++ : \"\"),\n                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n                prefix: prefix,\n                suffix: suffix,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        mustConsume(\"END\");\n    }\n    return result;\n}\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile(str, options) {\n    return tokensToFunction(parse(str, options), options);\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction(tokens, options) {\n    if (options === void 0) { options = {}; }\n    var reFlags = flags(options);\n    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;\n    // Compile all the tokens into regexps.\n    var matches = tokens.map(function (token) {\n        if (typeof token === \"object\") {\n            return new RegExp(\"^(?:\" + token.pattern + \")$\", reFlags);\n        }\n    });\n    return function (data) {\n        var path = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (typeof token === \"string\") {\n                path += token;\n                continue;\n            }\n            var value = data ? data[token.name] : undefined;\n            var optional = token.modifier === \"?\" || token.modifier === \"*\";\n            var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n            if (Array.isArray(value)) {\n                if (!repeat) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not repeat, but got an array\");\n                }\n                if (value.length === 0) {\n                    if (optional)\n                        continue;\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not be empty\");\n                }\n                for (var j = 0; j < value.length; j++) {\n                    var segment = encode(value[j], token);\n                    if (validate && !matches[i].test(segment)) {\n                        throw new TypeError(\"Expected all \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                    }\n                    path += token.prefix + segment + token.suffix;\n                }\n                continue;\n            }\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                var segment = encode(String(value), token);\n                if (validate && !matches[i].test(segment)) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                }\n                path += token.prefix + segment + token.suffix;\n                continue;\n            }\n            if (optional)\n                continue;\n            var typeOfMessage = repeat ? \"an array\" : \"a string\";\n            throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to be \" + typeOfMessage);\n        }\n        return path;\n    };\n}\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match(str, options) {\n    var keys = [];\n    var re = pathToRegexp(str, keys, options);\n    return regexpToFunction(re, keys, options);\n}\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction(re, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.decode, decode = _a === void 0 ? function (x) { return x; } : _a;\n    return function (pathname) {\n        var m = re.exec(pathname);\n        if (!m)\n            return false;\n        var path = m[0], index = m.index;\n        var params = Object.create(null);\n        var _loop_1 = function (i) {\n            // tslint:disable-next-line\n            if (m[i] === undefined)\n                return \"continue\";\n            var key = keys[i - 1];\n            if (key.modifier === \"*\" || key.modifier === \"+\") {\n                params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {\n                    return decode(value, key);\n                });\n            }\n            else {\n                params[key.name] = decode(m[i], key);\n            }\n        };\n        for (var i = 1; i < m.length; i++) {\n            _loop_1(i);\n        }\n        return { path: path, index: index, params: params };\n    };\n}\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options) {\n    return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path, keys) {\n    if (!keys)\n        return path;\n    // Use a negative lookahead to match only capturing groups.\n    var groups = path.source.match(/\\((?!\\?)/g);\n    if (groups) {\n        for (var i = 0; i < groups.length; i++) {\n            keys.push({\n                name: i,\n                prefix: \"\",\n                suffix: \"\",\n                modifier: \"\",\n                pattern: \"\"\n            });\n        }\n    }\n    return path;\n}\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(paths, keys, options) {\n    var parts = paths.map(function (path) { return pathToRegexp(path, keys, options).source; });\n    return new RegExp(\"(?:\" + parts.join(\"|\") + \")\", flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(path, keys, options) {\n    return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(tokens, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function (x) { return x; } : _d;\n    var endsWith = \"[\" + escapeString(options.endsWith || \"\") + \"]|$\";\n    var delimiter = \"[\" + escapeString(options.delimiter || \"/#?\") + \"]\";\n    var route = start ? \"^\" : \"\";\n    // Iterate over the tokens and create our regexp string.\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        if (typeof token === \"string\") {\n            route += escapeString(encode(token));\n        }\n        else {\n            var prefix = escapeString(encode(token.prefix));\n            var suffix = escapeString(encode(token.suffix));\n            if (token.pattern) {\n                if (keys)\n                    keys.push(token);\n                if (prefix || suffix) {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        var mod = token.modifier === \"*\" ? \"?\" : \"\";\n                        route += \"(?:\" + prefix + \"((?:\" + token.pattern + \")(?:\" + suffix + prefix + \"(?:\" + token.pattern + \"))*)\" + suffix + \")\" + mod;\n                    }\n                    else {\n                        route += \"(?:\" + prefix + \"(\" + token.pattern + \")\" + suffix + \")\" + token.modifier;\n                    }\n                }\n                else {\n                    route += \"(\" + token.pattern + \")\" + token.modifier;\n                }\n            }\n            else {\n                route += \"(?:\" + prefix + suffix + \")\" + token.modifier;\n            }\n        }\n    }\n    if (end) {\n        if (!strict)\n            route += delimiter + \"?\";\n        route += !options.endsWith ? \"$\" : \"(?=\" + endsWith + \")\";\n    }\n    else {\n        var endToken = tokens[tokens.length - 1];\n        var isEndDelimited = typeof endToken === \"string\"\n            ? delimiter.indexOf(endToken[endToken.length - 1]) > -1\n            : // tslint:disable-next-line\n                endToken === undefined;\n        if (!strict) {\n            route += \"(?:\" + delimiter + \"(?=\" + endsWith + \"))?\";\n        }\n        if (!isEndDelimited) {\n            route += \"(?=\" + delimiter + \"|\" + endsWith + \")\";\n        }\n    }\n    return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(path, keys, options) {\n    if (path instanceof RegExp)\n        return regexpToRegexp(path, keys);\n    if (Array.isArray(path))\n        return arrayToRegexp(path, keys, options);\n    return stringToRegexp(path, keys, options);\n}\n//# sourceMappingURL=index.js.map","\nimport { match, compile } from 'path-to-regexp';\nimport { RouteConfig, Route, Match } from './type';\nimport { cleanPath } from './util';\n\n\nexport function addRoute(\n\tcfg: RouteConfig,\n\tnamed: Record<string, Route>,\n\tparent?: Route,\n) {\n\tlet { path, children, alias, meta, component, components, ...p } = cfg;\n\tlet end = !(Array.isArray(children) && children.length);\n\tif (!path || path === '*') {\n\t\tpath = '';\n\t\tend = false;\n\t}\n\tif (path[0] !== '/') {\n\t\tpath = `${parent?.path || ''}/${path}`;\n\t}\n\tpath = cleanPath(path);\n\tif (component) {\n\t\tif (!components) {\n\t\t\tcomponents = {};\n\t\t}\n\t\tcomponents.default = component;\n\t}\n\tconst item: Route = {\n\t\t...p,\n\t\tpath,\n\t\talias,\n\t\tcomponent,\n\t\tcomponents,\n\t\tmeta: meta || {},\n\t\ttoPath: compile(path || '', { encode: encodeURIComponent }),\n\t\tmatch: match(path || '', {end, decode: decodeURIComponent}),\n\t};\n\tif (alias) { named[alias] = item; }\n\tif (Array.isArray(children)) {\n\t\titem.children = children.map(c => addRoute(c, named, item));\n\t}\n\treturn item;\n}\n\nexport function *matchRoutes(path: string, routes: Route[] = []): Iterable<Match>{\n\tfor (const route of routes) {\n\t\tconst result = route.match(path);\n\t\tif (!result) { continue; }\n\t\tif (route.components || route.redirect) {\n\t\t\tyield { ...result, route };\n\t\t}\n\t\tif (!route.redirect) {\n\t\t\tyield* matchRoutes(path, route.children);\n\t\t}\n\t\treturn;\n\t}\n}\n","\nfunction getValue(v: any): string | undefined | null {\n\tif (v === undefined) { return undefined; }\n\tif (v === null) { return null; }\n\tif (v === false) { return undefined; }\n\tif (typeof v === 'number' && !Number.isFinite(v)) { return; }\n\tif (typeof v === 'function') { return; }\n\treturn encodeURIComponent(String(v));\n}\nexport function stringify(s: any): string {\n\tconst list: string[] = [];\n\tfor (const key of Object.keys(s)) {\n\t\tconst value = s[key];\n\t\tconst k = encodeURIComponent(key);\n\t\tif (!Array.isArray(value)) {\n\t\t\tconst v = getValue(value);\n\t\t\tif (v === undefined) { continue; }\n\t\t\tlist.push(v === null ? k : `${k}=${v}`);\n\t\t\tcontinue;\n\t\t}\n\t\tfor (const val of value) {\n\t\t\tconst v = getValue(val);\n\t\t\tif (v === undefined) { continue; }\n\t\t\tlist.push(v === null ? k : `${k}=${v}`);\n\t\t}\n\t}\n\treturn list.join('&');\n}\n\nexport function parse(s: string): object {\n\tconst query = Object.create(null);\n\tfunction set(k: string, v: null | string = null) {\n\t\tif (!(k in query)) {\n\t\t\tquery[k] = v;\n\t\t\treturn;\n\t\t}\n\t\tconst it = query[k];\n\t\tif (Array.isArray(it)) {\n\t\t\tit.push(v);\n\t\t} else {\n\t\t\tquery[k] = [it, v];\n\t\t}\n\n\t}\n\tfor (const it of s.split('&')) {\n\t\tconst index = it.indexOf('=');\n\t\tif (index < 0) {\n\t\t\tset(decodeURIComponent(it));\n\t\t\tcontinue;\n\t\t}\n\t\tconst k = decodeURIComponent(it.substr(0, index));\n\t\tconst v = decodeURIComponent(it.substr(index + 1));\n\t\tset(k, v);\n\t}\n\treturn query;\n}","import { IHistory } from '../type';\nimport Router from '../Router';\nimport { Auxiliary, Context } from '@neep/core';\n\nexport default class StoreHistory implements IHistory {\n\trouter: Router;\n\tconstructor(router: Router) {\n\t\tthis.router = router;\n\t}\n\tindex = 0;\n\thistory: [string, string, string, any][] = [];\n\tpush(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\tthis.history.length = this.index + 1;\n\t\tthis.index++;\n\t\tthis.history.push([path, search, hash, state]);\n\t}\n\treplace(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\tthis.history[this.index] = [path, search, hash, state];\n\t}\n\tgo(index: number) {\n\t\tlet newIndex = this.index + index;\n\t\tif (newIndex >= this.history.length) { return; }\n\t\tif (newIndex < 0) { return; }\n\t\tif (newIndex === this.index) { return; }\n\t\tthis.index = newIndex;\n\t\treturn this.history[newIndex];\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\tprops: any,\n\t\t{ childNodes }: Context,\n\t\t{ createElement }: Auxiliary,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElement('span', { '@click': onClick }, ...childNodes);\n\t}\n}\n","import { IHistory, Location } from '../type';\nimport Router from '../Router';\nimport { cleanPath } from '../util';\nimport { Context, Auxiliary } from '@neep/core';\n\nexport default class WebPathHistory implements IHistory {\n\treadonly router: Router;\n\treadonly base: string;\n\tconstructor(router: Router, opt?: {\n\t\tbase?: string;\n\t}) {\n\t\tthis.router = router;\n\t\tlet base = cleanPath(opt?.base || '');\n\t\tthis.base = base === '/' ? '' : base;\n\t\tconst f = () => {\n\t\t\tthis.router._update(\n\t\t\t\tthis.getPath(),\n\t\t\t\tlocation.search,\n\t\t\t\tlocation.hash,\n\t\t\t\thistory.state,\n\t\t\t);\n\t\t};\n\t\twindow.addEventListener('popstate', f);\n\t\tthis.destroy = () => {\n\t\t\tthis.destroy = () => {};\n\t\t\twindow.removeEventListener('popstate', f);\n\t\t};\n\t}\n\tstart() {\n\t\tthis.router._update(\n\t\t\tthis.getPath(),\n\t\t\tlocation.search,\n\t\t\tlocation.hash,\n\t\t\thistory.state,\n\t\t);\n\t}\n\tdestroy() {}\n\tpush(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\thistory.pushState(state, '', `${this.base}${path}${search}${hash}`);\n\t}\n\treplace(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\thistory.replaceState(state, '', `${this.base}${path}${search}${hash}`);\n\t}\n\tprivate getPath() {\n\t\tconst path = location.pathname;\n\t\tconst { base } = this;\n\t\tif (!base) { return path; }\n\t\tif (path.indexOf(`${base}/`) !== 0) { return path; }\n\t\treturn path.substr(base.length);\n\t}\n\tgo(index: number) {\n\t\tconst old = {\n\t\t\tpath: this.getPath(),\n\t\t\tsearch: location.search,\n\t\t\thash: location.hash,\n\t\t\tstate: history.state,\n\t\t};\n\t\thistory.go(index);\n\t\tconst path = this.getPath();\n\t\tconst search = location.search;\n\t\tconst hash = location.hash;\n\t\tconst state = history.state;\n\t\tif (\n\t\t\tpath !== old.path\n\t\t\t|| search !== old.search\n\t\t\t|| hash !== old.hash\n\t\t\t|| state !== old.state\n\t\t) {\n\t\t\treturn [path, search, hash, state] as [string, string, string, any];\n\t\t}\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\t{to}: { to: Location },\n\t\t{ childNodes }: Context,\n\t\t{createElement}: Auxiliary,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElement('a', {\n\t\t\thref: `${this.base}${this.router.getUrl(to)}`,\n\t\t\t'@click': (e: MouseEvent) => {\n\t\t\t\te.preventDefault(); onClick();\n\t\t\t},\n\t\t}, ...childNodes);\n\t}\n}\n","import { IHistory, Location } from '../type';\nimport Router from '../Router';\nimport { Context, Auxiliary } from '@neep/core';\n\nfunction parse(p: string): [string, string, string] {\n\tconst result = /^([^?#]*)((?:\\?[^#]*)?)((?:#.*)?)$/.exec(p);\n\tif (!result) { return ['/', '', '']; }\n\treturn [result[1] || '/', result[2], result[3]];\n}\n\nexport default class WebPathHistory implements IHistory {\n\trouter: Router;\n\tconstructor(router: Router) {\n\t\tthis.router = router;\n\t\tconst f = () => {\n\t\t\tconst [path, search, hash] = parse(location.hash.substr(1));\n\t\t\tthis.router._update(path, search, hash);\n\t\t};\n\t\twindow.addEventListener('hashchange', f);\n\t\tthis.destroy = () => {\n\t\t\tthis.destroy = () => {};\n\t\t\twindow.removeEventListener('hashchange', f);\n\t\t};\n\t}\n\tstart() {\n\t\tconst [path, search, hash] = parse(location.hash.substr(1));\n\t\tthis.router._update(path, search, hash);\n\t}\n\tdestroy() {}\n\tpush(path: string, search: string, hash: string) {\n\t\tlocation.hash = `#${path}${search}${hash}`;\n\t}\n\treplace(path: string, search: string, hash: string) {\n\t\tlocation.replace(`#${path}${search}${hash}`);\n\t}\n\tgo(index: number) {\n\t\tconst oldHash = location.hash;\n\t\thistory.go(index);\n\t\tconst hash = location.hash;\n\t\tif (hash === oldHash) { return; }\n\t\treturn [...parse(hash.substr(1)), undefined] as [string, string, string, any];\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\t{to}: { to: Location },\n\t\t{ childNodes }: Context,\n\t\t{createElement}: Auxiliary,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElement('a', {\n\t\t\thref: `#${this.router.getUrl(to)}`,\n\t\t\t'@click': (e: MouseEvent) => {\n\t\t\t\te.preventDefault(); onClick();\n\t\t\t},\n\t\t}, ...childNodes);\n\t}\n}\n","import install, { Neep } from './install';\nimport { Value } from 'monitorable';\nimport RouterView from './View';\nimport RouterLink from './Link';\nimport { Route, Location, IHistory, Match, RouteConfig } from './type';\nimport { cleanPath } from './util';\nimport { addRoute, matchRoutes } from './route';\nimport { stringify, parse } from './query';\nimport * as history from './history';\nimport { Component } from '@neep/core';\n\nfunction get(\n\tlocation: Location | string,\n\troutes: Record<string, Route>,\n\tbasePath: string,\n\tstringifyQuery = stringify,\n): {\n\tpath: string;\n\tsearch: string;\n\thash: string;\n} {\n\tif (typeof location === 'string') { location = { path: location }; }\n\n\tconst route = location.alias && routes[location.alias];\n\tconst result = location.path && /^([^?#]*)((?:\\?[^#]*)?)((?:#.*)?)$/\n\t\t.exec(location.path);\n\tlet path = result?.[1] || '';\n\tif (!path) {\n\t\tpath = route ? route.toPath(location.params || {}) : basePath;\n\t} else if (route) {\n\t\tlet routePath = route.toPath(location.params || {});\n\t\tif (!location.append) {\n\t\t\troutePath = routePath.replace(/\\/[^/]*\\/?$/, '');\n\t\t}\n\t\tpath = `${route.toPath(location.params || {})}/${path}`;\n\t} else if (location.append) {\n\t\tpath = `${basePath}/${path}`;\n\t} if (path[0] !== '/') {\n\t\tpath = `${basePath.replace(/\\/[^/]*\\/?$/, '')}/${path}`;\n\t}\n\tpath = cleanPath(path);\n\tconst search = location.query && `?${ stringifyQuery(location.query) }`\n\t\t|| location.search || result?.[2] || '';\n\tconst hash = location.hash || result?.[3] || '';\n\treturn { path, search, hash };\n}\n\nfunction update(\n\tobj: any,\n\tprops: any = {},\n) {\n\tconst newKeys = new Set(Reflect.ownKeys(props));\n\tfor (const k of Reflect.ownKeys(obj)) {\n\t\tif (!newKeys.has(k)) {\n\t\t\tdelete obj[k];\n\t\t}\n\t}\n\tfor (const k of newKeys) {\n\t\tobj[k] = props[k];\n\t}\n\treturn obj;\n}\nconst redirects: string[] = [];\nclass Router {\n\tstatic get history() { return history; }\n\tstatic get install() { return install; }\n\tstatic get View() { return RouterView; }\n\tstatic get Link() { return RouterLink; }\n\tstringify?(query: Record<any, any>): string;\n\tparse?(search: string): Record<any, any>;\n\tprivate _namedRoutes: Record<string, Route> = Object.create(null);\n\tprivate _routes: Route[] = [];\n\thistory?: IHistory;\n\tprivate readonly _size = Neep.value(0);\n\tprivate readonly _nodes: Value<Match | undefined>[] = [];\n\tprivate readonly _matches = Neep.value<Match[]>([]);\n\tprivate readonly _hash = Neep.value('');\n\tprivate readonly _search = Neep.value('');\n\tprivate readonly _alias = Neep.value('');\n\tprivate readonly _path = Neep.value('/');\n\tprivate readonly _state = Neep.value(undefined as any);\n\tget size() { return this._size(); }\n\tget matches() { return this._matches(); }\n\tget alias() { return this._alias(); }\n\tget path(): string { return this._path(); }\n\tget search() { return this._search(); }\n\tget hash() { return this._hash(); }\n\tget state() { return this._state(); }\n\treadonly params: Record<string, string> = Neep.encase(Object.create(null));\n\treadonly query: Record<string, any> = Neep.encase(Object.create(null));\n\treadonly meta: Record<string, any> = Neep.encase(Object.create(null));\n\tconstructor({History, historyOption}: {\n\t\tHistory?: {new(router: Router, opt?: any): IHistory }\n\t\thistoryOption?: any;\n\t}) {\n\t\tif (History) {\n\t\t\tconst history = new History(this, historyOption);\n\t\t\tthis.history = history;\n\t\t\thistory.start?.();\n\t\t}\n\t}\n\tsetRoutes(routes: RouteConfig[]) {\n\t\tconst named = Object.create(null);\n\t\tthis._routes = routes.map(c => addRoute(c, named));\n\t\tthis._namedRoutes = named;\n\t\tthis._update(\n\t\t\tthis._path(),\n\t\t\tthis._search(),\n\t\t\tthis._hash(),\n\t\t\tthis._state(),\n\t\t\ttrue,\n\t\t);\n\t}\n\t_get(index: number): Match | undefined {\n\t\tconst item =  this._nodes[index]?.();\n\t\tif (!item) {\n\t\t\tthis._size();\n\t\t\treturn undefined;\n\t\t}\n\t\treturn item;\n\t}\n\t_update(path: string, search: string, hash: string, state?: any, force = false) {\n\t\tif (this._path() !== path || force) {\n\t\t\tconst matches = [...matchRoutes(path, this._routes)];\n\t\t\tconst last = matches[matches.length - 1] as Match | undefined;\n\t\t\tif (last && !last.route.components) {\n\t\t\t\tredirects.push(path);\n\t\t\t\tif (redirects.length >= 10) {\n\t\t\t\t\tthrow new Neep.Error(\n\t\t\t\t\t\t`Too many consecutive redirect jumps: \\n${\n\t\t\t\t\t\t\tredirects.join('\\n')\n\t\t\t\t\t\t}`,\n\t\t\t\t\t\t'router',\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst {redirect, append} = last.route;\n\t\t\t\ttry {\n\t\t\t\t\tif (append) {\n\t\t\t\t\t\tthis.replace(`${path}/${redirect}`, state);\n\t\t\t\t\t} else if (redirect && redirect[0] === '/') {\n\t\t\t\t\t\tthis.replace(redirect, state);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.replace(`${path}/../${redirect}`, state);\n\t\t\t\t\t}\n\t\t\t\t\treturn ;\n\t\t\t\t} finally {\n\t\t\t\t\tredirects.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst nodes = this._nodes;\n\t\t\tconst nodesLength = nodes.length;\n\t\t\tconst matchesLength = matches.length;\n\t\t\tconst min = Math.min(matchesLength, nodesLength);\n\t\t\tfor (let i = 0; i < min; i++) { nodes[i](matches[i]); }\n\t\t\tfor (let i = min; i < nodesLength; i++) {\n\t\t\t\tnodes[i](undefined);\n\t\t\t}\n\t\t\tfor (let i = min; i < matchesLength; i++) {\n\t\t\t\tnodes[i] = Neep.value(matches[i]);\n\t\t\t}\n\t\t\tnodes.length = matchesLength;\n\t\t\tthis._size(matchesLength);\n\t\t\tthis._matches(matches);\n\t\t\tthis._path(path);\n\t\t\tthis._alias(last?.route?.alias || '');\n\t\t\tupdate(this.params, last?.params || {});\n\t\t\tupdate(this.meta, last?.route?.meta || {});\n\t\t}\n\t\tif (this._search() !== search) {\n\t\t\tthis._search(search);\n\t\t\tupdate(this.query, (this.parse || parse)(search.substr(1)));\n\t\t}\n\t\tthis._hash(hash);\n\t\tthis._state(state);\n\t}\n\tpush(location: Location | string, state?: any) {\n\t\tconst { path, search, hash } = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\tthis.history?.push(path, search, hash, state);\n\t\tthis._update(path, search, hash, state);\n\t}\n\treplace(location: Location | string, state?: any) {\n\t\tconst {path, search, hash} = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\tthis.history?.replace(path, search, hash, state);\n\t\tthis._update(path, search, hash, state);\n\t}\n\tgetUrl(location: Location | string) {\n\t\tconst {path, search, hash} = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\treturn `${path}${search}${hash}`;\n\n\t}\n\tgo(index: number) {\n\t\tconst it = this.history?.go(index);\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tback() {\n\t\tconst it = this.history?.back();\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tforward() {\n\t\tconst it = this.history?.forward();\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tget view() {\n\t\tconst view: Component = (props, ...p) =>\n\t\t\tRouterView({...props, router: this}, ...p);\n\t\tNeep.mName('Router', view);\n\t\tReflect.defineProperty(this, 'view', {\n\t\t\tvalue: view,\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t});\n\t\treturn view;\n\t}\n}\n\nexport default Router;\n","import * as Neep from '@neep/core';\nimport Router from '.';\n\nRouter.install(Neep);\nexport { default } from '.';\n"],"names":["contextConstructor","context","router","delivered","__NeepRouter__","depth","__RouteDepth__","Reflect","defineProperty","value","enumerable","configurable","get","_get","RouterView","props","createElement","Deliver","label","isNew","Router","Number","isInteger","size","match","route","components","name","component","undefined","path","mSimple","mName","RouterLink","auxiliary","childNodes","to","append","replace","search","hash","query","alias","params","onclick","push","history","link","Neep","install","neep","addContextConstructor","register","cleanPath","test","addRoute","cfg","named","parent","children","meta","p","end","Array","isArray","length","default","item","toPath","compile","encode","encodeURIComponent","decode","decodeURIComponent","map","c","matchRoutes","routes","result","redirect","getValue","v","isFinite","String","stringify","s","list","key","Object","keys","k","val","join","parse","create","set","it","split","index","indexOf","substr","StoreHistory","constructor","state","go","newIndex","back","forward","onClick","WebPathHistory","opt","base","f","_update","getPath","location","window","addEventListener","destroy","removeEventListener","start","pushState","replaceState","pathname","old","href","getUrl","e","preventDefault","exec","oldHash","basePath","stringifyQuery","routePath","update","obj","newKeys","Set","ownKeys","has","redirects","View","Link","_size","matches","_matches","_alias","_path","_search","_hash","_state","History","historyOption","encase","setRoutes","_routes","_namedRoutes","_nodes","force","last","Error","pop","nodes","nodesLength","matchesLength","min","Math","i","view"],"mappings":"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"}