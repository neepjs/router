{"version":3,"file":"index.js","sources":["../../node_modules/monitorable/dist/monitorable.esm.js","../../node_modules/@neep/core/dist/neep.core.mjs","../../node_modules/@neep/renderer-html/dist/neep.renderer.html.mjs","../../node_modules/@neep/devtools/dist/neep.devtools.mjs","../../src/install/neep.ts","../../src/install/initDelivers.ts","../../src/View.ts","../../src/Link.ts","../../src/util.ts","../../node_modules/path-to-regexp/dist.es2015/index.js","../../src/route.ts","../../src/query.ts","../../src/history/Memory.ts","../../src/history/WebPath.ts","../../src/history/WebHash.ts","../../src/Router.ts","../../src/install/installContextConstructor.ts","../../src/install/installComponents.ts","../../src/install/moduleList.ts","../../src/install/install.ts","../components/User/index.tsx","../components/User/Info.tsx","../components/User/Settings.tsx","../components/Home.tsx","../App.tsx","../index.tsx"],"sourcesContent":["\n/*!\n * monitorable v0.1.0-beta.1\n * (c) 2020-2021 Fierflame\n * @license MIT\n */\n\nlet printErrorLog;\n/** 打印错误 */\n\nfunction printError(info) {\n  if (typeof printErrorLog === 'function') {\n    printErrorLog(info);\n    return;\n  }\n\n  console.error(info);\n}\nfunction setPrintError(p) {\n  printErrorLog = typeof p === 'function' ? p : undefined;\n}\n/**\n * 判断对象是否可被代理\n */\n\nfunction encashable(v) {\n  return Boolean(v && ['object', 'function'].includes(typeof v));\n}\n/** 回调函数安全化处理 */\n\nfunction safeify(fn) {\n  return (...p) => {\n    try {\n      fn(...p);\n    } catch (e) {\n      printError(e);\n    }\n  };\n}\n/** 回调函数安全化处理 */\n\nfunction safeCall(fn) {\n  try {\n    fn();\n  } catch (e) {\n    printError(e);\n  }\n}\nfunction getIndexes(target, prop) {\n  if (!target) {\n    return undefined;\n  }\n\n  if (typeof target !== 'function' && typeof target !== 'object') {\n    return undefined;\n  }\n\n  if (typeof prop === 'number') {\n    return [target, String(prop)];\n  }\n\n  if (typeof prop === 'symbol') {\n    return [target, prop];\n  }\n\n  if (typeof prop === 'string') {\n    return [target, prop];\n  }\n\n  if (typeof prop === 'boolean') {\n    return [target, prop];\n  }\n\n  return undefined;\n}\nfunction getMapValue(map, key, def) {\n  if (map.has(key)) {\n    return map.get(key);\n  }\n\n  const value = def();\n  map.set(key, value);\n  return value;\n}\n\n/** 已被读取的 */\nlet read;\n/**\n * 标记已读状态\n * @param obj  要标记的对象\n * @param prop 要标记的属性\n */\n\nfunction markRead(target, prop) {\n  if (!read) {\n    return;\n  }\n\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return;\n  }\n\n  [target, prop] = indexes;\n  const propMap = getMapValue(read, target, () => new Map());\n\n  if (propMap.has(prop)) {\n    return;\n  }\n\n  propMap.set(prop, false);\n}\n\n/**\n * 监听函数的执行，并将执行过程中读取的对象值设置到 map 中\n * @param fn 要执行的含糊\n * @param map 用于存储被读取对象的 map\n */\nfunction observeRun(map, fn, options) {\n  const oldRead = read;\n  read = map;\n\n  try {\n    if (!(options === null || options === void 0 ? void 0 : options.postpone)) {\n      return fn();\n    }\n\n    return postpone(fn, options.postpone === 'priority');\n  } finally {\n    read = oldRead;\n  }\n}\n\nfunction observe(map, fn, options) {\n  if (typeof fn === 'function') {\n    return observeRun(map, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return observeRun(map, options, fn);\n}\nconst watchList = new WeakMap();\n\nfunction execWatch(target, prop, filter) {\n  var _watchList$get;\n\n  const watch = (_watchList$get = watchList.get(target)) === null || _watchList$get === void 0 ? void 0 : _watchList$get.get(prop);\n\n  if (!watch) {\n    return;\n  }\n\n  let list = [...watch];\n\n  if (filter) {\n    list = list.filter(([, t]) => filter(t));\n  }\n\n  list.forEach(([w]) => w());\n}\n\nlet waitList;\n\nfunction runDeferred(list) {\n  for (const [target, set] of list.entries()) {\n    var _read;\n\n    const propMap = (_read = read) === null || _read === void 0 ? void 0 : _read.get(target);\n\n    for (const prop of set) {\n      execWatch(target, prop, t => !t);\n\n      if (propMap === null || propMap === void 0 ? void 0 : propMap.has(prop)) {\n        propMap.set(prop, true);\n      }\n    }\n  }\n}\n\nfunction postponeRun(f, priority) {\n  const list = !priority && waitList || new Map();\n  const old = waitList;\n  waitList = list;\n\n  try {\n    return f();\n  } finally {\n    waitList = old;\n\n    if (list !== waitList) {\n      runDeferred(list);\n    }\n  }\n}\n\nfunction postpone(fn, priority) {\n  if (typeof fn === 'function') {\n    return postponeRun(fn, priority);\n  }\n\n  if (typeof priority !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return postponeRun(priority, fn);\n}\n\nfunction wait(target, prop) {\n  if (!waitList) {\n    return false;\n  }\n\n  getMapValue(waitList, target, () => new Set()).add(prop);\n  return true;\n}\n/**\n * 标记属性的修改，同时触发监听函数\n * @param target 要标记的对象\n * @param prop   要标记的属性 特别的，false 表示原型，true 表示成员\n */\n\n\nfunction markChange(target, prop) {\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return;\n  }\n\n  [target, prop] = indexes;\n\n  if (wait(target, prop)) {\n    execWatch(target, prop, Boolean);\n    return;\n  }\n\n  execWatch(target, prop);\n}\n/**\n * 观察对象属性的变化\n * @param target 要观察的对象\n * @param prop   要观察的属性名 特别的，false 表示原型，true 表示成员\n * @param fn     属性改变后触发的函数\n */\n\nfunction watchProp(target, prop, cb, disdeferable = false) {\n  if (typeof cb !== 'function') {\n    return () => {};\n  }\n\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return () => {};\n  }\n\n  [target, prop] = indexes;\n  const key = prop;\n  let map = watchList.get(target);\n\n  if (!map) {\n    map = new Map();\n    watchList.set(target, map);\n  }\n\n  const list = getMapValue(map, key, () => new Set());\n  const item = [safeify(cb), disdeferable];\n  list.add(item);\n  let removed = false;\n  return () => {\n    if (removed) {\n      return;\n    }\n\n    removed = true; // 从当前列表中移除\n\n    list.delete(item); // 从属性关联中删除\n\n    if (list.size) {\n      return;\n    }\n\n    if (!map) {\n      return;\n    }\n\n    map.delete(key); // 映射列表中删除\n\n    if (map.size) {\n      return;\n    }\n\n    watchList.delete(target);\n  };\n}\n\nfunction run(cb, fn, options) {\n  cb = safeify(cb);\n  let cancelList;\n  const postpone = options === null || options === void 0 ? void 0 : options.postpone;\n  let end = false;\n  /** 取消监听 */\n\n  function cancel() {\n    if (end) {\n      return false;\n    }\n\n    end = true;\n\n    if (!cancelList) {\n      return true;\n    }\n\n    const list = cancelList;\n    cancelList = undefined;\n    list.forEach(f => f());\n    return true;\n  }\n\n  function trigger() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(true);\n  }\n\n  function run(thisRead) {\n    if (end) {\n      return false;\n    }\n\n    if (!thisRead.size) {\n      end = true;\n      return cb(false);\n    }\n\n    const list = [];\n\n    for (let [obj, props] of thisRead) {\n      for (const [p, m] of props) {\n        if (m) {\n          return cb(true);\n        }\n\n        list.push([obj, p]);\n      }\n    }\n\n    cancelList = list.map(([obj, p]) => watchProp(obj, p, trigger, options === null || options === void 0 ? void 0 : options.disdeferable));\n  }\n\n  function stop() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(false);\n  }\n  const thisRead = new Map();\n  const result = observe(thisRead, () => fn(stop), {\n    postpone\n  });\n  run(thisRead);\n\n  if (options === null || options === void 0 ? void 0 : options.resultOnly) {\n    return result;\n  }\n\n  return {\n    result,\n    stop\n  };\n}\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\n\n\nfunction exec(cb, fn, options) {\n  if (typeof cb !== 'function') {\n    throw new Error('cb needs to be a function');\n  }\n\n  if (typeof fn === 'function') {\n    return run(cb, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return run(cb, options, fn);\n}\n\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\nfunction create(cb, fn, options) {\n  cb = safeify(cb);\n  let cancelList;\n  /** 取消监听 */\n\n  function cancel() {\n    if (!cancelList) {\n      return false;\n    }\n\n    const list = cancelList;\n    cancelList = undefined;\n    list.forEach(f => f());\n    return true;\n  }\n\n  function trigger() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(true);\n  }\n\n  function run(thisRead) {\n    if (!thisRead.size) {\n      return cb(false);\n    }\n\n    const list = [];\n\n    for (let [obj, props] of thisRead) {\n      for (const [p, m] of props) {\n        if (m) {\n          return cb(true);\n        }\n\n        list.push([obj, p]);\n      }\n    }\n\n    cancelList = list.map(([obj, p]) => watchProp(obj, p, trigger, options === null || options === void 0 ? void 0 : options.disdeferable));\n  }\n\n  function exec(...p) {\n    cancel();\n    const thisRead = new Map();\n    const result = observe(thisRead, () => fn(...p), options);\n    run(thisRead);\n    return result;\n  }\n\n  exec.stop = () => {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(false);\n  };\n\n  return exec;\n}\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\n\n\nfunction monitor(cb, fn, options) {\n  if (typeof fn === 'function') {\n    return create(cb, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return create(cb, options, fn);\n}\n\n/** 取消监听的方法 */\n\nconst values = new WeakSet();\nfunction isValue(x) {\n  return values.has(x);\n}\n/** 触发监听 */\n\nfunction valueOf() {\n  const value = this();\n\n  if (value === undefined) {\n    return value;\n  }\n\n  if (value === null) {\n    return value;\n  }\n\n  return value.valueOf();\n}\n\nfunction toString(...p) {\n  const value = this();\n\n  if (value === undefined) {\n    return String(value);\n  }\n\n  if (value === null) {\n    return String(value);\n  }\n\n  if (typeof value.toString === 'function') {\n    return value.toString(...p);\n  }\n\n  return String(value);\n}\n\nfunction toPrimitive(hint) {\n  const value = this();\n\n  if (value === undefined) {\n    return String(value);\n  }\n\n  if (value === null) {\n    return String(value);\n  }\n\n  if (typeof value[Symbol.toPrimitive] === 'function') {\n    return value[Symbol.toPrimitive](hint);\n  }\n\n  if (hint === 'string') {\n    return String(value);\n  }\n\n  if (hint === 'number') {\n    return Number(value);\n  }\n\n  return value;\n}\n\nfunction createValue(recover, setValue, stop = () => {}, change = () => {}) {\n  function set(v, marked = false) {\n    if (!setValue) {\n      return;\n    }\n\n    try {\n      setValue(v, () => {\n        marked = true;\n      });\n    } finally {\n      if (marked) {\n        trigger();\n      }\n    }\n  }\n\n  function get() {\n    markRead(value, 'value');\n    return recover();\n  }\n\n  const value = (...v) => {\n    if (v.length) {\n      set(v[0], v[1]);\n      return v[0];\n    }\n\n    return get();\n  };\n\n  Reflect.defineProperty(value, 'value', {\n    get,\n    set,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, 'valueOf', {\n    value: valueOf,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, 'toString', {\n    value: toString,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, Symbol.toPrimitive, {\n    value: toPrimitive,\n    enumerable: true,\n    configurable: true\n  });\n  let stopList = new Set();\n\n  function watch(cb, disdeferable) {\n    if (!stopList) {\n      return () => {};\n    }\n\n    const cancel = watchProp(value, 'value', () => cb(value, false), disdeferable);\n    let cancelled = false;\n\n    const stop = () => {\n      if (cancelled) {\n        return;\n      }\n\n      cancelled = true;\n\n      if (stopList) {\n        stopList.delete(stop);\n      }\n\n      cancel();\n      safeCall(() => cb(value, true));\n    };\n\n    stopList.add(stop);\n    change();\n    return () => {\n      if (cancelled) {\n        return;\n      }\n\n      cancelled = true;\n\n      if (stopList) {\n        stopList.delete(stop);\n      }\n\n      cancel();\n      change();\n    };\n  }\n\n  Reflect.defineProperty(value, 'watch', {\n    get() {\n      return watch;\n    },\n\n    set() {},\n\n    configurable: true\n  });\n\n  const trigger = () => markChange(value, 'value');\n\n  trigger.has = () => {\n    var _stopList;\n\n    return Boolean((_stopList = stopList) === null || _stopList === void 0 ? void 0 : _stopList.size);\n  };\n\n  trigger.stop = () => {\n    if (!stopList) {\n      return;\n    }\n\n    const list = stopList;\n    stopList = undefined;\n\n    for (const stop of [...list]) {\n      stop();\n    }\n  };\n\n  values.add(value);\n  let stopped = false;\n\n  value.stop = () => {\n    if (stopped) {\n      return;\n    }\n\n    stopped = true;\n    stop();\n    trigger.stop();\n  };\n\n  return {\n    value,\n    trigger\n  };\n}\n/**\n * 创建引用值\n * @param value 初始值\n * @param options 选项\n */\n\n\nfunction value(def) {\n  let source;\n  let proxyValue;\n  const {\n    value\n  } = createValue(() => proxyValue, (v, mark) => {\n    if (v === source) {\n      return;\n    }\n\n    source = v;\n    proxyValue = source;\n    mark();\n  });\n  value(def);\n  return value;\n}\nfunction computed(getter, setter, options) {\n  var _options, _options2;\n\n  if (typeof setter !== 'function') {\n    options = setter;\n    setter = undefined;\n  }\n\n  const setValue = setter;\n  const postpone = (_options = options) === null || _options === void 0 ? void 0 : _options.postpone;\n  const deferable = (_options2 = options) === null || _options2 === void 0 ? void 0 : _options2.deferable;\n  let source;\n  let proxyValue;\n  let stopped = false;\n  let computed = false;\n  let trigger;\n  const executable = monitor(changed => {\n    computed = !changed;\n\n    if (changed && trigger) {\n      trigger();\n    }\n  }, getter, {\n    postpone,\n    disdeferable: !deferable\n  });\n\n  function run() {\n    computed = true;\n\n    try {\n      source = executable();\n      proxyValue = source;\n      return proxyValue;\n    } catch (e) {\n      if (!stopped) {\n        computed = false;\n      }\n\n      throw e;\n    }\n  }\n\n  let value;\n  ({\n    value,\n    trigger\n  } = createValue(() => computed || stopped ? proxyValue : run(), setValue && (v => setValue(v)), () => {\n    if (stopped) {\n      return;\n    }\n\n    stopped = true;\n\n    if (computed) {\n      return;\n    }\n\n    run();\n  }));\n  return value;\n}\n\nfunction createValue$1(props, key, def, set) {\n  function setValue(value, setted) {\n    if (!set) {\n      return;\n    }\n\n    set(value, setted);\n  }\n\n  return computed(() => {\n    const p = props[key];\n\n    if (p === undefined && def) {\n      return def();\n    }\n\n    return isValue(p) ? p() : p;\n  }, v => {\n    const p = props[key];\n\n    if (isValue(p)) {\n      p(v);\n      setValue(v, true);\n      return;\n    }\n\n    if (p === undefined && def) {\n      def(v);\n      setValue(v, false);\n      return;\n    }\n\n    setValue(v, false);\n  });\n}\n\nfunction valueify(props, key, def, set) {\n  if (!key) {\n    return (k, d, s) => createValue$1(props, k, d, s);\n  }\n\n  if (!Array.isArray(key)) {\n    return createValue$1(props, key, def, set);\n  }\n\n  const r = Object.create(null);\n\n  for (const k of key) {\n    const value = createValue$1(props, k, def && def(k), set && ((v, s) => set(v, s, k)));\n    Reflect.defineProperty(props, k, {\n      get() {\n        return value();\n      },\n\n      set(v) {\n        value.value = v;\n      },\n\n      configurable: true,\n      enumerable: true\n    });\n  }\n\n  return r;\n}\nfunction mixValue(source, props = Reflect.ownKeys(source), set) {\n  const p = Object.create(source);\n\n  if (Array.isArray(props)) {\n    for (const key of props) {\n      const value = createValue$1(source, key, undefined, set && ((v, s) => set(v, s, key)));\n      Reflect.defineProperty(p, key, {\n        get() {\n          return value();\n        },\n\n        set(v) {\n          value.value = v;\n        },\n\n        configurable: true,\n        enumerable: true\n      });\n    }\n\n    return p;\n  }\n\n  const keys = Reflect.ownKeys(props);\n\n  for (const key of keys) {\n    const value = createValue$1(source, key, props[key], set && ((v, s) => set(v, s, key)));\n    Reflect.defineProperty(p, key, {\n      get() {\n        return value();\n      },\n\n      set(v) {\n        value.value = v;\n      },\n\n      configurable: true,\n      enumerable: true\n    });\n  }\n\n  return p;\n}\n\nfunction createAsValue(props, key) {\n  return computed(() => {\n    const p = props[key];\n    return isValue(p) ? p() : p;\n  }, v => {\n    const p = props[key];\n\n    if (isValue(p)) {\n      p(v);\n    } else {\n      props[key] = v;\n    }\n  });\n}\n\nfunction asValue(props, key) {\n  if (arguments.length >= 2) {\n    return createAsValue(props, key);\n  }\n\n  return k => createAsValue(props, k);\n}\n\nfunction merge(cb) {\n  let oldValue;\n  let ran = false;\n  return (v, stopped) => {\n    if (stopped) {\n      return cb(v, stopped);\n    }\n\n    const newValue = v();\n\n    if (newValue === oldValue && ran) {\n      return;\n    }\n\n    ran = true;\n    oldValue = newValue;\n    cb(v, stopped);\n  };\n}\n\nfunction defineProperty(obj, key, val) {\n  return Reflect.defineProperty(obj, key, {\n    get() {\n      markRead(obj, key);\n      return val;\n    },\n\n    set(v) {\n      if (v === val) {\n        return;\n      }\n\n      val = v;\n      markChange(obj, key);\n    },\n\n    configurable: true,\n    enumerable: true\n  });\n}\nfunction createObject(keys, base = {}, create) {\n  const obj = create || base === null ? Object.create(base) : base;\n\n  for (const key of keys) {\n    let val = obj[key];\n    Reflect.defineProperty(obj, key, {\n      get() {\n        markRead(obj, key);\n        return val;\n      },\n\n      set(v) {\n        if (v === val) {\n          return;\n        }\n\n        val = v;\n        markChange(obj, key);\n      },\n\n      configurable: true,\n      enumerable: true\n    });\n  }\n\n  return obj;\n}\nfunction get(obj, key) {\n  markRead(obj, key);\n  return obj[key];\n}\nfunction set(obj, key, v) {\n  if (v === obj[key]) {\n    return v;\n  }\n\n  obj[key] = v;\n  markChange(obj, key);\n  return v;\n}\n\n/**\n * 判断对象是否可被代理\n */\n\nfunction encashable$1(v) {\n  return Boolean(v && ['object', 'function'].includes(typeof v));\n}\n\nlet getValue;\n/**\n * 获取被代理对象\n * @param obj  要被代理的对象\n * @param nest 递归代理的层数\n */\n\nfunction encase(value, nest = 0) {\n  if (!encashable$1(value)) {\n    return value;\n  }\n\n  const original = recover(value);\n  const nestLayer = nest === true ? Infinity : nest || 0;\n  const proxy = new Proxy(original, {\n    set(target, prop, value, receiver) {\n      if (nest === false) {\n        return Reflect.set(target, prop, value, receiver);\n      }\n\n      const has = Reflect.has(target, prop);\n      const old = Reflect.get(target, prop, receiver);\n      const modified = Reflect.set(target, prop, value, encase(receiver));\n\n      if (!modified) {\n        return modified;\n      }\n\n      if (has !== Reflect.has(target, prop)) {\n        markChange(receiver, true);\n      }\n\n      if (old !== Reflect.get(target, prop, receiver)) {\n        markChange(receiver, prop);\n      }\n\n      return modified;\n    },\n\n    get(target, prop, receiver) {\n      if (getValue === proxy) {\n        if (prop === '__monitorable__recover__') {\n          getValue = original;\n          return;\n        }\n      }\n\n      if (nest === false) {\n        return Reflect.get(target, prop, receiver);\n      }\n\n      markRead(receiver, prop);\n      const value = Reflect.get(target, prop, encase(receiver));\n\n      if (nestLayer > 0) {\n        return encase(value, nestLayer - 1);\n      }\n\n      return value;\n    },\n\n    setPrototypeOf(target, proto) {\n      if (nest === false) {\n        return Reflect.setPrototypeOf(target, proto);\n      }\n\n      const oldProto = Reflect.getPrototypeOf(target);\n      const modified = Reflect.setPrototypeOf(target, proto);\n\n      if (modified && oldProto !== proto) {\n        markChange(target, false);\n        markChange(proxy, false);\n      }\n\n      return modified;\n    },\n\n    getPrototypeOf(target) {\n      if (nest === false) {\n        return Reflect.getPrototypeOf(target);\n      }\n\n      markRead(target, false);\n      markRead(proxy, false);\n      const value = Reflect.getPrototypeOf(target);\n\n      if (nestLayer > 0) {\n        return encase(value, nestLayer - 1);\n      }\n\n      return value;\n    },\n\n    defineProperty(target, prop, attr) {\n      if (nest === false) {\n        return Reflect.defineProperty(target, prop, attr);\n      }\n\n      let changed = true;\n\n      if ('value' in attr) {\n        const desc = Reflect.getOwnPropertyDescriptor(target, prop);\n\n        if (desc && 'value' in desc && recover(attr.value) === recover(desc.value)) {\n          changed = false;\n        }\n      }\n\n      const modified = Reflect.defineProperty(target, prop, attr);\n\n      if (changed && modified) {\n        markChange(target, prop);\n        markChange(proxy, prop);\n      }\n\n      return modified;\n    },\n\n    getOwnPropertyDescriptor(target, prop) {\n      if (nest === false) {\n        return Reflect.getOwnPropertyDescriptor(target, prop);\n      }\n\n      markRead(target, prop);\n      markRead(proxy, prop);\n      return Reflect.getOwnPropertyDescriptor(target, prop);\n    },\n\n    deleteProperty(target, prop) {\n      if (nest === false) {\n        return Reflect.deleteProperty(target, prop);\n      }\n\n      const has = Reflect.has(target, prop);\n      const deleted = Reflect.deleteProperty(target, prop);\n\n      if (has && !Reflect.has(target, prop)) {\n        markChange(target, prop);\n        markChange(target, true);\n        markChange(proxy, prop);\n        markChange(proxy, true);\n      }\n\n      return deleted;\n    },\n\n    ownKeys(target) {\n      if (nest === false) {\n        return Reflect.ownKeys(target);\n      }\n\n      markRead(target, true);\n      markRead(proxy, true);\n      return Reflect.ownKeys(target);\n    },\n\n    has(target, prop) {\n      if (nest === false) {\n        return Reflect.has(target, prop);\n      }\n\n      markRead(target, true);\n      markRead(proxy, true);\n      return Reflect.has(target, prop);\n    }\n\n  });\n  return proxy;\n}\n/** 获取被代理的原始值 */\n\nfunction recover(v) {\n  if (!v) {\n    return v;\n  }\n\n  if (!encashable$1(v)) {\n    return v;\n  }\n\n  let value = v;\n\n  try {\n    getValue = v;\n    value = v.__monitorable__recover__;\n  } catch (_unused) {}\n\n  value = getValue;\n  getValue = false;\n\n  if (!value) {\n    return v;\n  }\n\n  if (typeof value === 'object') {\n    return value;\n  }\n\n  if (typeof value === 'function') {\n    return value;\n  }\n\n  return v;\n}\nfunction equal(a, b) {\n  return recover(a) === recover(b);\n}\n\n\n\nvar Monitorable = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tprintError: printError,\n\tsetPrintError: setPrintError,\n\tencashable: encashable,\n\tsafeify: safeify,\n\tsafeCall: safeCall,\n\tgetIndexes: getIndexes,\n\tgetMapValue: getMapValue,\n\tmarkRead: markRead,\n\tobserve: observe,\n\tpostpone: postpone,\n\tmarkChange: markChange,\n\twatchProp: watchProp,\n\texec: exec,\n\tmonitor: monitor,\n\tisValue: isValue,\n\tvalue: value,\n\tcomputed: computed,\n\tvalueify: valueify,\n\tmixValue: mixValue,\n\tasValue: asValue,\n\tmerge: merge,\n\tdefineProperty: defineProperty,\n\tcreateObject: createObject,\n\tget: get,\n\tset: set,\n\tencase: encase,\n\trecover: recover,\n\tequal: equal\n});\n\nexport default Monitorable;\nexport { asValue, computed, createObject, defineProperty, encase, encashable, equal, exec, get, getIndexes, getMapValue, isValue, markChange, markRead, merge, mixValue, monitor, observe, postpone, printError, recover, safeCall, safeify, set, setPrintError, value, valueify, watchProp };\n//# sourceMappingURL=monitorable.esm.js.map\n","/*!\n * Neep v0.1.0-alpha.17\n * (c) 2019-2021 Fierflame\n * @license MIT\n */\nimport { value, safeify, isValue, computed, markRead, markChange, defineProperty, exec as exec$1, printError, postpone, monitor, createObject, encase, valueify, asValue, mixValue } from 'monitorable';\nexport { asValue, computed, defineProperty, encase, isValue, mixValue, value, valueify } from 'monitorable';\n\nconst version = '0.1.0-alpha.16';\nconst isProduction = process.env.NODE_ENV === 'production';\n\nconst devtools = {\n  renderHook() {}\n\n};\nfunction installDevtools(tools) {\n  if (!tools) {\n    return;\n  }\n\n  if (typeof tools !== 'object') {\n    return;\n  }\n\n  const {\n    renderHook\n  } = tools;\n\n  if (typeof renderHook === 'function') {\n    devtools.renderHook = renderHook;\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nclass NeepError extends Error {\n  constructor(message, tag = '') {\n    super(tag ? `[${tag}] ${message}` : message);\n\n    _defineProperty(this, \"tag\", void 0);\n\n    this.tag = tag;\n  }\n\n}\nfunction assert(v, message, tag) {\n  if (v) {\n    return;\n  }\n\n  throw new NeepError(message, tag);\n}\n\nlet nextFrameApi;\nfunction nextFrame(fn) {\n  assert(nextFrameApi, 'The basic renderer is not installed', 'install');\n  nextFrameApi(fn);\n}\nconst renderers = Object.create(null);\nfunction getRender(type = '', def = renderers.default) {\n  if (typeof type === 'object') {\n    return type;\n  }\n\n  return renderers[type] || def;\n}\nfunction installRender(renderer) {\n  if (!renderer) {\n    return;\n  }\n\n  renderers[renderer.type] = renderer;\n\n  if (nextFrameApi) {\n    return;\n  }\n\n  if (!renderers.default) {\n    renderers.default = renderer;\n  }\n\n  if (!nextFrameApi && renderer.nextFrame) {\n    renderers.default = renderer;\n    nextFrameApi = renderer.nextFrame.bind(renderer);\n  }\n}\n\nfunction installMonitorable(api) {}\n\nfunction install(apis) {\n  installMonitorable(apis.monitorable);\n  installRender(apis.renderer);\n\n  if (!isProduction) {\n    installDevtools(apis.devtools);\n  }\n}\n\nconst ScopeSlot = 'core:scopeslot';\nconst Render = 'core:render';\nconst Slot = 'core:slot';\nconst Container = 'core:container';\nconst Template = 'template';\nconst Fragment = Template;\n\nfunction createEntitySetRef(set) {\n  return function refValue(_0, _1, entity, state) {\n    if (state === true) {\n      set.add(entity);\n      return;\n    }\n\n    if (state === false) {\n      set.delete(entity);\n    }\n  };\n}\n\nfunction createExposedSetRef(set) {\n  return function refValue(newNode, oldNode) {\n    if (newNode === undefined) {\n      if (oldNode !== undefined) {\n        set.delete(oldNode);\n      }\n\n      return;\n    }\n\n    if (oldNode === undefined) {\n      set.add(newNode);\n      return;\n    }\n\n    if (typeof set.replace === 'function') {\n      set.replace(newNode, oldNode);\n      return;\n    }\n\n    set.delete(oldNode);\n    set.add(newNode);\n  };\n}\n\nfunction createEntityRefValue(watch) {\n  const obj = watch ? value(undefined) : {\n    value: undefined\n  };\n\n  function refValue(_1, _2, entity, state) {\n    obj.value = state === false ? entity : undefined;\n  }\n\n  Reflect.defineProperty(refValue, 'value', {\n    get() {\n      return obj.value;\n    },\n\n    enumerable: true,\n    configurable: true\n  });\n  return refValue;\n}\n\nfunction createExposedRefValue(watch) {\n  const obj = watch ? value(undefined) : {\n    value: undefined\n  };\n\n  function refValue(newNode) {\n    obj.value = newNode;\n  }\n\n  Reflect.defineProperty(refValue, 'value', {\n    get() {\n      return obj.value;\n    },\n\n    enumerable: true,\n    configurable: true\n  });\n  return refValue;\n}\n\nfunction ref(set, isEntity) {\n  if (set && (typeof set === 'function' || typeof set === 'object')) {\n    return isEntity ? createEntitySetRef(set) : createExposedSetRef(set);\n  }\n\n  return isEntity ? createEntityRefValue(set) : createExposedRefValue(set);\n}\n\nlet current;\nlet isInit = false;\nlet root = [];\nlet hookList = [];\nlet runs = [];\nfunction getUseHookValue(name, lib, init) {\n  assert(current, `Function \\`${name}\\` can only be called within a cycle.`, 'life');\n\n  if (isInit) {\n    const value = init(current);\n    hookList.push({\n      name,\n      lib,\n      value\n    });\n    return value;\n  }\n\n  const next = hookList.shift();\n  assert(next && next.name === name && next.lib === lib && !next.list, '');\n\n  if (!isProduction) {\n    runs.push({\n      name,\n      lib\n    });\n  }\n\n  return next.value;\n}\nfunction execUseHooks(name, lib, run) {\n  assert(current, `Function \\`${name}\\` can only be called within a cycle.`, 'life');\n\n  if (isInit) {\n    const list = [];\n    hookList.push({\n      name,\n      lib,\n      list\n    });\n    const parent = hookList;\n    hookList = list;\n\n    try {\n      return run(current);\n    } finally {\n      hookList = parent;\n    }\n  }\n\n  const next = hookList.shift();\n  assert(next && next.name === name && next.lib === lib && next.list, '');\n  const parent = hookList;\n  const list = [...next.list];\n  hookList = list;\n\n  if (isProduction) {\n    try {\n      const ret = run(current);\n      assert(!list.length, '');\n      return ret;\n    } finally {\n      hookList = parent;\n    }\n  } else {\n    const runList = [];\n    runs.push({\n      name,\n      lib,\n      list: runList\n    });\n    const runParent = runs;\n    runs = runList;\n\n    try {\n      const ret = run(current);\n      assert(!list.length, '');\n      return ret;\n    } finally {\n      hookList = parent;\n      runs = runParent;\n    }\n  }\n}\nlet setLabels;\nfunction runShell(setLabel, fn) {\n  if (!isProduction) {\n    const oldSetLabel = setLabels;\n    setLabels = setLabel;\n\n    try {\n      return fn();\n    } finally {\n      setLabels = oldSetLabel;\n    }\n  }\n\n  return fn();\n}\nfunction runCurrent(entity, setLabel, fn) {\n  const oldSetLabel = setLabels;\n\n  if (!isProduction) {\n    setLabels = setLabel;\n  }\n\n  const oldEntity = current;\n  current = entity;\n  const oldIsInit = isInit;\n  isInit = !entity.created;\n  const oldRuns = runs;\n  runs = [];\n  const oldRoot = root;\n  root = current.$_useHookValues;\n  const oldHookList = hookList;\n  hookList = isInit ? root : [...root];\n\n  try {\n    const ret = fn();\n    assert(isInit || !hookList.length, 'Inconsistent number of useService executions', 'life');\n    return ret;\n  } finally {\n    current = oldEntity;\n    isInit = oldIsInit;\n    hookList = oldHookList;\n    runs = oldRuns;\n    root = oldRoot;\n\n    if (!isProduction) {\n      setLabels = oldSetLabel;\n    }\n  }\n}\nfunction checkCurrent(name, initOnly = false) {\n  assert(current, `Function \\`${name}\\` can only be called within a cycle.`, 'life');\n  assert(!initOnly || !current.created, `Function \\`${name}\\` can only be called at initialization time.`, 'life');\n  return current;\n}\n\nconst hooks = Object.create(null);\nfunction setHook(id, hook, entity) {\n  let list = (entity === null || entity === void 0 ? void 0 : entity.$_hooks) || hooks;\n\n  if (!list) {\n    return () => {};\n  }\n\n  hook = safeify(hook);\n  let set = list[id];\n\n  if (!set) {\n    set = new Set();\n    list[id] = set;\n  }\n\n  set.add(hook);\n  return () => set.delete(hook);\n}\nfunction callHook(id, entity) {\n  if (!entity) {\n    return;\n  }\n\n  for (const hook of entity.$_hooks[id] || []) {\n    hook(entity);\n  }\n\n  for (const hook of hooks[id] || []) {\n    hook(entity);\n  }\n}\n\nfunction watch(value, cb, run) {\n  const entity = checkCurrent('watch');\n\n  if (typeof value !== 'function') {\n    return () => {};\n  }\n\n  let stop;\n\n  if (isValue(value)) {\n    stop = value.watch(cb);\n    cb(value, false);\n  } else {\n    const v = computed(value);\n    stop = v.watch((v, s) => cb(v(), s));\n    cb(v(), false);\n  }\n\n  setHook('beforeDestroy', () => stop(), entity);\n  return stop;\n}\nfunction useValue(fn) {\n  return getUseHookValue('useValue', 'core', typeof fn === 'function' ? fn : () => value(undefined));\n}\nfunction useService(fn, ...p) {\n  return getUseHookValue('useService', 'core', entity => fn(entity, ...p));\n}\nfunction byService(fn, ...p) {\n  const entity = checkCurrent('byService');\n  return fn(entity, ...p);\n}\nfunction hook(name, hook, initOnly) {\n  const entity = checkCurrent('setHook');\n\n  if (initOnly && entity.created) {\n    return undefined;\n  }\n\n  return setHook(name, () => hook(), entity);\n}\n\nconst rendererSymbol = Symbol.for('renderer');\nconst nameSymbol = Symbol.for('name');\nconst componentsSymbol = Symbol.for('components');\nconst propsSymbol = Symbol.for('props');\nconst componentValueSymbol = Symbol.for('$$$componentValue$$$');\nconst objectTypeSymbol = Symbol.for('$$$objectType$$$');\nconst objectTypeSymbolElement = '$$$objectType$$$Element';\nconst objectTypeSymbolDeliverComponent = '$$$objectType$$$DeliverComponent';\nconst objectTypeSymbolNativeComponent = '$$$objectType$$$NativeComponentNode';\nconst objectTypeSymbolSimpleComponent = '$$$objectType$$$SimpleComponent';\nconst objectTypeSymbolShellComponent = '$$$objectType$$$ShellComponent';\nconst objectTypeSymbolRenderComponent = '$$$objectType$$$RenderComponent';\nconst objectTypeSymbolContainerComponent = '$$$objectType$$$ContainerComponent';\nconst objectTypeSymbolElementComponent = '$$$objectType$$$ElementComponent';\nconst objectTypeSymbolHookEntity = '$$$objectType$$$HookEntity';\nconst objectTypeSymbolRootEntity = '$$$objectType$$$RootEntity';\nconst deliverKeySymbol = Symbol.for('$$$deliverKey$$$');\nconst deliverDefaultSymbol = Symbol.for('$$$deliverDefault$$$');\n\nfunction isSimpleComponent(v) {\n  if (typeof v !== 'function') {\n    return false;\n  }\n\n  return v[objectTypeSymbol] === objectTypeSymbolSimpleComponent;\n}\nfunction isShellComponent(v) {\n  if (typeof v !== 'function') {\n    return false;\n  }\n\n  return v[objectTypeSymbol] === objectTypeSymbolShellComponent;\n}\nfunction isNativeComponent(v) {\n  if (typeof v !== 'function') {\n    return false;\n  }\n\n  return v[objectTypeSymbol] === objectTypeSymbolNativeComponent;\n}\nfunction isRenderComponent(v) {\n  if (typeof v !== 'function') {\n    return false;\n  }\n\n  return v[objectTypeSymbol] === objectTypeSymbolRenderComponent;\n}\nfunction isContainerComponent(v) {\n  if (typeof v !== 'function') {\n    return false;\n  }\n\n  return v[objectTypeSymbol] === objectTypeSymbolContainerComponent;\n}\nfunction isElementComponent(v) {\n  if (typeof v !== 'function') {\n    return false;\n  }\n\n  return v[objectTypeSymbol] === objectTypeSymbolElementComponent;\n}\nfunction isDeliverComponent(v) {\n  if (typeof v !== 'function') {\n    return false;\n  }\n\n  return v[objectTypeSymbol] === objectTypeSymbolDeliverComponent;\n}\n\nfunction isElement(v) {\n  if (!v) {\n    return false;\n  }\n\n  if (typeof v !== 'object') {\n    return false;\n  }\n\n  return v[objectTypeSymbol] === objectTypeSymbolElement;\n}\nfunction isFragmentElement(v) {\n  if (!isElement(v)) {\n    return false;\n  }\n\n  const {\n    tag\n  } = v;\n\n  if (typeof tag !== 'string') {\n    return false;\n  }\n\n  return tag.toLowerCase() === 'template';\n}\nfunction isRenderElement(v) {\n  if (!isElement(v)) {\n    return false;\n  }\n\n  const {\n    tag\n  } = v;\n\n  if (typeof tag !== 'string') {\n    return false;\n  }\n\n  return tag.toLowerCase() === Render;\n}\nfunction isSimpleElement(v) {\n  return isElement(v) && isSimpleComponent(v.tag);\n}\nfunction createElement(tag, attrs, ...children) {\n  const attrProps = attrs ? { ...attrs\n  } : {};\n  const props = {};\n\n  for (const n of Object.keys(attrProps)) {\n    if (n === '@') {\n      props['n:on'] = attrProps[n];\n      continue;\n    }\n\n    if (n[0] === '!') {\n      props[`n:${n.substr(1)}`] = attrProps[n];\n      continue;\n    }\n\n    if (n[0] === '@') {\n      props[`on:${n.substr(1)}`] = attrProps[n];\n      continue;\n    }\n\n    if (n.substr(0, 2) === 'n-') {\n      props[`n:${n.substr(2)}`] = attrProps[n];\n      continue;\n    }\n\n    if (n.substr(0, 3) === 'on-') {\n      const fn = attrProps[n];\n\n      if (typeof fn === 'function' || fn === null || fn === undefined) {\n        props[`on:${n.substr(3)}`] = fn;\n      }\n\n      continue;\n    }\n\n    if (n.substr(0, 5) === 'hook-') {\n      const fn = attrProps[n];\n\n      if (typeof fn === 'function' || fn === null || fn === undefined) {\n        props[`hook:${n.substr(5)}`] = fn;\n      }\n\n      continue;\n    }\n\n    if (n.substr(0, 5) === 'data-') {\n      props[`data:${n.substr(5)}`] = attrProps[n];\n    }\n\n    props[n] = attrProps[n];\n  }\n\n  return createElementBase(tag, props, ...children);\n}\nfunction createElementBase(tag, attrs, ...children) {\n  const props = typeof attrs === 'object' && attrs || {};\n  const node = {\n    [objectTypeSymbol]: objectTypeSymbolElement,\n    tag,\n    props,\n    children,\n    key: undefined\n  };\n\n  if ('n:key' in props) {\n    node.key = props['n:key'];\n  }\n\n  if ('n:slot' in props) {\n    node.slot = props['n:slot'];\n  }\n\n  return node;\n}\nfunction createRenderElement(render, {\n  slot,\n  key\n} = {}) {\n  const node = {\n    [objectTypeSymbol]: objectTypeSymbolElement,\n    tag: Render,\n    props: {\n      'n:key': key,\n      'n:slot': slot\n    },\n    children: [render],\n    key,\n    slot\n  };\n  return node;\n}\nfunction elements(node, opt = {}) {\n  if (Array.isArray(node)) {\n    const list = [];\n\n    for (let n of node) {\n      list.push(elements(n, opt));\n    }\n\n    return [].concat(...list);\n  }\n\n  if (!isElement(node)) {\n    return [node];\n  }\n\n  let {\n    tag\n  } = node;\n\n  if (!tag) {\n    return [node];\n  }\n\n  if (tag === Template) {\n    return elements(node.children, opt);\n  }\n\n  if (!isSimpleComponent(tag)) {\n    return [node];\n  }\n\n  const {\n    simple\n  } = opt;\n\n  if (Array.isArray(simple)) {\n    if (simple.includes(tag)) {\n      return [node];\n    }\n  } else if (typeof simple === 'function') {\n    if (simple(tag)) {\n      return [node];\n    }\n  } else if (simple) {\n    return [node];\n  }\n\n  return elements(node.children, opt);\n}\nfunction equal(a, b) {\n  if (Object.is(a, b)) {\n    return true;\n  }\n\n  if (!a) {\n    return false;\n  }\n\n  if (!b) {\n    return false;\n  }\n\n  if (typeof a !== 'object') {\n    return false;\n  }\n\n  if (typeof b !== 'object') {\n    return false;\n  }\n\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b)) {\n      return false;\n    }\n\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (let i = a.length - 1; i >= 0; i--) {\n      if (!equal(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  if (Array.isArray(b)) {\n    return false;\n  }\n\n  if (!isElement(a)) {\n    return false;\n  }\n\n  if (!isElement(b)) {\n    return false;\n  }\n\n  if (a.tag !== b.tag) {\n    return false;\n  }\n\n  if (a.execed !== b.execed) {\n    return false;\n  }\n\n  if (a.inserted !== b.inserted) {\n    return false;\n  }\n\n  if (a.isDefault !== b.isDefault) {\n    return false;\n  }\n\n  if (a.key !== b.key) {\n    return false;\n  }\n\n  if (a.slot !== b.slot) {\n    return false;\n  }\n\n  const aprops = a.props;\n  const bprops = b.props;\n\n  if (Object.is(aprops, bprops)) {\n    return equal(a.children, b.children);\n  }\n\n  if (!aprops) {\n    return false;\n  }\n\n  if (!bprops) {\n    return false;\n  }\n\n  if (typeof aprops !== 'object') {\n    return false;\n  }\n\n  if (typeof bprops !== 'object') {\n    return false;\n  }\n\n  const aKeys = new Set(Object.keys(aprops));\n  const bKeys = Object.keys(bprops);\n\n  if (aKeys.size !== bKeys.length) {\n    return false;\n  }\n\n  for (const k of bKeys) {\n    if (!aKeys.has(k)) {\n      return false;\n    }\n\n    if (aprops[k] !== bprops[k]) {\n      return false;\n    }\n  }\n\n  return equal(a.children, b.children);\n}\nfunction createTemplateElement(...children) {\n  return {\n    [objectTypeSymbol]: objectTypeSymbolElement,\n    tag: Template,\n    children\n  };\n}\n\nfunction label(...label) {\n  if (!isProduction) {\n    const labels = label.filter(Boolean).map(t => typeof t === 'string' ? {\n      text: t\n    } : t);\n\n    if (!setLabels) {\n      return;\n    }\n\n    setLabels(labels);\n  }\n}\n\nlet ids = 0;\nconst Nodes = {};\nlet IdMap;\n\nif (!isProduction) {\n  IdMap = new WeakMap();\n}\n\nfunction createMountedNode(n, id) {\n  if (!isProduction) {\n    id = id || ++ids;\n    const {\n      node\n    } = n;\n\n    if (node && IdMap) {\n      IdMap.set(node, id);\n    }\n\n    const newNode = { ...n,\n      id\n    };\n    Nodes[id] = newNode;\n    markChange(Nodes, id);\n    return newNode;\n  }\n\n  return { ...n,\n    id: 0\n  };\n}\nfunction recoveryMountedNode(node) {\n  if (!isProduction) {\n    delete Nodes[node.id];\n  }\n}\nfunction getNode(id) {\n  if (!isProduction) {\n    if (typeof id !== 'number') {\n      var _IdMap;\n\n      id = ((_IdMap = IdMap) === null || _IdMap === void 0 ? void 0 : _IdMap.get(id)) || -1;\n    }\n\n    markRead(Nodes, id);\n    return Nodes[id];\n  }\n\n  return undefined;\n}\n\nlet completeList;\nfunction setCompleteList(list) {\n  completeList = list;\n}\nfunction complete(it) {\n  if (!completeList) {\n    it();\n  } else {\n    completeList.push(it);\n  }\n}\nclass BaseProxy {\n  constructor(renderer, originalTag, tag, attrs, parent, delivered) {\n    _defineProperty(this, \"tag\", void 0);\n\n    _defineProperty(this, \"attrs\", void 0);\n\n    _defineProperty(this, \"renderer\", void 0);\n\n    _defineProperty(this, \"labels\", void 0);\n\n    _defineProperty(this, \"parentProxy\", void 0);\n\n    _defineProperty(this, \"delivered\", void 0);\n\n    _defineProperty(this, \"created\", false);\n\n    _defineProperty(this, \"destroyed\", false);\n\n    _defineProperty(this, \"mounted\", false);\n\n    _defineProperty(this, \"unmounted\", false);\n\n    _defineProperty(this, \"tree\", []);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"componentRoot\", void 0);\n\n    _defineProperty(this, \"originalTag\", void 0);\n\n    _defineProperty(this, \"__executed_destroy\", false);\n\n    _defineProperty(this, \"__mountOptions\", null);\n\n    _defineProperty(this, \"__cancelDrawMonitor\", void 0);\n\n    _defineProperty(this, \"__executed_unmounted\", false);\n\n    this.originalTag = originalTag;\n    this.tag = tag;\n    this.renderer = renderer;\n    this.attrs = attrs;\n    this.parentProxy = parent;\n    this.delivered = delivered || (parent === null || parent === void 0 ? void 0 : parent.delivered) || Object.create(null);\n\n    if (!isProduction) {\n      defineProperty(this, 'tree', []);\n    }\n  }\n\n  update(attrs, children) {\n    this.attrs = attrs;\n\n    this._update(attrs, children);\n  }\n\n  destroy() {\n    if (this.__executed_destroy) {\n      return false;\n    }\n\n    this.__executed_destroy = true;\n    this.callHook('beforeDestroy');\n\n    this._destroy();\n\n    this.callHook('destroyed');\n    this.destroyed = true;\n    return true;\n  }\n\n  mount(mountOptions) {\n    if (this.__executed_destroy) {\n      return false;\n    }\n\n    if (!mountOptions) {\n      return false;\n    }\n\n    if (this.__mountOptions) {\n      return false;\n    }\n\n    this.__mountOptions = mountOptions;\n    this.callHook('beforeMount');\n    const result = exec$1(c => c && this.requestDraw(), () => {\n      const newMountOptions = this._mount(mountOptions);\n\n      this.__mountOptions = newMountOptions || mountOptions;\n      this.mounted = true;\n    });\n    this.__cancelDrawMonitor = result.stop;\n    complete(() => this.callHook('mounted'));\n    return true;\n  }\n\n  unmount() {\n    if (!this.mounted) {\n      return false;\n    }\n\n    if (this.__executed_unmounted) {\n      return false;\n    }\n\n    this.__executed_unmounted = true;\n    this.callHook('beforeUnmount');\n\n    this._unmount();\n\n    this.callHook('unmounted');\n    this.unmounted = true;\n    return true;\n  }\n\n  redraw() {\n    if (this.__executed_destroy) {\n      return;\n    }\n\n    if (!this.mounted) {\n      return;\n    }\n\n    const mountOptions = this.__mountOptions;\n\n    if (!mountOptions) {\n      return;\n    }\n\n    if (this.__cancelDrawMonitor) {\n      this.__cancelDrawMonitor();\n    }\n\n    this.callHook('beforeDraw');\n    const result = exec$1(c => c && this.requestDraw(), () => this._redraw(mountOptions));\n    this.__cancelDrawMonitor = result.stop;\n    complete(() => this.callHook('drawn'));\n  }\n\n}\n\nclass NodeProxy extends BaseProxy {\n  constructor(originalTag, tag, attrs, children, parent, delivered) {\n    super(parent.renderer, originalTag, tag, attrs, parent, delivered);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"componentRoot\", void 0);\n\n    this.container = parent.container;\n    this.componentRoot = parent.componentRoot;\n  }\n\n  requestDraw() {\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this.container.markDraw(this);\n  }\n\n  callHook(id) {}\n\n}\n\nfunction createPlaceholder(renderer) {\n  const node = renderer.createPlaceholder();\n  return createMountedNode({\n    tag: null,\n    node\n  });\n}\nfunction createItem(renderer, mountOptions, source) {\n  if (!source) {\n    return createPlaceholder(renderer);\n  }\n\n  const {\n    proxy\n  } = source;\n  proxy.mount(mountOptions);\n  return createMountedNode({ ...source,\n    node: undefined,\n    proxy\n  });\n}\nfunction createList(renderer, mountOptions, source) {\n  if (source.length) {\n    return source.map(it => createItem(renderer, mountOptions, it));\n  }\n\n  return [createPlaceholder(renderer)];\n}\nfunction createAll(renderer, mountOptions, source) {\n  if (!source.length) {\n    return [createPlaceholder(renderer)];\n  }\n\n  return source.map(item => Array.isArray(item) ? createList(renderer, mountOptions, item) : createItem(renderer, mountOptions, item));\n}\n\nfunction* getNodes(tree) {\n  if (Array.isArray(tree)) {\n    for (const it of tree) {\n      yield* getNodes(it);\n    }\n\n    return;\n  }\n\n  const {\n    node,\n    proxy\n  } = tree;\n\n  if (node) {\n    yield node;\n    return;\n  }\n\n  if (proxy) {\n    yield* getNodes(proxy.tree);\n  }\n}\nfunction unmount(renderer, tree) {\n  if (!tree) {\n    return;\n  }\n\n  if (Array.isArray(tree)) {\n    tree.forEach(e => unmount(renderer, e));\n    return;\n  }\n\n  recoveryMountedNode(tree);\n\n  if (tree.proxy) {\n    const {\n      proxy\n    } = tree;\n    proxy.unmount();\n    return;\n  }\n\n  if (tree.node) {\n    const {\n      node\n    } = tree;\n    renderer.removeNode(node);\n  }\n\n  unmount(renderer, tree.children);\n}\n\nfunction getLastNode(tree) {\n  if (Array.isArray(tree)) {\n    return getLastNode(tree[tree.length - 1]);\n  }\n\n  if (tree.node) {\n    return tree.node;\n  }\n\n  return getLastNode(tree.proxy.tree);\n}\n\nfunction getFirstNode(tree) {\n  if (Array.isArray(tree)) {\n    return getFirstNode(tree[0]);\n  }\n\n  if (tree.node) {\n    return tree.node;\n  }\n\n  return getFirstNode(tree.proxy.tree);\n}\n\nfunction replace(renderer, newTree, oldTree) {\n  const next = getFirstNode(oldTree);\n\n  if (!next) {\n    return newTree;\n  }\n\n  const parentNode = renderer.getParent(next);\n\n  if (!parentNode) {\n    return newTree;\n  }\n\n  for (const it of getNodes(newTree)) {\n    renderer.insertNode(parentNode, it, next);\n  }\n\n  unmount(renderer, oldTree);\n  return newTree;\n}\n\nfunction updateList(renderer, mountOptions, source, tree) {\n  if (!source.length) {\n    const node = createPlaceholder(renderer);\n    return [replace(renderer, node, tree)];\n  }\n\n  if (!Array.isArray(tree)) {\n    tree = [tree];\n  }\n\n  const newList = [];\n  const list = [...tree];\n  const mountedMap = new Map();\n\n  for (const src of source) {\n    const index = list.findIndex(it => it.tag === src.tag && it.key === src.key && it.proxy === src.proxy);\n\n    if (index >= 0) {\n      const old = list[index];\n      const item = updateItem(renderer, mountOptions, src, old);\n      mountedMap.set(old, item);\n      newList.push(item);\n      list.splice(index, 1);\n    } else {\n      const item = createItem(renderer, mountOptions, src);\n      newList.push(item);\n    }\n  }\n\n  if (!mountedMap.size) {\n    return replace(renderer, newList, list);\n  }\n\n  unmount(renderer, list);\n  tree = tree.filter(t => mountedMap.has(t));\n  const last = getLastNode(tree.map(t => mountedMap.get(t)).filter(Boolean));\n  const parentNode = renderer.getParent(last);\n\n  if (!parentNode) {\n    return newList;\n  }\n\n  let next = renderer.nextNode(last);\n\n  for (let i = newList.length - 1; i >= 0; i--) {\n    const item = newList[i];\n    const index = tree.findIndex(o => mountedMap.get(o) === item);\n\n    if (index >= 0) {\n      for (const it of tree.splice(index)) {\n        mountedMap.delete(it);\n      }\n    } else {\n      for (const it of getNodes(item)) {\n        renderer.insertNode(parentNode, it, next);\n      }\n    }\n\n    next = getFirstNode(item) || next;\n  }\n\n  return newList;\n}\n\nfunction updateAll(renderer, mountOptions, source, tree) {\n  if (source.length === 0) {\n    return replace(renderer, createAll(renderer, mountOptions, []), tree);\n  }\n\n  let index = 0;\n  let length = Math.min(source.length, tree.length);\n  const list = [];\n\n  for (; index < length; index++) {\n    const src = source[index];\n\n    if (Array.isArray(src)) {\n      list.push(updateList(renderer, mountOptions, src, tree[index]));\n    } else {\n      list.push(updateItem(renderer, mountOptions, src, tree[index]));\n    }\n  }\n\n  length = Math.max(source.length, tree.length);\n\n  if (tree.length > index) {\n    for (; index < length; index++) {\n      unmount(renderer, tree[index]);\n    }\n  }\n\n  if (source.length > index) {\n    const last = getLastNode(list[list.length - 1]);\n    const parentNode = renderer.getParent(last);\n    const next = renderer.nextNode(last);\n\n    for (; index < length; index++) {\n      const src = source[index];\n      const item = Array.isArray(src) ? createList(renderer, mountOptions, src) : createItem(renderer, mountOptions, src);\n      list.push(item);\n\n      if (!parentNode) {\n        continue;\n      }\n\n      for (const it of getNodes(item)) {\n        renderer.insertNode(parentNode, it, next);\n      }\n    }\n  }\n\n  return list;\n}\n\nfunction updateItem(renderer, mountOptions, source, tree) {\n  if (!source) {\n    if (Array.isArray(tree)) {\n      if (tree.length === 1 && tree[0].tag === null) {\n        return tree[0];\n      }\n    } else if (tree.tag === null) {\n      return tree;\n    }\n\n    return replace(renderer, createPlaceholder(renderer), tree);\n  }\n\n  if (Array.isArray(tree)) {\n    const index = tree.findIndex(it => it.tag === source.tag && it.proxy === source.proxy);\n\n    if (index < 0) {\n      return replace(renderer, createItem(renderer, mountOptions, source), tree);\n    }\n\n    const all = tree;\n    [tree] = tree.splice(index, 1);\n    unmount(renderer, all);\n  }\n\n  if (source.proxy) {\n    const {\n      proxy\n    } = source;\n\n    if (proxy !== tree.proxy) {\n      return replace(renderer, createItem(renderer, mountOptions, source), tree);\n    }\n\n    return createMountedNode({ ...source,\n      node: undefined,\n      proxy\n    }, tree.id);\n  }\n\n  if (tree.proxy || source.tag !== tree.tag) {\n    return replace(renderer, createItem(renderer, mountOptions, source), tree);\n  }\n\n  if (source.tag === undefined) {\n    return tree;\n  }\n\n  return replace(renderer, createItem(renderer, mountOptions, source), tree);\n}\n\nfunction draw(renderer, mountOptions, source, tree) {\n  if (!tree) {\n    return createAll(renderer, mountOptions, source);\n  }\n\n  return updateAll(renderer, mountOptions, source, tree);\n}\n\nclass DeliverProxy extends NodeProxy {\n  get content() {\n    return this.tree;\n  }\n\n  constructor(originalTag, tag, props, children, parent) {\n    super(originalTag, tag, props, children, parent, Object.create(parent.delivered));\n\n    _defineProperty(this, \"__valueObject\", void 0);\n\n    _defineProperty(this, \"__nodes\", void 0);\n\n    const {\n      value\n    } = props;\n    this.__valueObject = value;\n    Reflect.defineProperty(this.delivered, tag[deliverKeySymbol], {\n      configurable: true,\n      enumerable: true,\n      get: () => {\n        markRead(this, 'value');\n        return this.__valueObject;\n      }\n    });\n    this.__nodes = convert(this, children);\n    this.created = true;\n  }\n\n  _update({\n    value\n  }, children) {\n    if (this.__valueObject !== value) {\n      this.__valueObject = value;\n      markChange(this, 'value');\n    }\n\n    this.__nodes = convert(this, children, this.__nodes);\n    this.requestDraw();\n  }\n\n  _destroy() {\n    destroy(this.__nodes);\n  }\n\n  _mount(mountOptions) {\n    this.tree = draw(this.renderer, mountOptions, this.__nodes);\n  }\n\n  _redraw(mountOptions) {\n    const {\n      renderer,\n      __nodes,\n      tree\n    } = this;\n    this.tree = draw(renderer, mountOptions, __nodes, tree);\n  }\n\n  _unmount() {\n    unmount(this.renderer, this.tree);\n  }\n\n}\n\nlet delayedRefresh = 0;\nconst objectSet = new Set();\nfunction wait(obj) {\n  if (delayedRefresh <= 0) {\n    return false;\n  }\n\n  objectSet.add(obj);\n  return true;\n}\n\nfunction run() {\n  if (delayedRefresh > 0) {\n    return;\n  }\n\n  const list = [...objectSet];\n  objectSet.clear();\n  list.forEach(o => o.refresh());\n}\n\nasync function asyncRefresh(f) {\n  try {\n    delayedRefresh++;\n    return await f();\n  } finally {\n    delayedRefresh--;\n    run();\n  }\n}\n\nfunction refresh(f, async) {\n  if (async) {\n    return asyncRefresh(f);\n  }\n\n  try {\n    delayedRefresh++;\n    return f();\n  } finally {\n    delayedRefresh--;\n    run();\n  }\n}\n\nfunction createEmit(emitter, omitNames = []) {\n  const emit = (name, p, options) => refresh(() => {\n    const cancelable = Boolean(options === null || options === void 0 ? void 0 : options.cancelable);\n    const {\n      target\n    } = emitter;\n    let defaultPrevented = true;\n    const eventInfo = {\n      get target() {\n        return target;\n      },\n\n      get cancelable() {\n        return cancelable;\n      },\n\n      get defaultPrevented() {\n        return defaultPrevented;\n      },\n\n      get prevented() {\n        return defaultPrevented;\n      },\n\n      preventDefault() {\n        defaultPrevented = false;\n      },\n\n      prevent() {\n        defaultPrevented = false;\n      }\n\n    };\n    const events = emitter.events[name];\n\n    if (!events) {\n      return defaultPrevented;\n    }\n\n    for (const event of events) {\n      event(p, eventInfo);\n    }\n\n    return defaultPrevented;\n  });\n\n  emit.omit = (...names) => createEmit(emitter, [...omitNames, ...names]);\n\n  Reflect.defineProperty(emit, 'names', {\n    get: () => {\n      markRead(createEmit, 'names');\n      return [...emitter.names].filter(t => !omitNames.includes(t));\n    },\n    configurable: true\n  });\n  return emit;\n}\n\nclass EventEmitter {\n  get names() {\n    markRead(this, 'names');\n    return [...this._names];\n  }\n\n  constructor() {\n    _defineProperty(this, \"_names\", new Set());\n\n    _defineProperty(this, \"events\", Object.create(null));\n\n    _defineProperty(this, \"emit\", createEmit(this));\n\n    _defineProperty(this, \"on\", void 0);\n\n    _defineProperty(this, \"target\", void 0);\n\n    _defineProperty(this, \"__propsEvents\", Object.create(null));\n\n    _defineProperty(this, \"__eventMap\", Object.create(null));\n\n    _defineProperty(this, \"__propsEmitEvents\", Object.create(null));\n\n    _defineProperty(this, \"__propsEmitEvent\", void 0);\n\n    const names = this._names;\n    const eventSet = this.events;\n\n    const on = (name, listener) => {\n      var _event;\n\n      function fn(p, event) {\n        try {\n          listener(p, event);\n        } catch (e) {\n          printError(e);\n        }\n      }\n\n      let event = eventSet[name];\n\n      if (!((_event = event) === null || _event === void 0 ? void 0 : _event.size)) {\n        event = new Set();\n        event.add(fn);\n        eventSet[name] = event;\n        names.add(name);\n        markChange(this, 'names');\n      } else {\n        event.add(fn);\n      }\n\n      let removed = false;\n      return () => {\n        if (removed) {\n          return;\n        }\n\n        removed = true;\n\n        if (!event) {\n          return;\n        }\n\n        event.delete(fn);\n\n        if (event.size) {\n          return;\n        }\n\n        names.delete(name);\n        markChange(this, 'names');\n      };\n    };\n\n    this.on = on;\n  }\n\n  updateInProps(props) {\n    const oldPropsEvents = this.__propsEvents;\n    const oldEventNames = new Set(Object.keys(oldPropsEvents));\n\n    for (const [entName, fn] of getEvents(props)) {\n      if (oldEventNames.has(entName)) {\n        oldEventNames.delete(entName);\n        const [olfFn, cl] = oldPropsEvents[entName] || [];\n\n        if (olfFn === fn) {\n          continue;\n        }\n\n        if (cl) {\n          cl();\n        }\n      }\n\n      oldPropsEvents[entName] = [fn, this.on(entName, fn)];\n    }\n\n    for (const entName of oldEventNames) {\n      const e = oldPropsEvents[entName];\n\n      if (!e) {\n        continue;\n      }\n\n      e[1]();\n      delete oldPropsEvents[entName];\n    }\n\n    const eventMap = this.__eventMap;\n    const oldEventMapNames = new Set(Object.keys(eventMap));\n\n    for (const [entName, fn] of getEventsMap(props)) {\n      if (oldEventMapNames.has(entName)) {\n        oldEventMapNames.delete(entName);\n        const [olfFn, cl] = eventMap[entName] || [];\n\n        if (olfFn === fn) {\n          continue;\n        }\n\n        if (cl) {\n          cl();\n        }\n      }\n\n      eventMap[entName] = [fn, this.on(entName, fn)];\n    }\n\n    for (const entName of oldEventMapNames) {\n      const e = eventMap[entName];\n\n      if (!e) {\n        continue;\n      }\n\n      e[1]();\n      delete eventMap[entName];\n    }\n\n    const oldEmitEvents = this.__propsEmitEvents;\n    const eventsFn = getEmitFn(props);\n\n    if (eventsFn !== this.__propsEmitEvent) {\n      this.__propsEmitEvent = eventsFn;\n\n      for (const entName of [...Object.keys(oldEmitEvents)]) {\n        const e = oldEmitEvents[entName];\n\n        if (!e) {\n          continue;\n        }\n\n        e();\n        delete oldEmitEvents[entName];\n      }\n\n      if (!eventsFn) {\n        return;\n      }\n\n      const {\n        names\n      } = eventsFn;\n\n      if (!Array.isArray(names)) {\n        return;\n      }\n\n      for (const n of names) {\n        oldEmitEvents[n] = this.on(n, p => eventsFn(n, p));\n      }\n\n      return;\n    }\n\n    if (!eventsFn) {\n      return;\n    }\n\n    const oldNames = new Set(Object.keys(oldEmitEvents));\n    const names = eventsFn.names || [];\n\n    for (const n of names) {\n      if (!n) {\n        continue;\n      }\n\n      oldNames.delete(n);\n\n      if (oldNames.has(n)) {\n        continue;\n      }\n\n      oldEmitEvents[n] = this.on(n, p => eventsFn(n, p));\n    }\n\n    for (const entName of oldNames) {\n      const e = oldEmitEvents[entName];\n\n      if (!e) {\n        continue;\n      }\n\n      e();\n      delete oldEmitEvents[entName];\n    }\n  }\n\n}\n\nfunction* getEvents(p) {\n  if (!p) {\n    return;\n  }\n\n  for (const k of Object.keys(p)) {\n    const fn = p[k];\n\n    if (typeof fn !== 'function') {\n      continue;\n    }\n\n    if (k.substr(0, 3) !== 'on:') {\n      continue;\n    }\n\n    const entName = k.substr(3);\n\n    if (!entName) {\n      continue;\n    }\n\n    yield [entName, fn];\n  }\n}\n\nfunction* getEventsMap(p) {\n  if (!p) {\n    return;\n  }\n\n  const events = p['n:on'];\n\n  if (!events) {\n    return;\n  }\n\n  if (typeof events === 'object') {\n    return;\n  }\n\n  for (const k of Object.keys(p)) {\n    const fn = p[k];\n\n    if (typeof fn !== 'function') {\n      continue;\n    }\n\n    yield [k, fn];\n  }\n}\n\nfunction getEmitFn(p) {\n  if (!p) {\n    return;\n  }\n\n  let eventsFn = p === null || p === void 0 ? void 0 : p['n:on'];\n\n  if (typeof eventsFn !== 'function') {\n    return;\n  }\n\n  return eventsFn;\n}\n\nfunction getSlots(renderer, children, slots, native = false) {\n  const nativeList = [];\n\n  for (const it of children) {\n    if (Array.isArray(it)) {\n      const list = Object.create(null);\n      nativeList.push(getSlots(renderer, it, list, native));\n\n      for (const k of Reflect.ownKeys(list)) {\n        if (k in slots) {\n          slots[k].push(list[k]);\n        } else {\n          slots[k] = [list[k]];\n        }\n      }\n\n      continue;\n    }\n\n    if (isElement(it) && it.slot === undefined) {\n      if (isSimpleComponent(it.tag) && it.execed || it.tag === Template) {\n        const list = Object.create(null);\n        nativeList.push(getSlots(renderer, it.children, list, native));\n\n        for (const k of Reflect.ownKeys(list)) {\n          const node = { ...it,\n            children: list[k]\n          };\n\n          if (k in slots) {\n            slots[k].push(node);\n          } else {\n            slots[k] = [node];\n          }\n        }\n\n        continue;\n      }\n    }\n\n    if (native) {\n      if (renderer.isNode(it)) {\n        nativeList.push(it);\n        continue;\n      }\n\n      if (!isElement(it)) {\n        nativeList.push(it);\n        continue;\n      }\n\n      if (it.tag !== Render && it.tag !== Template) {\n        nativeList.push(it);\n        continue;\n      }\n    }\n\n    const slot = isElement(it) && it.slot || 'default';\n    const el = isElement(it) ? { ...it,\n      slot: undefined,\n      props: { ...it.props,\n        'n:slot': undefined\n      }\n    } : it;\n\n    if (slot in slots) {\n      slots[slot].push(el);\n    } else {\n      slots[slot] = [el];\n    }\n  }\n\n  return nativeList;\n}\nfunction setSlot(slots, name, list) {\n  Reflect.defineProperty(slots, name, {\n    get() {\n      markRead(slots, name);\n      return list;\n    },\n\n    enumerable: true,\n    configurable: true\n  });\n  markChange(slots, name);\n  return list;\n}\nfunction setSlots(children, slots, oldChildren) {\n  if (!slots) {\n    const slots = Object.create(null);\n\n    for (const k of Reflect.ownKeys(children)) {\n      slots[k] = children[k];\n    }\n\n    return slots;\n  }\n\n  for (const name of Reflect.ownKeys(slots)) {\n    if (name in children) {\n      continue;\n    }\n\n    setSlot(slots, name);\n  }\n\n  if (!oldChildren) {\n    for (const name of Reflect.ownKeys(children)) {\n      const list = children[name];\n      setSlot(slots, name, list);\n    }\n\n    return slots;\n  }\n\n  for (const name of Reflect.ownKeys(children)) {\n    const list = children[name];\n\n    if (equal(list, oldChildren[name])) {\n      continue;\n    }\n\n    setSlot(slots, name, list);\n  }\n\n  return slots;\n}\nfunction renderSlot(list, argv) {\n  return list.map(it => {\n    if (Array.isArray(it)) {\n      return renderSlot(it, argv);\n    }\n\n    if (!isElement(it)) {\n      return it;\n    }\n\n    if (it.tag !== Render) {\n      return { ...it,\n        slot: undefined\n      };\n    }\n\n    const {\n      children\n    } = it;\n\n    if ((children === null || children === void 0 ? void 0 : children.length) !== 1) {\n      return children;\n    }\n\n    const [render] = children;\n\n    if (isValue(render) || typeof render !== 'function') {\n      return children;\n    }\n\n    return render(argv);\n  });\n}\n\nfunction getSlot(slots, name, isSimple) {\n  return isSimple || name in slots ? slots[name] : setSlot(slots, name);\n}\n\nfunction createSlotApi(slots, isSimple = false) {\n  function slotApi(name = 'default', argv = {}) {\n    const list = getSlot(slots, name, isSimple);\n    return {\n      [objectTypeSymbol]: objectTypeSymbolElement,\n      tag: ScopeSlot,\n      children: list ? renderSlot(list, argv) : [],\n      inserted: true,\n      slot: name,\n      isDefault: !list\n    };\n  }\n\n  slotApi.has = (name = 'default') => Boolean(getSlot(slots, name, isSimple));\n\n  return slotApi;\n}\n\nconst constructors = [];\nfunction initContext(context, entity) {\n  for (const constructor of constructors) {\n    constructor(context, entity);\n  }\n\n  return context;\n}\nfunction addContextConstructor(constructor) {\n  constructors.push(safeify(constructor));\n}\n\nfunction getDelivered(delivered, deliver) {\n  assert(isDeliverComponent(deliver), 'The `deliver` is not a DeliverComponent.', 'deliver');\n  const value = delivered[deliver[deliverKeySymbol]];\n  return value === undefined ? deliver[deliverDefaultSymbol] : value;\n}\n\nconst components = Object.create(null);\nfunction register(name, component) {\n  components[name] = component;\n}\n\nfunction findComponent(tag, components$1, native) {\n  if (!tag) {\n    return null;\n  }\n\n  if (typeof tag !== 'string') {\n    return tag;\n  }\n\n  if (/^core:/i.test(tag)) {\n    let ltag = tag.toLowerCase();\n\n    if (ltag === Container) {\n      return ltag;\n    }\n\n    if (ltag === ScopeSlot) {\n      return ltag;\n    }\n\n    if (ltag === Render) {\n      return ltag;\n    }\n\n    if (ltag === Slot) {\n      return native ? 'slot' : ScopeSlot;\n    }\n\n    return Fragment;\n  }\n\n  if (tag === Fragment) {\n    return tag;\n  }\n\n  if (tag === 'slot') {\n    return tag;\n  }\n\n  for (const list of components$1) {\n    const component = list[tag];\n\n    if (component) {\n      return component;\n    }\n  }\n\n  return components[tag] || tag;\n}\nfunction getComponents(...components) {\n  return components.filter(Boolean);\n}\n\nfunction getNodeArray(result) {\n  if (Array.isArray(result)) {\n    return result;\n  }\n\n  if (!isElement(result)) {\n    return [result];\n  }\n\n  if (result.tag !== Fragment) {\n    return [result];\n  }\n\n  return result.children;\n}\n\nfunction execSimple(normalizeAuxiliaryObject, node, tag, components, children) {\n  const slotMap = Object.create(null);\n  getSlots(normalizeAuxiliaryObject.renderer, children, slotMap);\n  const slots = setSlots(slotMap);\n  const event = new EventEmitter();\n  event.updateInProps(node.props);\n  const {\n    refresh,\n    delivered,\n    simpleParent\n  } = normalizeAuxiliaryObject;\n  const result = tag({ ...node.props\n  }, initContext({\n    isShell: true,\n    slot: createSlotApi(slots, true),\n    parent: simpleParent,\n    delivered: deliver => getDelivered(delivered, deliver),\n    childNodes: children,\n    refresh,\n    emit: event.emit\n  }));\n  const nodes = init(normalizeAuxiliaryObject, getNodeArray(result), slots, getComponents(...components, tag[componentsSymbol]), false, true);\n  return { ...node,\n    tag,\n    execed: true,\n    children: Array.isArray(nodes) ? nodes : [nodes]\n  };\n}\n\nfunction getSlotRenderFn(normalizeAuxiliaryObject, children, slots, components, native) {\n  if (children.length !== 1) {\n    return null;\n  }\n\n  const [renderFn] = children;\n\n  if (isValue(renderFn) || typeof renderFn !== 'function') {\n    return null;\n  }\n\n  const {\n    slotRenderFnList\n  } = normalizeAuxiliaryObject;\n  const fn = slotRenderFnList.get(renderFn);\n\n  if (fn) {\n    return fn;\n  }\n\n  const newFn = function (...p) {\n    return init(normalizeAuxiliaryObject, renderFn.call(this, ...p), slots, components, native, false);\n  };\n\n  slotRenderFnList.set(renderFn, newFn);\n  return newFn;\n}\n\nfunction exec(node, normalizeAuxiliaryObject, slots, components, native, simpleSlot) {\n  var _node$props;\n\n  if (Array.isArray(node)) {\n    return node.map(n => exec(n, normalizeAuxiliaryObject, slots, components, native, simpleSlot));\n  }\n\n  if (!isElement(node)) {\n    return node;\n  }\n\n  if (node.tag === ScopeSlot && node.inserted) {\n    return node;\n  }\n\n  const {\n    children\n  } = node;\n  const tag = findComponent(node.tag, components, native);\n\n  if (isSimpleComponent(tag)) {\n    if (node.execed) {\n      return node;\n    }\n\n    return execSimple(normalizeAuxiliaryObject, node, tag, components, children.map(n => exec(n, normalizeAuxiliaryObject, slots, components, native, simpleSlot)));\n  }\n\n  if (tag === Render) {\n    const slotRenderFn = getSlotRenderFn(normalizeAuxiliaryObject, children, slots, components, native);\n\n    if (slotRenderFn) {\n      return { ...node,\n        children: [slotRenderFn]\n      };\n    }\n  }\n\n  if (tag !== ScopeSlot) {\n    return { ...node,\n      tag,\n      children: children.map(n => exec(n, normalizeAuxiliaryObject, slots, components, native, simpleSlot))\n    };\n  }\n\n  const {\n    props\n  } = node;\n  const args = (props === null || props === void 0 ? void 0 : props.argv) || {};\n  const slotName = ((_node$props = node.props) === null || _node$props === void 0 ? void 0 : _node$props.name) || 'default';\n  const slot = simpleSlot || slotName in slots ? slots[slotName] : setSlot(slots, slotName);\n  const el = {\n    [objectTypeSymbol]: objectTypeSymbolElement,\n    props,\n    key: node.key,\n    tag: ScopeSlot,\n    inserted: true,\n    slot: slotName,\n    isDefault: !slot,\n    children: slot ? renderSlot(slot, args) : getChildren(children, args).map(n => exec(n, normalizeAuxiliaryObject, slots, components, native, simpleSlot))\n  };\n  return el;\n}\n\nfunction getChildren(children, args) {\n  if (children.length !== 1) {\n    return children;\n  }\n\n  const [fn] = children;\n\n  if (typeof fn !== 'function') {\n    return children;\n  }\n\n  return getNodeArray(fn(args));\n}\n\nfunction init(normalizeAuxiliaryObject, node, slots, components, native, simpleSlot) {\n  return refresh(() => postpone(() => exec(node, normalizeAuxiliaryObject, slots, components, native, simpleSlot)));\n}\nfunction normalize(proxy, slotRenderFnList, refresh, result, components = proxy.tag[componentsSymbol] || null) {\n  return init({\n    renderer: proxy.renderer,\n    refresh,\n    slotRenderFnList,\n    delivered: proxy.delivered,\n    simpleParent: proxy.entity\n  }, getNodeArray(result), proxy.slots, getComponents(components), Boolean(proxy.isNative), false);\n}\n\nfunction getText(value) {\n  if (value === undefined || value === null) {\n    return null;\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (value instanceof RegExp) {\n    return String(value);\n  }\n\n  return String(value);\n}\n\nfunction getNodeArray$1(result) {\n  if (!isElement(result)) {\n    return [result];\n  }\n\n  if (result.tag !== Fragment) {\n    return [result];\n  }\n\n  return result.children;\n}\n\nclass ValueProxy extends NodeProxy {\n  get content() {\n    return this.tree;\n  }\n\n  set value(v) {\n    const k = v !== this.__value;\n    this.__value = v;\n\n    if (k) {\n      markChange(this, 'value');\n    }\n  }\n\n  get value() {\n    markRead(this, 'value');\n    let v = this.__value;\n\n    while (isValue(v)) {\n      v = v();\n    }\n\n    return v;\n  }\n\n  constructor(attrs, parent) {\n    super(null, null, attrs, [], parent);\n\n    _defineProperty(this, \"__value\", void 0);\n\n    _defineProperty(this, \"text\", void 0);\n\n    _defineProperty(this, \"isValue\", void 0);\n\n    _defineProperty(this, \"__nodes\", void 0);\n\n    _defineProperty(this, \"src\", void 0);\n\n    _defineProperty(this, \"__render\", void 0);\n\n    _defineProperty(this, \"__refreshing\", false);\n\n    _defineProperty(this, \"__needRefresh\", false);\n\n    const {\n      value\n    } = attrs;\n    this.__value = value;\n\n    if (!isProduction) {\n      defineProperty(this, 'text', undefined);\n      defineProperty(this, 'isValue', isValue(value));\n    }\n\n    const slots = Object.create(null);\n    const normalizeAuxiliaryObject = {\n      renderer: this.renderer,\n      refresh: () => this.refresh(),\n      slotRenderFnList: new WeakMap(),\n      delivered: this.delivered,\n      simpleParent: undefined\n    };\n    this.__render = monitor(changed => changed && this.refresh(), () => {\n      let {\n        value\n      } = this;\n\n      if (isElement(value) || Array.isArray(value)) {\n        this.__nodes = convert(this, init(normalizeAuxiliaryObject, getNodeArray$1(value), slots, [], false, false), this.__nodes);\n        return true;\n      }\n\n      if (this.__nodes) {\n        destroy(this.__nodes);\n        this.__nodes = undefined;\n      } else if (this.src === value) {\n        return false;\n      }\n\n      this.src = value;\n      return true;\n    });\n    this.created = true;\n    this.refresh();\n  }\n\n  refresh() {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.__needRefresh = true;\n\n    if (!this.created) {\n      return;\n    }\n\n    if (this.__refreshing) {\n      return;\n    }\n\n    this.__refreshing = true;\n    let needDraw = false;\n\n    while (this.__needRefresh && !wait(this)) {\n      this.__needRefresh = false;\n      needDraw = this.__render() || needDraw;\n\n      if (this.destroyed) {\n        return;\n      }\n    }\n\n    this.__refreshing = false;\n\n    if (!needDraw) {\n      return;\n    }\n\n    if (wait(this)) {\n      return;\n    }\n\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    if (this.unmounted) {\n      return;\n    }\n\n    this.requestDraw();\n  }\n\n  _update({\n    value\n  }) {\n    this.value = value;\n\n    if (!isProduction) {\n      this.isValue = isValue(value);\n    }\n  }\n\n  _destroy() {\n    this.__render.stop();\n\n    const {\n      __nodes\n    } = this;\n\n    if (!__nodes) {\n      return;\n    }\n\n    destroy(__nodes);\n  }\n\n  _mount(mountOptions) {\n    const {\n      renderer,\n      __nodes,\n      src\n    } = this;\n\n    if (__nodes) {\n      this.tree = draw(renderer, mountOptions, __nodes);\n      return;\n    }\n\n    if (renderer.isNode(src)) {\n      this.tree = [createMountedNode({\n        node: src\n      })];\n      return;\n    }\n\n    const text = getText(src);\n\n    if (!isProduction) {\n      this.text = text;\n    }\n\n    const node = typeof text === 'string' ? createMountedNode({\n      node: renderer.createText(text)\n    }) : createPlaceholder(renderer);\n    this.tree = [node];\n  }\n\n  _redraw(mountOptions) {\n    const {\n      renderer,\n      __nodes,\n      src\n    } = this;\n\n    if (__nodes) {\n      this.tree = draw(renderer, mountOptions, __nodes, this.tree);\n      return;\n    }\n\n    if (renderer.isNode(src)) {\n      this.tree = [createMountedNode({\n        node: src\n      })];\n\n      if (!isProduction) {\n        this.text = undefined;\n      }\n\n      return;\n    }\n\n    const text = getText(src);\n\n    if (!isProduction) {\n      this.text = text;\n    }\n\n    const node = typeof text === 'string' ? createMountedNode({\n      node: renderer.createText(text)\n    }) : createPlaceholder(renderer);\n    this.tree = replace(renderer, [node], this.tree);\n  }\n\n  _unmount() {\n    const {\n      renderer,\n      tree\n    } = this;\n    unmount(renderer, tree);\n  }\n\n}\n\nclass GroupProxy extends NodeProxy {\n  get content() {\n    return this.tree;\n  }\n\n  constructor(tag, children, parent) {\n    super(tag, tag, {}, children, parent);\n\n    _defineProperty(this, \"__nodes\", void 0);\n\n    this.__nodes = convert(this, children);\n  }\n\n  _update(props, children) {\n    this.__nodes = convert(this, children, this.__nodes);\n    this.requestDraw();\n  }\n\n  _destroy() {\n    destroy(this.__nodes);\n  }\n\n  _mount(mountOptions) {\n    this.tree = draw(this.renderer, mountOptions, this.__nodes);\n  }\n\n  _redraw(mountOptions) {\n    this.tree = draw(this.renderer, mountOptions, this.__nodes, this.tree);\n  }\n\n  _unmount() {\n    unmount(this.renderer, this.tree);\n  }\n\n}\n\nfunction updateData(props, data) {\n  const oldKeys = new Set(Object.keys(data));\n\n  for (const k in props) {\n    if (k.substr(0, 5) !== 'data:') {\n      continue;\n    }\n\n    const key = k.substr(5);\n\n    if (!key) {\n      continue;\n    }\n\n    oldKeys.delete(key);\n    data[key] = props[key];\n  }\n\n  const dataset = props['n:data'];\n\n  if (dataset && typeof dataset === 'object') {\n    for (const key in dataset) {\n      if (!key) {\n        continue;\n      }\n\n      oldKeys.delete(key);\n      data[key] = dataset[key];\n    }\n  }\n\n  for (const key of oldKeys) {\n    delete data[key];\n  }\n}\n\nclass RefProxy extends BaseProxy {\n  get exposed() {\n    return this.__exposed;\n  }\n\n  setExposed(t) {\n    if (this.destroyed) {\n      return;\n    }\n\n    const ref = this.__ref;\n\n    if (typeof ref !== 'function') {\n      this.__exposed = t;\n      return;\n    }\n\n    const old = this.__exposed;\n    this.__exposed = t;\n    ref(t, old, this.entity);\n  }\n\n  constructor(renderer, originalTag, tag, attrs, parent, delivered) {\n    super(renderer, originalTag, tag, attrs, parent, delivered);\n\n    _defineProperty(this, \"__exposed\", void 0);\n\n    _defineProperty(this, \"__ref\", void 0);\n\n    _defineProperty(this, \"events\", void 0);\n\n    _defineProperty(this, \"entity\", void 0);\n\n    _defineProperty(this, \"data\", Object.create(null));\n\n    updateData(attrs, this.data);\n    const events = new EventEmitter();\n    const entity = this.createEntity(events);\n    events.target = entity;\n    this.entity = entity;\n    this.events = events;\n    const ref = attrs['n:ref'];\n\n    if (typeof ref === 'function') {\n      this.__ref = ref;\n      ref(undefined, undefined, entity, true);\n    }\n  }\n\n  update(attrs, children) {\n    updateData(attrs, this.data);\n    const ref = attrs['n:ref'];\n    const oldRef = this.__ref;\n\n    if (ref !== oldRef) {\n      if (typeof ref === 'function') {\n        ref(this.__exposed);\n      } else if (oldRef) {\n        this.__ref = undefined;\n      }\n    }\n\n    super.update(attrs, children);\n  }\n\n  destroy() {\n    if (!super.destroy()) {\n      return false;\n    }\n\n    const ref = this.__ref;\n\n    if (typeof ref !== 'function') {\n      return true;\n    }\n\n    ref(undefined, this.__exposed, this.entity, false);\n    return true;\n  }\n\n}\n\nclass ElementProxy extends RefProxy {\n  constructor(originalTag, tag, props, children, parent) {\n    super(parent.renderer, originalTag, tag, props, parent);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"componentRoot\", void 0);\n\n    _defineProperty(this, \"props\", void 0);\n\n    _defineProperty(this, \"__nodes\", void 0);\n\n    _defineProperty(this, \"node\", void 0);\n\n    _defineProperty(this, \"content\", []);\n\n    _defineProperty(this, \"__elementTagData\", void 0);\n\n    this.container = parent.container;\n    this.componentRoot = parent.componentRoot;\n\n    if (!isProduction) {\n      defineProperty(this, 'content', []);\n    }\n\n    this.props = props;\n    this.events.updateInProps(props);\n    this.__nodes = convert(this, children);\n\n    if (typeof tag === 'string') {\n      this.__elementTagData = tag;\n    } else {\n      this.__elementTagData = tag[componentValueSymbol];\n    }\n  }\n\n  requestDraw() {\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this.container.markDraw(this);\n  }\n\n  callHook(id) {}\n\n  createEntity(events) {\n    const cfg = {\n      data: {\n        configurable: true,\n        value: this.data\n      },\n      exposed: {\n        configurable: true,\n        get: () => this.exposed\n      },\n      on: {\n        configurable: true,\n        value: events.on\n      },\n      emit: {\n        configurable: true,\n        value: events.emit\n      }\n    };\n    const entity = Object.create(null, cfg);\n    return entity;\n  }\n\n  _update(props, children) {\n    this.props = props;\n    this.events.updateInProps(props);\n    this.__nodes = convert(this, children, this.__nodes);\n    this.requestDraw();\n  }\n\n  _destroy() {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.destroyed = true;\n    destroy(this.__nodes);\n  }\n\n  _mount(mountOptions) {\n    if (this.node) {\n      return;\n    }\n\n    const {\n      renderer,\n      __elementTagData: tag,\n      props,\n      __nodes\n    } = this;\n    const node = renderer.createElement(tag, props, mountOptions);\n\n    if (!node) {\n      return;\n    }\n\n    this.node = node;\n    this.setExposed(node);\n    const subMountOptions = renderer.getMountOptions(node, mountOptions) || mountOptions;\n\n    if (__nodes) {\n      const content = draw(renderer, subMountOptions, __nodes);\n      this.content = content;\n\n      for (const it of getNodes(content)) {\n        renderer.insertNode(node, it);\n      }\n    }\n\n    this.tree = [createMountedNode({\n      node\n    })];\n    renderer.updateProps(node, tag, props, this.events.emit, subMountOptions);\n    return subMountOptions;\n  }\n\n  _redrawChildren(mountOptions) {\n    const {\n      renderer,\n      __nodes,\n      content,\n      node\n    } = this;\n\n    if (!node) {\n      return;\n    }\n\n    if (!__nodes.length && content.length) {\n      unmount(renderer, content);\n      this.content = [];\n    } else if (__nodes.length && content.length) {\n      this.content = draw(renderer, mountOptions, __nodes, content);\n    } else if (__nodes.length && !content.length) {\n      const newTree = draw(renderer, mountOptions, __nodes);\n      this.content = newTree;\n\n      for (const it of getNodes(newTree)) {\n        renderer.insertNode(node, it);\n      }\n    }\n  }\n\n  _redraw(mountOptions) {\n    this._redrawChildren(mountOptions);\n\n    const {\n      renderer,\n      __elementTagData: tag,\n      node,\n      props\n    } = this;\n\n    if (!node) {\n      return;\n    }\n\n    renderer.updateProps(node, tag, props || {}, this.events.emit, mountOptions);\n  }\n\n  _unmount() {\n    const {\n      renderer,\n      tree,\n      node\n    } = this;\n\n    if (!node) {\n      return;\n    }\n\n    renderer.removeNode(node);\n    unmount(renderer, tree);\n  }\n\n}\n\nfunction getNodeArray$2(result) {\n  if (Array.isArray(result)) {\n    return result;\n  }\n\n  if (!isElement(result)) {\n    return [result];\n  }\n\n  if (result.tag !== Fragment) {\n    return [result];\n  }\n\n  return result.children;\n}\n\nclass ShellProxy extends RefProxy {\n  get content() {\n    return this.tree;\n  }\n\n  requestDraw() {\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this.container.markDraw(this);\n  }\n\n  callHook(id) {}\n\n  createEntity(events) {\n    const cfg = {\n      data: {\n        configurable: true,\n        value: this.data\n      },\n      exposed: {\n        configurable: true,\n        value: undefined\n      },\n      on: {\n        configurable: true,\n        value: events.on\n      },\n      emit: {\n        configurable: true,\n        value: events.emit\n      }\n    };\n    const entity = Object.create(null, cfg);\n    return entity;\n  }\n\n  constructor(originalTag, tag, props, children, parent) {\n    super(parent.renderer, originalTag, tag, props, parent);\n\n    _defineProperty(this, \"props\", void 0);\n\n    _defineProperty(this, \"childNodes\", void 0);\n\n    _defineProperty(this, \"src\", void 0);\n\n    _defineProperty(this, \"slots\", Object.create(null));\n\n    _defineProperty(this, \"lastSlots\", void 0);\n\n    _defineProperty(this, \"__render\", void 0);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"componentRoot\", void 0);\n\n    _defineProperty(this, \"__refreshing\", false);\n\n    _defineProperty(this, \"__needRefresh\", false);\n\n    _defineProperty(this, \"__delayedRefresh\", 0);\n\n    _defineProperty(this, \"_nodes\", []);\n\n    this.container = parent.container;\n    this.componentRoot = parent.componentRoot;\n    this.props = props;\n    this.childNodes = children;\n    const {\n      slots\n    } = this;\n\n    const _this = this;\n\n    const {\n      delivered\n    } = this;\n\n    const refresh = f => {\n      this.refresh(f);\n    };\n\n    const event = this.events;\n    const context = initContext({\n      isShell: true,\n\n      delivered(deliver) {\n        return getDelivered(delivered, deliver);\n      },\n\n      slot: createSlotApi(slots),\n      refresh,\n\n      get childNodes() {\n        return _this.childNodes;\n      },\n\n      emit: event.emit\n    });\n    const normalizeAuxiliaryObject = {\n      renderer: this.renderer,\n      refresh,\n      slotRenderFnList: new WeakMap(),\n      delivered: this.delivered,\n      simpleParent: undefined\n    };\n    this.__render = monitor(changed => changed && this.refresh(), () => {\n      const props = { ...this.props\n      };\n      event.updateInProps(props);\n      const result = isProduction ? tag(props, context) : runShell(l => this.labels = l, () => tag(props, context));\n      return init(normalizeAuxiliaryObject, getNodeArray$2(result), slots, [], false, false);\n    });\n    this.created = true;\n    this.refresh();\n    this._nodes = convert(this, this.__render());\n  }\n\n  refresh(f) {\n    if (typeof f === 'function') {\n      try {\n        this.__delayedRefresh++;\n        return f();\n      } finally {\n        this.__delayedRefresh--;\n\n        if (this.__delayedRefresh <= 0) {\n          this.refresh();\n        }\n      }\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this.__needRefresh = true;\n\n    if (!this.created) {\n      return;\n    }\n\n    if (this.__refreshing) {\n      return;\n    }\n\n    this.__refreshing = true;\n    let nodes;\n\n    while (this.__needRefresh && !wait(this)) {\n      this.__needRefresh = false;\n      nodes = this.__render();\n\n      if (this.destroyed) {\n        return;\n      }\n    }\n\n    this.__refreshing = false;\n\n    if (!nodes) {\n      return;\n    }\n\n    this._nodes = convert(this, nodes, this._nodes);\n\n    if (wait(this)) {\n      return;\n    }\n\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    if (this.unmounted) {\n      return;\n    }\n\n    this.requestDraw();\n  }\n\n  _update(props, children) {\n    this.props = props;\n    const slots = Object.create(null);\n    getSlots(this.renderer, children, slots);\n    setSlots(slots, this.slots, this.lastSlots);\n    this.lastSlots = slots;\n    this.childNodes = children;\n    this.refresh();\n  }\n\n  _destroy() {\n    this.__render.stop();\n\n    destroy(this._nodes);\n  }\n\n  _mount(mountOptions) {\n    this.tree = draw(this.renderer, mountOptions, this._nodes);\n  }\n\n  _redraw(mountOptions) {\n    this.tree = draw(this.renderer, mountOptions, this._nodes, this.tree);\n  }\n\n  _unmount() {\n    unmount(this.renderer, this.tree);\n  }\n\n}\n\nfunction toElement(t) {\n  if (t === false || t === null || t === undefined) {\n    return null;\n  }\n\n  if (isElement(t)) {\n    return t;\n  }\n\n  return {\n    key: t,\n    props: {\n      value: t\n    },\n    children: []\n  };\n}\nfunction destroy(tree) {\n  if (!tree) {\n    return;\n  }\n\n  if (Array.isArray(tree)) {\n    tree.forEach(t => destroy(t));\n    return;\n  }\n\n  const {\n    proxy\n  } = tree;\n\n  if (proxy) {\n    return proxy.destroy();\n  }\n}\n\nclass SlotProxy extends NodeProxy {\n  get content() {\n    return this.tree;\n  }\n\n  constructor(children, parent, isDefault) {\n    super(ScopeSlot, ScopeSlot, {}, [], parent);\n\n    _defineProperty(this, \"__nodes\", void 0);\n\n    this.__nodes = convert(this, children);\n  }\n\n  _update(props, children) {\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this.__nodes = convert(this, children, this.__nodes);\n    this.requestDraw();\n  }\n\n  _destroy() {\n    destroy(this.__nodes);\n  }\n\n  _mount(mountOptions) {\n    this.tree = draw(this.renderer, mountOptions, this.__nodes);\n  }\n\n  _redraw(mountOptions) {\n    this.tree = draw(this.renderer, mountOptions, this.__nodes, this.tree);\n  }\n\n  _unmount() {\n    unmount(this.renderer, this.tree);\n  }\n\n}\n\nconst constructors$1 = [];\nfunction initEntity(entity) {\n  for (const constructor of constructors$1) {\n    constructor(entity);\n  }\n\n  return entity;\n}\nfunction addEntityConstructor(constructor) {\n  constructors$1.push(safeify(constructor));\n}\n\nfunction createEntity(obj, events) {\n  var _obj$parentComponentP;\n\n  const cfg = {\n    [objectTypeSymbol]: {\n      configurable: true,\n      value: objectTypeSymbolHookEntity\n    },\n    data: {\n      configurable: true,\n      value: obj.data\n    },\n    exposed: {\n      configurable: true,\n      get: () => obj.exposed\n    },\n    parent: {\n      configurable: true,\n      value: (_obj$parentComponentP = obj.parentComponentProxy) === null || _obj$parentComponentP === void 0 ? void 0 : _obj$parentComponentP.entity\n    },\n    component: {\n      configurable: true,\n      value: obj.tag\n    },\n    created: {\n      configurable: true,\n      get: () => obj.created\n    },\n    destroyed: {\n      configurable: true,\n      get: () => obj.destroyed\n    },\n    mounted: {\n      configurable: true,\n      get: () => obj.mounted\n    },\n    unmounted: {\n      configurable: true,\n      get: () => obj.unmounted\n    },\n    $_hooks: {\n      configurable: true,\n      value: Object.create(null)\n    },\n    $_useHookValues: {\n      configurable: true,\n      value: []\n    },\n    callHook: {\n      configurable: true,\n\n      value(h) {\n        callHook(h, entity);\n      }\n\n    },\n    setHook: {\n      configurable: true,\n\n      value(id, hook) {\n        return setHook(id, hook, entity);\n      }\n\n    },\n    refresh: {\n      configurable: true,\n      value: obj.refresh.bind(obj)\n    },\n    on: {\n      configurable: true,\n      value: events.on\n    },\n    emit: {\n      configurable: true,\n      value: events.emit\n    }\n  };\n  const entity = Object.create(null, cfg);\n  return initEntity(entity);\n}\n\nconst disabledKey = new Set([':', '@', '#', '*', '!', '%', '^', '~', '&', '?', '+', '.', '(', ')', '[', ']', '{', '}', '<', '>']);\n\nfunction filter(k) {\n  if (typeof k !== 'string') {\n    return true;\n  }\n\n  if (disabledKey.has(k[0])) {\n    return false;\n  }\n\n  if (k.substr(0, 2) === 'n:') {\n    return false;\n  }\n\n  if (k.substr(0, 3) === 'on:') {\n    return false;\n  }\n\n  return true;\n}\n\nfunction update(proxy, props, children) {\n  const {\n    props: propsObj,\n    isNative\n  } = proxy;\n  const newKeys = new Set(Object.keys(props).filter(filter));\n  proxy.propsDefined.forEach(k => newKeys.add(k));\n\n  for (const k of Object.keys(propsObj)) {\n    if (filter(k) && !newKeys.has(k)) {\n      delete propsObj[k];\n    }\n  }\n\n  for (const k of newKeys) {\n    propsObj[k] = props[k];\n  }\n\n  proxy.events.updateInProps(props);\n  const slots = Object.create(null);\n  const childNodes = getSlots(proxy.renderer, children, slots, isNative);\n  setSlots(slots, proxy.slots, proxy.lastSlots);\n  proxy.lastSlots = slots;\n\n  if (!isNative) {\n    return;\n  }\n\n  proxy.nativeNodes = convert(proxy, childNodes, proxy.nativeNodes);\n\n  if (!proxy.mounted) {\n    return;\n  }\n\n  proxy.requestDraw();\n}\n\nclass ComponentProxy extends RefProxy {\n  callHook(id) {\n    callHook(id, this.entity);\n  }\n\n  constructor(originalTag, component, props, children, parent) {\n    super(parent.renderer, originalTag, component, props, parent);\n\n    _defineProperty(this, \"isNative\", false);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"componentRoot\", void 0);\n\n    _defineProperty(this, \"children\", new Set());\n\n    _defineProperty(this, \"emit\", void 0);\n\n    _defineProperty(this, \"on\", void 0);\n\n    _defineProperty(this, \"components\", Object.create(null));\n\n    _defineProperty(this, \"props\", void 0);\n\n    _defineProperty(this, \"propsDefined\", void 0);\n\n    _defineProperty(this, \"slots\", Object.create(null));\n\n    _defineProperty(this, \"lastSlots\", void 0);\n\n    _defineProperty(this, \"nativeNodes\", void 0);\n\n    _defineProperty(this, \"parentComponentProxy\", void 0);\n\n    _defineProperty(this, \"_render\", void 0);\n\n    _defineProperty(this, \"_stopRender\", void 0);\n\n    _defineProperty(this, \"childNodes\", []);\n\n    _defineProperty(this, \"__refreshing\", false);\n\n    _defineProperty(this, \"__needRefresh\", false);\n\n    _defineProperty(this, \"__delayedRefresh\", 0);\n\n    _defineProperty(this, \"_nodes\", []);\n\n    this.container = parent.container;\n    this.componentRoot = this;\n    this.parentComponentProxy = parent.componentRoot;\n    const {\n      events\n    } = this;\n    this.emit = events.emit;\n    this.on = events.on;\n    Object.assign(this.components, component[componentsSymbol]);\n    const propsDefined = component[propsSymbol];\n\n    if (Array.isArray(propsDefined)) {\n      this.propsDefined = propsDefined;\n      this.props = createObject(propsDefined, null);\n    } else {\n      this.propsDefined = [];\n      this.props = encase(Object.create(null));\n    }\n\n    this._init();\n\n    this.callHook('beforeCreate');\n\n    this._update(props, children);\n\n    const {\n      render,\n      nodes,\n      stopRender\n    } = this._initRender();\n\n    this._render = render;\n    this._stopRender = stopRender;\n    this._nodes = convert(this, nodes);\n    this.callHook('created');\n    this.created = true;\n\n    if (this.needRefresh) {\n      this.refresh();\n    }\n  }\n\n  createEntity(events) {\n    return createEntity(this, events);\n  }\n\n  _update(props, children) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.childNodes = children;\n    refresh(() => postpone(() => update(this, props, children)));\n  }\n\n  _destroy() {\n    this._stopRender();\n\n    destroy(this._nodes);\n  }\n\n  get needRefresh() {\n    return this.__needRefresh;\n  }\n\n  refresh(f) {\n    if (typeof f === 'function') {\n      try {\n        this.__delayedRefresh++;\n        return f();\n      } finally {\n        this.__delayedRefresh--;\n\n        if (this.__delayedRefresh <= 0) {\n          this.refresh();\n        }\n      }\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this.__needRefresh = true;\n\n    if (!this.created) {\n      return;\n    }\n\n    if (this.__refreshing) {\n      return;\n    }\n\n    this.__refreshing = true;\n    let nodes;\n\n    for (;;) {\n      if (wait(this)) {\n        break;\n      }\n\n      if (this.__delayedRefresh) {\n        break;\n      }\n\n      if (!this.__needRefresh) {\n        break;\n      }\n\n      this.__needRefresh = false;\n      nodes = this._render();\n\n      if (this.destroyed) {\n        return;\n      }\n    }\n\n    this.__refreshing = false;\n\n    if (wait(this)) {\n      return;\n    }\n\n    if (this.__delayedRefresh) {\n      return;\n    }\n\n    if (!nodes) {\n      return;\n    }\n\n    this._nodes = convert(this, nodes, this._nodes);\n\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    if (this.unmounted) {\n      return;\n    }\n\n    this.requestDraw();\n  }\n\n  requestDraw() {\n    this.container.markDraw(this);\n  }\n\n}\n\nfunction getNodeArray$3(result) {\n  if (Array.isArray(result)) {\n    return result;\n  }\n\n  if (!isElement(result)) {\n    return [result];\n  }\n\n  if (result.tag !== Fragment) {\n    return [result];\n  }\n\n  return result.children;\n}\n\nfunction initRender(proxy) {\n  const {\n    tag,\n    props,\n    entity\n  } = proxy;\n  const context = initContext({\n    isShell: false,\n    slot: createSlotApi(proxy.slots),\n    expose: t => proxy.setExposed(t),\n\n    get created() {\n      return proxy.created;\n    },\n\n    get parent() {\n      var _proxy$parentComponen;\n\n      return (_proxy$parentComponen = proxy.parentComponentProxy) === null || _proxy$parentComponen === void 0 ? void 0 : _proxy$parentComponen.entity;\n    },\n\n    get children() {\n      return [...proxy.children].map(t => t.exposed);\n    },\n\n    get childNodes() {\n      return proxy.childNodes;\n    },\n\n    get emit() {\n      return proxy.emit;\n    },\n\n    delivered(deliver) {\n      return getDelivered(proxy.delivered, deliver);\n    },\n\n    refresh(f) {\n      proxy.refresh(f);\n    }\n\n  }, entity);\n  const renderFn = tag[componentValueSymbol];\n  const renderNode = typeof renderFn !== 'function' ? () => createTemplateElement(...proxy.childNodes) : () => runCurrent(entity, isProduction ? undefined : l => proxy.labels = l, () => renderFn(props || {}, context));\n  const normalizeAuxiliaryObject = {\n    renderer: proxy.renderer,\n    refresh: f => proxy.refresh(f),\n    slotRenderFnList: new WeakMap(),\n    delivered: proxy.delivered,\n    simpleParent: proxy.entity\n  };\n  const components = proxy.tag[componentsSymbol];\n  const componentsList = components ? [components] : [];\n  const render = monitor(c => c && proxy.refresh(), () => init(normalizeAuxiliaryObject, getNodeArray$3(renderNode()), proxy.slots, componentsList, false, false));\n  return {\n    nodes: render(),\n    render,\n    stopRender: () => render.stop()\n  };\n}\n\nclass RenderComponentProxy extends ComponentProxy {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"nativeNodes\", void 0);\n\n    _defineProperty(this, \"childNodes\", []);\n  }\n\n  get content() {\n    return this.tree;\n  }\n\n  _init() {}\n\n  _initRender() {\n    return initRender(this);\n  }\n\n  _destroy() {\n    this._stopRender();\n\n    destroy(this._nodes);\n  }\n\n  requestDraw() {\n    this.container.markDraw(this);\n  }\n\n  _redraw(mountOptions) {\n    const {\n      renderer,\n      _nodes\n    } = this;\n    this.tree = draw(renderer, mountOptions, _nodes, this.tree);\n  }\n\n  _mount(mountOptions) {\n    const {\n      renderer,\n      _nodes\n    } = this;\n    this.tree = draw(renderer, mountOptions, _nodes);\n  }\n\n  _unmount() {\n    const {\n      renderer\n    } = this;\n    unmount(renderer, this.tree);\n  }\n\n}\n\nfunction createResponsiveRender(proxy, func, components) {\n  const slotRenderFns = new WeakMap();\n  const render = monitor(c => c && proxy.refresh(), () => normalize(proxy, slotRenderFns, f => proxy.refresh(f), func(), components));\n  return {\n    nodes: render(),\n    render,\n    stopRender: () => render.stop()\n  };\n}\n\nfunction initRender$1(proxy) {\n  const {\n    tag,\n    props,\n    entity\n  } = proxy;\n  const context = initContext({\n    isShell: false,\n    slot: createSlotApi(proxy.slots),\n    expose: t => proxy.setExposed(t),\n\n    get created() {\n      return proxy.created;\n    },\n\n    get parent() {\n      var _proxy$parentComponen;\n\n      return (_proxy$parentComponen = proxy.parentComponentProxy) === null || _proxy$parentComponen === void 0 ? void 0 : _proxy$parentComponen.entity;\n    },\n\n    get children() {\n      return [...proxy.children].map(t => t.exposed);\n    },\n\n    get childNodes() {\n      return proxy.childNodes;\n    },\n\n    get emit() {\n      return proxy.emit;\n    },\n\n    delivered(deliver) {\n      return getDelivered(proxy.delivered, deliver);\n    },\n\n    refresh(f) {\n      proxy.refresh(f);\n    }\n\n  }, entity);\n\n  const refresh = changed => {\n    if (!changed) {\n      return;\n    }\n\n    proxy.refresh();\n  };\n\n  const setLabel = isProduction ? undefined : l => proxy.labels = l;\n  const result = exec$1(refresh, {\n    resultOnly: true\n  }, () => runCurrent(entity, setLabel, () => tag(props, context)));\n\n  if (typeof result === 'function') {\n    return createResponsiveRender(proxy, result);\n  }\n\n  if (isRenderElement(result)) {\n    const {\n      children\n    } = result;\n\n    if ((children === null || children === void 0 ? void 0 : children.length) === 1 && typeof children[0] === 'function') {\n      return createResponsiveRender(proxy, children[0]);\n    }\n  }\n\n  if (isElement(result) && isRenderComponent(result.tag)) {\n    const {\n      tag\n    } = result;\n    const render = tag[componentValueSymbol];\n\n    if (typeof render === 'function') {\n      return createResponsiveRender(proxy, () => render(result.props || {}, context), result.tag[componentsSymbol] || null);\n    }\n  }\n\n  const normalizeRefresh = f => {\n    proxy.refresh(f);\n  };\n\n  const slotRenderFns = new WeakMap();\n  const render = monitor(refresh, () => normalize(proxy, slotRenderFns, normalizeRefresh, runCurrent(entity, setLabel, () => tag(props, context))));\n  return {\n    nodes: exec$1(refresh, () => normalize(proxy, slotRenderFns, normalizeRefresh, result), {\n      resultOnly: true\n    }),\n    render,\n    stopRender: () => render.stop()\n  };\n}\n\nclass StandardComponentProxy extends ComponentProxy {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"content\", []);\n\n    _defineProperty(this, \"native\", void 0);\n\n    _defineProperty(this, \"shadowTree\", []);\n\n    _defineProperty(this, \"nativeTree\", []);\n\n    _defineProperty(this, \"_shadow\", void 0);\n\n    _defineProperty(this, \"childNodes\", []);\n\n    _defineProperty(this, \"__nativeTreeNountOptions\", void 0);\n  }\n\n  _init() {\n    var _this$renderer$create, _this$renderer;\n\n    if (!isProduction) {\n      defineProperty(this, 'content', []);\n    }\n\n    if (!isNativeComponent(this.tag)) {\n      return;\n    }\n\n    const value = (_this$renderer$create = (_this$renderer = this.renderer).createComponent) === null || _this$renderer$create === void 0 ? void 0 : _this$renderer$create.call(_this$renderer);\n\n    if (!value) {\n      return;\n    }\n\n    [this.native, this._shadow] = value;\n  }\n\n  _initRender() {\n    return initRender$1(this);\n  }\n\n  _destroy() {\n    this._stopRender();\n\n    destroy(this._nodes);\n  }\n\n  requestDraw() {\n    this.container.markDraw(this);\n  }\n\n  _mount(mountOptions) {\n    const {\n      nativeNodes,\n      renderer,\n      _shadow,\n      native,\n      _nodes\n    } = this;\n\n    if (!native || !nativeNodes || !_shadow) {\n      this.tree = this.content = draw(renderer, mountOptions, _nodes);\n      return;\n    }\n\n    this.tree = [createMountedNode({\n      node: native\n    })];\n    const subMountOptions = renderer.getMountOptions(_shadow, mountOptions) || mountOptions;\n    this.content = draw(renderer, subMountOptions, _nodes);\n\n    for (const it of getNodes(this.content)) {\n      renderer.insertNode(_shadow, it);\n    }\n\n    const nativeTreeNountOptions = renderer.getMountOptions(native, mountOptions) || mountOptions;\n    this.nativeTree = draw(renderer, nativeTreeNountOptions, nativeNodes);\n\n    for (const it of getNodes(this.nativeTree)) {\n      renderer.insertNode(native, it);\n    }\n\n    this.__nativeTreeNountOptions = nativeTreeNountOptions;\n    return subMountOptions;\n  }\n\n  _redraw(mountOptions) {\n    const {\n      nativeNodes,\n      renderer,\n      __nativeTreeNountOptions,\n      _nodes\n    } = this;\n    this.content = draw(renderer, mountOptions, _nodes, this.content);\n\n    if (!nativeNodes || !__nativeTreeNountOptions) {\n      this.tree = this.content;\n      return;\n    }\n\n    this.nativeTree = draw(renderer, __nativeTreeNountOptions, nativeNodes, this.nativeTree);\n  }\n\n  _unmount() {\n    const {\n      renderer,\n      nativeTree\n    } = this;\n    unmount(renderer, this.tree);\n\n    if (!nativeTree) {\n      return;\n    }\n\n    unmount(renderer, nativeTree);\n  }\n\n}\n\nconst recognizers = [];\nfunction recognize(any) {\n  for (const recognizer of recognizers) {\n    const res = recognizer(any);\n\n    if (typeof res === 'function') {\n      return res;\n    }\n  }\n\n  return typeof any === 'function' ? any : null;\n}\nfunction addRecognizer(recognizer) {\n  recognizers.push(recognizer);\n}\n\nfunction createProxy(proxy, {\n  tag,\n  props,\n  children,\n  isDefault\n}) {\n  if (tag === Container) {\n    return new ContainerProxy(tag, null, props, children, proxy);\n  }\n\n  if (tag === ScopeSlot) {\n    return new SlotProxy(children, proxy, isDefault);\n  }\n\n  if (tag === Fragment) {\n    return new GroupProxy(tag, children, proxy);\n  }\n\n  if (typeof tag === 'string') {\n    if (tag.substr(0, 5) === 'core:') {\n      return new GroupProxy(tag, children, proxy);\n    }\n\n    return new ElementProxy(tag, tag, props || {}, children, proxy);\n  }\n\n  const componentTag = recognize(tag);\n\n  if (typeof componentTag !== 'function') {\n    return new GroupProxy(tag, children, proxy);\n  }\n\n  if (isShellComponent(componentTag)) {\n    return new ShellProxy(tag, componentTag, props || {}, children, proxy);\n  }\n\n  if (isDeliverComponent(componentTag)) {\n    return new DeliverProxy(tag, componentTag, props || {}, children, proxy);\n  }\n\n  if (isContainerComponent(componentTag)) {\n    return new ContainerProxy(tag, componentTag, props, children, proxy);\n  }\n\n  if (isElementComponent(componentTag)) {\n    return new ElementProxy(tag, componentTag, props || {}, children, proxy);\n  }\n\n  if (isSimpleComponent(componentTag)) {\n    return new GroupProxy(tag, children, proxy);\n  }\n\n  if (isRenderComponent(componentTag)) {\n    return new RenderComponentProxy(tag, componentTag, props || {}, children, proxy);\n  }\n\n  return new StandardComponentProxy(tag, componentTag, props || {}, children, proxy);\n}\n\nfunction createItem$1(proxy, source) {\n  if (!source) {\n    return null;\n  }\n\n  if (!source.tag) {\n    const {\n      key,\n      props\n    } = source;\n    return {\n      key,\n      props,\n      proxy: new ValueProxy(source.props || {}, proxy)\n    };\n  }\n\n  const {\n    tag,\n    key,\n    props\n  } = source;\n  return {\n    tag,\n    key,\n    props,\n    proxy: createProxy(proxy, source)\n  };\n}\nfunction createAll$1(proxy, source) {\n  if (!Array.isArray(source)) {\n    source = [source];\n  }\n\n  if (!source.length) {\n    return [];\n  }\n\n  return source.map(item => {\n    if (!Array.isArray(item)) {\n      return createItem$1(proxy, toElement(item));\n    }\n\n    return item.flat(Infinity).map(it => createItem$1(proxy, toElement(it))).filter(Boolean);\n  });\n}\n\nfunction* recursive2iterable(list) {\n  if (!Array.isArray(list)) {\n    yield list;\n    return;\n  }\n\n  for (const it of list) {\n    yield* recursive2iterable(it);\n  }\n}\n\nfunction updateList$1(proxy, source, tree) {\n  if (!tree) {\n    tree = [];\n  }\n\n  if (!Array.isArray(tree)) {\n    tree = [tree];\n  }\n\n  const newList = [];\n\n  for (const src of recursive2iterable(source)) {\n    const node = toElement(src);\n\n    if (!node) {\n      continue;\n    }\n\n    const index = tree.findIndex(it => it.tag === node.tag && it.key === node.key);\n\n    if (index >= 0) {\n      const newNode = updateItem$1(proxy, node, tree[index]);\n\n      if (newNode) {\n        newList.push(newNode);\n      }\n\n      tree.splice(index, 1);\n    } else {\n      const newNode = createItem$1(proxy, node);\n\n      if (newNode) {\n        newList.push(newNode);\n      }\n    }\n  }\n\n  destroy(tree);\n  return newList;\n}\n\nfunction updateItem$1(proxy, source, tree) {\n  if (!tree) {\n    return createItem$1(proxy, source);\n  }\n\n  if (!source) {\n    destroy(tree);\n    return null;\n  }\n\n  if (Array.isArray(tree)) {\n    if (!tree.length) {\n      return createItem$1(proxy, source);\n    }\n\n    const index = tree.findIndex(it => it.tag === source.tag);\n\n    if (index < 0) {\n      destroy(tree);\n      return createItem$1(proxy, source);\n    }\n\n    const all = tree;\n    [tree] = tree.splice(index, 1);\n    destroy(all);\n  }\n\n  if (source.tag !== tree.tag) {\n    destroy(tree);\n    return createItem$1(proxy, source);\n  }\n\n  if (tree.proxy) {\n    const {\n      proxy\n    } = tree;\n    const {\n      props = {},\n      key\n    } = source;\n    proxy.update(source.props || {}, source.children || []);\n    return {\n      tag: tree.tag,\n      props,\n      key,\n      proxy\n    };\n  }\n\n  destroy(tree);\n  return createItem$1(proxy, source);\n}\n\nfunction* updateAll$1(proxy, source, tree) {\n  if (!Array.isArray(source)) {\n    source = [source];\n  }\n\n  let index = 0;\n  let length = Math.min(source.length || 1, tree.length);\n\n  for (; index < length; index++) {\n    const src = source[index];\n\n    if (Array.isArray(src)) {\n      yield updateList$1(proxy, src, tree[index]);\n    } else {\n      yield updateItem$1(proxy, toElement(src), tree[index]);\n    }\n  }\n\n  length = Math.max(source.length, source.length);\n\n  if (tree.length > index) {\n    for (; index < length; index++) {\n      destroy(tree[index]);\n    }\n  }\n\n  if (source.length > index) {\n    for (; index < length; index++) {\n      const src = toElement(source[index]);\n\n      if (Array.isArray(src)) {\n        yield src.flat(Infinity).map(it => createItem$1(proxy, it)).filter(Boolean);\n      } else {\n        yield createItem$1(proxy, src);\n      }\n    }\n  }\n}\n\nfunction convert(proxy, source, tree) {\n  return refresh(() => postpone(() => {\n    if (!tree) {\n      return createAll$1(proxy, source);\n    }\n\n    return [...updateAll$1(proxy, source, tree)];\n  }));\n}\n\nlet awaitDraw = new Set();\nconst rendererDraw = new Set();\nconst baseTick = [];\nconst middleTick = [];\nconst endTick = [];\n\nfunction execTickList(list) {\n  const execList = [...list].sort(([a], [b]) => b - a);\n  list.length = 0;\n\n  try {\n    execList.forEach(([, f]) => f());\n  } catch (e) {\n    printError(e);\n  }\n}\n\nfunction execContainerList() {\n  const list = [...awaitDraw];\n  awaitDraw.clear();\n  list.map(c => c.drawAll());\n}\n\nfunction execRendererDrawList() {\n  const rendererDrawList = [...rendererDraw];\n  rendererDraw.clear();\n\n  for (const f of rendererDrawList) {\n    try {\n      f();\n    } catch (e) {\n      printError(e);\n    }\n  }\n}\n\nlet requested = false;\n\nfunction request() {\n  if (requested) {\n    return;\n  }\n\n  requested = true;\n  nextFrame(() => {\n    requested = false;\n    execTickList(baseTick);\n    execContainerList();\n    execTickList(middleTick);\n    execRendererDrawList();\n    execTickList(endTick);\n  });\n}\n\nfunction nextTick(fn, level = 0, type) {\n  const list = type === 'middle' ? middleTick : type === 'end' ? endTick : baseTick;\n  list.push([level, fn]);\n  request();\n}\nfunction markDraw(c) {\n  awaitDraw.add(c);\n  request();\n}\nfunction addRendererDraw(fn) {\n  rendererDraw.add(fn);\n  request();\n}\n\nfunction createEntity$1(obj, events) {\n  const cfg = {\n    [objectTypeSymbol]: {\n      configurable: true,\n      value: objectTypeSymbolHookEntity\n    },\n    data: {\n      configurable: true,\n      value: obj.data\n    },\n    exposed: {\n      configurable: true,\n      get: () => obj.exposed\n    },\n    created: {\n      configurable: true,\n      get: () => obj.created\n    },\n    destroyed: {\n      configurable: true,\n      get: () => obj.destroyed\n    },\n    mounted: {\n      configurable: true,\n      get: () => obj.mounted\n    },\n    unmounted: {\n      configurable: true,\n      get: () => obj.unmounted\n    },\n    $_hooks: {\n      configurable: true,\n      value: Object.create(null)\n    },\n    callHook: {\n      configurable: true,\n\n      value(h) {\n        callHook(h, entity);\n      }\n\n    },\n    setHook: {\n      configurable: true,\n\n      value(id, hook) {\n        return setHook(id, hook, entity);\n      }\n\n    },\n    on: {\n      configurable: true,\n      value: events.on\n    },\n    emit: {\n      configurable: true,\n      value: events.emit\n    }\n  };\n  const entity = Object.create(null, cfg);\n  return entity;\n}\n\nclass ContainerProxy extends RefProxy {\n  setmountedRoot(target, next) {\n    if (this.parentProxy) {\n      return;\n    }\n\n    const container = this.__container;\n\n    if (!container) {\n      return;\n    }\n\n    const {\n      renderer\n    } = this;\n    const [r, n] = renderer.getContainer(container, target, next);\n\n    if (!r) {\n      return;\n    }\n\n    for (const it of getNodes(this.tree)) {\n      renderer.insertNode(r, it, n);\n    }\n  }\n\n  constructor(originalTag, component = null, props = {}, children, parent) {\n    super(component ? getRender(component[rendererSymbol], parent === null || parent === void 0 ? void 0 : parent.renderer) : getRender(parent === null || parent === void 0 ? void 0 : parent.renderer), originalTag, component, props, parent);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"componentRoot\", void 0);\n\n    _defineProperty(this, \"__containerData\", void 0);\n\n    _defineProperty(this, \"content\", []);\n\n    _defineProperty(this, \"rootContainer\", this);\n\n    _defineProperty(this, \"__nodes\", []);\n\n    _defineProperty(this, \"__container\", null);\n\n    _defineProperty(this, \"__placeholder\", void 0);\n\n    _defineProperty(this, \"__placeholderNode\", void 0);\n\n    _defineProperty(this, \"__targetNode\", null);\n\n    _defineProperty(this, \"__insertNode\", null);\n\n    _defineProperty(this, \"__nextNode\", null);\n\n    _defineProperty(this, \"__awaitDraw\", new Set());\n\n    _defineProperty(this, \"__containers\", new Set());\n\n    this.container = this;\n    this.componentRoot = parent === null || parent === void 0 ? void 0 : parent.componentRoot;\n\n    if (component) {\n      this.__containerData = component[componentValueSymbol];\n    }\n\n    if (!isProduction) {\n      defineProperty(this, 'content', []);\n    }\n\n    this.events.updateInProps(props);\n\n    if (parent) {\n      this.rootContainer = parent.container.rootContainer;\n    }\n\n    this.__nodes = convert(this, children);\n    this.created = true;\n  }\n\n  createEntity(events) {\n    return createEntity$1(this, events);\n  }\n\n  setChildren(children) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.__nodes = convert(this, children, this.__nodes);\n    this.requestDraw();\n  }\n\n  _update(props, children) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.__nodes = convert(this, children, this.__nodes);\n    this.events.updateInProps(props);\n    this.requestDraw();\n  }\n\n  _destroy() {\n    destroy(this.__nodes);\n  }\n\n  callHook(id) {\n    callHook(id, this.entity);\n  }\n\n  requestDraw() {\n    this.markDraw(this);\n  }\n\n  _mount(opt) {\n    const {\n      parentProxy,\n      renderer\n    } = this;\n    const parentRenderer = (parentProxy === null || parentProxy === void 0 ? void 0 : parentProxy.renderer) || renderer;\n    const {\n      container,\n      target: targetNode,\n      insert,\n      next,\n      exposed\n    } = renderer.mountContainer(this.__containerData, this.attrs, this.events.emit, parentProxy === null || parentProxy === void 0 ? void 0 : parentProxy.renderer);\n    console.log(exposed);\n    this.setExposed(exposed);\n    const subOpt = renderer.getMountOptions(container, opt) || opt;\n    const placeholder = createPlaceholder(parentRenderer);\n    this.__placeholder = placeholder;\n    const placeholderNode = placeholder.node;\n    this.__placeholderNode = placeholderNode;\n    this.__container = container;\n    const content = draw(renderer, subOpt, this.__nodes);\n    this.content = content;\n    this.__insertNode = insert;\n    this.__nextNode = next;\n\n    if (!targetNode && parentRenderer === renderer) {\n      this.tree = insert ? [...content, createMountedNode({\n        node: insert\n      }), placeholder] : [...content, placeholder];\n      return subOpt;\n    }\n\n    const target = targetNode || container;\n    this.__targetNode = target;\n\n    for (const it of getNodes(content)) {\n      renderer.insertNode(target, it, next);\n    }\n\n    this.tree = insert ? [createMountedNode({\n      node: insert\n    }), placeholder] : [placeholder];\n    return subOpt;\n  }\n\n  _redrawSelf() {\n    const {\n      __targetNode,\n      __insertNode,\n      __nextNode\n    } = this;\n    const {\n      attrs,\n      parentProxy,\n      renderer\n    } = this;\n    const placeholder = this.__placeholder;\n    const placeholderNode = this.__placeholderNode;\n    const container = this.__container;\n    const parentRenderer = (parentProxy === null || parentProxy === void 0 ? void 0 : parentProxy.renderer) || renderer;\n    const {\n      target: targetNode,\n      insert,\n      next\n    } = renderer.updateContainer(container, __targetNode, __insertNode, __nextNode, this.__containerData, attrs, this.events.emit, parentProxy === null || parentProxy === void 0 ? void 0 : parentProxy.renderer);\n    this.__insertNode = insert;\n    this.__nextNode = next;\n    const parentNode = parentRenderer.getParent(placeholderNode);\n\n    if (insert !== __insertNode) {\n      if (__insertNode) {\n        renderer.removeNode(__insertNode);\n      }\n\n      if (insert && parentNode) {\n        renderer.insertNode(parentNode, insert, placeholderNode);\n      }\n    }\n\n    if (!targetNode && parentRenderer === renderer) {\n      const {\n        content\n      } = this;\n\n      if (__targetNode && parentNode) {\n        const nextNode = insert || placeholderNode;\n\n        for (const it of getNodes(content)) {\n          parentRenderer.insertNode(parentNode, it, nextNode);\n        }\n\n        this.__targetNode = null;\n      }\n\n      this.tree = insert ? [...content, createMountedNode({\n        node: insert\n      }), placeholder] : [...content, placeholder];\n    } else {\n      const target = targetNode || container;\n      this.__targetNode = target;\n\n      if (target !== __targetNode || next !== __nextNode) {\n        for (const it of getNodes(this.content)) {\n          renderer.insertNode(target, it, next);\n        }\n      }\n\n      this.tree = insert ? [createMountedNode({\n        node: insert\n      }), placeholder] : [placeholder];\n    }\n\n    renderer.recoveryContainer(container, __targetNode, __insertNode, __nextNode, targetNode, insert, next, this.__containerData, attrs, parentProxy === null || parentProxy === void 0 ? void 0 : parentProxy.renderer);\n  }\n\n  _redrawChildren(opts) {\n    const content = draw(this.renderer, opts, this.__nodes, this.content);\n    this.content = content;\n\n    if (!this.__targetNode) {\n      return;\n    }\n\n    const placeholder = this.__placeholder;\n    const insertNode = this.__insertNode;\n    this.tree = insertNode ? [...content, createMountedNode({\n      node: insertNode\n    }), placeholder] : [...content, placeholder];\n  }\n\n  _redraw(opt) {\n    this._redrawChildren(opt);\n\n    this._redrawSelf();\n  }\n\n  _unmount() {\n    const {\n      parentProxy,\n      renderer,\n      __insertNode\n    } = this;\n    const parentRenderer = (parentProxy === null || parentProxy === void 0 ? void 0 : parentProxy.renderer) || renderer;\n    unmount(this.renderer, this.content);\n\n    if (__insertNode) {\n      parentRenderer.removeNode(__insertNode);\n    }\n\n    parentRenderer.removeNode(this.__placeholderNode);\n    renderer.unmountContainer(this.__container, this.__targetNode, __insertNode, this.__nextNode, this.__containerData, this.attrs, parentProxy === null || parentProxy === void 0 ? void 0 : parentProxy.renderer);\n  }\n\n  markDraw(proxy) {\n    var _this$parentProxy;\n\n    if (((_this$parentProxy = this.parentProxy) === null || _this$parentProxy === void 0 ? void 0 : _this$parentProxy.renderer) === this.renderer) {\n      this.parentProxy.container.markDraw(proxy);\n      return;\n    }\n\n    if (proxy === this && this.parentProxy) {\n      this.parentProxy.container.markDraw(this);\n    } else {\n      this.__awaitDraw.add(proxy);\n    }\n\n    this.rootContainer.markDrawContainer(this);\n  }\n\n  drawContainer() {\n    if (this.destroyed || !this.__container) {\n      return;\n    }\n\n    const {\n      __awaitDraw\n    } = this;\n    const list = [...__awaitDraw];\n\n    __awaitDraw.clear();\n\n    list.map(c => c.redraw());\n  }\n\n  markDrawContainer(container) {\n    this.__containers.add(container);\n\n    markDraw(this);\n  }\n\n  drawAll() {\n    const containers = this.__containers;\n\n    if (!containers.size) {\n      return;\n    }\n\n    const list = [...containers];\n    containers.clear();\n    const completeList = [];\n    setCompleteList(completeList);\n    list.forEach(c => c.drawContainer());\n    completeList.forEach(r => r());\n  }\n\n}\n\nfunction createContainerEntity(e, p) {\n  if (e === undefined) {\n    return createRender(null, p);\n  }\n\n  if (isContainerComponent(e)) {\n    return createRender(e, p);\n  }\n\n  if (!isElement(e)) {\n    return createRender(null, p, [createElement(e)]);\n  }\n\n  if (isContainerComponent(e.tag)) {\n    const params = { ...e.props,\n      ...p\n    };\n    return createRender(e.tag, params);\n  }\n\n  return createRender(null, p, [e]);\n}\n\nfunction createRender(tag, props, childNodes = []) {\n  const children = value(childNodes);\n  const normalizeAuxiliaryObject = {\n    renderer: tag ? getRender(tag[rendererSymbol]) : getRender(),\n    refresh,\n    slotRenderFnList: new WeakMap(),\n    delivered: Object.create(null),\n    simpleParent: undefined\n  };\n  let __needRefresh = false;\n  let __refreshing = false;\n  let container;\n\n  function refresh() {\n    if (!container) {\n      __needRefresh = true;\n      return;\n    }\n\n    if (container.destroyed) {\n      return;\n    }\n\n    __needRefresh = true;\n\n    if (!container.created) {\n      return;\n    }\n\n    if (__refreshing) {\n      return;\n    }\n\n    __refreshing = true;\n    let nodes;\n\n    for (;;) {\n      if (wait(refreshObj)) {\n        break;\n      }\n\n      if (!__needRefresh) {\n        break;\n      }\n\n      __needRefresh = false;\n      nodes = _render();\n\n      if (container.destroyed) {\n        return;\n      }\n    }\n\n    __refreshing = false;\n\n    if (wait(refreshObj)) {\n      return;\n    }\n\n    if (!nodes) {\n      return;\n    }\n\n    if (!container.mounted) {\n      return;\n    }\n\n    if (container.destroyed) {\n      return;\n    }\n\n    if (container.unmounted) {\n      return;\n    }\n\n    container.setChildren(nodes);\n  }\n\n  const refreshObj = {\n    refresh\n  };\n  const slots = Object.create(null);\n\n  const _render = monitor(c => c && refresh(), () => init(normalizeAuxiliaryObject, children.value, slots, [], false, false));\n\n  container = new ContainerProxy(tag, tag, props, _render());\n\n  if (__needRefresh) {\n    refresh();\n  }\n\n  return [container, children];\n}\n\nfunction render(e, p = {}) {\n  const [container, children] = createContainerEntity(e, p);\n  const entity = Object.create(container.entity, {\n    update: {\n      configurable: true,\n\n      value(c) {\n        if (container.destroyed) {\n          return entity;\n        }\n\n        children(c === undefined ? [] : isElement(c) ? [c] : [createElement(c)]);\n        return entity;\n      }\n\n    },\n    mount: {\n      configurable: true,\n\n      value(target, next) {\n        if (container.destroyed) {\n          return entity;\n        }\n\n        if (container.mounted) {\n          return entity;\n        }\n\n        container.mount({});\n        container.setmountedRoot(target, next);\n        return entity;\n      }\n\n    },\n    unmount: {\n      configurable: true,\n\n      value() {\n        if (!container.mounted) {\n          return;\n        }\n\n        if (container.unmounted) {\n          return;\n        }\n\n        if (!container.destroyed) {\n          container.destroy();\n        }\n\n        container.unmount();\n        return entity;\n      }\n\n    }\n  });\n\n  if (!isProduction) {\n    devtools.renderHook(entity, container);\n  }\n\n  return entity;\n}\n\nfunction setObjectType(component, type) {\n  Reflect.defineProperty(component, objectTypeSymbol, {\n    value: type\n  });\n  return component;\n}\n\nfunction setName(component, name) {\n  if (!name || typeof name !== 'string') {\n    return component;\n  }\n\n  Reflect.defineProperty(component, nameSymbol, {\n    value: name\n  });\n  return component;\n}\n\nfunction setValue(component, value) {\n  Reflect.defineProperty(component, componentValueSymbol, {\n    value\n  });\n  return component;\n}\n\nfunction setComponents(component, components) {\n  if (!components || typeof components !== 'object') {\n    return component;\n  }\n\n  Reflect.defineProperty(component, componentsSymbol, {\n    value: components\n  });\n  return component;\n}\n\nfunction createSelfComponent() {\n  const component = function component(params) {\n    return createElementBase(component, params);\n  };\n\n  return component;\n}\n\nfunction createDeliverComponent(def) {\n  const component = createSelfComponent();\n  setObjectType(component, objectTypeSymbolDeliverComponent);\n  Reflect.defineProperty(component, deliverKeySymbol, {\n    value: Symbol()\n  });\n  Reflect.defineProperty(component, deliverDefaultSymbol, {\n    value: def\n  });\n  return component;\n}\nfunction createRenderComponent(f, {\n  name,\n  components\n} = {}) {\n  const component = createSelfComponent();\n  setObjectType(component, objectTypeSymbolRenderComponent);\n  setName(component, name);\n  setValue(component, f);\n  setComponents(component, components);\n  return component;\n}\nfunction createContainerComponent(value, {\n  name,\n  renderer\n} = {}) {\n  const component = createSelfComponent();\n  setObjectType(component, objectTypeSymbolContainerComponent);\n  setName(component, name);\n  setValue(component, value);\n\n  if (typeof renderer === 'string' || typeof renderer === 'object') {\n    Reflect.defineProperty(component, rendererSymbol, {\n      value: renderer\n    });\n  }\n\n  return component;\n}\nfunction createElementComponent(value, {\n  name\n} = {}) {\n  const component = createSelfComponent();\n  setObjectType(component, objectTypeSymbolElementComponent);\n  setName(component, name);\n  setValue(component, value);\n  return component;\n}\nfunction createStandardComponent(f, {\n  name,\n  components,\n  render,\n  props\n} = {}) {\n  const component = createComponentFunc(f, render);\n  setName(component, name);\n  setComponents(component, components);\n\n  if (Array.isArray(props)) {\n    Reflect.defineProperty(component, propsSymbol, {\n      value: [...props]\n    });\n  }\n\n  return component;\n}\n\nfunction createComponentFunc(f, render) {\n  if (typeof render !== 'function') {\n    return f;\n  }\n\n  const renderComponent = isRenderComponent(render) ? render : createRenderComponent(render);\n  return function StandardComponent(props, context) {\n    return createElement(renderComponent, f(props, context));\n  };\n}\n\nfunction createNativeComponent(f, {\n  name,\n  components,\n  render,\n  props\n} = {}) {\n  const component = createComponentFunc(f, render);\n  setObjectType(component, objectTypeSymbolNativeComponent);\n  setName(component, name);\n  setComponents(component, components);\n\n  if (Array.isArray(props)) {\n    Reflect.defineProperty(component, propsSymbol, {\n      value: [...props]\n    });\n  }\n\n  return component;\n}\nfunction createSimpleComponent(f, {\n  name,\n  components\n} = {}) {\n  const component = f;\n  setObjectType(component, objectTypeSymbolSimpleComponent);\n  setName(component, name);\n  setComponents(component, components);\n  return component;\n}\nfunction createShellComponent(f, {\n  name\n} = {}) {\n  const component = f;\n  setObjectType(component, objectTypeSymbolShellComponent);\n  setName(component, name);\n  return component;\n}\n\nconst LOADING = 0;\nconst FAILING = -1;\nconst COMPLETE = 1;\nfunction lazy(component, Placeholder) {\n  const reslut = value(LOADING);\n  let isLoad = false;\n  const ComponentValue = value(undefined);\n\n  async function load() {\n    if (isLoad) {\n      return;\n    }\n\n    isLoad = true;\n\n    if (reslut()) {\n      return;\n    }\n\n    reslut(COMPLETE);\n\n    try {\n      const c = await component();\n\n      if (typeof c === 'function') {\n        ComponentValue(c);\n        return;\n      }\n\n      if (!c) {\n        reslut(FAILING);\n        return;\n      }\n\n      if (typeof c.default === 'function') {\n        ComponentValue(c.default);\n        return;\n      }\n\n      reslut(FAILING);\n    } catch (e) {\n      console.error(e);\n      reslut(FAILING);\n    }\n  }\n\n  return createSimpleComponent((props, {\n    childNodes\n  }) => {\n    const com = ComponentValue();\n\n    if (com) {\n      return createElement(com, props, ...childNodes);\n    }\n\n    load();\n\n    if (!Placeholder) {\n      return null;\n    }\n\n    return createElement(Placeholder, {\n      loading: reslut() === LOADING\n    });\n  }, {\n    name: 'Lazy'\n  });\n}\n\nfunction getNodeArray$4(result) {\n  if (Array.isArray(result)) {\n    return result;\n  }\n\n  if (!isElement(result)) {\n    return [result];\n  }\n\n  if (result.tag !== Fragment) {\n    return [result];\n  }\n\n  return result.children;\n}\n\nclass RenderProxy extends NodeProxy {\n  get content() {\n    return this.tree;\n  }\n\n  constructor(props, children, parent) {\n    super(Render, Render, props, children, parent);\n\n    _defineProperty(this, \"childNodes\", void 0);\n\n    _defineProperty(this, \"__render\", void 0);\n\n    _defineProperty(this, \"__refreshing\", false);\n\n    _defineProperty(this, \"__needRefresh\", false);\n\n    _defineProperty(this, \"__delayedRefresh\", 0);\n\n    _defineProperty(this, \"_nodes\", []);\n\n    this.childNodes = children;\n\n    const refresh = f => {\n      this.refresh(f);\n    };\n\n    const normalizeAuxiliaryObject = {\n      renderer: this.renderer,\n      refresh,\n      slotRenderFnList: new WeakMap(),\n      delivered: this.delivered,\n      simpleParent: undefined\n    };\n    const slots = Object.create(null);\n\n    const initChildNodes = result => init(normalizeAuxiliaryObject, getNodeArray$4(result), slots, [], false, true);\n\n    this.__render = monitor(changed => changed && this.refresh(), () => {\n      const {\n        childNodes\n      } = this;\n\n      if (childNodes.length !== 1) {\n        return initChildNodes(childNodes);\n      }\n\n      const [f] = childNodes;\n\n      if (typeof f !== 'function') {\n        return initChildNodes(childNodes);\n      }\n\n      return initChildNodes(f());\n    });\n    this.created = true;\n    this.refresh();\n  }\n\n  refresh(f) {\n    if (typeof f === 'function') {\n      try {\n        this.__delayedRefresh++;\n        return f();\n      } finally {\n        this.__delayedRefresh--;\n\n        if (this.__delayedRefresh <= 0) {\n          this.refresh();\n        }\n      }\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this.__needRefresh = true;\n\n    if (!this.created) {\n      return;\n    }\n\n    if (this.__refreshing) {\n      return;\n    }\n\n    this.__refreshing = true;\n    let nodes;\n\n    while (this.__needRefresh && !wait(this)) {\n      this.__needRefresh = false;\n      nodes = this.__render();\n\n      if (this.destroyed) {\n        return;\n      }\n    }\n\n    this.__refreshing = false;\n\n    if (!nodes) {\n      return;\n    }\n\n    this._nodes = convert(this, nodes, this._nodes);\n\n    if (wait(this)) {\n      return;\n    }\n\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    if (this.unmounted) {\n      return;\n    }\n\n    this.requestDraw();\n  }\n\n  _update(props, children) {\n    this.childNodes = children;\n    this.refresh();\n  }\n\n  _destroy() {\n    this.__render.stop();\n\n    destroy(this._nodes);\n  }\n\n  _mount(mountOptions) {\n    this.tree = draw(this.renderer, mountOptions, this._nodes);\n  }\n\n  _redraw(mountOptions) {\n    this.tree = draw(this.renderer, mountOptions, this._nodes, this.tree);\n  }\n\n  _unmount() {\n    unmount(this.renderer, this.tree);\n  }\n\n}\n\nfunction isProxy(v, type) {\n  switch (type) {\n    case 'standardComponent':\n      return v instanceof StandardComponentProxy;\n\n    case 'renderComponent':\n      return v instanceof RenderComponentProxy;\n\n    case 'component':\n      return v instanceof ComponentProxy;\n\n    case 'container':\n      return v instanceof ContainerProxy;\n\n    case 'deliver':\n      return v instanceof DeliverProxy;\n\n    case 'element':\n      return v instanceof ElementProxy;\n\n    case 'group':\n      return v instanceof GroupProxy;\n\n    case 'shell':\n      return v instanceof ShellProxy;\n\n    case 'value':\n      return v instanceof ValueProxy;\n\n    case 'render':\n      return v instanceof RenderProxy;\n\n    case 'slot':\n      return v instanceof SlotProxy;\n\n    case 'node':\n      return v instanceof NodeProxy;\n\n    case 'ref':\n      return v instanceof RefProxy;\n  }\n\n  return v instanceof BaseProxy;\n}\n\n\n\nvar Neep = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tinstall: install,\n\tError: NeepError,\n\trender: render,\n\tregister: register,\n\tgetNode: getNode,\n\tcreateDeliverComponent: createDeliverComponent,\n\tcreateRenderComponent: createRenderComponent,\n\tcreateContainerComponent: createContainerComponent,\n\tcreateElementComponent: createElementComponent,\n\tcreateStandardComponent: createStandardComponent,\n\tcreateNativeComponent: createNativeComponent,\n\tcreateSimpleComponent: createSimpleComponent,\n\tcreateShellComponent: createShellComponent,\n\tcreateComponent: createStandardComponent,\n\tisSimpleComponent: isSimpleComponent,\n\tisShellComponent: isShellComponent,\n\tisNativeComponent: isNativeComponent,\n\tisRenderComponent: isRenderComponent,\n\tisContainerComponent: isContainerComponent,\n\tisElementComponent: isElementComponent,\n\tisDeliverComponent: isDeliverComponent,\n\tisDeliver: isDeliverComponent,\n\tlazy: lazy,\n\tversion: version,\n\tisProduction: isProduction,\n\tScopeSlot: ScopeSlot,\n\tRender: Render,\n\tSlot: Slot,\n\tContainer: Container,\n\tTemplate: Template,\n\tFragment: Fragment,\n\tvalue: value,\n\tcomputed: computed,\n\tisValue: isValue,\n\tencase: encase,\n\tvalueify: valueify,\n\tasValue: asValue,\n\tmixValue: mixValue,\n\tdefineProperty: defineProperty,\n\tref: ref,\n\twatch: watch,\n\tuseValue: useValue,\n\tuseService: useService,\n\tbyService: byService,\n\thook: hook,\n\tisElement: isElement,\n\tisFragmentElement: isFragmentElement,\n\tisRenderElement: isRenderElement,\n\tisSimpleElement: isSimpleElement,\n\tcreateElement: createElement,\n\tcreateElementBase: createElementBase,\n\tcreateRenderElement: createRenderElement,\n\telements: elements,\n\tequal: equal,\n\tcreateTemplateElement: createTemplateElement,\n\tlabel: label,\n\trendererSymbol: rendererSymbol,\n\tnameSymbol: nameSymbol,\n\tcomponentsSymbol: componentsSymbol,\n\tpropsSymbol: propsSymbol,\n\tcomponentValueSymbol: componentValueSymbol,\n\tobjectTypeSymbol: objectTypeSymbol,\n\tobjectTypeSymbolElement: objectTypeSymbolElement,\n\tobjectTypeSymbolDeliverComponent: objectTypeSymbolDeliverComponent,\n\tobjectTypeSymbolNativeComponent: objectTypeSymbolNativeComponent,\n\tobjectTypeSymbolSimpleComponent: objectTypeSymbolSimpleComponent,\n\tobjectTypeSymbolShellComponent: objectTypeSymbolShellComponent,\n\tobjectTypeSymbolRenderComponent: objectTypeSymbolRenderComponent,\n\tobjectTypeSymbolContainerComponent: objectTypeSymbolContainerComponent,\n\tobjectTypeSymbolElementComponent: objectTypeSymbolElementComponent,\n\tobjectTypeSymbolHookEntity: objectTypeSymbolHookEntity,\n\tobjectTypeSymbolRootEntity: objectTypeSymbolRootEntity,\n\tdeliverKeySymbol: deliverKeySymbol,\n\tdeliverDefaultSymbol: deliverDefaultSymbol,\n\tsetHook: setHook,\n\tcallHook: callHook,\n\tget current () { return current; },\n\tcheckCurrent: checkCurrent,\n\texecUseHooks: execUseHooks,\n\taddContextConstructor: addContextConstructor,\n\taddEntityConstructor: addEntityConstructor,\n\trefresh: refresh,\n\tnextTick: nextTick,\n\taddRendererDraw: addRendererDraw,\n\taddRecognizer: addRecognizer,\n\tisProxy: isProxy\n});\n\nexport default Neep;\nexport { Container, NeepError as Error, Fragment, Render, ScopeSlot, Slot, Template, addContextConstructor, addEntityConstructor, addRecognizer, addRendererDraw, byService, callHook, checkCurrent, componentValueSymbol, componentsSymbol, createStandardComponent as createComponent, createContainerComponent, createDeliverComponent, createElement, createElementBase, createElementComponent, createNativeComponent, createRenderComponent, createRenderElement, createShellComponent, createSimpleComponent, createStandardComponent, createTemplateElement, current, deliverDefaultSymbol, deliverKeySymbol, elements, equal, execUseHooks, getNode, hook, install, isContainerComponent, isDeliverComponent as isDeliver, isDeliverComponent, isElement, isElementComponent, isFragmentElement, isNativeComponent, isProduction, isProxy, isRenderComponent, isRenderElement, isShellComponent, isSimpleComponent, isSimpleElement, label, lazy, nameSymbol, nextTick, objectTypeSymbol, objectTypeSymbolContainerComponent, objectTypeSymbolDeliverComponent, objectTypeSymbolElement, objectTypeSymbolElementComponent, objectTypeSymbolHookEntity, objectTypeSymbolNativeComponent, objectTypeSymbolRenderComponent, objectTypeSymbolRootEntity, objectTypeSymbolShellComponent, objectTypeSymbolSimpleComponent, propsSymbol, ref, refresh, register, render, rendererSymbol, setHook, useService, useValue, version, watch };\n","/*!\n * NeepRendererHtml v0.1.0-alpha.17\n * (c) 2019-2021 Fierflame\n * @license MIT\n */\nimport { install as install$1, isValue, createContainerComponent, createElement as createElement$1 } from '@neep/core';\n\nconst xmlnsMap = {\n  svg: 'http://www.w3.org/2000/svg',\n  html: 'http://www.w3.org/1999/xhtml',\n  mathml: 'http://www.w3.org/1998/Math/MathML'\n};\nconst SVGTags = new Set(['altGlyph', 'altGlyphDef', 'altGlyphItem', 'animate', 'animateColor', 'animateMotion', 'animateTransform', 'circle', 'clipPath', 'color-profile', 'cursor', 'defs', 'desc', 'ellipse', 'feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence', 'filter', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignObject', 'g', 'glyph', 'glyphRef', 'hkern', 'image', 'line', 'linearGradient', 'marker', 'mask', 'metadata', 'missing-glyph', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'script', 'set', 'stop', 'style', 'svg', 'switch', 'symbol', 'text', 'textPath', 'title', 'tref', 'tspan', 'use', 'view', 'vkern']);\nconst MathMLTags = new Set(['maction', 'math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msubsup', 'msup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'semantics']);\nfunction createElement(tagname, namespace) {\n  const res = /^([a-z][a-z0-9-]*):([a-z0-9-]+)$/i.exec(tagname);\n  const tag = res ? res[2] : tagname;\n  const ns = (namespace || (res === null || res === void 0 ? void 0 : res[1]) || SVGTags.has(tag.toLowerCase()) && 'svg' || MathMLTags.has(tag.toLowerCase()) && 'mathml' || '').toLowerCase();\n\n  if (!ns) {\n    return document.createElement(tag);\n  }\n\n  return document.createElementNS(ns in xmlnsMap && xmlnsMap[ns] || ns, tag);\n}\n\nfunction createComponent(renderer) {\n  const node = createElement('neep-component');\n  return [node, node.attachShadow({\n    mode: 'open'\n  })];\n}\n\nfunction createPlaceholder() {\n  return document.createComment('');\n}\n\nfunction createText(text) {\n  return document.createTextNode(text);\n}\n\nfunction getParent(node) {\n  return node.parentNode;\n}\n\nfunction insertNode(parent, node, next = null) {\n  parent.insertBefore(node, next);\n}\n\nfunction installNeep(renderer) {\n  install$1({\n    renderer\n  });\n}\n\nfunction getId(v) {\n  if (typeof v === 'string') {\n    return v;\n  }\n\n  if (typeof v === 'number') {\n    return String(v);\n  }\n\n  return undefined;\n}\n\nconst PropsMap = new WeakMap();\nfunction updateId(props, el) {\n  const old = PropsMap.get(el);\n  const id = getId(isValue(props.id) ? props.id() : props.id);\n  PropsMap.set(el, id);\n\n  if (id !== old) {\n    if (typeof id === 'string') {\n      el.id = id;\n    } else {\n      el.removeAttribute('id');\n    }\n  }\n}\n\nfunction* recursive2iterable(list) {\n  if (isValue(list)) {\n    yield* recursive2iterable(list());\n    return;\n  }\n\n  if (!Array.isArray(list)) {\n    yield list;\n    return;\n  }\n\n  for (const it of list) {\n    yield* recursive2iterable(it);\n  }\n}\n\nfunction getClass(list) {\n  const set = new Set();\n\n  for (const v of recursive2iterable(list)) {\n    if (!v) {\n      continue;\n    }\n\n    if (typeof v === 'string') {\n      for (let k of v.split(' ').filter(Boolean)) {\n        set.add(k);\n      }\n    } else if (typeof v === 'object') {\n      for (const k in v) {\n        const add = v[k];\n\n        for (let it of k.split(' ').filter(Boolean)) {\n          set[add ? 'add' : 'delete'](it);\n        }\n      }\n    }\n  }\n\n  if (!set.size) {\n    return undefined;\n  }\n\n  return set;\n}\n\nfunction update(el, classes, oClasses) {\n  if (classes && oClasses) {\n    const list = el.getAttribute('class') || '';\n    const classList = new Set(list.split(' ').filter(Boolean));\n    oClasses.forEach(c => classList.delete(c));\n    classes.forEach(c => classList.add(c));\n    el.setAttribute('class', [...classList].join(' '));\n  } else if (classes) {\n    el.setAttribute('class', [...classes].join(' '));\n  } else if (oClasses) {\n    el.removeAttribute('class');\n  }\n}\n\nconst PropsMap$1 = new WeakMap();\nfunction updateClass(props, el) {\n  const old = PropsMap$1.get(el);\n  const classes = getClass(isValue(props.class) ? props.class() : props.class);\n  update(el, classes, old);\n  PropsMap$1.set(el, classes);\n}\n\nconst unit = {\n  'width': 'px',\n  'height': 'px',\n  'top': 'px',\n  'right': 'px',\n  'bottom': 'px',\n  'left': 'px',\n  'border': 'px',\n  'border-top': 'px',\n  'border-right': 'px',\n  'border-left': 'px',\n  'border-bottom': 'px',\n  'border-width': 'px',\n  'border-top-width': 'px',\n  'border-right-width': 'px',\n  'border-left-width': 'px',\n  'border-bottom-width': 'px',\n  'border-radius': 'px',\n  'border-top-left-radius': 'px',\n  'border-top-right-radius': 'px',\n  'border-bottom-left-radius': 'px',\n  'border-bottom-right-radius': 'px',\n  'padding': 'px',\n  'padding-top': 'px',\n  'padding-right': 'px',\n  'padding-left': 'px',\n  'padding-bottom': 'px',\n  'margin': 'px',\n  'margin-top': 'px',\n  'margin-right': 'px',\n  'margin-left': 'px',\n  'margin-bottom': 'px'\n};\n\nfunction getStyle(style) {\n  if (isValue(style)) {\n    style = style();\n  }\n\n  if (typeof style === 'string') {\n    return style;\n  }\n\n  if (!style) {\n    return undefined;\n  }\n\n  if (typeof style !== 'object') {\n    return undefined;\n  }\n\n  const css = Object.create(null);\n\n  for (let k in style) {\n    let value = style[k];\n\n    if (isValue(value)) {\n      value = value();\n    }\n\n    const key = k.substr(0, 2) === '--' ? k : k.replace(/[A-Z]/g, '-$1').replace(/-+/g, '-').toLowerCase();\n\n    if (typeof value === 'number') {\n      const str = value && k in unit ? `${value}${unit[k]}` : `${value}`;\n      css[key] = [str, undefined];\n    } else if (value && typeof value === 'string') {\n      const v = value.replace(/!important\\s*$/, '');\n      css[key] = [v, v === value ? undefined : 'important'];\n    }\n  }\n\n  return css;\n}\n\nfunction update$1(css, style, oStyle) {\n  if (!style) {\n    if (!oStyle) {\n      return;\n    }\n\n    if (typeof oStyle === 'string') {\n      css.cssText = '';\n      return;\n    }\n\n    for (const k of Object.keys(oStyle)) {\n      css.removeProperty(k);\n    }\n\n    return;\n  }\n\n  if (typeof style === 'string') {\n    if (style !== typeof oStyle) {\n      css.cssText = style;\n    }\n\n    return;\n  }\n\n  if (!oStyle || typeof oStyle === 'string') {\n    if (typeof oStyle === 'string') {\n      css.cssText = '';\n    }\n\n    for (const k of Object.keys(style)) {\n      css.setProperty(k, ...style[k]);\n    }\n\n    return;\n  }\n\n  for (const k of Object.keys(style)) {\n    const v = style[k];\n\n    if (!oStyle[k] || oStyle[k][0] !== v[0] || oStyle[k][1] !== v[1]) {\n      css.setProperty(k, ...v);\n    }\n  }\n\n  for (const k of Object.keys(oStyle)) {\n    if (!style[k]) {\n      css.removeProperty(k);\n    }\n  }\n}\n\nconst PropsMap$2 = new WeakMap();\nfunction updateStyle(props, el, css, hasStyle) {\n  if (!hasStyle) {\n    return undefined;\n  }\n\n  const old = PropsMap$2.get(el);\n  const style = getStyle(isValue(props.style) ? props.style() : props.style);\n  update$1(css, style, old);\n  PropsMap$2.set(el, style);\n  return style;\n}\n\nfunction setAttrs(el, attrs) {\n  if (el instanceof HTMLInputElement && 'checked' in attrs) {\n    switch (el.type.toLowerCase()) {\n      case 'checkbox':\n      case 'radio':\n        if (attrs.checked !== null !== el.checked) {\n          el.checked = attrs.checked !== null;\n        }\n\n    }\n  }\n\n  if ((el instanceof HTMLSelectElement || el instanceof HTMLInputElement || el instanceof HTMLTextAreaElement) && 'value' in attrs) {\n    const value = attrs.value || '';\n\n    if (el.value !== value) {\n      el.value = value;\n    }\n  }\n\n  if (el instanceof HTMLDetailsElement && 'open' in attrs) {\n    const value = attrs.open !== null;\n\n    if (el.open !== value) {\n      el.open = value;\n    }\n  }\n\n  if (el instanceof HTMLMediaElement) {\n    if ('muted' in attrs) {\n      const value = attrs.muted !== null;\n\n      if (el.muted !== value) {\n        el.muted = value;\n      }\n    }\n\n    if ('paused' in attrs) {\n      const value = attrs.paused !== null;\n\n      if (el.paused !== value) {\n        if (value) {\n          el.pause();\n        } else {\n          el.play();\n        }\n      }\n    }\n\n    if ('currentTime' in attrs) {\n      const value = attrs.currentTime;\n\n      if (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n        const num = Number(value);\n\n        if (el.currentTime !== num) {\n          el.currentTime = num;\n        }\n      }\n    }\n\n    if ('playbackRate' in attrs) {\n      const value = attrs.playbackRate;\n\n      if (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n        const num = Number(value);\n\n        if (el.playbackRate !== num) {\n          el.playbackRate = num;\n        }\n      }\n    }\n\n    if ('volume' in attrs) {\n      const value = attrs.volume;\n\n      if (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n        const num = Number(value);\n\n        if (el.volume !== num) {\n          el.volume = num;\n        }\n      }\n    }\n  }\n}\n\nfunction stringify(data, isOn = false) {\n  if (data === undefined || data === null) {\n    return data;\n  }\n\n  if (isOn && typeof data === 'function') {\n    return undefined;\n  }\n\n  if (typeof data === 'boolean') {\n    return data ? '' : null;\n  }\n\n  if (typeof data !== 'object') {\n    return String(data);\n  }\n\n  if (data instanceof Date) {\n    return data.toISOString();\n  }\n\n  if (data instanceof RegExp) {\n    return data.toString();\n  }\n\n  return JSON.stringify(data);\n}\n\nfunction getAttrs(props, hasStyle) {\n  const attrs = Object.create(null);\n\n  for (const k in props) {\n    if (/^(n|on|bind|slot)[:-]/.test(k)) {\n      continue;\n    }\n\n    if (!/^[a-zA-Z:_][a-zA-Z0-9:_-]*$/.test(k)) {\n      continue;\n    }\n\n    const name = k.toLowerCase();\n\n    switch (name) {\n      case 'style':\n        if (!hasStyle) {\n          break;\n        }\n\n      case 'ref':\n      case 'is':\n      case 'id':\n      case 'class':\n        continue;\n    }\n\n    let data = props[k];\n\n    if (isValue(data)) {\n      data = data();\n    }\n\n    const value = stringify(data, name.substr(0, 2) === 'on');\n\n    if (value !== undefined) {\n      attrs[name] = value;\n    }\n  }\n\n  return attrs;\n}\n\nfunction update$2(el, attrs, old) {\n  for (const k of Object.keys(attrs)) {\n    const v = attrs[k];\n\n    if (!(k in old) || old[k] !== v) {\n      if (v === null) {\n        el.removeAttribute(k);\n      } else {\n        el.setAttribute(k, v);\n      }\n    }\n  }\n\n  for (const k of Object.keys(old)) {\n    if (!(k in attrs)) {\n      el.removeAttribute(k);\n    }\n  }\n}\n\nconst PropsMap$3 = new WeakMap();\nfunction updateAttrs(props, el, hasStyle) {\n  const old = PropsMap$3.get(el) || {};\n  const attrs = getAttrs(props, hasStyle);\n  update$2(el, attrs, old);\n  setAttrs(el, attrs);\n  PropsMap$3.set(el, attrs);\n}\n\nfunction* getElementModel(el) {\n  if (el instanceof HTMLInputElement) {\n    switch (el.type.toLowerCase()) {\n      case 'checkbox':\n        yield ['indeterminate', 'change', e => e.currentTarget.indeterminate];\n        return yield ['checked', 'change', e => e.currentTarget.checked];\n\n      case 'radio':\n        return yield ['checked', 'change', e => e.currentTarget.checked];\n    }\n\n    return yield ['value', 'input', e => e.currentTarget.value];\n  }\n\n  if (el instanceof HTMLTextAreaElement) {\n    return yield ['value', 'input', e => e.currentTarget.value];\n  }\n\n  if (el instanceof HTMLSelectElement) {\n    return yield ['value', 'change', e => e.currentTarget.value];\n  }\n\n  if (el instanceof HTMLDetailsElement) {\n    return yield ['open', 'toggle', e => e.currentTarget.open];\n  }\n\n  if (el instanceof HTMLMediaElement) {\n    yield ['currentTime', 'timeupdate', e => e.currentTarget.currentTime];\n    yield ['playbackRate', 'ratechange', e => e.currentTarget.playbackRate];\n    yield ['volume', 'volumechange', e => e.currentTarget.volume];\n    yield ['muted', 'volumechange', e => e.currentTarget.muted];\n    yield ['paused', 'playing', e => e.currentTarget.paused];\n    return yield ['paused', 'pause', e => e.currentTarget.paused];\n  }\n}\n\nconst ValueEventMap = new WeakMap();\n\nfunction getValueEventBind(el) {\n  let list = ValueEventMap.get(el);\n\n  if (list) {\n    return list;\n  }\n\n  list = Object.create(null);\n  ValueEventMap.set(el, list);\n  return list;\n}\n\nconst bindMap = new WeakMap();\n\nfunction getEventBind(el) {\n  let list = bindMap.get(el);\n\n  if (list) {\n    return list;\n  }\n\n  list = Object.create(null);\n  bindMap.set(el, list);\n  return list;\n}\n\nfunction updateEvent(props, el, emit) {\n  const valueEventMap = getValueEventBind(el);\n\n  for (const [prop, name, t] of getElementModel(el)) {\n    const value = props[prop];\n    const item = valueEventMap[prop];\n\n    if (item && item[0] === value) {\n      continue;\n    }\n\n    if (item) {\n      item[1]();\n    }\n\n    if (!isValue(value)) {\n      continue;\n    }\n\n    const f = e => {\n      value(t(e));\n    };\n\n    el.addEventListener(name, f);\n    valueEventMap[name] = [value, () => el.removeEventListener(name, f)];\n  }\n\n  const names = new Set(emit.names.map(String));\n  const eventBind = getEventBind(el);\n\n  for (const k of Object.keys(eventBind)) {\n    if (names.has(k)) {\n      continue;\n    }\n\n    eventBind[k]();\n    delete eventBind[k];\n  }\n\n  for (const k of names) {\n    if (k in eventBind) {\n      continue;\n    }\n\n    const f = p => emit(k, p);\n\n    el.addEventListener(k, f);\n\n    eventBind[k] = () => {\n      el.removeEventListener(k, f);\n    };\n  }\n}\n\nfunction updateProps(renderer, el, props, emit) {\n  const css = el.style;\n  const hasStyle = css instanceof CSSStyleDeclaration;\n  updateId(props, el);\n  updateClass(props, el);\n  updateAttrs(props, el, hasStyle);\n  updateStyle(props, el, css, hasStyle);\n  updateEvent(props, el, emit);\n  return el;\n}\n\nfunction nextFrame(f) {\n  window.requestAnimationFrame(f);\n}\n\nfunction getTarget(renderer, container, target, parent) {\n  if (isValue(target)) {\n    target = target.value;\n  }\n\n  if (target === null) {\n    return {\n      target: container,\n      insert: null,\n      next: null\n    };\n  }\n\n  if (typeof target === 'string') {\n    target = document.querySelector(target);\n  }\n\n  if (target instanceof Element) {\n    return {\n      target,\n      insert: null,\n      next: null\n    };\n  }\n\n  return {\n    target: null,\n    insert: null,\n    next: null\n  };\n}\n\nfunction mountContainer(renderer, element, {\n  target: targetProps,\n  ...props\n}, emit, parent) {\n  const container = createElement('div');\n  updateProps(renderer, container, (element === null || element === void 0 ? void 0 : element.props) || props, emit);\n  return { ...getTarget(renderer, container, targetProps),\n    container,\n    exposed: null\n  };\n}\n\nfunction unmountContainer(renderer, container, node) {\n  if (node === null) {\n    container.remove();\n  }\n}\n\nfunction updateContainer(renderer, container, element, {\n  target,\n  ...props\n}, emit, parent) {\n  updateProps(renderer, container, (element === null || element === void 0 ? void 0 : element.props) || props, emit);\n  return getTarget(renderer, container, target);\n}\n\nfunction removeNode(renderer, node) {\n  const p = renderer.getParent(node);\n\n  if (!p) {\n    return;\n  }\n\n  p.removeChild(node);\n}\n\nfunction getContainer(renderer, container, target, next) {\n  if (typeof target === 'string') {\n    target = document.querySelector(target);\n  }\n\n  if (target === null) {\n    return [null, null];\n  }\n\n  if (!(target instanceof Element)) {\n    target = document.body;\n  }\n\n  if (typeof next === 'string') {\n    next = document.querySelector(next);\n  }\n\n  if (!(next instanceof Element) || next.parentElement !== target) {\n    next = null;\n  }\n\n  return [target, next];\n}\n\nconst renderer = {\n  type: 'html',\n  nextFrame,\n\n  isNode(v) {\n    return v instanceof Node;\n  },\n\n  getContainer(container, target, next) {\n    return getContainer(this, container, target, next);\n  },\n\n  mountContainer(data, props, emit, parent) {\n    return mountContainer(this, data, props, emit);\n  },\n\n  updateContainer(container, target, insert, next, data, props, emit, parent) {\n    return updateContainer(this, container, data, props, emit);\n  },\n\n  recoveryContainer() {},\n\n  unmountContainer(container, data, props, parent) {\n    return unmountContainer(this, container, data);\n  },\n\n  getMountOptions() {},\n\n  createElement(data) {\n    if (!data || typeof data !== 'string') {\n      return null;\n    }\n\n    return createElement(data);\n  },\n\n  createText(text) {\n    return createText(text);\n  },\n\n  createPlaceholder() {\n    return createPlaceholder();\n  },\n\n  createComponent() {\n    return createComponent();\n  },\n\n  getParent(node) {\n    return getParent(node);\n  },\n\n  nextNode(node) {\n    return node.nextSibling;\n  },\n\n  updateProps(node, data, props, emit) {\n    updateProps(this, node, props, emit);\n  },\n\n  insertNode(parent, node, next = null) {\n    return insertNode(parent, node, next);\n  },\n\n  removeNode(node) {\n    return removeNode(this, node);\n  }\n\n};\n\nlet Container;\nfunction initContainer() {\n  Container = createContainerComponent(createElement$1(''), {\n    renderer,\n    name: '[HTML]'\n  });\n}\n\nfunction init() {\n  initContainer();\n}\n\nfunction install(Neep) {}\ninstallNeep(renderer);\ninit();\n\n\n\nvar NeepHtmlRender = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\trenderer: renderer,\n\tinstall: install,\n\tget Container () { return Container; }\n});\n\nexport default NeepHtmlRender;\nexport { Container, install, renderer };\n","/*!\n * NeepDevtools v0.1.0-alpha.9\n * (c) 2019-2021 Fierflame\n * @license MIT\n */\nimport Neep, { install as install$2, value, createElementBase, Slot, createTemplateElement, getNode, Render, isProxy, isContainerComponent, isSimpleComponent, isDeliverComponent, nameSymbol, encase, createRenderElement, isValue, asValue, render as render$1 } from '@neep/core';\n\nlet Type;\n\n(function (Type) {\n  Type[\"tag\"] = \"tag\";\n  Type[\"placeholder\"] = \"placeholder\";\n  Type[\"standard\"] = \"standard\";\n  Type[\"simple\"] = \"simple\";\n  Type[\"native\"] = \"native\";\n  Type[\"container\"] = \"container\";\n  Type[\"special\"] = \"special\";\n  Type[\"deliver\"] = \"deliver\";\n})(Type || (Type = {}));\n\nfunction install() {\n  return install$2;\n}\n\nconst Deliver = Neep.createDeliverComponent({\n  keys: {},\n  selected: value(-1),\n  options: {}\n});\n\nfunction NodeTag({\n  proxy,\n  key,\n  switchOpen,\n  opened,\n  setSelected,\n  selected\n}) {\n  const childNodes = opened ? getChildTree(proxy) : [];\n  const hasChildNodes = Boolean(opened && childNodes.length);\n  return createElementBase('div', {\n    style: `\n\t\t\tposition: relative;\n\t\t\tmin-height: 20px;\n\t\t\tfont-size: 14px;\n\t\t\tline-height: 20px;\n\t\t\tpadding-left: 20px;\n\t\t\tbackground: ${selected ? '#CCC' : ''};\n\t\t`\n  }, createElementBase('div', {\n    style: `\n\t\t\tposition: absolute;\n\t\t\tleft: 0;\n\t\t\ttop: 0;\n\t\t\twidth: 20px;\n\t\t\theight: 20px;\n\t\t\ttext-align: center;\n\t\t\tcursor: pointer;\n\t\t\tbackground: #DDD;\n\t\t\t`,\n    'on:click': switchOpen\n  }, opened ? '-' : '+'), createElementBase('div', {\n    'on:click': setSelected\n  }, '<', createElementBase(Slot), getKey(key), '>', !hasChildNodes && createTemplateElement(opened ? createElementBase('span') : createElementBase('span', null, '...'), '</', createElementBase(Slot), '>')), hasChildNodes && createTemplateElement(createElementBase('div', {\n    style: 'padding-left: 20px'\n  }, childNodes), createElementBase('div', {\n    'on-click': setSelected\n  }, '</', createElementBase(Slot), '>')));\n}\n\nfunction ValueTag({\n  proxy,\n  switchOpen,\n  opened,\n  setSelected,\n  selected\n}) {\n  const {\n    text\n  } = proxy;\n  const childNodes = opened ? typeof text === 'string' ? [text] : getChildTree(proxy) : [];\n  const hasChildNodes = Boolean(opened && childNodes.length);\n  return createElementBase('div', {\n    style: `\n\t\t\t\tposition: relative;\n\t\t\t\tmin-height: 20px;\n\t\t\t\tfont-size: 14px;\n\t\t\t\tline-height: 20px;\n\t\t\t\tpadding-left: 20px;\n\t\t\t\tbackground: ${selected ? '#CCC' : ''};\n\t\t\t`\n  }, createElementBase('div', {\n    style: 'position: absolute; left: 0; top: 0; width: 20px; height: 20px; text-align: center; cursor: pointer; background: #DDD;',\n    'on:click': switchOpen\n  }, opened ? '-' : '+'), createElementBase('div', {\n    'on:click': setSelected\n  }, createElementBase('span', {\n    style: 'font-style: italic;font-weight: bold;'\n  }, '[Value]'), !hasChildNodes && createTemplateElement(opened ? createElementBase('span') : createElementBase('span', null, '...'), createElementBase('span', {\n    style: 'font-style: italic;font-weight: bold;'\n  }, '[/Value]'))), hasChildNodes && createTemplateElement(createElementBase('div', {\n    style: 'padding-left: 20px'\n  }, childNodes), createElementBase('div', {\n    'on:click': setSelected,\n    style: 'font-style: italic; font-weight: bold;'\n  }, '[/Value]')));\n}\n\nfunction getType(proxy) {\n  if (isProxy(proxy, 'component')) {\n    return '';\n  }\n\n  if (isProxy(proxy, 'container')) {\n    return 'container';\n  }\n\n  if (isProxy(proxy, 'deliver')) {\n    return 'deliver';\n  }\n\n  if (isProxy(proxy, 'element')) {\n    return 'native';\n  }\n\n  if (isProxy(proxy, 'shell')) {\n    return 'shell';\n  }\n\n  if (isProxy(proxy, 'slot')) {\n    return 'scopeSlot';\n  }\n\n  if (isSimpleComponent(proxy.tag)) {\n    return 'simple';\n  }\n\n  if (isProxy(proxy, 'group')) {\n    return 'group';\n  }\n\n  return null;\n}\n\nconst render = Neep.createRenderComponent(({\n  tagId,\n  keys,\n  selected,\n  setSelected,\n  switchOpen,\n  options\n}) => {\n  const el = getNode(tagId);\n\n  if (!el) {\n    return null;\n  }\n\n  const selectedThis = selected.value === tagId;\n\n  if (!el.proxy && !el.tag) {\n    if (!options.placeholder) {\n      return null;\n    }\n\n    return createElementBase('span', {\n      'on:click': setSelected,\n      style: `font-weight: bold; background: ${selectedThis ? '#CCC' : ''};`\n    }, '[', el.tag === null ? 'Placeholder' : 'Native', ']');\n  }\n\n  const {\n    proxy,\n    tag\n  } = el;\n\n  if (tag === Render) {\n    if (!options.slotRender) {\n      return null;\n    }\n\n    return createElementBase('div', {\n      'on:click': setSelected,\n      key: tagId,\n      style: `\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tmin-height: 20px;\n\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\tline-height: 20px;\n\t\t\t\t\tbackground: ${selectedThis ? '#CCC' : ''};\n\t\t\t\t`\n    }, '<', createElementBase('span', {\n      style: 'font-style: italic;'\n    }, 'Render'), getKey(el.key), '/>');\n  }\n\n  if (isProxy(proxy, 'value')) {\n    if (!proxy.isValue) {\n      const {\n        text\n      } = proxy;\n\n      if (typeof text !== 'string') {\n        return createTemplateElement(getChildTree(proxy));\n      }\n\n      if (!options.value) {\n        return null;\n      }\n\n      return createTemplateElement(text);\n    }\n\n    if (!options.value) {\n      if (typeof proxy.text === 'string') {\n        return null;\n      }\n\n      return createTemplateElement(getChildTree(proxy));\n    }\n\n    return createElementBase(ValueTag, {\n      opened: keys[tagId],\n      selected: selectedThis,\n      setSelected: setSelected,\n      proxy: proxy,\n      switchOpen: switchOpen\n    });\n  }\n\n  const type = getType(proxy);\n\n  if (type === null) {\n    return null;\n  }\n\n  if (type && !options[type]) {\n    return createTemplateElement(getChildTree(proxy));\n  }\n\n  let tagName = null;\n\n  switch (type) {\n    case '':\n      tagName = createElementBase('span', {\n        style: 'font-weight: bold;'\n      }, getTagName(tag));\n      break;\n\n    case 'container':\n      if (isContainerComponent(tag)) {\n        tagName = createElementBase('span', {\n          style: 'font-style: italic;font-weight: bold;'\n        }, getTagName(tag));\n      } else {\n        tagName = createElementBase('span', {\n          style: 'font-style: italic;'\n        }, 'Container');\n      }\n\n      break;\n\n    case 'deliver':\n      tagName = createElementBase('span', {\n        style: 'font-style: italic;'\n      }, 'Deliver');\n      break;\n\n    case 'scopeSlot':\n      tagName = createElementBase('span', {\n        style: 'font-style: italic;'\n      }, 'ScopeSlot');\n      break;\n\n    case 'group':\n      tagName = createElementBase('span', {\n        style: 'font-style: italic;'\n      }, 'Template');\n      break;\n\n    case 'native':\n      tagName = getTagName(tag);\n      break;\n\n    case 'shell':\n      tagName = createElementBase('span', {\n        style: 'text-decoration: underline;font-weight: bold;'\n      }, getTagName(tag));\n      break;\n\n    case 'simple':\n      tagName = createElementBase('span', {\n        style: 'text-decoration: line-through;font-weight: bold;'\n      }, getTagName(tag));\n      break;\n  }\n\n  return createElementBase(NodeTag, {\n    key: el.key,\n    opened: keys[tagId],\n    selected: selectedThis,\n    setSelected: setSelected,\n    proxy: proxy,\n    switchOpen: switchOpen\n  }, tagName);\n});\nfunction TreeNode({\n  tagId\n}, {\n  delivered\n}) {\n  const {\n    keys,\n    selected,\n    options\n  } = delivered(Deliver);\n\n  function setSelected() {\n    selected.value = selected.value === tagId ? -1 : tagId;\n  }\n\n  function switchOpen() {\n    keys[tagId] = !keys[tagId];\n  }\n\n  return render({\n    keys,\n    selected,\n    tagId,\n    setSelected,\n    switchOpen,\n    options\n  });\n}\n\nfunction getKey(key) {\n  if (typeof key === 'string') {\n    return ` key=${JSON.stringify(key)}`;\n  }\n\n  if (typeof key === 'number') {\n    return ` key=${key}`;\n  }\n\n  if (typeof key === 'boolean') {\n    return ` key=${key}`;\n  }\n\n  if (typeof key === 'bigint') {\n    return ` key=${key}`;\n  }\n\n  if (typeof key === 'symbol') {\n    return ` key=${String(key)}`;\n  }\n\n  if (key === null) {\n    return ` key=${key}`;\n  }\n\n  if (key !== undefined) {\n    return ` key=${String(key)}`;\n  }\n}\nfunction getChildTree(proxy) {\n  const childNodes = proxy.content.flat(Infinity).map(t => createElementBase(TreeNode, {\n    'n:key': t.id,\n    tagId: t.id\n  }));\n  return childNodes;\n}\nfunction getTagName(tag) {\n  if (!tag) {\n    return '';\n  }\n\n  if (typeof tag === 'string') {\n    return tag;\n  }\n\n  if (isDeliverComponent(tag)) {\n    return 'Deliver';\n  }\n\n  return tag[nameSymbol] || tag.name;\n}\n\nvar Tree = (props => {\n  const value = {\n    keys: encase({}),\n    options: props.options,\n    selected: props.selected\n  };\n  return createRenderElement(() => createElementBase(Deliver, {\n    value: value\n  }, getChildTree(props.container)));\n});\n\nfunction getKeyValue(key) {\n  if (typeof key === 'string') {\n    return JSON.stringify(key);\n  }\n\n  if (typeof key === 'number') {\n    return `${key}`;\n  }\n\n  if (typeof key === 'boolean') {\n    return `${key}`;\n  }\n\n  if (typeof key === 'bigint') {\n    return `${key}`;\n  }\n\n  if (typeof key === 'symbol') {\n    return `${String(key)}`;\n  }\n\n  if (key === null) {\n    return `${key}`;\n  }\n\n  if (key !== undefined) {\n    return `${String(key)}`;\n  }\n}\nfunction getValue(value) {\n  const type = typeof value;\n\n  if (type === 'function') {\n    return createElementBase('span', {\n      style: 'font-weight: bold;'\n    }, '[Function]');\n  }\n\n  if (type === 'string') {\n    return createElementBase('span', null, value);\n  }\n\n  if (type === 'bigint' || type === 'boolean' || type === 'number' || type === 'symbol' || type === 'undefined' || value === null) {\n    return createElementBase('span', {\n      style: 'font-style: italic;'\n    }, String(value));\n  } else if (value instanceof RegExp) {\n    return createElementBase('span', {\n      style: 'font-weight: bold;'\n    }, String(value));\n  } else if (value instanceof Date) {\n    return createElementBase('span', {\n      style: 'font-weight: bold;'\n    }, value.toISOString());\n  } else if (type === 'object') {\n    return createElementBase('span', {\n      style: 'font-style: italic;'\n    }, String(value));\n  }\n\n  return null;\n}\n\nfunction Prop ({\n  props,\n  key\n}) {\n  let p = props[key];\n  let propIsValue = false;\n\n  if (isValue(p)) {\n    propIsValue = true;\n    p = p();\n  }\n\n  return createElementBase('div', null, key, ': ', propIsValue && createElementBase('span', {\n    style: 'font-weight: bold;'\n  }, '[Value: '), getValue(p), propIsValue && createElementBase('span', {\n    style: 'font-weight: bold;'\n  }, ' ]'));\n}\n\nfunction Attr({\n  selected\n}) {\n  const element = getNode(selected.value);\n\n  if (!element) {\n    return createElementBase('temlpate');\n  }\n\n  const {\n    props = {}\n  } = element;\n  return createElementBase('div', null, createElementBase('div', null, 'key:', getKeyValue(element.key)), createElementBase('div', null, '属性: '), Object.keys(props).map(k => createElementBase(Prop, {\n    'n:key': k,\n    'key': k,\n    props\n  })));\n}\n\nfunction Settings (props) {\n  const options = asValue(props.options);\n  const value = options('value');\n  const tag = options('tag');\n  const placeholder = options('placeholder');\n  const simple = options('simple');\n  const container = options('container');\n  const scopeSlot = options('scopeSlot');\n  const slotRender = options('slotRender');\n  const deliver = options('deliver');\n  const native = options('native');\n  const group = options('group');\n  const shell = options('shell');\n  return createElementBase('div', null, createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: value\n  }), 'value'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: tag\n  }), 'tag'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: placeholder\n  }), 'placeholder'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: simple\n  }), 'simple'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: container\n  }), 'container'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: scopeSlot\n  }), 'scopeSlot'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: slotRender\n  }), 'slotRender'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: deliver\n  }), 'deliver'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: native\n  }), 'native'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: group\n  }), 'group'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: shell\n  }), 'shell'));\n}\n\nfunction DefaultContainer(props) {\n  return createElementBase('template', null, createElementBase(Slot, {\n    name: 'settings'\n  }), createElementBase(Slot, {\n    name: 'tree'\n  }), createElementBase(Slot, {\n    name: 'attr'\n  }));\n}\n\nlet currentContainer = DefaultContainer;\nfunction setContainer(container) {\n  currentContainer = typeof container === 'function' ? container : DefaultContainer;\n}\n\nlet creating = false;\nfunction renderHook(rootEntity, container) {\n  if (creating) {\n    return;\n  }\n\n  rootEntity.setHook('mounted', () => {\n    creating = true;\n\n    try {\n      const options = encase({});\n      const selected = value(-1);\n      render$1(createElementBase(currentContainer, {\n        options\n      }, createElementBase(Tree, {\n        'n:slot': 'tree',\n        container,\n        options,\n        selected\n      }), createElementBase(Settings, {\n        'n:slot': 'settings',\n        options\n      }), createElementBase(Attr, {\n        'n:slot': 'attr',\n        selected\n      }))).mount();\n    } finally {\n      creating = false;\n    }\n  });\n}\n\nconst devtools = {\n  renderHook\n};\n\ninstall()({\n  devtools\n});\nfunction install$1(Neep) {}\n\n\n\nvar NeepDevtools = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tinstall: install$1,\n\tsetContainer: setContainer,\n\tget Type () { return Type; }\n});\n\nexport default NeepDevtools;\nexport { Type, install$1 as install, setContainer };\n","export {\n\tvalue,\n\tisValue,\n\tregister,\n\tError,\n\tlabel,\n\tcreateElementBase,\n\tcreateShellComponent,\n\tcreateDeliverComponent,\n\taddContextConstructor,\n} from '@neep/core';\n\n\nexport default function installNeep(Neep: typeof import ('@neep/core').default) {\n}\n","import Neep from '@neep/core';\nimport { createDeliverComponent } from './neep';\nimport Router from '../Router';\n\nexport interface RouterDeliver {\n\trouter: Router;\n\tdepth: number;\n}\nexport let RouterDeliver: Neep.DeliverComponent<RouterDeliver | undefined>;\n\nexport default function initDelivers() {\n\tRouterDeliver = createDeliverComponent<RouterDeliver>();\n}\n","import Neep from '@neep/core';\nimport { createShellComponent, createElementBase, label } from './install/neep';\nimport Router from './Router';\nimport { RouterDeliver } from './install/initDelivers';\nimport { ViewProps } from './type';\n\n\nfunction getDepth(\n\trouter: Router,\n\tdef: number,\n\tdepthProp: number | undefined,\n) {\n\tif (typeof depthProp === 'number' && Number.isInteger(depthProp)) {\n\t\tif (depthProp < 0) {\n\t\t\treturn router.size + depthProp;\n\t\t}\n\t\treturn depthProp;\n\t}\n\treturn def;\n}\nfunction get(props: ViewProps, { delivered }: Neep.ShellContext<any>): RouterDeliver | null {\n\tif (props.router instanceof Router) {\n\t\tconst router = props.router;\n\t\tif (!(router instanceof Router)) { return null; }\n\t\tlet depth = getDepth(router, 0, props.depth);\n\t\tif (depth < 0) { return null; }\n\t\treturn { router, depth};\n\t}\n\tconst routerDeliver = delivered(RouterDeliver);\n\tif (!routerDeliver) { return null; }\n\tconst router = routerDeliver.router;\n\tlet depth = getDepth(router, routerDeliver.depth + 1, props.depth);\n\tif (depth < 0) { return null; }\n\treturn { router, depth };\n\n}\nexport default createShellComponent<ViewProps, any>(function RouterView(\n\tprops,\n\tcontext,\n) {\n\tconst info = get(props, context);\n\tif (!info) { return null; }\n\tconst {router} = info;\n\tlet {depth} = info;\n\n\tconst name = props.name || 'default';\n\tfor(let match = router._get(depth); match; match = router._get(++depth)) {\n\t\tconst { components } = match.route;\n\t\tif (!components) { continue; }\n\t\tconst component = name in components ? components[name] : undefined;\n\t\tif (!component) { continue; }\n\t\tlabel({text: `{path=${match.path}}[${name}]`, color: '#987654'});\n\t\treturn createElementBase(\n\t\t\tRouterDeliver,\n\t\t\t{ value: { depth, router }},\n\t\t\tcreateElementBase(component, props),\n\t\t);\n\t}\n\treturn context.childNodes as any;\n}, { name: 'RouterView'});\n","import { LinkProps } from './type';\nimport { createElementBase, createShellComponent } from './install/neep';\n\n\nexport default createShellComponent<LinkProps, any>(function RouterLink(props, context) {\n\tconst { route, childNodes } = context;\n\tif (!route) { return createElementBase('template', {}, ...childNodes); }\n\tlet {to, append, replace, path, search, hash, query, alias, params} = props;\n\tif (!to) {\n\t\tto = { path, search, hash, query, alias, params };\n\t} else if (typeof to === 'string') {\n\t\tto = { path: to };\n\t}\n\tif (append) {\n\t\tto.append = true;\n\t}\n\tfunction onclick() {\n\t\tif (!route || !to) { return; }\n\t\tif (replace) {\n\t\t\troute.replace(to);\n\t\t} else {\n\t\t\troute.push(to);\n\t\t}\n\t}\n\treturn route.router\n\t\t.history?.link({...props, to}, context, onclick)\n\t\t|| createElementBase('span', {'on:click': onclick}, ...childNodes);\n\n}, {name: 'RouterLink'});\n","export function cleanPath(path: string) {\n\tpath = `/${path}`.replace(/\\/+(\\/|$)/g, '$1');\n\twhile(/[^/]+\\/\\.{2,}(\\/|$)/.test(path)) {\n\t\tpath = path.replace(/\\/[^/]+\\/\\.(\\.+(?:\\/|$))/g, '/$1');\n\t}\n\tpath = path.replace(/\\/\\.+(\\/|$)/g, '$1');\n\treturn path || '/';\n}\n","/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n    var tokens = [];\n    var i = 0;\n    while (i < str.length) {\n        var char = str[i];\n        if (char === \"*\" || char === \"+\" || char === \"?\") {\n            tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"\\\\\") {\n            tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n            continue;\n        }\n        if (char === \"{\") {\n            tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"}\") {\n            tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \":\") {\n            var name = \"\";\n            var j = i + 1;\n            while (j < str.length) {\n                var code = str.charCodeAt(j);\n                if (\n                // `0-9`\n                (code >= 48 && code <= 57) ||\n                    // `A-Z`\n                    (code >= 65 && code <= 90) ||\n                    // `a-z`\n                    (code >= 97 && code <= 122) ||\n                    // `_`\n                    code === 95) {\n                    name += str[j++];\n                    continue;\n                }\n                break;\n            }\n            if (!name)\n                throw new TypeError(\"Missing parameter name at \" + i);\n            tokens.push({ type: \"NAME\", index: i, value: name });\n            i = j;\n            continue;\n        }\n        if (char === \"(\") {\n            var count = 1;\n            var pattern = \"\";\n            var j = i + 1;\n            if (str[j] === \"?\") {\n                throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \" + j);\n            }\n            while (j < str.length) {\n                if (str[j] === \"\\\\\") {\n                    pattern += str[j++] + str[j++];\n                    continue;\n                }\n                if (str[j] === \")\") {\n                    count--;\n                    if (count === 0) {\n                        j++;\n                        break;\n                    }\n                }\n                else if (str[j] === \"(\") {\n                    count++;\n                    if (str[j + 1] !== \"?\") {\n                        throw new TypeError(\"Capturing groups are not allowed at \" + j);\n                    }\n                }\n                pattern += str[j++];\n            }\n            if (count)\n                throw new TypeError(\"Unbalanced pattern at \" + i);\n            if (!pattern)\n                throw new TypeError(\"Missing pattern at \" + i);\n            tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n            i = j;\n            continue;\n        }\n        tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n    }\n    tokens.push({ type: \"END\", index: i, value: \"\" });\n    return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str, options) {\n    if (options === void 0) { options = {}; }\n    var tokens = lexer(str);\n    var _a = options.prefixes, prefixes = _a === void 0 ? \"./\" : _a;\n    var defaultPattern = \"[^\" + escapeString(options.delimiter || \"/#?\") + \"]+?\";\n    var result = [];\n    var key = 0;\n    var i = 0;\n    var path = \"\";\n    var tryConsume = function (type) {\n        if (i < tokens.length && tokens[i].type === type)\n            return tokens[i++].value;\n    };\n    var mustConsume = function (type) {\n        var value = tryConsume(type);\n        if (value !== undefined)\n            return value;\n        var _a = tokens[i], nextType = _a.type, index = _a.index;\n        throw new TypeError(\"Unexpected \" + nextType + \" at \" + index + \", expected \" + type);\n    };\n    var consumeText = function () {\n        var result = \"\";\n        var value;\n        // tslint:disable-next-line\n        while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n            result += value;\n        }\n        return result;\n    };\n    while (i < tokens.length) {\n        var char = tryConsume(\"CHAR\");\n        var name = tryConsume(\"NAME\");\n        var pattern = tryConsume(\"PATTERN\");\n        if (name || pattern) {\n            var prefix = char || \"\";\n            if (prefixes.indexOf(prefix) === -1) {\n                path += prefix;\n                prefix = \"\";\n            }\n            if (path) {\n                result.push(path);\n                path = \"\";\n            }\n            result.push({\n                name: name || key++,\n                prefix: prefix,\n                suffix: \"\",\n                pattern: pattern || defaultPattern,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        var value = char || tryConsume(\"ESCAPED_CHAR\");\n        if (value) {\n            path += value;\n            continue;\n        }\n        if (path) {\n            result.push(path);\n            path = \"\";\n        }\n        var open = tryConsume(\"OPEN\");\n        if (open) {\n            var prefix = consumeText();\n            var name_1 = tryConsume(\"NAME\") || \"\";\n            var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n            var suffix = consumeText();\n            mustConsume(\"CLOSE\");\n            result.push({\n                name: name_1 || (pattern_1 ? key++ : \"\"),\n                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n                prefix: prefix,\n                suffix: suffix,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        mustConsume(\"END\");\n    }\n    return result;\n}\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile(str, options) {\n    return tokensToFunction(parse(str, options), options);\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction(tokens, options) {\n    if (options === void 0) { options = {}; }\n    var reFlags = flags(options);\n    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;\n    // Compile all the tokens into regexps.\n    var matches = tokens.map(function (token) {\n        if (typeof token === \"object\") {\n            return new RegExp(\"^(?:\" + token.pattern + \")$\", reFlags);\n        }\n    });\n    return function (data) {\n        var path = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (typeof token === \"string\") {\n                path += token;\n                continue;\n            }\n            var value = data ? data[token.name] : undefined;\n            var optional = token.modifier === \"?\" || token.modifier === \"*\";\n            var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n            if (Array.isArray(value)) {\n                if (!repeat) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not repeat, but got an array\");\n                }\n                if (value.length === 0) {\n                    if (optional)\n                        continue;\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not be empty\");\n                }\n                for (var j = 0; j < value.length; j++) {\n                    var segment = encode(value[j], token);\n                    if (validate && !matches[i].test(segment)) {\n                        throw new TypeError(\"Expected all \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                    }\n                    path += token.prefix + segment + token.suffix;\n                }\n                continue;\n            }\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                var segment = encode(String(value), token);\n                if (validate && !matches[i].test(segment)) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                }\n                path += token.prefix + segment + token.suffix;\n                continue;\n            }\n            if (optional)\n                continue;\n            var typeOfMessage = repeat ? \"an array\" : \"a string\";\n            throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to be \" + typeOfMessage);\n        }\n        return path;\n    };\n}\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match(str, options) {\n    var keys = [];\n    var re = pathToRegexp(str, keys, options);\n    return regexpToFunction(re, keys, options);\n}\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction(re, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.decode, decode = _a === void 0 ? function (x) { return x; } : _a;\n    return function (pathname) {\n        var m = re.exec(pathname);\n        if (!m)\n            return false;\n        var path = m[0], index = m.index;\n        var params = Object.create(null);\n        var _loop_1 = function (i) {\n            // tslint:disable-next-line\n            if (m[i] === undefined)\n                return \"continue\";\n            var key = keys[i - 1];\n            if (key.modifier === \"*\" || key.modifier === \"+\") {\n                params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {\n                    return decode(value, key);\n                });\n            }\n            else {\n                params[key.name] = decode(m[i], key);\n            }\n        };\n        for (var i = 1; i < m.length; i++) {\n            _loop_1(i);\n        }\n        return { path: path, index: index, params: params };\n    };\n}\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options) {\n    return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path, keys) {\n    if (!keys)\n        return path;\n    var groupsRegex = /\\((?:\\?<(.*?)>)?(?!\\?)/g;\n    var index = 0;\n    var execResult = groupsRegex.exec(path.source);\n    while (execResult) {\n        keys.push({\n            // Use parenthesized substring match if available, index otherwise\n            name: execResult[1] || index++,\n            prefix: \"\",\n            suffix: \"\",\n            modifier: \"\",\n            pattern: \"\"\n        });\n        execResult = groupsRegex.exec(path.source);\n    }\n    return path;\n}\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(paths, keys, options) {\n    var parts = paths.map(function (path) { return pathToRegexp(path, keys, options).source; });\n    return new RegExp(\"(?:\" + parts.join(\"|\") + \")\", flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(path, keys, options) {\n    return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(tokens, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function (x) { return x; } : _d;\n    var endsWith = \"[\" + escapeString(options.endsWith || \"\") + \"]|$\";\n    var delimiter = \"[\" + escapeString(options.delimiter || \"/#?\") + \"]\";\n    var route = start ? \"^\" : \"\";\n    // Iterate over the tokens and create our regexp string.\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        if (typeof token === \"string\") {\n            route += escapeString(encode(token));\n        }\n        else {\n            var prefix = escapeString(encode(token.prefix));\n            var suffix = escapeString(encode(token.suffix));\n            if (token.pattern) {\n                if (keys)\n                    keys.push(token);\n                if (prefix || suffix) {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        var mod = token.modifier === \"*\" ? \"?\" : \"\";\n                        route += \"(?:\" + prefix + \"((?:\" + token.pattern + \")(?:\" + suffix + prefix + \"(?:\" + token.pattern + \"))*)\" + suffix + \")\" + mod;\n                    }\n                    else {\n                        route += \"(?:\" + prefix + \"(\" + token.pattern + \")\" + suffix + \")\" + token.modifier;\n                    }\n                }\n                else {\n                    route += \"(\" + token.pattern + \")\" + token.modifier;\n                }\n            }\n            else {\n                route += \"(?:\" + prefix + suffix + \")\" + token.modifier;\n            }\n        }\n    }\n    if (end) {\n        if (!strict)\n            route += delimiter + \"?\";\n        route += !options.endsWith ? \"$\" : \"(?=\" + endsWith + \")\";\n    }\n    else {\n        var endToken = tokens[tokens.length - 1];\n        var isEndDelimited = typeof endToken === \"string\"\n            ? delimiter.indexOf(endToken[endToken.length - 1]) > -1\n            : // tslint:disable-next-line\n                endToken === undefined;\n        if (!strict) {\n            route += \"(?:\" + delimiter + \"(?=\" + endsWith + \"))?\";\n        }\n        if (!isEndDelimited) {\n            route += \"(?=\" + delimiter + \"|\" + endsWith + \")\";\n        }\n    }\n    return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(path, keys, options) {\n    if (path instanceof RegExp)\n        return regexpToRegexp(path, keys);\n    if (Array.isArray(path))\n        return arrayToRegexp(path, keys, options);\n    return stringToRegexp(path, keys, options);\n}\n//# sourceMappingURL=index.js.map","\nimport { match, compile } from 'path-to-regexp';\nimport { RouteConfig, Route, Match } from './type';\nimport { cleanPath } from './util';\n\n\nexport function addRoute(\n\tcfg: RouteConfig,\n\tnamed: Record<string, Route>,\n\tparent?: Route,\n) {\n\tlet { path, children, alias, meta, component, components, ...p } = cfg;\n\tlet end = !(Array.isArray(children) && children.length);\n\tif (!path || path === '*') {\n\t\tpath = '';\n\t\tend = false;\n\t}\n\tif (path[0] !== '/') {\n\t\tpath = `${parent?.path || ''}/${path}`;\n\t}\n\tpath = cleanPath(path);\n\tif (component) {\n\t\tif (!components) {\n\t\t\tcomponents = {};\n\t\t}\n\t\tcomponents.default = component;\n\t}\n\tconst item: Route = {\n\t\t...p,\n\t\tpath,\n\t\talias,\n\t\tcomponent,\n\t\tcomponents,\n\t\tmeta: meta || {},\n\t\ttoPath: compile(path || '', { encode: encodeURIComponent }),\n\t\tmatch: match(path || '', {end, decode: decodeURIComponent}),\n\t};\n\tif (alias) { named[alias] = item; }\n\tif (Array.isArray(children)) {\n\t\titem.children = children.map(c => addRoute(c, named, item));\n\t}\n\treturn item;\n}\n\nexport function *matchRoutes(path: string, routes: Route[] = []): Iterable<Match>{\n\tfor (const route of routes) {\n\t\tconst result = route.match(path);\n\t\tif (!result) { continue; }\n\t\tif (route.components || route.redirect) {\n\t\t\tyield { ...result, route };\n\t\t}\n\t\tif (!route.redirect) {\n\t\t\tyield* matchRoutes(path, route.children);\n\t\t}\n\t\treturn;\n\t}\n}\n","import { isValue } from './install/neep';\n\nfunction getValue(v: any): string | undefined | null {\n\tif (v === undefined) { return undefined; }\n\tif (v === null) { return null; }\n\tif (v === false) { return undefined; }\n\tif (typeof v === 'number' && !Number.isFinite(v)) { return; }\n\tif (typeof v === 'function') { return; }\n\treturn encodeURIComponent(String(v));\n}\nexport function stringify(s: any): string {\n\tconst list: string[] = [];\n\tfor (const key of Object.keys(s)) {\n\t\tconst item = s[key];\n\t\tconst value = isValue(item) ? item() : item;\n\t\tconst k = encodeURIComponent(key);\n\t\tif (!Array.isArray(value)) {\n\t\t\tconst v = getValue(value);\n\t\t\tif (v === undefined) { continue; }\n\t\t\tlist.push(v === null ? k : `${k}=${v}`);\n\t\t\tcontinue;\n\t\t}\n\t\tfor (const val of value) {\n\t\t\tconst v = getValue(val);\n\t\t\tif (v === undefined) { continue; }\n\t\t\tlist.push(v === null ? k : `${k}=${v}`);\n\t\t}\n\t}\n\treturn list.join('&');\n}\n\nexport function parse(s: string): object {\n\tconst query = Object.create(null);\n\tfunction set(k: string, v: null | string = null) {\n\t\tif (!(k in query)) {\n\t\t\tquery[k] = v;\n\t\t\treturn;\n\t\t}\n\t\tconst it = query[k];\n\t\tif (Array.isArray(it)) {\n\t\t\tit.push(v);\n\t\t} else {\n\t\t\tquery[k] = [it, v];\n\t\t}\n\n\t}\n\tfor (const it of s.split('&')) {\n\t\tconst index = it.indexOf('=');\n\t\tif (index < 0) {\n\t\t\tset(decodeURIComponent(it));\n\t\t\tcontinue;\n\t\t}\n\t\tconst k = decodeURIComponent(it.substr(0, index));\n\t\tconst v = decodeURIComponent(it.substr(index + 1));\n\t\tset(k, v);\n\t}\n\treturn query;\n}\n","import Neep from '@neep/core';\nimport { IHistory, IHistoryLinkProps } from '../type';\nimport Router from '../Router';\nimport { createElementBase } from '../install/neep';\n\nexport default class StoreHistory implements IHistory {\n\trouter: Router;\n\tconstructor(router: Router) {\n\t\tthis.router = router;\n\t}\n\tindex = 0;\n\thistory: [string, string, string, any][] = [];\n\tpush(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\tthis.history.length = this.index + 1;\n\t\tthis.index++;\n\t\tthis.history.push([path, search, hash, state]);\n\t}\n\treplace(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\tthis.history[this.index] = [path, search, hash, state];\n\t}\n\tgo(index: number) {\n\t\tlet newIndex = this.index + index;\n\t\tif (newIndex >= this.history.length) { return; }\n\t\tif (newIndex < 0) { return; }\n\t\tif (newIndex === this.index) { return; }\n\t\tthis.index = newIndex;\n\t\treturn this.history[newIndex];\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\tprops: IHistoryLinkProps,\n\t\t{ childNodes, emit }: Neep.ShellContext<any>,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElementBase('span', {\n\t\t\t...props,\n\t\t\t'on:click': (v: any) => {\n\t\t\t\tif (!emit('click', v)) { return; }\n\t\t\t\tonClick();\n\t\t\t},\n\t\t}, ...childNodes);\n\t}\n}\n","import { IHistory, IHistoryLinkProps } from '../type';\nimport Router from '../Router';\nimport { cleanPath } from '../util';\nimport Neep from '@neep/core';\nimport { createElementBase } from '../install/neep';\n\nexport default class WebPathHistory implements IHistory {\n\treadonly router: Router;\n\treadonly base: string;\n\tconstructor(router: Router, opt?: {\n\t\tbase?: string;\n\t}) {\n\t\tthis.router = router;\n\t\tlet base = cleanPath(opt?.base || '');\n\t\tthis.base = base === '/' ? '' : base;\n\t\tconst f = () => {\n\t\t\tthis.router._update(\n\t\t\t\tthis.getPath(),\n\t\t\t\tlocation.search,\n\t\t\t\tlocation.hash,\n\t\t\t\thistory.state,\n\t\t\t);\n\t\t};\n\t\twindow.addEventListener('popstate', f);\n\t\tthis.destroy = () => {\n\t\t\tthis.destroy = () => {};\n\t\t\twindow.removeEventListener('popstate', f);\n\t\t};\n\t}\n\tstart() {\n\t\tthis.router._update(\n\t\t\tthis.getPath(),\n\t\t\tlocation.search,\n\t\t\tlocation.hash,\n\t\t\thistory.state,\n\t\t);\n\t}\n\tdestroy() {}\n\tpush(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\thistory.pushState(state, '', `${this.base}${path}${search}${hash}`);\n\t}\n\treplace(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\thistory.replaceState(state, '', `${this.base}${path}${search}${hash}`);\n\t}\n\tprivate getPath() {\n\t\tconst path = location.pathname;\n\t\tconst { base } = this;\n\t\tif (!base) { return path; }\n\t\tif (path.indexOf(`${base}/`) !== 0) { return path; }\n\t\treturn path.substr(base.length);\n\t}\n\tgo(index: number) {\n\t\tconst old = {\n\t\t\tpath: this.getPath(),\n\t\t\tsearch: location.search,\n\t\t\thash: location.hash,\n\t\t\tstate: history.state,\n\t\t};\n\t\thistory.go(index);\n\t\tconst path = this.getPath();\n\t\tconst search = location.search;\n\t\tconst hash = location.hash;\n\t\tconst state = history.state;\n\t\tif (\n\t\t\tpath !== old.path\n\t\t\t|| search !== old.search\n\t\t\t|| hash !== old.hash\n\t\t\t|| state !== old.state\n\t\t) {\n\t\t\treturn [path, search, hash, state] as [string, string, string, any];\n\t\t}\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\t{ to, ...props }: IHistoryLinkProps,\n\t\t{ childNodes, emit }: Neep.ShellContext<any>,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElementBase('a', {\n\t\t\t...props,\n\t\t\thref: `${this.base}${this.router.getUrl(to)}`,\n\t\t\t'on:click': (e: MouseEvent) => {\n\t\t\t\tlet cancel = !emit('click', e);\n\t\t\t\tif (e.defaultPrevented) { return; }\n\t\t\t\te.preventDefault();\n\t\t\t\tif (cancel) { return; }\n\t\t\t\tonClick();\n\t\t\t},\n\t\t}, ...childNodes);\n\t}\n}\n","import Neep from '@neep/core';\nimport { IHistory, IHistoryLinkProps } from '../type';\nimport Router from '../Router';\nimport { createElementBase } from '../install/neep';\n\nfunction parse(p: string): [string, string, string] {\n\tconst result = /^([^?#]*)((?:\\?[^#]*)?)((?:#.*)?)$/.exec(p);\n\tif (!result) { return ['/', '', '']; }\n\treturn [result[1] || '/', result[2], result[3]];\n}\n\nexport default class WebPathHistory implements IHistory {\n\trouter: Router;\n\tconstructor(router: Router) {\n\t\tthis.router = router;\n\t\tconst f = () => {\n\t\t\tconst [path, search, hash] = parse(location.hash.substr(1));\n\t\t\tthis.router._update(path, search, hash);\n\t\t};\n\t\twindow.addEventListener('hashchange', f);\n\t\tthis.destroy = () => {\n\t\t\tthis.destroy = () => {};\n\t\t\twindow.removeEventListener('hashchange', f);\n\t\t};\n\t}\n\tstart() {\n\t\tconst [path, search, hash] = parse(location.hash.substr(1));\n\t\tthis.router._update(path, search, hash);\n\t}\n\tdestroy() {}\n\tpush(path: string, search: string, hash: string) {\n\t\tlocation.hash = `#${path}${search}${hash}`;\n\t}\n\treplace(path: string, search: string, hash: string) {\n\t\tlocation.replace(`#${path}${search}${hash}`);\n\t}\n\tgo(index: number) {\n\t\tconst oldHash = location.hash;\n\t\thistory.go(index);\n\t\tconst hash = location.hash;\n\t\tif (hash === oldHash) { return; }\n\t\treturn [...parse(hash.substr(1)), undefined] as [string, string, string, any];\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\t{ to, ...props }: IHistoryLinkProps,\n\t\t{ childNodes, emit }: Neep.ShellContext<any>,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElementBase('a', {\n\t\t\t...props,\n\t\t\thref: `#${this.router.getUrl(to)}`,\n\t\t\t'on:click': (e: MouseEvent) => {\n\t\t\t\tlet cancel = !emit('click', e);\n\t\t\t\tif (e.defaultPrevented) { return; }\n\t\t\t\te.preventDefault();\n\t\t\t\tif (cancel) { return; }\n\t\t\t\tonClick();\n\t\t\t},\n\t\t}, ...childNodes);\n\t}\n}\n","import Neep from '@neep/core';\nimport install from './install/neep';\nimport { Error, value } from './install/neep';\nimport RouterView from './View';\nimport RouterLink from './Link';\nimport { Route, Location, IHistory, Match, RouteConfig } from './type';\nimport { cleanPath } from './util';\nimport { addRoute, matchRoutes } from './route';\nimport { stringify, parse } from './query';\nimport * as history from './history';\nimport { createShellComponent } from './install/neep';\n\nfunction get(\n\tlocation: Location | string,\n\troutes: Record<string, Route>,\n\tbasePath: string,\n\tstringifyQuery = stringify,\n): {\n\tpath: string;\n\tsearch: string;\n\thash: string;\n} {\n\tif (typeof location === 'string') { location = { path: location }; }\n\n\tconst route = location.alias && routes[location.alias];\n\tconst result = location.path && /^([^?#]*)((?:\\?[^#]*)?)((?:#.*)?)$/\n\t\t.exec(location.path);\n\tlet path = result?.[1] || '';\n\tif (!path) {\n\t\tpath = route ? route.toPath(location.params || {}) : basePath;\n\t} else if (route) {\n\t\tlet routePath = route.toPath(location.params || {});\n\t\tif (!location.append) {\n\t\t\troutePath = routePath.replace(/\\/[^/]*\\/?$/, '');\n\t\t}\n\t\tpath = `${route.toPath(location.params || {})}/${path}`;\n\t} else if (location.append) {\n\t\tpath = `${basePath}/${path}`;\n\t} if (path[0] !== '/') {\n\t\tpath = `${basePath.replace(/\\/[^/]*\\/?$/, '')}/${path}`;\n\t}\n\tpath = cleanPath(path);\n\tconst search = location.query && `?${ stringifyQuery(location.query) }`\n\t\t|| location.search || result?.[2] || '';\n\tconst hash = location.hash || result?.[3] || '';\n\treturn { path, search, hash };\n}\n\nconst redirects: string[] = [];\nclass Router {\n\tstatic get history() { return history; }\n\tstatic get install() { return install; }\n\tstatic get View() { return RouterView; }\n\tstatic get Link() { return RouterLink; }\n\tstringify?(query: Record<any, any>): string;\n\tparse?(search: string): Record<any, any>;\n\tprivate _namedRoutes: Record<string, Route> = Object.create(null);\n\tprivate _routes: Route[] = [];\n\thistory?: IHistory;\n\tprivate readonly _size = value(0);\n\tprivate readonly _nodes: Neep.Value<Match | undefined>[] = [];\n\tprivate readonly _matches = value<Match[]>([]);\n\tprivate readonly _hash = value('');\n\tprivate readonly _search = value('');\n\tprivate readonly _alias = value('');\n\tprivate readonly _path = value('/');\n\tprivate readonly _state = value(undefined as any);\n\tprivate readonly _params = value({} as Record<string, string>);\n\tprivate readonly _query = value({} as Record<string, any>);\n\tprivate readonly _meta = value({} as Record<string, any>);\n\tget size() { return this._size(); }\n\tget matches() { return this._matches(); }\n\tget alias() { return this._alias(); }\n\tget path(): string { return this._path(); }\n\tget search() { return this._search(); }\n\tget hash() { return this._hash(); }\n\tget state() { return this._state(); }\n\tget params() { return this._params(); }\n\tget query() { return this._query(); }\n\tget meta() { return this._meta(); }\n\tconstructor({History, historyOption}: {\n\t\tHistory?: {new(router: Router, opt?: any): IHistory }\n\t\thistoryOption?: any;\n\t}) {\n\t\tif (History) {\n\t\t\tconst history = new History(this, historyOption);\n\t\t\tthis.history = history;\n\t\t\thistory.start?.();\n\t\t}\n\t}\n\tsetRoutes(routes: RouteConfig[]) {\n\t\tconst named = Object.create(null);\n\t\tthis._routes = routes.map(c => addRoute(c, named));\n\t\tthis._namedRoutes = named;\n\t\tthis._update(\n\t\t\tthis._path(),\n\t\t\tthis._search(),\n\t\t\tthis._hash(),\n\t\t\tthis._state(),\n\t\t\ttrue,\n\t\t);\n\t}\n\t_get(index: number): Match | undefined {\n\t\tconst item =  this._nodes[index]?.();\n\t\tif (!item) {\n\t\t\tthis._size();\n\t\t\treturn undefined;\n\t\t}\n\t\treturn item;\n\t}\n\t_update(path: string, search: string, hash: string, state?: any, force = false) {\n\t\tif (this._path() !== path || force) {\n\t\t\tconst matches = [...matchRoutes(path, this._routes)];\n\t\t\tconst last = matches[matches.length - 1] as Match | undefined;\n\t\t\tif (last && !last.route.components) {\n\t\t\t\tredirects.push(path);\n\t\t\t\tif (redirects.length >= 10) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Too many consecutive redirect jumps: \\n${\n\t\t\t\t\t\t\tredirects.join('\\n')\n\t\t\t\t\t\t}`,\n\t\t\t\t\t\t'router',\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst {redirect, append} = last.route;\n\t\t\t\ttry {\n\t\t\t\t\tif (append) {\n\t\t\t\t\t\tthis.replace(`${path}/${redirect}`, state);\n\t\t\t\t\t} else if (redirect && redirect[0] === '/') {\n\t\t\t\t\t\tthis.replace(redirect, state);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.replace(`${path}/../${redirect}`, state);\n\t\t\t\t\t}\n\t\t\t\t\treturn ;\n\t\t\t\t} finally {\n\t\t\t\t\tredirects.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst nodes = this._nodes;\n\t\t\tconst nodesLength = nodes.length;\n\t\t\tconst matchesLength = matches.length;\n\t\t\tconst min = Math.min(matchesLength, nodesLength);\n\t\t\tfor (let i = 0; i < min; i++) { nodes[i](matches[i]); }\n\t\t\tfor (let i = min; i < nodesLength; i++) {\n\t\t\t\tnodes[i](undefined);\n\t\t\t}\n\t\t\tfor (let i = min; i < matchesLength; i++) {\n\t\t\t\tnodes[i] = value(matches[i]);\n\t\t\t}\n\t\t\tnodes.length = matchesLength;\n\t\t\tthis._size(matchesLength);\n\t\t\tthis._matches(matches);\n\t\t\tthis._path(path);\n\t\t\tthis._alias(last?.route?.alias || '');\n\t\t\tthis._params(last?.params || {} as any);\n\t\t\tthis._meta(Object.assign({}, ...matches.map(m => m.route.meta)));\n\t\t}\n\t\tif (this._search() !== search) {\n\t\t\tthis._search(search);\n\t\t\tthis._query((this.parse || parse)(search.substr(1)));\n\t\t}\n\t\tthis._hash(hash);\n\t\tthis._state(state);\n\t}\n\tpush(location: Location | string, state?: any) {\n\t\tconst { path, search, hash } = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\tthis.history?.push(path, search, hash, state);\n\t\tthis._update(path, search, hash, state);\n\t}\n\treplace(location: Location | string, state?: any) {\n\t\tconst {path, search, hash} = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\tthis.history?.replace(path, search, hash, state);\n\t\tthis._update(path, search, hash, state);\n\t}\n\tgetUrl(location: Location | string) {\n\t\tconst {path, search, hash} = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\treturn `${path}${search}${hash}`;\n\n\t}\n\tgo(index: number) {\n\t\tconst it = this.history?.go(index);\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tback() {\n\t\tconst it = this.history?.back();\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tforward() {\n\t\tconst it = this.history?.forward();\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tget view() {\n\t\tconst view = createShellComponent((props, ...p) =>\n\t\t\tRouterView({...props, router: this}, ...p), {\n\t\t\t\tname: 'Router',\n\t\t\t});\n\t\tReflect.defineProperty(this, 'view', {\n\t\t\tvalue: view,\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t});\n\t\treturn view;\n\t}\n}\n\nexport default Router;\n","import Neep from '@neep/core';\nimport { addContextConstructor } from './neep';\nimport { RouterDeliver } from './initDelivers';\nimport Router from '../Router';\nimport { Match, RouteContext } from '../type';\n\nfunction createRouteContext(router: Router, depth: number): RouteContext {\n\treturn {\n\t\tget size(): number { return router.size; },\n\t\tget matches(): Match[] { return router.matches; },\n\t\tget match(): Match | undefined { return router._get(depth); },\n\t\tget alias(): string { return router.alias; },\n\t\tget path(): string { return router.path; },\n\t\tget search(): string { return router.search; },\n\t\tget hash(): string { return router.hash; },\n\t\tget state(): string { return router.state; },\n\t\tget params(): Record<string, string> { return router.params; },\n\t\tget query(): Record<string, any> { return router.query; },\n\t\tget meta(): Record<string, any> { return router.meta; },\n\t\tget router() { return router ; },\n\t\tpush(location: Location | string, state?: any): void {\n\t\t\treturn router.push(location, state);\n\t\t},\n\t\treplace(location: Location | string, state?: any): void {\n\t\t\treturn router.replace(location, state);\n\t\t},\n\t\tgetUrl(location: Location | string): string {\n\t\t\treturn router.getUrl(location);\n\t\t},\n\t\tgo(index: number): void {\n\t\t\treturn router.go(index);\n\t\t},\n\t\tback(): void {\n\t\t\treturn router.back();\n\t\t},\n\t\tforward(): void {\n\t\t\treturn router.forward();\n\t\t},\n\t};\n}\n\nexport function contextConstructor(context: Neep.Context<any, any, any>) {\n\tconst data = context.delivered(RouterDeliver);\n\tif (!data) { return; }\n\tconst {router, depth} = data;\n\tReflect.defineProperty(context, 'route', {\n\t\tvalue: createRouteContext(router, depth),\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n\tReflect.defineProperty(context, 'match', {\n\t\tget: () => router?._get(depth),\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n}\n\nexport default function installContextConstructor() {\n\taddContextConstructor(contextConstructor);\n}\n","import RouterView from '../View';\nimport RouterLink from '../Link';\nimport { register } from './neep';\n\nexport default function installComponents() {\n\tregister('RouterView', RouterView);\n\tregister('router-view', RouterView);\n\tregister('RouterLink', RouterLink);\n\tregister('router-link', RouterLink);\n}\n","import installContextConstructor from './installContextConstructor';\nimport installComponents from './installComponents';\nimport initDelivers from './initDelivers';\n\nexport default [\n\tinstallComponents,\n\tinstallContextConstructor,\n\tinitDelivers,\n];\n","import moduleList from './moduleList';\n\nexport default function install(Neep: typeof import ('@neep/core').default) {\n}\nfor (const f of moduleList) {\n\tf();\n}\n","import Neep from '@neep/core';\nimport Router from '@neep/router';\n\nconst 组件 = Neep.createComponent(() => {\n\treturn <div>这是中文组件</div>;\n});\nexport default Neep.createComponent((\n\tprops: { a?: any,  set?: () => void},\n\t{ route },\n) => {\n\tconst v = Neep.useValue(() => Math.random());\n\tconst s = Neep.useValue(() => Neep.value(0));\n\ts.value++;\n\treturn <Neep.Template>\n\t{s.value}: {v}\n\t\t<组件 />\n\t\t<div>用户首页</div>\n\t\t<div>Id: {route?.params?.['id']}</div>\n\t\t<hr />\n\t\t<div><Router.Link path=\"/\">首页</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1\">用户1</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/2\">用户2</Router.Link></div>\n\t\t<div><Router.Link path={`/users/${route?.params?.['id']}/info`}>用户{route?.params?.['id']}信息</Router.Link></div>\n\t\t<div><Router.Link path={`/users/${route?.params?.['id']}/settings`}>用户{route?.params?.['id']}设置</Router.Link></div>\n\t\t<hr />\n\t\t<Router.View />\n\t</Neep.Template>;\n}, {name: 'User'});\n","import Neep from '@neep/core';\n\nexport default  Neep.createComponent((\n\tprops: { a?: any,  set?: () => void},\n\t{ route },\n) => {\n\tconst v = Neep.useValue(() => Math.random());\n\treturn <Neep.Template>\n\t\t{v}\n\t\t<div>用户信息</div>\n\t\t<div>Id: {route?.params?.['id']}</div>\n\t</Neep.Template>;\n}, { name: 'UserInfo'});\n","import Neep from '@neep/core';\n\nexport default Neep.createComponent((\n\tprops: { a?: any,  set?: () => void},\n\t{ route },\n) => {\n\treturn <Neep.Template>\n\t\t<div>用户设置</div>\n\t\t<div>Id: {route?.params?.['id']}</div>\n\t</Neep.Template>;\n}, {name: 'UserSettings'});\n","import Neep from '@neep/core';\n\nimport Router from '@neep/router';\n\n\nexport default Neep.createComponent(() => {\n\treturn <Neep.Template>\n\t\t<div>首页</div>\n\t\t<hr />\n\t\t<div><Router.Link path=\"/\">首页</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1\">用户1</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1/settings\">用户1设置</Router.Link></div>\n\t\t<hr />\n\t\t<Router.View />\n\t</Neep.Template>;\n}, {name: 'Home'});\n","import Router from '@neep/router';\nimport User from './components/User';\nimport Info from './components/User/Info';\nimport Settings from './components/User/Settings';\nimport Home from './components/Home';\nconst router = new Router({\n\tHistory: Router.history.WebPath,\n});\nrouter.setRoutes([\n\t{ path: '/', redirect: '/home' },\n\t{path: '/users/:id', component: User, children: [\n\t\t{path: 'info', component: Info},\n\t\t{path: 'settings', component: Settings},\n\t]},\n\t{path: '/home', component: Home},\n\t{ path: '*', redirect: '/home' },\n]);\n(window as any).router = router;\nexport default router.view;\n","import '@neep/renderer-html';\nimport Neep from '@neep/core';\nimport '@neep/devtools';\nimport App from './App';\nNeep.render(App).mount();\n"],"names":["console","fn","printError","String","map","value","def","version","isProduction","process","devtools","renderHook","installDevtools","tools","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","NeepError","Error","constructor","message","tag","assert","v","nextFrameApi","nextFrame","renderers","create","getRender","type","default","installRender","renderer","bind","installMonitorable","api","install","apis","monitorable","ScopeSlot","Render","Slot","Container","Template","Fragment","createEntitySetRef","set","refValue","_0","_1","entity","state","add","delete","createExposedSetRef","newNode","oldNode","undefined","replace","createEntityRefValue","watch","_2","Reflect","get","createExposedRefValue","ref","isEntity","current","isInit","root","hookList","runs","getUseHookValue","name","lib","init","push","next","shift","list","execUseHooks","run","parent","runList","runParent","ret","length","setLabels","runShell","setLabel","oldSetLabel","runCurrent","oldEntity","oldIsInit","created","oldRuns","oldRoot","$_useHookValues","oldHookList","checkCurrent","initOnly","hooks","setHook","id","hook","$_hooks","safeify","Set","callHook","cb","stop","isValue","computed","s","useValue","useService","p","byService","rendererSymbol","Symbol","for","nameSymbol","componentsSymbol","propsSymbol","componentValueSymbol","objectTypeSymbol","objectTypeSymbolElement","objectTypeSymbolDeliverComponent","objectTypeSymbolNativeComponent","objectTypeSymbolSimpleComponent","objectTypeSymbolShellComponent","objectTypeSymbolRenderComponent","objectTypeSymbolContainerComponent","objectTypeSymbolElementComponent","objectTypeSymbolHookEntity","objectTypeSymbolRootEntity","deliverKeySymbol","deliverDefaultSymbol","isSimpleComponent","isShellComponent","isNativeComponent","isRenderComponent","isContainerComponent","isElementComponent","isDeliverComponent","isElement","isFragmentElement","toLowerCase","isRenderElement","isSimpleElement","createElement","attrs","children","attrProps","props","n","keys","substr","createElementBase","node","slot","createRenderElement","render","elements","opt","Array","isArray","concat","simple","includes","equal","a","b","is","i","execed","inserted","isDefault","aprops","bprops","aKeys","bKeys","size","k","has","createTemplateElement","label","labels","filter","Boolean","t","text","ids","Nodes","IdMap","WeakMap","createMountedNode","markChange","recoveryMountedNode","getNode","_IdMap","markRead","completeList","setCompleteList","complete","it","BaseProxy","originalTag","delivered","parentProxy","update","_update","destroy","__executed_destroy","_destroy","destroyed","mount","mountOptions","__mountOptions","result","exec$1","c","requestDraw","newMountOptions","_mount","mounted","__cancelDrawMonitor","unmount","__executed_unmounted","_unmount","unmounted","redraw","_redraw","NodeProxy","container","componentRoot","markDraw","createPlaceholder","createItem","source","proxy","createList","createAll","item","getNodes","tree","forEach","e","removeNode","getLastNode","getFirstNode","newTree","oldTree","parentNode","getParent","insertNode","updateList","newList","mountedMap","Map","src","index","findIndex","old","updateItem","splice","last","nextNode","o","updateAll","Math","min","max","all","draw","DeliverProxy","content","__valueObject","__nodes","convert","delayedRefresh","objectSet","wait","clear","refresh","asyncRefresh","f","async","createEmit","emitter","omitNames","emit","options","cancelable","target","defaultPrevented","eventInfo","prevented","preventDefault","prevent","events","event","omit","names","EventEmitter","_names","eventSet","on","listener","_event","removed","updateInProps","oldPropsEvents","__propsEvents","oldEventNames","entName","getEvents","olfFn","cl","eventMap","__eventMap","oldEventMapNames","getEventsMap","oldEmitEvents","__propsEmitEvents","eventsFn","getEmitFn","__propsEmitEvent","oldNames","getSlots","slots","native","nativeList","ownKeys","isNode","el","setSlot","setSlots","oldChildren","renderSlot","argv","getSlot","isSimple","createSlotApi","slotApi","constructors","initContext","context","addContextConstructor","getDelivered","deliver","components","register","component","findComponent","components$1","test","ltag","getComponents","getNodeArray","execSimple","normalizeAuxiliaryObject","slotMap","simpleParent","isShell","childNodes","nodes","getSlotRenderFn","renderFn","slotRenderFnList","newFn","call","exec","simpleSlot","_node$props","slotRenderFn","args","slotName","getChildren","postpone","normalize","isNative","getText","Date","toISOString","RegExp","getNodeArray$1","ValueProxy","__value","__render","monitor","changed","__needRefresh","__refreshing","needDraw","createText","GroupProxy","updateData","data","oldKeys","dataset","RefProxy","exposed","__exposed","setExposed","__ref","createEntity","oldRef","ElementProxy","__elementTagData","cfg","subMountOptions","getMountOptions","updateProps","_redrawChildren","getNodeArray$2","ShellProxy","_this","l","_nodes","__delayedRefresh","lastSlots","toElement","SlotProxy","constructors$1","initEntity","addEntityConstructor","_obj$parentComponentP","parentComponentProxy","h","disabledKey","propsObj","newKeys","propsDefined","nativeNodes","ComponentProxy","assign","createObject","encase","_init","stopRender","_initRender","_render","_stopRender","needRefresh","getNodeArray$3","initRender","expose","_proxy$parentComponen","renderNode","componentsList","RenderComponentProxy","createResponsiveRender","func","slotRenderFns","initRender$1","resultOnly","normalizeRefresh","StandardComponentProxy","_this$renderer$create","_this$renderer","createComponent","_shadow","nativeTreeNountOptions","nativeTree","__nativeTreeNountOptions","recognizers","recognize","any","recognizer","res","addRecognizer","createProxy","ContainerProxy","componentTag","createItem$1","createAll$1","flat","Infinity","recursive2iterable","updateList$1","updateItem$1","updateAll$1","awaitDraw","rendererDraw","baseTick","middleTick","endTick","execTickList","execList","sort","execContainerList","drawAll","execRendererDrawList","rendererDrawList","requested","request","nextTick","level","addRendererDraw","createEntity$1","setmountedRoot","__container","r","getContainer","__containerData","rootContainer","setChildren","parentRenderer","targetNode","insert","mountContainer","log","subOpt","placeholder","__placeholder","placeholderNode","__placeholderNode","__insertNode","__nextNode","__targetNode","_redrawSelf","updateContainer","recoveryContainer","opts","unmountContainer","_this$parentProxy","__awaitDraw","markDrawContainer","drawContainer","__containers","containers","createContainerEntity","createRender","params","refreshObj","setObjectType","setName","setValue","setComponents","createSelfComponent","createDeliverComponent","createRenderComponent","createContainerComponent","createElementComponent","createStandardComponent","createComponentFunc","renderComponent","StandardComponent","createNativeComponent","createSimpleComponent","createShellComponent","LOADING","FAILING","COMPLETE","lazy","Placeholder","reslut","isLoad","ComponentValue","load","error","com","loading","getNodeArray$4","RenderProxy","initChildNodes","isProxy","Neep","freeze","__proto__","isDeliver","valueify","asValue","mixValue","xmlnsMap","svg","html","mathml","SVGTags","MathMLTags","tagname","namespace","ns","document","createElementNS","attachShadow","mode","createComment","createTextNode","insertBefore","installNeep","install$1","getId","PropsMap","updateId","removeAttribute","getClass","split","classes","oClasses","getAttribute","classList","setAttribute","join","PropsMap$1","updateClass","class","unit","getStyle","style","css","str","update$1","oStyle","cssText","removeProperty","setProperty","PropsMap$2","updateStyle","hasStyle","setAttrs","HTMLInputElement","checked","HTMLSelectElement","HTMLTextAreaElement","HTMLDetailsElement","open","HTMLMediaElement","muted","paused","pause","play","currentTime","num","Number","playbackRate","volume","stringify","isOn","toString","JSON","getAttrs","update$2","PropsMap$3","updateAttrs","getElementModel","currentTarget","indeterminate","ValueEventMap","getValueEventBind","bindMap","getEventBind","updateEvent","valueEventMap","prop","addEventListener","removeEventListener","eventBind","CSSStyleDeclaration","window","requestAnimationFrame","getTarget","querySelector","Element","element","targetProps","remove","removeChild","body","parentElement","Node","nextSibling","initContainer","createElement$1","Type","install$2","Deliver","selected","NodeTag","switchOpen","opened","setSelected","getChildTree","hasChildNodes","getKey","ValueTag","getType","tagId","selectedThis","slotRender","tagName","getTagName","TreeNode","Tree","getKeyValue","getValue","Prop","propIsValue","Attr","Settings","scopeSlot","group","shell","DefaultContainer","currentContainer","creating","rootEntity","render$1","RouterDeliver","initDelivers","getDepth","router","depthProp","isInteger","Router","depth","routerDeliver","RouterView","info","match","_get","route","path","color","RouterLink","to","append","search","hash","query","alias","onclick","history","link","cleanPath","addRoute","named","meta","end","toPath","compile","encode","encodeURIComponent","decode","decodeURIComponent","matchRoutes","routes","redirect","isFinite","val","parse","indexOf","StoreHistory","go","newIndex","back","forward","onClick","WebPathHistory","base","getPath","location","start","pushState","replaceState","pathname","href","getUrl","cancel","oldHash","basePath","stringifyQuery","routePath","redirects","View","Link","_size","matches","_matches","_alias","_path","_search","_hash","_state","_params","_query","_meta","History","historyOption","setRoutes","_routes","_namedRoutes","force","pop","nodesLength","matchesLength","m","view","createRouteContext","contextConstructor","installContextConstructor","installComponents","moduleList","组件","random","WebPath","User","Info","Home","App"],"mappings":"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"}