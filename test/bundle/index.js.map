{"version":3,"file":"index.js","sources":["../../node_modules/monitorable/dist/monitorable.esm.js","../../node_modules/@neep/core/dist/neep.core.mjs","../../node_modules/@neep/html-renderer/dist/neep.html.renderer.mjs","../../node_modules/@neep/devtools/dist/neep.devtools.mjs","../../src/install/initDelivers.ts","../../src/install/installContextConstructor.ts","../../src/View.ts","../../src/Link.ts","../../src/install/installComponents.ts","../../src/install/moduleList.ts","../../src/install/install.ts","../../src/util.ts","../../node_modules/path-to-regexp/dist.es2015/index.js","../../src/route.ts","../../src/query.ts","../../src/history/Memory.ts","../../src/history/WebPath.ts","../../src/history/WebHash.ts","../../src/Router.ts","../components/User/index.tsx","../components/User/Info.tsx","../components/User/Settings.tsx","../components/Home.tsx","../App.tsx","../index.tsx"],"sourcesContent":["\n/*!\n * monitorable v0.1.0-beta.0\n * (c) 2020 Fierflame\n * @license MIT\n */\n\nlet printErrorLog;\n/** 打印错误 */\n\nfunction printError(info) {\n  if (typeof printErrorLog === 'function') {\n    printErrorLog(info);\n    return;\n  }\n\n  console.error(info);\n}\nfunction setPrintError(p) {\n  printErrorLog = typeof p === 'function' ? p : undefined;\n}\n/**\n * 判断对象是否可被代理\n */\n\nfunction encashable(v) {\n  return Boolean(v && ['object', 'function'].includes(typeof v));\n}\n/** 回调函数安全化处理 */\n\nfunction safeify(fn) {\n  return (...p) => {\n    try {\n      fn(...p);\n    } catch (e) {\n      printError(e);\n    }\n  };\n}\nfunction getIndexes(target, prop) {\n  if (!target) {\n    return undefined;\n  }\n\n  if (typeof target !== 'function' && typeof target !== 'object') {\n    return undefined;\n  }\n\n  if (typeof prop === 'number') {\n    return [target, String(prop)];\n  }\n\n  if (typeof prop === 'symbol') {\n    return [target, prop];\n  }\n\n  if (typeof prop === 'string') {\n    return [target, prop];\n  }\n\n  if (typeof prop === 'boolean') {\n    return [target, prop];\n  }\n\n  return undefined;\n}\nfunction getMapValue(map, key, def) {\n  if (map.has(key)) {\n    return map.get(key);\n  }\n\n  const value = def();\n  map.set(key, value);\n  return value;\n}\n\n/** 已被读取的 */\nlet read;\n/**\n * 标记已读状态\n * @param obj  要标记的对象\n * @param prop 要标记的属性\n */\n\nfunction markRead(target, prop) {\n  if (!read) {\n    return;\n  }\n\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return;\n  }\n\n  [target, prop] = indexes;\n  const propMap = getMapValue(read, target, () => new Map());\n\n  if (propMap.has(prop)) {\n    return;\n  }\n\n  propMap.set(prop, false);\n}\n\n/**\n * 监听函数的执行，并将执行过程中读取的对象值设置到 map 中\n * @param fn 要执行的含糊\n * @param map 用于存储被读取对象的 map\n */\nfunction observeRun(map, fn, options) {\n  const oldRead = read;\n  read = map;\n\n  try {\n    if (!(options === null || options === void 0 ? void 0 : options.postpone)) {\n      return fn();\n    }\n\n    return postpone(fn, options.postpone === 'priority');\n  } finally {\n    read = oldRead;\n  }\n}\nfunction observe(map, fn, options) {\n  if (typeof fn === 'function') {\n    return observeRun(map, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return observeRun(map, options, fn);\n}\nconst watchList = new WeakMap();\n\nfunction execWatch(target, prop) {\n  var _watchList$get;\n\n  const watch = (_watchList$get = watchList.get(target)) === null || _watchList$get === void 0 ? void 0 : _watchList$get.get(prop);\n\n  if (!watch) {\n    return;\n  }\n\n  [...watch].forEach(w => w());\n}\n\nlet waitList;\n\nfunction run(list) {\n  for (const [target, set] of list.entries()) {\n    var _read;\n\n    const propMap = (_read = read) === null || _read === void 0 ? void 0 : _read.get(target);\n\n    for (const prop of set) {\n      execWatch(target, prop);\n\n      if (propMap === null || propMap === void 0 ? void 0 : propMap.has(prop)) {\n        propMap.set(prop, true);\n      }\n    }\n  }\n}\n\nfunction postponeRun(f, priority) {\n  const list = !priority && waitList || new Map();\n  const old = waitList;\n  waitList = list;\n\n  try {\n    return f();\n  } finally {\n    waitList = old;\n\n    if (list !== waitList) {\n      run(list);\n    }\n  }\n}\n\nfunction postpone(fn, priority) {\n  if (typeof fn === 'function') {\n    return postponeRun(fn, priority);\n  }\n\n  if (typeof priority !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return postponeRun(priority, fn);\n}\n\nfunction wait(target, prop) {\n  if (!waitList) {\n    return false;\n  }\n\n  getMapValue(waitList, target, () => new Set()).add(prop);\n  return true;\n}\n/**\n * 标记属性的修改，同时触发监听函数\n * @param target 要标记的对象\n * @param prop   要标记的属性 特别的，false 表示原型，true 表示成员\n */\n\n\nfunction markChange(target, prop) {\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return;\n  }\n\n  [target, prop] = indexes;\n\n  if (wait(target, prop)) {\n    return;\n  }\n\n  execWatch(target, prop);\n}\n/**\n * 观察对象属性的变化\n * @param target 要观察的对象\n * @param prop   要观察的属性名 特别的，false 表示原型，true 表示成员\n * @param fn     属性改变后触发的函数\n */\n\nfunction watchProp(target, prop, cb) {\n  if (typeof cb !== 'function') {\n    return () => {};\n  }\n\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return () => {};\n  }\n\n  [target, prop] = indexes;\n  const key = prop;\n  let map = watchList.get(target);\n\n  if (!map) {\n    map = new Map();\n    watchList.set(target, map);\n  }\n\n  const list = getMapValue(map, key, () => new Set());\n  cb = safeify(cb);\n  list.add(cb);\n  let removed = false;\n  return () => {\n    if (removed) {\n      return;\n    }\n\n    removed = true; // 从当前列表中移除\n\n    list.delete(cb); // 从属性关联中删除\n\n    if (list.size) {\n      return;\n    }\n\n    if (!map) {\n      return;\n    }\n\n    map.delete(key); // 映射列表中删除\n\n    if (map.size) {\n      return;\n    }\n\n    watchList.delete(target);\n  };\n}\n\n/**\n * 判断对象是否可被代理\n */\n\nfunction encashable$1(v) {\n  return Boolean(v && ['object', 'function'].includes(typeof v));\n}\n\nlet getValue;\n/**\n * 获取被代理对象\n * @param obj  要被代理的对象\n * @param nest 递归代理的层数\n */\n\nfunction encase(value, nest = 0) {\n  if (!encashable$1(value)) {\n    return value;\n  }\n\n  const original = recover(value);\n  const nestLayer = nest === true ? Infinity : nest || 0;\n  const proxy = new Proxy(original, {\n    set(target, prop, value, receiver) {\n      if (nest === false) {\n        return Reflect.set(target, prop, value, receiver);\n      }\n\n      const has = Reflect.has(target, prop);\n      const modified = Reflect.set(target, prop, value, encase(receiver));\n\n      if (!modified) {\n        return modified;\n      }\n\n      if (has !== Reflect.has(target, prop)) {\n        markChange(target, true);\n      }\n\n      return modified;\n    },\n\n    get(target, prop, receiver) {\n      if (getValue === proxy) {\n        if (prop === '__monitorable__recover__') {\n          getValue = original;\n          return;\n        }\n      }\n\n      if (nest === false) {\n        return Reflect.get(target, prop, receiver);\n      }\n\n      markRead(target, prop);\n      const value = Reflect.get(target, prop, encase(receiver));\n\n      if (nestLayer > 0) {\n        return encase(value, nestLayer - 1);\n      }\n\n      return value;\n    },\n\n    setPrototypeOf(target, proto) {\n      if (nest === false) {\n        return Reflect.setPrototypeOf(target, proto);\n      }\n\n      const oldProto = Reflect.getPrototypeOf(target);\n      const modified = Reflect.setPrototypeOf(target, proto);\n\n      if (modified && oldProto !== proto) {\n        markChange(target, false);\n      }\n\n      return modified;\n    },\n\n    getPrototypeOf(target) {\n      if (nest === false) {\n        return Reflect.getPrototypeOf(target);\n      }\n\n      markRead(target, false);\n      const value = Reflect.getPrototypeOf(target);\n\n      if (nestLayer > 0) {\n        return encase(value, nestLayer - 1);\n      }\n\n      return value;\n    },\n\n    defineProperty(target, prop, attr) {\n      if (nest === false) {\n        return Reflect.defineProperty(target, prop, attr);\n      }\n\n      let changed = true;\n\n      if ('value' in attr) {\n        const desc = Reflect.getOwnPropertyDescriptor(target, prop);\n\n        if (desc && 'value' in desc && recover(attr.value) === recover(desc.value)) {\n          changed = false;\n        }\n      }\n\n      const modified = Reflect.defineProperty(target, prop, attr);\n\n      if (changed && modified) {\n        markChange(target, prop);\n      }\n\n      return modified;\n    },\n\n    getOwnPropertyDescriptor(target, prop) {\n      if (nest === false) {\n        return Reflect.getOwnPropertyDescriptor(target, prop);\n      }\n\n      markRead(target, prop);\n      return Reflect.getOwnPropertyDescriptor(target, prop);\n    },\n\n    deleteProperty(target, prop) {\n      if (nest === false) {\n        return Reflect.deleteProperty(target, prop);\n      }\n\n      const has = Reflect.has(target, prop);\n      const deleted = Reflect.deleteProperty(target, prop);\n\n      if (has && !Reflect.has(target, prop)) {\n        markChange(target, prop);\n        markChange(target, true);\n      }\n\n      return deleted;\n    },\n\n    ownKeys(target) {\n      if (nest === false) {\n        return Reflect.ownKeys(target);\n      }\n\n      markRead(target, true);\n      return Reflect.ownKeys(target);\n    },\n\n    has(target, prop) {\n      if (nest === false) {\n        return Reflect.has(target, prop);\n      }\n\n      markRead(target, true);\n      return Reflect.has(target, prop);\n    }\n\n  });\n  return proxy;\n}\n/** 获取被代理的原始值 */\n\nfunction recover(v) {\n  if (!v) {\n    return v;\n  }\n\n  if (!encashable$1(v)) {\n    return v;\n  }\n\n  let value = v;\n\n  try {\n    getValue = v;\n    value = v.__monitorable__recover__;\n  } catch (_unused) {}\n\n  value = getValue;\n  getValue = false;\n\n  if (!value) {\n    return v;\n  }\n\n  if (typeof value === 'object') {\n    return value;\n  }\n\n  if (typeof value === 'function') {\n    return value;\n  }\n\n  return v;\n}\nfunction equal(a, b) {\n  return recover(a) === recover(b);\n}\n\nfunction run$1(cb, fn, options) {\n  cb = safeify(cb);\n  let cancelList;\n  const postpone = options === null || options === void 0 ? void 0 : options.postpone;\n  let end = false;\n  /** 取消监听 */\n\n  function cancel() {\n    if (end) {\n      return false;\n    }\n\n    end = true;\n\n    if (!cancelList) {\n      return true;\n    }\n\n    const list = cancelList;\n    cancelList = undefined;\n    list.forEach(f => f());\n    return true;\n  }\n\n  function trigger() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(true);\n  }\n\n  function run(thisRead) {\n    if (end) {\n      return false;\n    }\n\n    if (!thisRead.size) {\n      end = true;\n      return cb(false);\n    }\n\n    const list = [];\n\n    for (let [obj, props] of thisRead) {\n      for (const [p, m] of props) {\n        if (m) {\n          return cb(true);\n        }\n\n        list.push([obj, p]);\n      }\n    }\n\n    cancelList = list.map(([obj, p]) => watchProp(recover(obj), p, trigger));\n  }\n\n  function stop() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(false);\n  }\n  const thisRead = new Map();\n  const result = observe(thisRead, () => fn(stop), {\n    postpone\n  });\n  run(thisRead);\n\n  if (options === null || options === void 0 ? void 0 : options.resultOnly) {\n    return result;\n  }\n\n  return {\n    result,\n    stop\n  };\n}\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\n\n\nfunction exec(cb, fn, options) {\n  if (typeof cb !== 'function') {\n    throw new Error('cb needs to be a function');\n  }\n\n  if (typeof fn === 'function') {\n    return run$1(cb, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return run$1(cb, options, fn);\n}\n\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\nfunction create(cb, fn, options) {\n  cb = safeify(cb);\n  let cancelList;\n  /** 取消监听 */\n\n  function cancel() {\n    if (!cancelList) {\n      return false;\n    }\n\n    const list = cancelList;\n    cancelList = undefined;\n    list.forEach(f => f());\n    return true;\n  }\n\n  function trigger() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(true);\n  }\n\n  function run(thisRead) {\n    if (!thisRead.size) {\n      return cb(false);\n    }\n\n    const list = [];\n\n    for (let [obj, props] of thisRead) {\n      for (const [p, m] of props) {\n        if (m) {\n          return cb(true);\n        }\n\n        list.push([obj, p]);\n      }\n    }\n\n    cancelList = list.map(([obj, p]) => watchProp(recover(obj), p, trigger));\n  }\n\n  function exec(...p) {\n    cancel();\n    const thisRead = new Map();\n    const result = observe(thisRead, () => fn(...p), options);\n    run(thisRead);\n    return result;\n  }\n\n  exec.stop = () => {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(false);\n  };\n\n  return exec;\n}\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\n\n\nfunction monitor(cb, fn, options) {\n  if (typeof fn === 'function') {\n    return create(cb, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return create(cb, options, fn);\n}\n\n/** 取消监听的方法 */\n\nconst values = new WeakSet();\nfunction isValue(x) {\n  return values.has(x);\n}\n/** 触发监听 */\n\nfunction valueOf() {\n  const value = this();\n\n  if (value === undefined) {\n    return value;\n  }\n\n  if (value === null) {\n    return value;\n  }\n\n  return value.valueOf();\n}\n\nfunction toString(...p) {\n  const value = this();\n\n  if (value === undefined) {\n    return String(value);\n  }\n\n  if (value === null) {\n    return String(value);\n  }\n\n  if (typeof value.toString === 'function') {\n    return value.toString(...p);\n  }\n\n  return String(value);\n}\n\nfunction toPrimitive(hint) {\n  const value = this();\n\n  if (value === undefined) {\n    return String(value);\n  }\n\n  if (value === null) {\n    return String(value);\n  }\n\n  if (typeof value[Symbol.toPrimitive] === 'function') {\n    return value[Symbol.toPrimitive](hint);\n  }\n\n  if (hint === 'string') {\n    return String(value);\n  }\n\n  if (hint === 'number') {\n    return Number(value);\n  }\n\n  return value;\n}\n\nfunction createValue(recover, setValue, stop = () => {}, change = () => {}) {\n  function set(v, marked = false) {\n    if (!setValue) {\n      return;\n    }\n\n    try {\n      setValue(v, () => {\n        marked = true;\n      });\n    } finally {\n      if (marked) {\n        trigger();\n      }\n    }\n  }\n\n  function get() {\n    markRead(value, 'value');\n    return recover();\n  }\n\n  const value = (...v) => {\n    if (v.length) {\n      set(v[0], v[1]);\n      return v[0];\n    }\n\n    return get();\n  };\n\n  Reflect.defineProperty(value, 'value', {\n    get,\n    set,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, 'valueOf', {\n    value: valueOf,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, 'toString', {\n    value: toString,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, Symbol.toPrimitive, {\n    value: toPrimitive,\n    enumerable: true,\n    configurable: true\n  });\n\n  function watch(cb) {\n    if (!callbacks) {\n      return () => {};\n    }\n\n    cb = safeify(cb);\n    callbacks.push(cb);\n    change();\n    let cancelled = false;\n    return () => {\n      if (cancelled) {\n        return;\n      }\n\n      cancelled = true;\n\n      if (!callbacks) {\n        return;\n      }\n\n      const index = callbacks.findIndex(a => a === cb);\n\n      if (index < 0) {\n        return;\n      }\n\n      callbacks.splice(index, 1);\n      change();\n    };\n  }\n\n  let callbacks = [];\n  Reflect.defineProperty(value, 'watch', {\n    get() {\n      return watch;\n    },\n\n    set() {},\n\n    configurable: true\n  });\n\n  const trigger = () => {\n    if (!callbacks) {\n      return;\n    }\n\n    markChange(value, 'value');\n\n    for (const cb of [...callbacks]) {\n      cb(value, false);\n    }\n  };\n\n  trigger.has = () => {\n    var _callbacks;\n\n    return Boolean((_callbacks = callbacks) === null || _callbacks === void 0 ? void 0 : _callbacks.length);\n  };\n\n  trigger.stop = () => {\n    if (!callbacks) {\n      return;\n    }\n\n    const list = callbacks;\n    callbacks = undefined;\n\n    for (const cb of [...list]) {\n      cb(value, true);\n    }\n  };\n\n  values.add(value);\n  let stopped = false;\n\n  value.stop = () => {\n    if (stopped) {\n      return;\n    }\n\n    stopped = true;\n    stop();\n    trigger.stop();\n  };\n\n  return {\n    value,\n    trigger\n  };\n}\n/**\n * 创建引用值\n * @param value 初始值\n * @param options 选项\n */\n\n\nfunction value(def, options) {\n  const proxy = options === true || options && options.proxy;\n  let source;\n  let proxyValue;\n  const {\n    value\n  } = createValue(() => proxyValue, (v, mark) => {\n    if (proxy) {\n      v = recover(v);\n    }\n\n    if (v === source) {\n      return;\n    }\n\n    source = v;\n    proxyValue = proxy ? encase(source) : source;\n    mark();\n  });\n  value(def);\n  return value;\n}\nfunction computed(getter, setter, options) {\n  var _options;\n\n  if (typeof setter !== 'function') {\n    options = setter;\n    setter = undefined;\n  }\n\n  const setValue = setter;\n  const proxy = options === true || options && options.proxy;\n  const postpone = typeof options === 'object' && ((_options = options) === null || _options === void 0 ? void 0 : _options.postpone);\n  let source;\n  let proxyValue;\n  let stopped = false;\n  let computed = false;\n  let trigger;\n  const executable = monitor(changed => {\n    computed = !changed;\n\n    if (changed && trigger) {\n      trigger();\n    }\n  }, getter, {\n    postpone\n  });\n\n  function run() {\n    computed = true;\n\n    try {\n      source = executable();\n\n      if (proxy) {\n        source = recover(source);\n      }\n\n      proxyValue = proxy ? encase(source) : source;\n      return proxyValue;\n    } catch (e) {\n      if (!stopped) {\n        computed = false;\n      }\n\n      throw e;\n    }\n  }\n\n  let value;\n  ({\n    value,\n    trigger\n  } = createValue(() => computed || stopped ? proxyValue : run(), setValue && (v => setValue(proxy ? recover(v) : v)), () => {\n    if (stopped) {\n      return;\n    }\n\n    stopped = true;\n\n    if (computed) {\n      return;\n    }\n\n    run();\n  }));\n  return value;\n}\nfunction merge(cb) {\n  let oldValue;\n  let ran = false;\n  return (v, stopped) => {\n    if (stopped) {\n      return cb(v, stopped);\n    }\n\n    const newValue = recover(v());\n\n    if (newValue === oldValue && ran) {\n      return;\n    }\n\n    ran = true;\n    oldValue = newValue;\n    cb(v, stopped);\n  };\n}\nfunction mix(source) {\n  for (const k of Reflect.ownKeys(source)) {\n    const descriptor = Reflect.getOwnPropertyDescriptor(source, k);\n\n    if (!descriptor) {\n      continue;\n    }\n\n    if (!('value' in descriptor) || 'get' in descriptor || 'set' in descriptor) {\n      continue;\n    }\n\n    const value = descriptor.value;\n\n    if (!isValue(value)) {\n      continue;\n    }\n\n    descriptor.get = () => value.value;\n\n    if (descriptor.writable) {\n      descriptor.set = v => value.value = v;\n    }\n\n    delete descriptor.value;\n    delete descriptor.writable;\n    Reflect.defineProperty(source, k, descriptor);\n  }\n\n  return source;\n}\n\nfunction createValue$1(props, key, def = value(undefined), set) {\n  function setValue(value, setted) {\n    if (!set) {\n      return;\n    }\n\n    set(value, setted);\n  }\n\n  return computed(() => {\n    if (!(key in props)) {\n      return def();\n    }\n\n    const p = props[key];\n    return isValue(p) ? p() : p;\n  }, v => {\n    if (!(key in props)) {\n      def(v);\n      setValue(v, false);\n      return;\n    }\n\n    const p = props[key];\n\n    if (isValue(p)) {\n      p(v);\n      setValue(v, true);\n      return;\n    }\n\n    setValue(v, false);\n  });\n}\n\nfunction valueify(props, key, def, set) {\n  if (arguments.length >= 2) {\n    return createValue$1(props, key, def, set);\n  }\n\n  return (k, d, s) => createValue$1(props, k, d, s);\n}\n\nfunction createValue$2(props, key) {\n  return computed(() => {\n    const p = props[key];\n    return isValue(p) ? p() : p;\n  }, v => {\n    const p = props[key];\n\n    if (isValue(p)) {\n      p(v);\n    } else {\n      props[key] = v;\n    }\n  });\n}\n\nfunction asValue(props, key) {\n  if (arguments.length >= 2) {\n    return createValue$2(props, key);\n  }\n\n  return k => createValue$2(props, k);\n}\n\nexport { asValue, computed, encase, encashable, equal, exec, getIndexes, getMapValue, isValue, markChange, markRead, merge, mix, monitor, observe, observeRun, postpone, printError, recover, safeify, setPrintError, value, valueify, watchProp };\n//# sourceMappingURL=monitorable.esm.js.map\n","/*!\n * Neep v0.1.0-alpha.15\n * (c) 2019-2020 Fierflame\n * @license MIT\n */\nimport { safeify, markRead, markChange, printError, value, isValue, computed, postpone, exec as exec$1, encase, monitor, recover, valueify, asValue } from 'monitorable';\nexport { asValue, computed, encase, isValue, recover, value, valueify } from 'monitorable';\n\nconst version = '0.1.0-alpha.15';\nconst isProduction = process.env.NODE_ENV === 'production';\n\nconst devtools = {\n  renderHook() {}\n\n};\nfunction installDevtools(tools) {\n  if (!tools) {\n    return;\n  }\n\n  if (typeof tools !== 'object') {\n    return;\n  }\n\n  const {\n    renderHook\n  } = tools;\n\n  if (typeof renderHook === 'function') {\n    devtools.renderHook = renderHook;\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nclass NeepError extends Error {\n  constructor(message, tag = '') {\n    super(tag ? `[${tag}] ${message}` : message);\n\n    _defineProperty(this, \"tag\", void 0);\n\n    this.tag = tag;\n  }\n\n}\nfunction assert(v, message, tag) {\n  if (v) {\n    return;\n  }\n\n  throw new NeepError(message, tag);\n}\n\nlet nextFrameApi;\nfunction nextFrame(fn) {\n  assert(nextFrameApi, 'The basic renderer is not installed', 'install');\n\n  if (nextFrameApi) {\n    nextFrameApi(fn);\n  }\n}\nconst renders = Object.create(null);\nfunction getRender(type = '') {\n  if (typeof type === 'object') {\n    return type;\n  }\n\n  return renders[type] || renders.default;\n}\nfunction installRender(render) {\n  if (!render) {\n    return;\n  }\n\n  renders[render.type] = render;\n\n  if (nextFrameApi) {\n    return;\n  }\n\n  if (!renders.default) {\n    renders.default = render;\n  }\n\n  if (!nextFrameApi && render.nextFrame) {\n    renders.default = render;\n    nextFrameApi = render.nextFrame;\n  }\n}\n\nfunction installMonitorable(api) {}\n\nfunction install(apis) {\n  installMonitorable(apis.monitorable);\n  installRender(apis.render);\n\n  if (!isProduction) {\n    installDevtools(apis.devtools);\n  }\n}\n\nlet current;\nfunction setCurrent(fn, entity) {\n  const oldEntity = current;\n  current = entity;\n\n  try {\n    current.$_valueIndex = 0;\n    current.$_serviceIndex = 0;\n    const ret = fn();\n\n    if (current.$_valueIndex !== current.$_values.length) {\n      throw new NeepError('Inconsistent number of useValue executions', 'life');\n    }\n\n    if (current.$_serviceIndex && current.$_serviceIndex !== current.$_services.length) {\n      throw new NeepError('Inconsistent number of useService executions', 'life');\n    }\n\n    return ret;\n  } finally {\n    current = oldEntity;\n  }\n}\nfunction checkCurrent(name, initOnly = false) {\n  if (!current) {\n    throw new NeepError(`Function \\`${name}\\` can only be called within a cycle.`, 'life');\n  }\n\n  if (!initOnly) {\n    return current;\n  }\n\n  if (!current.created) {\n    return current;\n  }\n\n  throw new NeepError(`Function \\`${name}\\` can only be called at initialization time.`, 'life');\n}\n\nconst constructors = [];\nfunction initContext(context, entity) {\n  for (const constructor of constructors) {\n    constructor(context, entity);\n  }\n\n  return context;\n}\nfunction addContextConstructor(constructor) {\n  constructors.push(safeify(constructor));\n}\n\nconst constructors$1 = [];\nfunction initEntity(entity) {\n  for (const constructor of constructors$1) {\n    constructor(entity);\n  }\n\n  return entity;\n}\nfunction addEntityConstructor(constructor) {\n  constructors$1.push(safeify(constructor));\n}\n\nlet delayedRefresh = 0;\nconst objectSet = new Set();\nfunction wait(obj) {\n  if (delayedRefresh <= 0) {\n    return false;\n  }\n\n  objectSet.add(obj);\n  return true;\n}\n\nfunction run() {\n  if (delayedRefresh > 0) {\n    return;\n  }\n\n  const list = [...objectSet];\n  objectSet.clear();\n  list.forEach(o => o.refresh());\n}\n\nasync function asyncRefresh(f) {\n  try {\n    delayedRefresh++;\n    return await f();\n  } finally {\n    delayedRefresh--;\n    run();\n  }\n}\n\nfunction refresh(f, async) {\n  if (async) {\n    return asyncRefresh(f);\n  }\n\n  try {\n    delayedRefresh++;\n    return f();\n  } finally {\n    delayedRefresh--;\n    run();\n  }\n}\n\nfunction getEventName(k) {\n  if (k[0] === '@') {\n    return k.substr(1);\n  }\n\n  if (/^on[:-]/.test(k)) {\n    return k.substr(3);\n  }\n\n  if (/^n([:-])on(\\1|:)/.test(k)) {\n    return k.substr(5);\n  }\n\n  return '';\n}\n\nfunction addEventFromCollection(addEvent, events) {\n  if (!events) {\n    return;\n  }\n\n  if (typeof events === 'function') {\n    const {\n      names\n    } = events;\n\n    if (!Array.isArray(names)) {\n      return;\n    }\n\n    for (const n of names) {\n      if (!n) {\n        continue;\n      }\n\n      addEvent(n, (...p) => events(n, ...p));\n    }\n\n    return;\n  }\n\n  if (typeof events !== 'object') {\n    return;\n  }\n\n  for (const k of Object.keys(events)) {\n    const f = events[k];\n\n    if (typeof f !== 'function') {\n      continue;\n    }\n\n    addEvent(k, f);\n  }\n}\n\nclass EventEmitter {\n  static update(emitter, events) {\n    if (!events) {\n      return [];\n    }\n\n    const newHandles = [];\n\n    if (events && typeof events === 'object') {\n      for (const n of Object.keys(events)) {\n        if (!n) {\n          continue;\n        }\n\n        const fn = events[n];\n\n        if (typeof fn !== 'function') {\n          continue;\n        }\n\n        newHandles.push(emitter.on(n, fn));\n      }\n    }\n\n    return newHandles;\n  }\n\n  static updateInProps(emitter, props, custom) {\n    if (!props) {\n      return [];\n    }\n\n    const newHandles = [];\n\n    function addEvent(entName, listener) {\n      newHandles.push(emitter.on(entName, listener));\n    }\n\n    for (const k of Object.keys(props)) {\n      const fn = props[k];\n\n      if (typeof fn !== 'function') {\n        continue;\n      }\n\n      const entName = getEventName(k);\n\n      if (!entName) {\n        continue;\n      }\n\n      addEvent(entName, fn);\n    }\n\n    addEventFromCollection(addEvent, props['@']);\n    addEventFromCollection(addEvent, props['n:on']);\n    addEventFromCollection(addEvent, props['n-on']);\n\n    if (typeof custom === 'function') {\n      custom(addEvent);\n    }\n\n    newHandles.push(...EventEmitter.update(emitter, props['@']));\n    return newHandles;\n  }\n\n  get names() {\n    return [...this._names];\n  }\n\n  constructor() {\n    _defineProperty(this, \"_names\", new Set());\n\n    _defineProperty(this, \"_cancelHandles\", new Set());\n\n    _defineProperty(this, \"emit\", void 0);\n\n    _defineProperty(this, \"on\", void 0);\n\n    const events = Object.create(null);\n    const names = this._names;\n\n    function createEmit(...omitNames) {\n      function emit(name, ...p) {\n        const event = events[name];\n\n        if (!event) {\n          return true;\n        }\n\n        return refresh(() => {\n          let res = true;\n\n          for (const fn of [...event]) {\n            res = fn(...p) && res;\n          }\n\n          return res;\n        });\n      }\n\n      emit.omit = (...names) => createEmit(...omitNames, ...names);\n\n      Reflect.defineProperty(emit, 'names', {\n        get: () => {\n          markRead(createEmit, 'names');\n          return [...names].filter(t => !omitNames.includes(t));\n        },\n        configurable: true\n      });\n      return emit;\n    }\n\n    const on = (name, listener) => {\n      var _event;\n\n      function fn(...p) {\n        try {\n          return listener(...p) !== false;\n        } catch (e) {\n          printError(e);\n          return true;\n        }\n      }\n\n      let event = events[name];\n\n      if (!((_event = event) === null || _event === void 0 ? void 0 : _event.size)) {\n        event = new Set();\n        events[name] = event;\n        markChange(createEmit, 'names');\n        names.add(name);\n      }\n\n      event.add(fn);\n      let removed = false;\n      return () => {\n        if (removed) {\n          return;\n        }\n\n        removed = true;\n        event.delete(fn);\n\n        if (event.size) {\n          return;\n        }\n\n        markChange(createEmit, 'names');\n        names.delete(name);\n      };\n    };\n\n    this.emit = createEmit();\n    this.on = on;\n  }\n\n  updateHandles(newHandles) {\n    const eventCancelHandles = this._cancelHandles;\n    const oldHandles = [...eventCancelHandles];\n    eventCancelHandles.clear();\n\n    for (const fn of oldHandles) {\n      fn();\n    }\n\n    newHandles.forEach(f => eventCancelHandles.add(f));\n    return newHandles;\n  }\n\n  update(list) {\n    const handles = EventEmitter.update(this, list);\n    return this.updateHandles(handles);\n  }\n\n  updateInProps(list, custom) {\n    const handles = EventEmitter.updateInProps(this, list, custom);\n    return this.updateHandles(handles);\n  }\n\n}\n\nconst ScopeSlot = 'neep:ScopeSlot';\nconst SlotRender = 'neep:SlotRender';\nconst Slot = 'neep:slot';\nconst Value = 'neep:value';\nconst Container = 'neep:container';\nconst Template = 'template';\nconst Fragment = Template;\n\nfunction ref(set) {\n  if (set && (typeof set === 'function' || typeof set === 'object')) {\n    return function refValue(node, isRemove) {\n      if (isRemove) {\n        set.delete(node);\n      } else {\n        set.add(node);\n      }\n    };\n  }\n\n  if (set) {\n    const obj = value(null);\n\n    function refValue(node, isRemove) {\n      obj.value = isRemove ? null : node;\n    }\n\n    Reflect.defineProperty(refValue, 'value', {\n      get() {\n        return obj.value;\n      },\n\n      enumerable: true,\n      configurable: true\n    });\n    return refValue;\n  }\n\n  let obj = null;\n\n  function refValue(node, isRemove) {\n    obj = isRemove ? null : node;\n  }\n\n  Reflect.defineProperty(refValue, 'value', {\n    get() {\n      return obj;\n    },\n\n    enumerable: true,\n    configurable: true\n  });\n  return refValue;\n}\n\nconst hooks = Object.create(null);\nfunction setHook(id, hook, entity) {\n  let list = (entity === null || entity === void 0 ? void 0 : entity.$_hooks) || hooks;\n\n  if (!list) {\n    return () => {};\n  }\n\n  hook = safeify(hook);\n  let set = list[id];\n\n  if (!set) {\n    set = new Set();\n    list[id] = set;\n  }\n\n  set.add(hook);\n  return () => set.delete(hook);\n}\nfunction callHook(id, exposed) {\n  if (!exposed) {\n    return;\n  }\n\n  for (const hook of exposed.$_hooks[id] || []) {\n    hook(exposed);\n  }\n\n  for (const hook of hooks[id] || []) {\n    hook(exposed);\n  }\n}\n\nfunction watch(value, cb) {\n  const entity = checkCurrent('watch');\n\n  if (typeof value !== 'function') {\n    return () => {};\n  }\n\n  const stop = isValue(value) ? value.watch(cb) : computed(value).watch((v, s) => cb(v(), s));\n  setHook('beforeDestroy', () => stop(), entity);\n  return stop;\n}\nfunction useValue(fn) {\n  const entity = checkCurrent('useValue');\n  const index = entity.$_valueIndex++;\n  const values = entity.$_values;\n\n  if (!entity.created) {\n    values[index] = undefined;\n    const v = typeof fn === 'function' ? fn() : value(undefined);\n    return values[index] = v;\n  }\n\n  if (index >= values.length) {\n    throw new NeepError('Inconsistent number of useValue executions', 'life');\n  }\n\n  return values[index];\n}\nfunction useService(fn, ...p) {\n  const entity = checkCurrent('useService');\n  const index = entity.$_serviceIndex++;\n  const services = entity.$_services;\n\n  if (!entity.created) {\n    services[index] = undefined;\n    const v = fn(entity, ...p);\n    services[index] = v;\n    return v;\n  }\n\n  if (index >= services.length) {\n    throw new NeepError('Inconsistent number of useService executions', 'life');\n  }\n\n  return services[index];\n}\nfunction byService(fn, ...p) {\n  const entity = checkCurrent('byService');\n  return fn(entity, ...p);\n}\nfunction hook(name, hook, initOnly) {\n  const entity = checkCurrent('setHook');\n\n  if (initOnly && entity.created) {\n    return undefined;\n  }\n\n  return setHook(name, () => hook(), entity);\n}\n\nfunction setValue(obj, name, value, opt) {\n  if (typeof name === 'string' && ['$', '_'].includes(name[0])) {\n    return;\n  }\n\n  if (isValue(value) && opt) {\n    Reflect.defineProperty(obj, name, {\n      get() {\n        return value();\n      },\n\n      set(v) {\n        value(v);\n      },\n\n      configurable: true,\n      enumerable: true\n    });\n    return;\n  }\n\n  if (typeof value === 'function' && opt) {\n    Reflect.defineProperty(obj, name, {\n      get: value,\n      set: typeof opt === 'function' ? opt : undefined,\n      configurable: true,\n      enumerable: true\n    });\n    return;\n  }\n\n  Reflect.defineProperty(obj, name, {\n    get() {\n      return value;\n    },\n\n    configurable: true,\n    enumerable: true\n  });\n}\n\nfunction expose(name, value, opt) {\n  setValue(checkCurrent('expose', true).exposed, name, value, opt);\n}\n\nconst typeSymbol = Symbol.for('type');\nconst nameSymbol = Symbol.for('name');\nconst renderSymbol = Symbol.for('render');\nconst componentsSymbol = Symbol.for('components');\nconst configSymbol = Symbol.for('config');\nconst objectTypeSymbol = Symbol.for('$$$objectType$$$');\nconst objectTypeSymbolElement = '$$$objectType$$$Element';\nconst objectTypeSymbolDeliver = '$$$objectType$$$Deliver';\nconst deliverKeySymbol = Symbol.for('$$$deliverKey$$$');\nconst deliverDefaultSymbol = Symbol.for('$$$deliverDefault$$$');\n\nfunction isElement(v) {\n  if (!v) {\n    return false;\n  }\n\n  if (typeof v !== 'object') {\n    return false;\n  }\n\n  return v[objectTypeSymbol] === objectTypeSymbolElement;\n}\nfunction isSimpleTag(tag) {\n  if (!tag) {\n    return false;\n  }\n\n  if (typeof tag !== 'function') {\n    return false;\n  }\n\n  return tag[typeSymbol] === 'simple';\n}\nfunction isSimpleElement(v) {\n  return isElement(v) && isSimpleTag(v.tag);\n}\nfunction createElement(tag, attrs, ...children) {\n  const props = attrs ? { ...attrs\n  } : {};\n  const node = {\n    [objectTypeSymbol]: objectTypeSymbolElement,\n    tag,\n    key: undefined,\n    props,\n    children\n  };\n\n  if ('n:key' in props) {\n    node.key = props['n:key'];\n  } else if ('n-key' in props) {\n    node.key = props['n-key'];\n  } else if ('key' in props) {\n    node.key = props.key;\n  }\n\n  if ('n:slot' in props) {\n    node.slot = props['n:slot'];\n  } else if ('n-slot' in props) {\n    node.slot = props['n-slot'];\n  } else if ('slot' in props) {\n    node.slot = props.slot;\n  }\n\n  if (typeof props['n:ref'] === 'function') {\n    node.ref = props['n:ref'];\n  } else if (typeof props['n-ref'] === 'function') {\n    node.ref = props['n-ref'];\n  } else if (typeof props.ref === 'function') {\n    node.ref = props.ref;\n  }\n\n  if (tag === Value) {\n    node.value = props.value;\n  }\n\n  return node;\n}\nfunction elements(node, opt = {}) {\n  if (Array.isArray(node)) {\n    const list = [];\n\n    for (let n of node) {\n      list.push(elements(n, opt));\n    }\n\n    return [].concat(...list);\n  }\n\n  if (!isElement(node)) {\n    return [node];\n  }\n\n  let {\n    tag\n  } = node;\n\n  if (!tag) {\n    return [node];\n  }\n\n  if ([Template, ScopeSlot].includes(tag)) {\n    return elements(node.children, opt);\n  }\n\n  if (typeof tag !== 'function') {\n    return [node];\n  }\n\n  if (tag[typeSymbol] !== 'simple') {\n    return [node];\n  }\n\n  const {\n    simple = true\n  } = opt;\n\n  if (!simple) {\n    return [node];\n  }\n\n  if (Array.isArray(simple)) {\n    if (simple.includes(tag)) {\n      return [node];\n    }\n  } else if (typeof simple === 'function') {\n    if (!simple(tag)) {\n      return [node];\n    }\n  }\n\n  return elements(node.children, opt);\n}\n\nfunction equalProps(a, b) {\n  if (Object.is(a, b)) {\n    return true;\n  }\n\n  if (!a) {\n    return false;\n  }\n\n  if (!b) {\n    return false;\n  }\n\n  if (typeof a !== 'object') {\n    return false;\n  }\n\n  if (typeof b !== 'object') {\n    return false;\n  }\n\n  const aKeys = new Set(Reflect.ownKeys(a));\n  const bKeys = Reflect.ownKeys(b);\n\n  if (aKeys.size !== bKeys.length) {\n    return false;\n  }\n\n  for (const k of bKeys) {\n    if (!aKeys.has(k)) {\n      return false;\n    }\n\n    if (a[k] !== b[k]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction equal(a, b) {\n  if (Object.is(a, b)) {\n    return true;\n  }\n\n  if (!a) {\n    return false;\n  }\n\n  if (!b) {\n    return false;\n  }\n\n  if (typeof a !== 'object') {\n    return false;\n  }\n\n  if (typeof b !== 'object') {\n    return false;\n  }\n\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b)) {\n      return false;\n    }\n\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (let i = a.length - 1; i >= 0; i--) {\n      if (!equal(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  if (Array.isArray(b)) {\n    return false;\n  }\n\n  if (!isElement(a)) {\n    return false;\n  }\n\n  if (!isElement(b)) {\n    return false;\n  }\n\n  if (a.tag !== b.tag) {\n    return false;\n  }\n\n  if (a.execed !== b.execed) {\n    return false;\n  }\n\n  if (a.inserted !== b.inserted) {\n    return false;\n  }\n\n  if (a.ref !== b.ref) {\n    return false;\n  }\n\n  if (a.value !== b.value) {\n    return false;\n  }\n\n  if (a.key !== b.key) {\n    return false;\n  }\n\n  if (a.slot !== b.slot) {\n    return false;\n  }\n\n  return equalProps(a.props, b.props) && equal(a.children, b.children);\n}\n\nlet label;\nfunction setLabel(l) {\n  label = l;\n}\nfunction getLabel() {\n  const l = label;\n  label = undefined;\n  return l;\n}\n\nfunction label$1(text, color = '') {\n  if (!isProduction) {\n    if (!current) {\n      setLabel([text, color]);\n      return;\n    }\n\n    Reflect.defineProperty(current.exposed, '$label', {\n      value: [text, color],\n      configurable: true\n    });\n  }\n}\n\nfunction getRect(n) {\n  for (const render of [...Object.values(renders)]) {\n    if (!render) {\n      continue;\n    }\n\n    if (!render.isNode(n)) {\n      continue;\n    }\n\n    const rect = render.getRect(n);\n\n    if (rect) {\n      return rect;\n    }\n  }\n\n  return null;\n}\n\nfunction createDeliver(def) {\n  const symbol = Symbol();\n\n  function Provider(_, {\n    childNodes\n  }) {\n    return childNodes;\n  }\n\n  Reflect.defineProperty(Provider, objectTypeSymbol, {\n    value: objectTypeSymbolDeliver\n  });\n  Reflect.defineProperty(Provider, deliverKeySymbol, {\n    value: symbol\n  });\n  Reflect.defineProperty(Provider, deliverDefaultSymbol, {\n    value: def\n  });\n  return Provider;\n}\nfunction isDeliver(d) {\n  if (typeof d !== 'function') {\n    return false;\n  }\n\n  return d[objectTypeSymbol] === objectTypeSymbolDeliver;\n}\nfunction getDelivered(delivered, Deliver) {\n  assert(isDeliver(Deliver), '');\n  const value = delivered[Deliver[deliverKeySymbol]];\n  return value === undefined ? Deliver[deliverDefaultSymbol] : value;\n}\n\nlet ids = 0;\nconst Nodes = {};\nlet IdMap;\n\nif (!isProduction) {\n  IdMap = new Map();\n}\n\nfunction createMountedNode(n, id) {\n  if (!isProduction) {\n    id = id || ++ids;\n    const {\n      node\n    } = n;\n\n    if (node && IdMap) {\n      IdMap.set(node, id);\n    }\n\n    return Nodes[id] = { ...n,\n      id\n    };\n  }\n\n  return { ...n,\n    id: 0\n  };\n}\nfunction recoveryMountedNode(node) {\n  if (!isProduction) {\n    delete Nodes[node.id];\n  }\n}\n\nfunction* recursive2iterable(list) {\n  if (!Array.isArray(list)) {\n    yield list;\n    return;\n  }\n\n  for (const it of list) {\n    yield* recursive2iterable(it);\n  }\n}\n\nlet refList;\nfunction setRefList(list) {\n  refList = list;\n}\nfunction setRef(ref, node, isRemove) {\n  if (typeof ref !== 'function') {\n    return;\n  }\n\n  if (!node) {\n    return;\n  }\n\n  if (!refList) {\n    ref(node, isRemove);\n  } else {\n    refList.push(() => ref(node, isRemove));\n  }\n}\nfunction* getNodes(tree) {\n  if (Array.isArray(tree)) {\n    for (const it of tree) {\n      yield* getNodes(it);\n    }\n\n    return;\n  }\n\n  const {\n    children,\n    node,\n    component\n  } = tree;\n\n  if (node) {\n    yield node;\n    return;\n  }\n\n  if (component) {\n    yield* getNodes(component.tree);\n    return;\n  }\n\n  yield* getNodes(children);\n}\nfunction unmount(iRender, tree) {\n  if (Array.isArray(tree)) {\n    tree.forEach(e => unmount(iRender, e));\n    return;\n  }\n\n  const {\n    component,\n    children,\n    node,\n    ref\n  } = tree;\n  recoveryMountedNode(tree);\n\n  if (component) {\n    setRef(ref, component.exposed, true);\n    component.unmount();\n    return;\n  }\n\n  if (node) {\n    setRef(ref, node, true);\n    iRender.removeNode(node);\n  }\n\n  unmount(iRender, children);\n}\n\nfunction createValue(iRender, source, value) {\n  let {\n    ref\n  } = source;\n\n  if (iRender.isNode(value)) {\n    setRef(ref, value);\n    return createMountedNode({ ...source,\n      value,\n      node: value,\n      children: [],\n      component: undefined\n    });\n  }\n\n  const type = typeof value;\n  let node;\n\n  if (type === 'bigint' || type === 'boolean' || type === 'number' || type === 'string' || type === 'symbol' || value instanceof RegExp) {\n    node = iRender.createText(String(value));\n  } else if (value instanceof Date) {\n    node = iRender.createText(value.toISOString());\n  } else if (type === 'object' && value) {\n    node = iRender.createText(String(value));\n  }\n\n  if (!node) {\n    node = iRender.createPlaceholder();\n  }\n\n  setRef(ref, node);\n  return createMountedNode({ ...source,\n    value,\n    node,\n    component: undefined,\n    children: []\n  });\n}\nfunction createAll(iRender, source) {\n  if (!source.length) {\n    return [createMountedNode({\n      tag: null,\n      node: iRender.createPlaceholder(),\n      component: undefined,\n      children: []\n    })];\n  }\n\n  return source.map(item => Array.isArray(item) ? createList(iRender, item) : createItem(iRender, item));\n}\nfunction createList(iRender, source) {\n  if (source.length) {\n    return source.map(it => createItem(iRender, it));\n  }\n\n  return [createMountedNode({\n    tag: null,\n    node: iRender.createPlaceholder(),\n    component: undefined,\n    children: []\n  })];\n}\nfunction createItem(iRender, source) {\n  var _source$children;\n\n  const {\n    tag,\n    ref,\n    component\n  } = source;\n\n  if (!tag) {\n    const node = iRender.createPlaceholder();\n    setRef(ref, node);\n    return createMountedNode({\n      tag: null,\n      node,\n      component: undefined,\n      children: []\n    });\n  }\n\n  if (isDeliver(tag)) {\n    return createMountedNode({ ...source,\n      node: undefined,\n      component: undefined,\n      children: createAll(iRender, source.children)\n    });\n  }\n\n  const ltag = typeof tag !== 'string' ? '' : tag.toLowerCase();\n\n  if (typeof tag !== 'string' || ltag === Container) {\n    if (!component) {\n      return createMountedNode({ ...source,\n        node: undefined,\n        component: undefined,\n        children: createAll(iRender, source.children)\n      });\n    }\n\n    component.mount();\n    setRef(ref, component.exposed);\n    return createMountedNode({ ...source,\n      node: undefined,\n      component,\n      children: []\n    });\n  }\n\n  if (ltag === Value) {\n    let {\n      value\n    } = source;\n\n    if (isValue(value)) {\n      value = value();\n    }\n\n    return createValue(iRender, source, value);\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return createMountedNode({ ...source,\n      node: undefined,\n      component: undefined,\n      children: createAll(iRender, source.children)\n    });\n  }\n\n  const node = iRender.createElement(tag);\n  setRef(ref, node);\n  let children = [];\n\n  if ((_source$children = source.children) === null || _source$children === void 0 ? void 0 : _source$children.length) {\n    children = createAll(iRender, source.children);\n\n    for (const it of getNodes(children)) {\n      iRender.insertNode(node, it);\n    }\n  }\n\n  iRender.updateProps(node, source.props || {});\n  return createMountedNode({ ...source,\n    node,\n    component: undefined,\n    children\n  });\n}\n\nfunction getLastNode(tree) {\n  if (Array.isArray(tree)) {\n    return getLastNode(tree[tree.length - 1]);\n  }\n\n  const {\n    component,\n    children,\n    node\n  } = tree;\n\n  if (node) {\n    return node;\n  }\n\n  if (component) {\n    return getLastNode(component.tree);\n  }\n\n  return getLastNode(children);\n}\n\nfunction getFirstNode(tree) {\n  if (Array.isArray(tree)) {\n    return getFirstNode(tree[0]);\n  }\n\n  const {\n    component,\n    children,\n    node\n  } = tree;\n\n  if (node) {\n    return node;\n  }\n\n  if (component) {\n    return getFirstNode(component.tree);\n  }\n\n  return getFirstNode(children[0]);\n}\n\nfunction replace(iRender, newTree, oldTree) {\n  const next = getFirstNode(oldTree);\n\n  if (!next) {\n    return newTree;\n  }\n\n  const parent = iRender.getParent(next);\n\n  if (!parent) {\n    return newTree;\n  }\n\n  for (const it of getNodes(newTree)) {\n    iRender.insertNode(parent, it, next);\n  }\n\n  unmount(iRender, oldTree);\n  return newTree;\n}\n\nfunction updateList(iRender, source, tree) {\n  if (!source.length) {\n    const node = createItem(iRender, {\n      tag: null,\n      children: []\n    });\n    return [replace(iRender, node, tree)];\n  }\n\n  if (!Array.isArray(tree)) {\n    tree = [tree];\n  }\n\n  const newList = [];\n  const list = [...tree];\n  const mountedMap = new Map();\n\n  for (const src of source) {\n    const index = list.findIndex(it => it.tag === src.tag && it.key === src.key);\n\n    if (index >= 0) {\n      const old = list[index];\n      const item = updateItem(iRender, src, old);\n      mountedMap.set(old, item);\n      newList.push(item);\n      list.splice(index, 1);\n    } else {\n      const item = createItem(iRender, src);\n      newList.push(item);\n    }\n  }\n\n  if (!mountedMap.size) {\n    return replace(iRender, newList, list);\n  }\n\n  unmount(iRender, list);\n  tree = tree.filter(t => mountedMap.has(t));\n  const last = getLastNode(tree[tree.length - 1]);\n  const parent = iRender.getParent(last);\n\n  if (!parent) {\n    return newList;\n  }\n\n  let next = iRender.nextNode(last);\n\n  for (let i = newList.length - 1; i >= 0; i--) {\n    const item = newList[i];\n    const index = tree.findIndex(o => mountedMap.get(o) === item);\n\n    if (index >= 0) {\n      for (const it of tree.splice(index)) {\n        mountedMap.delete(it);\n      }\n    } else {\n      for (const it of getNodes(item)) {\n        iRender.insertNode(parent, it, next);\n      }\n    }\n\n    next = getFirstNode(item) || next;\n  }\n\n  return newList;\n}\n\nfunction updateAll(iRender, source, tree) {\n  let index = 0;\n  let length = Math.min(source.length, tree.length);\n  const list = [];\n\n  for (; index < length; index++) {\n    const src = source[index];\n\n    if (Array.isArray(src)) {\n      list.push(updateList(iRender, src, tree[index]));\n    } else {\n      list.push(updateItem(iRender, src, tree[index]));\n    }\n  }\n\n  length = Math.max(source.length, tree.length);\n\n  if (tree.length > index) {\n    for (; index < length; index++) {\n      unmount(iRender, tree[index]);\n    }\n  }\n\n  if (source.length > index) {\n    const last = getLastNode(list[list.length - 1]);\n    const parent = iRender.getParent(last);\n    const next = iRender.nextNode(last);\n\n    for (; index < length; index++) {\n      const src = source[index];\n      const item = Array.isArray(src) ? createList(iRender, src) : createItem(iRender, src);\n      list.push(item);\n\n      if (!parent) {\n        continue;\n      }\n\n      for (const it of getNodes(item)) {\n        iRender.insertNode(parent, it, next);\n      }\n    }\n  }\n\n  return list;\n}\n\nfunction updateItem(iRender, source, tree) {\n  if (Array.isArray(tree)) {\n    const index = tree.findIndex(it => it.tag === source.tag && it.component === source.component);\n\n    if (index < 0) {\n      return replace(iRender, createItem(iRender, source), tree);\n    }\n\n    const all = tree;\n    [tree] = tree.splice(index, 1);\n    unmount(iRender, all);\n  }\n\n  const {\n    tag,\n    component\n  } = source;\n  const ref = source.ref !== tree.ref && source.ref || undefined;\n\n  if (tag !== tree.tag || component !== tree.component) {\n    return replace(iRender, createItem(iRender, source), tree);\n  }\n\n  if (isDeliver(tag)) {\n    return createMountedNode({ ...source,\n      node: undefined,\n      component: undefined,\n      children: updateAll(iRender, source.children, tree.children)\n    }, tree.id);\n  }\n\n  if (!tag) {\n    return tree;\n  }\n\n  const ltag = typeof tag !== 'string' ? '' : tag.toLowerCase();\n\n  if (typeof tag !== 'string' || ltag === Container) {\n    if (!component) {\n      return createMountedNode({ ...source,\n        node: undefined,\n        component: undefined,\n        children: updateAll(iRender, source.children, tree.children)\n      }, tree.id);\n    }\n\n    setRef(ref, component.exposed);\n    return createMountedNode({ ...source,\n      node: undefined,\n      component,\n      children: []\n    }, tree.id);\n  }\n\n  if (ltag === Value) {\n    let {\n      value\n    } = source;\n\n    if (isValue(value)) {\n      value = value();\n    }\n\n    if (tree.value === value) {\n      setRef(ref, tree.node);\n      return createMountedNode({ ...tree,\n        ...source,\n        value,\n        children: []\n      }, tree.id);\n    }\n\n    return replace(iRender, createValue(iRender, source, value), tree);\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return createMountedNode({ ...source,\n      node: undefined,\n      component: undefined,\n      children: updateAll(iRender, source.children, tree.children)\n    }, tree.id);\n  }\n\n  const {\n    node\n  } = tree;\n  setRef(ref, node);\n  let children = [];\n\n  if (!source.children.length && tree.children.length) {\n    unmount(iRender, tree.children);\n  } else if (source.children.length && tree.children.length) {\n    children = updateAll(iRender, source.children, tree.children);\n  } else if (source.children.length && !tree.children.length) {\n    children = createAll(iRender, source.children);\n\n    for (const it of getNodes(children)) {\n      iRender.insertNode(node, it);\n    }\n  }\n\n  iRender.updateProps(node, source.props || {});\n  return createMountedNode({ ...tree,\n    ...source,\n    children\n  }, tree.id);\n}\n\nfunction draw(iRender, source, tree) {\n  if (tree) {\n    return updateAll(iRender, source, tree);\n  }\n\n  return createAll(iRender, source);\n}\n\nfunction getSlots(iRender, children, slots, native = false) {\n  const nativeList = [];\n\n  for (const it of children) {\n    if (Array.isArray(it)) {\n      const list = Object.create(null);\n      nativeList.push(getSlots(iRender, it, list, native));\n\n      for (const k of Reflect.ownKeys(list)) {\n        if (k in slots) {\n          slots[k].push(list[k]);\n        } else {\n          slots[k] = [list[k]];\n        }\n      }\n\n      continue;\n    }\n\n    if (isElement(it) && it.slot === undefined) {\n      if (typeof it.tag === 'function' && it.tag[typeSymbol] === 'simple' && it.execed || it.tag === Template) {\n        const list = Object.create(null);\n        nativeList.push(getSlots(iRender, it.children, list, native));\n\n        for (const k of Reflect.ownKeys(list)) {\n          const node = { ...it,\n            children: list[k]\n          };\n\n          if (k in slots) {\n            slots[k].push(node);\n          } else {\n            slots[k] = [node];\n          }\n        }\n\n        continue;\n      }\n    }\n\n    if (native) {\n      if (iRender.isNode(it)) {\n        nativeList.push(it);\n        continue;\n      }\n\n      if (!isElement(it)) {\n        nativeList.push(it);\n        continue;\n      }\n\n      if (it.tag !== SlotRender && it.tag !== Template) {\n        nativeList.push(it);\n        continue;\n      }\n    }\n\n    const slot = isElement(it) && it.slot || 'default';\n    const el = isElement(it) ? { ...it,\n      slot: undefined,\n      props: { ...it.props,\n        slot: undefined\n      }\n    } : it;\n\n    if (slot in slots) {\n      slots[slot].push(el);\n    } else {\n      slots[slot] = [el];\n    }\n  }\n\n  return nativeList;\n}\n\nfunction renderSlots(list, ...props) {\n  return list.map(it => {\n    if (Array.isArray(it)) {\n      return renderSlots(it, ...props);\n    }\n\n    if (!isElement(it)) {\n      return it;\n    }\n\n    if (it.tag !== SlotRender) {\n      return { ...it,\n        slot: undefined\n      };\n    }\n\n    const {\n      children\n    } = it;\n\n    if ((children === null || children === void 0 ? void 0 : children.length) !== 1) {\n      return children;\n    }\n\n    const [render] = children;\n\n    if (isValue(render) || typeof render !== 'function') {\n      return children;\n    }\n\n    return render(...props);\n  });\n}\n\nfunction createSlots(name, list) {\n  const slot = (...props) => ({\n    [objectTypeSymbol]: objectTypeSymbolElement,\n    tag: ScopeSlot,\n    children: renderSlots(list, ...props),\n    inserted: true,\n    label: isProduction ? undefined : [`[${name}]`, '#00F']\n  });\n\n  slot.children = list;\n  return slot;\n}\n\nfunction setSlots(children, slots = Object.create(null), oldChildren) {\n  for (const k of Reflect.ownKeys(slots)) {\n    if (k in children) {\n      continue;\n    }\n\n    delete slots[k];\n  }\n\n  if (!oldChildren) {\n    for (const k of Reflect.ownKeys(children)) {\n      slots[k] = createSlots(k, children[k]);\n    }\n\n    return slots;\n  }\n\n  for (const k of Reflect.ownKeys(children)) {\n    const list = children[k];\n\n    if (equal(list, oldChildren[k])) {\n      continue;\n    }\n\n    slots[k] = createSlots(k, list);\n  }\n\n  return slots;\n}\n\nconst components = Object.create(null);\nfunction register(name, component) {\n  components[name] = component;\n}\n\nfunction findComponent(tag, components$1) {\n  if (!tag) {\n    return null;\n  }\n\n  if (typeof tag !== 'string') {\n    return tag;\n  }\n\n  if (tag === 'template') {\n    return tag;\n  }\n\n  if (/^neep:.+/i.test(tag)) {\n    return tag;\n  }\n\n  for (const list of components$1) {\n    const component = list[tag];\n\n    if (component) {\n      return component;\n    }\n  }\n\n  return components[tag] || tag;\n}\n\nfunction getChildren(children, args) {\n  if (children.length !== 1) {\n    return children;\n  }\n\n  const [fn] = children;\n\n  if (typeof fn !== 'function') {\n    return children;\n  }\n\n  return fn(...args);\n}\n\nfunction replaceNode(node, slots, components, native, isRoot) {\n  var _node$props;\n\n  if (Array.isArray(node)) {\n    return node.map(n => replaceNode(n, slots, components, native, isRoot));\n  }\n\n  if (!isElement(node)) {\n    return node;\n  }\n\n  let {\n    children,\n    props\n  } = node;\n  let tag = findComponent(node.tag, components);\n\n  if (tag === SlotRender && isRoot) {\n    return null;\n  }\n\n  if (tag === Slot) {\n    tag = native ? 'slot' : ScopeSlot;\n  }\n\n  if (tag !== ScopeSlot) {\n    return { ...node,\n      tag,\n      children: replaceNode(children, slots, components, native, isRoot)\n    };\n  }\n\n  if (node.tag === ScopeSlot && node.inserted) {\n    return node;\n  }\n\n  const args = (props === null || props === void 0 ? void 0 : props.argv) && [props.argv] || Array.isArray(props === null || props === void 0 ? void 0 : props.args) && (props === null || props === void 0 ? void 0 : props.args.length) && props.args || [{}];\n  const slotName = ((_node$props = node.props) === null || _node$props === void 0 ? void 0 : _node$props.name) || 'default';\n  const slot = slots[slotName];\n\n  if (typeof slot === 'function') {\n    return { ...node,\n      ...slot(...args)\n    };\n  }\n\n  const label = isProduction ? undefined : [`[${slotName}]`, '#00F'];\n  return { ...node,\n    tag: ScopeSlot,\n    label,\n    children: replaceNode(getChildren(children, args), slots, components, native, false)\n  };\n}\n\nfunction getComponents(...components) {\n  return components.filter(Boolean);\n}\n\nfunction execSimple(nObject, delivered, node, tag, components, children) {\n  if (node.execed) {\n    return node;\n  }\n\n  const {\n    iRender\n  } = nObject;\n  const slotMap = Object.create(null);\n  getSlots(iRender, children, slotMap);\n  const slots = setSlots(slotMap);\n  const event = new EventEmitter();\n  event.updateInProps(node.props);\n  const props = { ...node.props\n  };\n  const context = initContext({\n    slots,\n    created: false,\n    parent: nObject.exposed,\n\n    delivered(deliver) {\n      return getDelivered(delivered, deliver);\n    },\n\n    children: new Set(),\n    childNodes: children,\n\n    refresh(f) {\n      nObject.refresh(f);\n    },\n\n    emit: event.emit\n  });\n\n  if (!isProduction) {\n    getLabel();\n  }\n\n  const result = tag(props, context);\n  let label;\n\n  if (!isProduction) {\n    label = getLabel();\n  }\n\n  const nodes = init(nObject, delivered, renderNode(nObject.iRender, result, context, tag[renderSymbol]), slots, getComponents(...components, tag[componentsSymbol]), false);\n  return { ...node,\n    tag,\n    execed: true,\n    children: Array.isArray(nodes) ? nodes : [nodes],\n    label\n  };\n}\n\nfunction getSlotRenderFn(nObject, delivered, children, slots, components, native) {\n  if (children.length !== 1) {\n    return null;\n  }\n\n  const [renderFn] = children;\n\n  if (isValue(renderFn) || typeof renderFn !== 'function') {\n    return null;\n  }\n\n  const {\n    slotRenderFnList\n  } = nObject;\n  const fn = slotRenderFnList.get(renderFn);\n\n  if (fn) {\n    return fn;\n  }\n\n  const newFn = function (...p) {\n    return init(nObject, delivered, renderFn.call(this, ...p), slots, components, native);\n  };\n\n  slotRenderFnList.set(renderFn, newFn);\n  return newFn;\n}\n\nfunction exec(nObject, delivered, node, slots, components, native) {\n  if (Array.isArray(node)) {\n    return node.map(n => exec(nObject, delivered, n, slots, components, native));\n  }\n\n  if (!isElement(node)) {\n    return node;\n  }\n\n  let {\n    tag,\n    children\n  } = node;\n\n  if (isDeliver(tag)) {\n    const newDelivered = Object.create(delivered);\n    Reflect.defineProperty(newDelivered, tag[deliverKeySymbol], {\n      configurable: true,\n      enumerable: true,\n      value: node.props ? node.props.value : undefined\n    });\n    return { ...node,\n      tag,\n      children: children.map(child => exec(nObject, newDelivered, child, slots, components, native))\n    };\n  }\n\n  if (tag === SlotRender) {\n    const slotRenderFn = getSlotRenderFn(nObject, delivered, children, slots, components, native);\n\n    if (slotRenderFn) {\n      return { ...node,\n        children: [slotRenderFn]\n      };\n    }\n  }\n\n  if (typeof tag !== 'function' || tag[typeSymbol] !== 'simple') {\n    return { ...node,\n      tag,\n      children: children.map(n => exec(nObject, delivered, n, slots, components, native))\n    };\n  }\n\n  return execSimple(nObject, delivered, node, tag, components, children);\n}\n\nfunction getItem(node) {\n  if (Array.isArray(node)) {\n    return node.map(getItem);\n  }\n\n  if (isElement(node)) {\n    return node;\n  }\n\n  if (node === undefined || node === null) {\n    return {\n      [objectTypeSymbol]: objectTypeSymbolElement,\n      tag: null,\n      key: undefined,\n      children: []\n    };\n  }\n\n  return {\n    [objectTypeSymbol]: objectTypeSymbolElement,\n    key: undefined,\n    tag: Value,\n    value: node,\n    children: []\n  };\n}\n\nfunction renderNode(iRender, node, context, render) {\n  if (Array.isArray(node)) {\n    return node;\n  }\n\n  if (isElement(node)) {\n    if (node.tag === Fragment) {\n      return node.children.map(getItem);\n    }\n\n    return [node];\n  }\n\n  if (!node || !render || iRender.isNode(node)) {\n    return [node];\n  }\n\n  if (typeof node !== 'object') {\n    return [node];\n  }\n\n  const list = render(node, context);\n\n  if (Array.isArray(list)) {\n    return list;\n  }\n\n  return [list];\n}\n\nfunction init(nObject, delivered, node, slots, components, native) {\n  return refresh(() => postpone(() => exec(nObject, delivered, replaceNode(node, slots, components, native, true).map(getItem), slots, components, native)));\n}\nfunction normalize(nObject, result) {\n  const {\n    component\n  } = nObject;\n  return init(nObject, nObject.delivered, renderNode(nObject.iRender, result, nObject.context, component[renderSymbol]), nObject.slots, getComponents(component[componentsSymbol]), Boolean(nObject.native));\n}\n\nfunction createExposed(obj) {\n  const cfg = {\n    $parent: {\n      configurable: true,\n      get: () => {\n        var _obj$parent;\n\n        return (_obj$parent = obj.parent) === null || _obj$parent === void 0 ? void 0 : _obj$parent.exposed;\n      }\n    },\n    $component: {\n      configurable: true,\n      value: null\n    },\n    $isContainer: {\n      configurable: true,\n      value: false\n    },\n    $created: {\n      configurable: true,\n      get: () => obj.created\n    },\n    $destroyed: {\n      configurable: true,\n      get: () => obj.destroyed\n    },\n    $mounted: {\n      configurable: true,\n      get: () => obj.mounted\n    },\n    $unmounted: {\n      configurable: true,\n      get: () => obj.unmounted\n    }\n  };\n  const exposed = Object.create(null, cfg);\n  return exposed;\n}\n\nlet completeList;\nfunction setCompleteList(list) {\n  completeList = list;\n}\nfunction complete(it) {\n  if (!completeList) {\n    it();\n  } else {\n    completeList.push(it);\n  }\n}\n\nfunction createEntity(obj) {\n  const cfg = {\n    exposed: {\n      configurable: true,\n      get: () => obj.exposed\n    },\n    parent: {\n      configurable: true,\n      get: () => {\n        var _obj$parent2;\n\n        return (_obj$parent2 = obj.parent) === null || _obj$parent2 === void 0 ? void 0 : _obj$parent2.entity;\n      }\n    },\n    component: {\n      configurable: true,\n      value: null\n    },\n    isContainer: {\n      configurable: true,\n      value: false\n    },\n    created: {\n      configurable: true,\n      get: () => obj.created\n    },\n    destroyed: {\n      configurable: true,\n      get: () => obj.destroyed\n    },\n    mounted: {\n      configurable: true,\n      get: () => obj.mounted\n    },\n    unmounted: {\n      configurable: true,\n      get: () => obj.unmounted\n    },\n    $_hooks: {\n      configurable: true,\n      value: Object.create(null)\n    },\n    $_valueIndex: {\n      configurable: true,\n      value: 0,\n      writable: true\n    },\n    $_values: {\n      configurable: true,\n      value: []\n    },\n    $_serviceIndex: {\n      configurable: true,\n      value: 0,\n      writable: true\n    },\n    $_services: {\n      configurable: true,\n      value: []\n    },\n    callHook: {\n      configurable: true,\n\n      value(h) {\n        callHook(h, entity);\n      }\n\n    },\n    setHook: {\n      configurable: true,\n\n      value(id, hook) {\n        return setHook(id, hook, entity);\n      }\n\n    },\n    refresh: {\n      configurable: true,\n      value: obj.refresh.bind(obj)\n    },\n    on: {\n      configurable: true,\n      value: obj.on\n    },\n    emit: {\n      configurable: true,\n      value: obj.emit\n    },\n    config: {\n      configurable: true,\n      value: obj.config\n    }\n  };\n  const entity = Object.create(null, cfg);\n  return initEntity(entity);\n}\n\nclass EntityObject {\n  constructor(iRender, parent, delivered = (parent === null || parent === void 0 ? void 0 : parent.delivered) || Object.create(null), container) {\n    _defineProperty(this, \"slotRenderFnList\", new WeakMap());\n\n    _defineProperty(this, \"events\", new EventEmitter());\n\n    _defineProperty(this, \"emit\", this.events.emit);\n\n    _defineProperty(this, \"on\", this.events.on);\n\n    _defineProperty(this, \"eventCancelHandles\", new Set());\n\n    _defineProperty(this, \"iRender\", void 0);\n\n    _defineProperty(this, \"components\", Object.create(null));\n\n    _defineProperty(this, \"config\", Object.create(null));\n\n    _defineProperty(this, \"parentDelivered\", void 0);\n\n    _defineProperty(this, \"delivered\", void 0);\n\n    _defineProperty(this, \"exposed\", createExposed(this));\n\n    _defineProperty(this, \"entity\", createEntity(this));\n\n    _defineProperty(this, \"parent\", void 0);\n\n    _defineProperty(this, \"native\", void 0);\n\n    _defineProperty(this, \"created\", false);\n\n    _defineProperty(this, \"destroyed\", false);\n\n    _defineProperty(this, \"mounted\", false);\n\n    _defineProperty(this, \"unmounted\", false);\n\n    _defineProperty(this, \"children\", new Set());\n\n    _defineProperty(this, \"tree\", []);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"_render\", () => []);\n\n    _defineProperty(this, \"_needRefresh\", false);\n\n    _defineProperty(this, \"_delayedRefresh\", 0);\n\n    _defineProperty(this, \"_refreshing\", false);\n\n    _defineProperty(this, \"_nodes\", []);\n\n    _defineProperty(this, \"childNodes\", []);\n\n    _defineProperty(this, \"__executed_destroy\", false);\n\n    _defineProperty(this, \"__executed_mount\", false);\n\n    _defineProperty(this, \"__executed_mounted\", false);\n\n    _defineProperty(this, \"_cancelDrawMonitor\", void 0);\n\n    this.iRender = iRender;\n    this.parentDelivered = delivered;\n    this.delivered = Object.create(delivered);\n\n    if (parent) {\n      this.parent = parent;\n    }\n\n    this.container = container || this;\n  }\n\n  get canRefresh() {\n    if (wait(this)) {\n      return false;\n    }\n\n    return !this._delayedRefresh;\n  }\n\n  get needRefresh() {\n    if (wait(this)) {\n      return false;\n    }\n\n    if (this._delayedRefresh) {\n      return false;\n    }\n\n    const needRefresh = this._needRefresh;\n    this._needRefresh = false;\n    return needRefresh;\n  }\n\n  requestDraw() {}\n\n  async asyncRefresh(f) {\n    try {\n      this._delayedRefresh++;\n      return await f();\n    } finally {\n      this._delayedRefresh--;\n      this.refresh();\n    }\n  }\n\n  refresh(f, async) {\n    if (typeof f === 'function') {\n      if (async) {\n        return this.asyncRefresh(f);\n      }\n\n      try {\n        this._delayedRefresh++;\n        return f();\n      } finally {\n        this._delayedRefresh--;\n\n        if (this._delayedRefresh <= 0) {\n          this.refresh();\n        }\n      }\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this._needRefresh = true;\n\n    if (!this.created) {\n      return;\n    }\n\n    if (this._refreshing) {\n      return;\n    }\n\n    this._refreshing = true;\n    let nodes;\n\n    while (this.needRefresh) {\n      nodes = this._render();\n\n      if (this.destroyed) {\n        return;\n      }\n    }\n\n    this._refreshing = false;\n\n    if (!this.canRefresh) {\n      return;\n    }\n\n    if (!nodes) {\n      return;\n    }\n\n    this._nodes = convert(this, nodes, this._nodes);\n\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    if (this.unmounted) {\n      return;\n    }\n\n    this.requestDraw();\n  }\n\n  callHook(id) {\n    callHook(id, this.entity);\n  }\n\n  _update(props, children) {\n    this.childNodes = children;\n  }\n\n  update(props, children) {\n    this._update(props, children);\n  }\n\n  _destroy() {}\n\n  destroy() {\n    if (this.__executed_destroy) {\n      return;\n    }\n\n    this.__executed_destroy = true;\n    this.callHook('beforeDestroy');\n\n    this._destroy();\n\n    this.callHook('destroyed');\n    this.destroyed = true;\n  }\n\n  _mount() {}\n\n  mount() {\n    if (this.__executed_destroy) {\n      return;\n    }\n\n    if (this.__executed_mount) {\n      return;\n    }\n\n    this.__executed_mount = true;\n    this.callHook('beforeMount');\n    const result = exec$1(c => c && this.requestDraw(), () => {\n      this._mount();\n\n      this.mounted = true;\n    });\n    this._cancelDrawMonitor = result.stop;\n    complete(() => this.callHook('mounted'));\n  }\n\n  _unmount() {}\n\n  unmount() {\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.__executed_mounted) {\n      return;\n    }\n\n    this.__executed_mounted = true;\n    this.callHook('beforeUnmount');\n\n    this._unmount();\n\n    this.callHook('unmounted');\n    this.unmounted = true;\n  }\n\n  _draw() {}\n\n  draw() {\n    if (this.__executed_destroy) {\n      return;\n    }\n\n    if (this._cancelDrawMonitor) {\n      this._cancelDrawMonitor();\n    }\n\n    this.callHook('beforeDraw');\n    const result = exec$1(c => c && this.requestDraw(), () => this._draw());\n    this._cancelDrawMonitor = result.stop;\n    complete(() => this.callHook('drawn'));\n  }\n\n}\n\nconst disabledKey = new Set([':', '@', '#', '*', '!', '%', '^', '~', '&', '=', '+', '.', '(', ')', '[', ']', '{', '}', '<', '>']);\n\nfunction filter(k) {\n  if (typeof k !== 'string') {\n    return true;\n  }\n\n  if (disabledKey.has(k[0])) {\n    return false;\n  }\n\n  if (/^n[:-]/.test(k)) {\n    return false;\n  }\n\n  if (/^on[:-]/.test(k)) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction update(nObject, props, children) {\n  const propsObj = nObject.props;\n  const newKeys = new Set(Reflect.ownKeys(props).filter(filter));\n\n  for (const k of Reflect.ownKeys(propsObj)) {\n    if (filter(k) && !newKeys.has(k)) {\n      delete propsObj[k];\n    }\n  }\n\n  for (const k of newKeys) {\n    propsObj[k] = props[k];\n  }\n\n  nObject.events.updateInProps(props);\n  const slots = Object.create(null);\n  const {\n    native\n  } = nObject;\n  const childNodes = getSlots(nObject.iRender, children, slots, Boolean(native));\n  setSlots(slots, nObject.slots, nObject.lastSlots);\n  nObject.lastSlots = slots;\n\n  if (!native) {\n    return;\n  }\n\n  nObject.nativeNodes = convert(nObject, childNodes, nObject.nativeNodes);\n\n  if (!nObject.mounted) {\n    return;\n  }\n\n  nObject.requestDraw();\n}\n\nfunction createContext(nObject) {\n  return initContext({\n    slots: nObject.slots,\n\n    get created() {\n      return nObject.created;\n    },\n\n    get parent() {\n      return nObject.parent.exposed;\n    },\n\n    get children() {\n      return nObject.children;\n    },\n\n    get childNodes() {\n      return nObject.childNodes;\n    },\n\n    get emit() {\n      return nObject.emit;\n    },\n\n    delivered(deliver) {\n      return getDelivered(nObject.parentDelivered, deliver);\n    },\n\n    refresh(f) {\n      nObject.refresh(f);\n    }\n\n  }, nObject.entity);\n}\n\nfunction initRender(nObject) {\n  const {\n    component,\n    props,\n    context,\n    entity\n  } = nObject;\n\n  function refresh(changed) {\n    if (!changed) {\n      return;\n    }\n\n    nObject.refresh();\n  }\n\n  const result = exec$1(refresh, () => setCurrent(() => component(props, context), entity), {\n    resultOnly: true\n  });\n\n  if (typeof result === 'function') {\n    const render = monitor(refresh, () => normalize(nObject, result()));\n    return {\n      nodes: render(),\n      render,\n      stopRender: () => render.stop()\n    };\n  }\n\n  const render = monitor(refresh, () => normalize(nObject, setCurrent(() => component(props, context), entity)));\n  return {\n    nodes: exec$1(refresh, () => normalize(nObject, result), {\n      resultOnly: true\n    }),\n    render,\n    stopRender: () => render.stop()\n  };\n}\n\nclass ComponentEntity extends EntityObject {\n  constructor(component, props, children, parent, delivered) {\n    var _this$iRender$createC, _this$iRender;\n\n    super(parent.iRender, parent, delivered, parent.container);\n\n    _defineProperty(this, \"component\", void 0);\n\n    _defineProperty(this, \"props\", encase(Object.create(null)));\n\n    _defineProperty(this, \"slots\", encase(Object.create(null)));\n\n    _defineProperty(this, \"lastSlots\", void 0);\n\n    _defineProperty(this, \"_stopRender\", void 0);\n\n    _defineProperty(this, \"nativeNodes\", void 0);\n\n    _defineProperty(this, \"shadowTree\", []);\n\n    _defineProperty(this, \"nativeTree\", []);\n\n    _defineProperty(this, \"_shadow\", void 0);\n\n    _defineProperty(this, \"context\", void 0);\n\n    _defineProperty(this, \"parent\", void 0);\n\n    this.component = component;\n    Object.assign(this.config, component[configSymbol]);\n    Object.assign(this.components, component[componentsSymbol]);\n    Reflect.defineProperty(this.exposed, '$component', {\n      value: component,\n      enumerable: true,\n      configurable: true\n    });\n    [this.native, this._shadow] = component[typeSymbol] === 'native' && ((_this$iRender$createC = (_this$iRender = this.iRender).createComponent) === null || _this$iRender$createC === void 0 ? void 0 : _this$iRender$createC.call(_this$iRender)) || [];\n    this.parent = parent;\n    parent.children.add(this.exposed);\n    const context = createContext(this);\n    this.context = context;\n    this.callHook('beforeCreate');\n    this.childNodes = children;\n    refresh(() => postpone(() => update(this, props, children)));\n    const {\n      render,\n      nodes,\n      stopRender\n    } = initRender(this);\n    this._render = render;\n    this._stopRender = stopRender;\n    this._nodes = convert(this, nodes);\n    this.callHook('created');\n    this.created = true;\n\n    if (this._needRefresh) {\n      this.refresh();\n    }\n  }\n\n  _update(props, children) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.childNodes = children;\n    refresh(() => postpone(() => update(this, props, children)));\n  }\n\n  _destroy() {\n    if (this._stopRender) {\n      this._stopRender();\n    }\n\n    this.parent.children.delete(this.exposed);\n    destroy(this._nodes);\n  }\n\n  requestDraw() {\n    this.container.markDraw(this);\n  }\n\n  _draw() {\n    const {\n      nativeNodes,\n      iRender,\n      _shadow,\n      native\n    } = this;\n\n    if (!native || !nativeNodes || !_shadow) {\n      this.tree = draw(iRender, this._nodes, this.tree);\n      return;\n    }\n\n    this.shadowTree = draw(iRender, this._nodes, this.shadowTree);\n    this.nativeTree = draw(iRender, nativeNodes, this.nativeTree);\n  }\n\n  _mount() {\n    const {\n      nativeNodes,\n      iRender,\n      _shadow,\n      native,\n      _nodes\n    } = this;\n\n    if (!native || !nativeNodes || !_shadow) {\n      this.tree = draw(iRender, _nodes);\n      return;\n    }\n\n    this.tree = draw(iRender, [{\n      tag: Value,\n      key: native,\n      value: native,\n      children: []\n    }]);\n    this.shadowTree = draw(iRender, _nodes);\n\n    for (const it of getNodes(this.shadowTree)) {\n      iRender.insertNode(_shadow, it);\n    }\n\n    this.nativeTree = draw(iRender, nativeNodes);\n\n    for (const it of getNodes(this.nativeTree)) {\n      iRender.insertNode(native, it);\n    }\n  }\n\n  _unmount() {\n    const {\n      iRender,\n      nativeTree\n    } = this;\n    unmount(iRender, this.tree);\n\n    if (!nativeTree) {\n      return;\n    }\n\n    unmount(iRender, nativeTree);\n  }\n\n}\n\nfunction toElement(t) {\n  if (t === false || t === null || t === undefined) {\n    return null;\n  }\n\n  if (isElement(t)) {\n    return t;\n  }\n\n  return {\n    [objectTypeSymbol]: objectTypeSymbolElement,\n    tag: Value,\n    key: t,\n    value: t,\n    children: []\n  };\n}\nfunction destroy(tree) {\n  if (Array.isArray(tree)) {\n    tree.forEach(t => destroy(t));\n    return;\n  }\n\n  const {\n    component\n  } = tree;\n\n  if (component) {\n    component.destroy();\n  }\n}\n\nfunction createItem$1(nObject, delivered, source) {\n  if (!source) {\n    return {\n      tag: null,\n      key: undefined,\n      children: []\n    };\n  }\n\n  const {\n    tag\n  } = source;\n\n  if (!tag) {\n    return {\n      tag: null,\n      key: undefined,\n      children: []\n    };\n  }\n\n  if (isDeliver(tag)) {\n    const newDelivered = Object.create(delivered);\n    Reflect.defineProperty(newDelivered, tag[deliverKeySymbol], {\n      configurable: true,\n      enumerable: true,\n      value: source.props ? source.props.value : undefined\n    });\n    return { ...source,\n      delivered: newDelivered,\n      children: createAll$1(nObject, newDelivered, source.children)\n    };\n  }\n\n  if (typeof tag !== 'string') {\n    if (tag[typeSymbol] === 'simple') {\n      return { ...source,\n        children: createAll$1(nObject, delivered, source.children),\n        component: undefined\n      };\n    }\n\n    return { ...source,\n      children: [],\n      component: new ComponentEntity(tag, source.props || {}, source.children, nObject, delivered)\n    };\n  }\n\n  const ltag = tag.toLowerCase();\n\n  if (ltag === Container) {\n    var _source$props;\n\n    const type = source === null || source === void 0 ? void 0 : (_source$props = source.props) === null || _source$props === void 0 ? void 0 : _source$props.type;\n    const iRender = type ? getRender(type) : nObject.iRender;\n    return { ...source,\n      children: [],\n      component: new ContainerEntity(iRender, source.props || {}, source.children, nObject, delivered)\n    };\n  }\n\n  if (ltag === Value) {\n    return { ...source,\n      children: []\n    };\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return { ...source,\n      children: createAll$1(nObject, delivered, source.children)\n    };\n  }\n\n  return { ...source,\n    children: createAll$1(nObject, delivered, source.children)\n  };\n}\nfunction createAll$1(nObject, delivered, source) {\n  if (!Array.isArray(source)) {\n    source = [source];\n  }\n\n  if (!source.length) {\n    return [];\n  }\n\n  return source.map(item => {\n    if (!Array.isArray(item)) {\n      return createItem$1(nObject, delivered, toElement(item));\n    }\n\n    return [...recursive2iterable(item)].map(it => createItem$1(nObject, delivered, toElement(it)));\n  });\n}\n\nfunction updateList$1(nObject, delivered, source, tree) {\n  if (!Array.isArray(tree)) {\n    tree = [tree];\n  }\n\n  const newList = [];\n\n  for (const src of recursive2iterable(source)) {\n    const node = toElement(src);\n\n    if (!node) {\n      continue;\n    }\n\n    const index = tree.findIndex(it => it.tag === node.tag && it.key === node.key);\n\n    if (index >= 0) {\n      newList.push(updateItem$1(nObject, delivered, node, tree[index]));\n      tree.splice(index, 1);\n    } else {\n      newList.push(createItem$1(nObject, delivered, node));\n    }\n  }\n\n  destroy(tree);\n  return newList;\n}\n\nfunction updateItem$1(nObject, delivered, source, tree) {\n  if (!tree) {\n    return createItem$1(nObject, delivered, source);\n  }\n\n  if (!source) {\n    destroy(tree);\n    return {\n      tag: null,\n      key: undefined,\n      children: []\n    };\n  }\n\n  if (Array.isArray(tree)) {\n    if (!tree.length) {\n      return createItem$1(nObject, delivered, source);\n    }\n\n    const index = tree.findIndex(it => it.tag === source.tag);\n\n    if (index < 0) {\n      destroy(tree);\n      return createItem$1(nObject, delivered, source);\n    }\n\n    const all = tree;\n    [tree] = tree.splice(index, 1);\n    destroy(all);\n  }\n\n  const {\n    tag\n  } = source;\n\n  if (tag !== tree.tag) {\n    destroy(tree);\n    return createItem$1(nObject, delivered, source);\n  }\n\n  if (!tag) {\n    return {\n      tag: null,\n      key: undefined,\n      children: []\n    };\n  }\n\n  if (isDeliver(tag)) {\n    const newDelivered = tree.delivered || Object.create(delivered);\n    Reflect.defineProperty(newDelivered, tag[deliverKeySymbol], {\n      configurable: true,\n      enumerable: true,\n      value: source.props ? source.props.value : undefined\n    });\n    return { ...source,\n      delivered: newDelivered,\n      children: [...updateAll$1(nObject, newDelivered, source.children, tree.children)]\n    };\n  }\n\n  if (typeof tag !== 'string') {\n    if (tag[typeSymbol] === 'simple') {\n      return { ...source,\n        children: [...updateAll$1(nObject, delivered, source.children, tree.children)],\n        component: undefined\n      };\n    }\n\n    const {\n      component\n    } = tree;\n\n    if (!component) {\n      return createItem$1(nObject, delivered, source);\n    }\n\n    component.update(source.props || {}, source.children);\n    return { ...source,\n      children: [],\n      component\n    };\n  }\n\n  const ltag = tag.toLowerCase();\n\n  if (ltag === Container) {\n    var _source$props;\n\n    const {\n      component\n    } = tree;\n\n    if (!component) {\n      return createItem$1(nObject, delivered, source);\n    }\n\n    const type = source === null || source === void 0 ? void 0 : (_source$props = source.props) === null || _source$props === void 0 ? void 0 : _source$props.type;\n    const iRender = type ? getRender(type) : nObject.iRender;\n\n    if (iRender !== component.iRender) {\n      return createItem$1(nObject, delivered, source);\n    }\n\n    component.update(source.props || {}, source.children);\n    return { ...source,\n      children: [],\n      component\n    };\n  }\n\n  if (ltag === Value) {\n    return { ...source,\n      children: []\n    };\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return { ...source,\n      children: [...updateAll$1(nObject, delivered, source.children, tree.children)]\n    };\n  }\n\n  return { ...source,\n    children: [...updateAll$1(nObject, delivered, source.children, tree.children)]\n  };\n}\n\nfunction* updateAll$1(nObject, delivered, source, tree) {\n  if (!Array.isArray(source)) {\n    source = [source];\n  }\n\n  let index = 0;\n  let length = Math.min(source.length || 1, tree.length);\n\n  for (; index < length; index++) {\n    const src = source[index];\n\n    if (Array.isArray(src)) {\n      yield updateList$1(nObject, delivered, src, tree[index]);\n    } else {\n      yield updateItem$1(nObject, delivered, toElement(src), tree[index]);\n    }\n  }\n\n  length = Math.max(source.length, source.length);\n\n  if (tree.length > index) {\n    for (; index < length; index++) {\n      destroy(tree[index]);\n    }\n  }\n\n  if (source.length > index) {\n    for (; index < length; index++) {\n      const src = toElement(source[index]);\n\n      if (Array.isArray(src)) {\n        yield [...recursive2iterable(src)].map(it => createItem$1(nObject, delivered, it));\n      } else {\n        yield createItem$1(nObject, delivered, src);\n      }\n    }\n  }\n}\n\nfunction convert(nObject, source, tree) {\n  return refresh(() => postpone(() => {\n    if (!tree) {\n      return createAll$1(nObject, nObject.delivered, source);\n    }\n\n    return [...updateAll$1(nObject, nObject.delivered, source, tree)];\n  }));\n}\n\nlet awaitDraw = new Set();\nlet requested = false;\n\nfunction markDraw(c) {\n  awaitDraw.add(c);\n\n  if (requested) {\n    return;\n  }\n\n  requested = true;\n  nextFrame(() => {\n    requested = false;\n    const list = [...awaitDraw];\n    awaitDraw.clear();\n    list.map(c => c.drawAll());\n  });\n}\n\nclass ContainerEntity extends EntityObject {\n  constructor(iRender, props, children, parent, delivered) {\n    super(iRender, parent, delivered);\n\n    _defineProperty(this, \"props\", void 0);\n\n    _defineProperty(this, \"content\", []);\n\n    _defineProperty(this, \"_node\", null);\n\n    _defineProperty(this, \"_container\", null);\n\n    _defineProperty(this, \"rootContainer\", this);\n\n    _defineProperty(this, \"_drawChildren\", false);\n\n    _defineProperty(this, \"_drawContainer\", false);\n\n    _defineProperty(this, \"_cancelDrawContainerMonitor\", void 0);\n\n    _defineProperty(this, \"_cancelDrawChildrenMonitor\", void 0);\n\n    _defineProperty(this, \"_awaitDraw\", new Set());\n\n    _defineProperty(this, \"_needDraw\", false);\n\n    _defineProperty(this, \"_containers\", new Set());\n\n    this.props = props;\n    this.parent = parent;\n\n    if (parent) {\n      this.rootContainer = parent.container.rootContainer;\n    }\n\n    this.callHook('beforeCreate');\n    this.childNodes = children;\n\n    const refresh = changed => {\n      if (!changed) {\n        return;\n      }\n\n      this._drawChildren = true;\n      this.refresh();\n    };\n\n    const slots = Object.create(null);\n    this._render = monitor(refresh, () => init(this, this.delivered, this.childNodes, slots, [], false));\n    this._nodes = convert(this, this._render());\n    this.callHook('created');\n    this.created = true;\n  }\n\n  setChildren(children) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.childNodes = children;\n    this._drawChildren = true;\n    this.refresh();\n  }\n\n  setProps(props) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.props = props;\n    this._drawContainer = true;\n    this.refresh();\n  }\n\n  update(props, children) {\n    this.refresh(() => {\n      this.setProps(props);\n      this.setChildren(children);\n    });\n  }\n\n  requestDraw() {\n    this.markDraw(this);\n  }\n\n  _mount() {\n    const {\n      props,\n      parent,\n      iRender\n    } = this;\n    const content = draw(this.container.iRender, this._nodes);\n    this.content = content;\n    const [container, node] = iRender.mount(props, parent === null || parent === void 0 ? void 0 : parent.iRender);\n\n    for (const it of getNodes(content)) {\n      iRender.insertNode(container, it);\n    }\n\n    this.tree = [createMountedNode({\n      tag: Value,\n      key: undefined,\n      component: undefined,\n      node,\n      value: node,\n      children: []\n    })];\n    this._node = node;\n    this._container = container;\n  }\n\n  _destroy() {\n    destroy(this.content);\n  }\n\n  _unmount() {\n    const {\n      parent,\n      iRender\n    } = this;\n\n    if (parent) {\n      unmount(parent.iRender, this.tree);\n    }\n\n    iRender.unmount(this._container, this._node, Boolean(parent));\n    unmount(this.iRender, this.content);\n  }\n\n  _draw() {\n    const {\n      _drawChildren: drawChildren,\n      _drawContainer: drawContainer\n    } = this;\n    this._drawContainer = false;\n\n    if (this._cancelDrawContainerMonitor) {\n      this._cancelDrawContainerMonitor();\n    }\n\n    if (drawContainer) {\n      const result = exec$1(c => c && [this._drawContainer = true, this.requestDraw()], () => {\n        var _this$parent;\n\n        return this.iRender.drawContainer(this._container, this._node, this.props, (_this$parent = this.parent) === null || _this$parent === void 0 ? void 0 : _this$parent.iRender);\n      });\n      [this._container, this._node] = result.result;\n      this._cancelDrawContainerMonitor = result.stop;\n    }\n\n    if (this.parent && this.parent.iRender !== this.iRender) {\n      return;\n    }\n\n    this._drawChildren = false;\n\n    if (this._cancelDrawChildrenMonitor) {\n      this._cancelDrawChildrenMonitor();\n    }\n\n    if (drawChildren) {\n      const result = exec$1(c => c && [this._drawChildren = true, this.requestDraw()], () => this.content = draw(this.iRender, this._nodes, this.content));\n      this.content = result.result;\n      this._cancelDrawChildrenMonitor = result.stop;\n    }\n  }\n\n  _drawSelf() {\n    const {\n      _drawChildren: drawChildren,\n      _drawContainer: drawContainer\n    } = this;\n    this._needDraw = false;\n    this._drawChildren = false;\n    this._drawContainer = false;\n\n    if (drawContainer) {\n      var _this$parent2;\n\n      this.iRender.drawContainer(this._container, this._node, this.props, (_this$parent2 = this.parent) === null || _this$parent2 === void 0 ? void 0 : _this$parent2.iRender, true);\n    }\n\n    if (drawChildren) {\n      this.content = draw(this.iRender, this._nodes, this.content);\n    }\n  }\n\n  drawSelf() {\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this.callHook('beforeDraw');\n    exec$1(c => c && this.requestDraw(), () => this._drawSelf());\n    complete(() => this.callHook('drawn'));\n  }\n\n  markDraw(nObject, remove = false) {\n    var _this$parent3;\n\n    if (((_this$parent3 = this.parent) === null || _this$parent3 === void 0 ? void 0 : _this$parent3.iRender) === this.iRender) {\n      this.parent.container.markDraw(nObject, remove);\n      return;\n    }\n\n    if (nObject === this && this.parent) {\n      this.parent.container.markDraw(this, remove);\n      this._needDraw = !remove;\n    } else if (remove) {\n      this._awaitDraw.delete(nObject);\n    } else {\n      this._awaitDraw.add(nObject);\n    }\n\n    this.rootContainer.markDrawContainer(this, !this._needDraw && !this._awaitDraw.size || this.destroyed);\n  }\n\n  drawContainer() {\n    const {\n      _node: node,\n      _container: container,\n      _awaitDraw: awaitDraw\n    } = this;\n\n    if (!node || !container) {\n      return;\n    }\n\n    this.callHook('beforeDraw');\n    const needDraw = this._needDraw;\n    this._needDraw = false;\n    const list = [...awaitDraw];\n    awaitDraw.clear();\n\n    if (needDraw) {\n      this.drawSelf();\n    }\n\n    list.map(c => c.draw());\n    this.iRender.drawNode(container, node);\n    complete(() => this.callHook('drawn'));\n  }\n\n  markDrawContainer(container, remove = false) {\n    if (remove) {\n      this._containers.delete(container);\n    } else {\n      this._containers.add(container);\n    }\n\n    markDraw(this);\n  }\n\n  drawAll() {\n    const containers = this._containers;\n\n    if (!containers.size) {\n      return;\n    }\n\n    const list = [...containers];\n    containers.clear();\n    this.callHook('beforeDrawAll');\n    const refs = [];\n    const completeList = [];\n    setCompleteList(completeList);\n    setRefList(refs);\n    list.forEach(c => c.drawContainer());\n    setRefList();\n    refs.forEach(r => r());\n    completeList.forEach(r => r());\n    this.callHook('drawnAll');\n  }\n\n}\n\nfunction render(e, p = {}) {\n  let params = { ...p\n  };\n  const container = new ContainerEntity(getRender(p.type), params, e === undefined ? [] : isElement(e) ? [e] : [createElement(e)]);\n\n  if (!isProduction) {\n    devtools.renderHook(container);\n  }\n\n  const {\n    exposed\n  } = container;\n  Reflect.defineProperty(exposed, '$update', {\n    value(c) {\n      container.setChildren(c === undefined ? [] : isElement(c) ? [c] : [createElement(c)]);\n      return exposed;\n    },\n\n    configurable: true\n  });\n  Reflect.defineProperty(exposed, '$mount', {\n    value(target) {\n      if (exposed.$mounted) {\n        return exposed;\n      }\n\n      if (target) {\n        params.target = target;\n        container.setProps(params);\n      }\n\n      container.mount();\n      return exposed;\n    },\n\n    configurable: true\n  });\n  Reflect.defineProperty(exposed, '$unmount', {\n    value() {\n      if (!exposed.$mounted) {\n        return;\n      }\n\n      if (exposed.$unmounted) {\n        return;\n      }\n\n      if (exposed.$destroyed) {\n        return container.destroy();\n      }\n\n      container.unmount();\n    },\n\n    configurable: true\n  });\n\n  if (params.target) {\n    container.mount();\n  }\n\n  return exposed;\n}\n\nfunction Mark(symbol, value) {\n  return component => {\n    component[symbol] = value;\n    return component;\n  };\n}\n\nfunction MarkValue(symbol, key, value) {\n  return component => {\n    let obj = component[symbol];\n\n    if (!obj) {\n      obj = Object.create(null);\n      component[symbol] = obj;\n    }\n\n    obj[key] = value;\n    return component;\n  };\n}\n\nfunction mName(name, component) {\n  if (!component) {\n    return Mark(nameSymbol, name);\n  }\n\n  component[nameSymbol] = name;\n  return component;\n}\nfunction mType(type, component) {\n  if (!component) {\n    return Mark(typeSymbol, type);\n  }\n\n  component[typeSymbol] = type;\n  return component;\n}\nfunction mSimple(component) {\n  if (!component) {\n    return Mark(typeSymbol, 'simple');\n  }\n\n  component[typeSymbol] = 'simple';\n  return component;\n}\nfunction mNative(component) {\n  if (!component) {\n    return Mark(typeSymbol, 'native');\n  }\n\n  component[typeSymbol] = 'native';\n  return component;\n}\nfunction mRender(fn, component) {\n  if (!component) {\n    return Mark(renderSymbol, fn);\n  }\n\n  component[renderSymbol] = fn;\n  return component;\n}\nfunction mConfig(name, config, component) {\n  const mark = MarkValue(configSymbol, name, config);\n\n  if (!component) {\n    return mark;\n  }\n\n  return mark(component);\n}\nfunction mComponent(name, item, component) {\n  const mark = MarkValue(componentsSymbol, name, item);\n\n  if (!component) {\n    return mark;\n  }\n\n  return mark(component);\n}\nfunction create(c, r) {\n  if (typeof r === 'function') {\n    c[renderSymbol] = r;\n  }\n\n  return c;\n}\nfunction mark(component, ...marks) {\n  for (const m of marks) {\n    m(component);\n  }\n\n  return component;\n}\n\nfunction lazy(component, Placeholder) {\n  const reslut = value(0);\n  const ComponentValue = value(undefined);\n\n  async function load() {\n    if (reslut()) {\n      return;\n    }\n\n    reslut(1);\n\n    try {\n      const c = await component();\n\n      if (typeof c === 'function') {\n        ComponentValue(c);\n        return;\n      }\n\n      if (!c) {\n        reslut(-1);\n        return;\n      }\n\n      if (typeof c.default === 'function') {\n        ComponentValue(c.default);\n        return;\n      }\n\n      reslut(-1);\n    } catch (_unused) {\n      reslut(-1);\n    }\n  }\n\n  function Lazy(props, {\n    childNodes\n  }) {\n    const com = ComponentValue();\n\n    if (com) {\n      return createElement(com, props, ...childNodes);\n    }\n\n    load();\n\n    if (!Placeholder) {\n      return null;\n    }\n\n    return createElement(Placeholder, {\n      loading: reslut() > 0\n    });\n  }\n\n  return mark(Lazy, mSimple, mName('Lazy'));\n}\n\n\n\nvar Neep = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tinstall: install,\n\tError: NeepError,\n\tEventEmitter: EventEmitter,\n\trender: render,\n\tregister: register,\n\tlazy: lazy,\n\tversion: version,\n\tisProduction: isProduction,\n\tcreateDeliver: createDeliver,\n\tisDeliver: isDeliver,\n\tScopeSlot: ScopeSlot,\n\tSlotRender: SlotRender,\n\tSlot: Slot,\n\tValue: Value,\n\tContainer: Container,\n\tTemplate: Template,\n\tFragment: Fragment,\n\tref: ref,\n\tvalue: value,\n\tcomputed: computed,\n\tisValue: isValue,\n\tencase: encase,\n\trecover: recover,\n\tvalueify: valueify,\n\tasValue: asValue,\n\twatch: watch,\n\tuseValue: useValue,\n\tuseService: useService,\n\tbyService: byService,\n\thook: hook,\n\texpose: expose,\n\tisElement: isElement,\n\tisSimpleTag: isSimpleTag,\n\tisSimpleElement: isSimpleElement,\n\tcreateElement: createElement,\n\telements: elements,\n\tequal: equal,\n\tlabel: label$1,\n\tgetRect: getRect,\n\tget current () { return current; },\n\tcheckCurrent: checkCurrent,\n\taddContextConstructor: addContextConstructor,\n\taddEntityConstructor: addEntityConstructor,\n\trefresh: refresh,\n\tmName: mName,\n\tmType: mType,\n\tmSimple: mSimple,\n\tmNative: mNative,\n\tmRender: mRender,\n\tmConfig: mConfig,\n\tmComponent: mComponent,\n\tcreate: create,\n\tmark: mark,\n\ttypeSymbol: typeSymbol,\n\tnameSymbol: nameSymbol,\n\trenderSymbol: renderSymbol,\n\tcomponentsSymbol: componentsSymbol,\n\tconfigSymbol: configSymbol,\n\tobjectTypeSymbol: objectTypeSymbol,\n\tobjectTypeSymbolElement: objectTypeSymbolElement,\n\tobjectTypeSymbolDeliver: objectTypeSymbolDeliver,\n\tdeliverKeySymbol: deliverKeySymbol,\n\tdeliverDefaultSymbol: deliverDefaultSymbol,\n\tsetHook: setHook,\n\tcallHook: callHook\n});\n\nexport default Neep;\nexport { Container, NeepError as Error, EventEmitter, Fragment, ScopeSlot, Slot, SlotRender, Template, Value, addContextConstructor, addEntityConstructor, byService, callHook, checkCurrent, componentsSymbol, configSymbol, create, createDeliver, createElement, current, deliverDefaultSymbol, deliverKeySymbol, elements, equal, expose, getRect, hook, install, isDeliver, isElement, isProduction, isSimpleElement, isSimpleTag, label$1 as label, lazy, mComponent, mConfig, mName, mNative, mRender, mSimple, mType, mark, nameSymbol, objectTypeSymbol, objectTypeSymbolDeliver, objectTypeSymbolElement, ref, refresh, register, render, renderSymbol, setHook, typeSymbol, useService, useValue, version, watch };\n","/*!\n * NeepHtmlRenderer v0.1.0-alpha.15\n * (c) 2019-2020 Fierflame\n * @license MIT\n */\nimport { install as install$1, isValue, EventEmitter } from '@neep/core';\n\nfunction installNeep() {\n  return install$1;\n}\n\nfunction getId(v) {\n  if (typeof v === 'string') {\n    return v;\n  }\n\n  if (typeof v === 'number') {\n    return String(v);\n  }\n\n  return undefined;\n}\n\nfunction updateId(props, el, old) {\n  const id = getId(isValue(props.id) ? props.id() : props.id);\n\n  if (id !== old) {\n    if (typeof id === 'string') {\n      el.id = props.id;\n    } else {\n      el.removeAttribute('id');\n    }\n  }\n\n  return id;\n}\n\nfunction* recursive2iterable(list) {\n  if (isValue(list)) {\n    yield* recursive2iterable(list());\n    return;\n  }\n\n  if (!Array.isArray(list)) {\n    yield list;\n    return;\n  }\n\n  for (const it of list) {\n    yield* recursive2iterable(it);\n  }\n}\n\nfunction getClass(list) {\n  const set = new Set();\n\n  for (const v of recursive2iterable(list)) {\n    if (!v) {\n      continue;\n    }\n\n    if (typeof v === 'string') {\n      for (let k of v.split(' ').filter(Boolean)) {\n        set.add(k);\n      }\n    } else if (typeof v === 'object') {\n      for (const k in v) {\n        const add = v[k];\n\n        for (let it of k.split(' ').filter(Boolean)) {\n          set[add ? 'add' : 'delete'](it);\n        }\n      }\n    }\n  }\n\n  if (!set.size) {\n    return undefined;\n  }\n\n  return set;\n}\n\nfunction update(el, classes, oClasses) {\n  if (classes && oClasses) {\n    const list = el.getAttribute('class') || '';\n    const classList = new Set(list.split(' ').filter(Boolean));\n    oClasses.forEach(c => classList.delete(c));\n    classes.forEach(c => classList.add(c));\n    el.setAttribute('class', [...classList].join(' '));\n  } else if (classes) {\n    el.setAttribute('class', [...classes].join(' '));\n  } else if (oClasses) {\n    el.removeAttribute('class');\n  }\n}\n\nfunction updateClass(props, el, old) {\n  const classes = getClass(isValue(props.class) ? props.class() : props.class);\n  update(el, classes, old);\n  return classes;\n}\n\nconst unit = {\n  'width': 'px',\n  'height': 'px',\n  'top': 'px',\n  'right': 'px',\n  'bottom': 'px',\n  'left': 'px',\n  'border': 'px',\n  'border-top': 'px',\n  'border-right': 'px',\n  'border-left': 'px',\n  'border-bottom': 'px',\n  'border-width': 'px',\n  'border-top-width': 'px',\n  'border-right-width': 'px',\n  'border-left-width': 'px',\n  'border-bottom-width': 'px',\n  'border-radius': 'px',\n  'border-top-left-radius': 'px',\n  'border-top-right-radius': 'px',\n  'border-bottom-left-radius': 'px',\n  'border-bottom-right-radius': 'px',\n  'padding': 'px',\n  'padding-top': 'px',\n  'padding-right': 'px',\n  'padding-left': 'px',\n  'padding-bottom': 'px',\n  'margin': 'px',\n  'margin-top': 'px',\n  'margin-right': 'px',\n  'margin-left': 'px',\n  'margin-bottom': 'px'\n};\n\nfunction getStyle(style) {\n  if (isValue(style)) {\n    style = style();\n  }\n\n  if (typeof style === 'string') {\n    return style;\n  }\n\n  if (!style) {\n    return undefined;\n  }\n\n  if (typeof style !== 'object') {\n    return undefined;\n  }\n\n  const css = Object.create(null);\n\n  for (let k in style) {\n    let value = style[k];\n\n    if (isValue(value)) {\n      value = value();\n    }\n\n    const key = k.substr(0, 2) === '--' ? k : k.replace(/[A-Z]/g, '-$1').replace(/-+/g, '-').toLowerCase();\n\n    if (typeof value === 'number') {\n      const str = value && k in unit ? `${value}${unit[k]}` : `${value}`;\n      css[key] = [str, undefined];\n    } else if (value && typeof value === 'string') {\n      const v = value.replace(/!important\\s*$/, '');\n      css[key] = [v, v === value ? undefined : 'important'];\n    }\n  }\n\n  return css;\n}\n\nfunction update$1(css, style, oStyle) {\n  if (!style) {\n    if (!oStyle) {\n      return;\n    }\n\n    if (typeof oStyle === 'string') {\n      css.cssText = '';\n      return;\n    }\n\n    for (const k of Object.keys(oStyle)) {\n      css.removeProperty(k);\n    }\n\n    return;\n  }\n\n  if (typeof style === 'string') {\n    if (style !== typeof oStyle) {\n      css.cssText = style;\n    }\n\n    return;\n  }\n\n  if (!oStyle || typeof oStyle === 'string') {\n    if (typeof oStyle === 'string') {\n      css.cssText = '';\n    }\n\n    for (const k of Object.keys(style)) {\n      css.setProperty(k, ...style[k]);\n    }\n\n    return;\n  }\n\n  for (const k of Object.keys(style)) {\n    const v = style[k];\n\n    if (!oStyle[k] || oStyle[k][0] !== v[0] || oStyle[k][1] !== v[1]) {\n      css.setProperty(k, ...v);\n    }\n  }\n\n  for (const k of Object.keys(oStyle)) {\n    if (!style[k]) {\n      css.removeProperty(k);\n    }\n  }\n}\n\nfunction updateStyle(props, css, old, hasStyle) {\n  if (!hasStyle) {\n    return undefined;\n  }\n\n  const style = getStyle(isValue(props.style) ? props.style() : props.style);\n  update$1(css, style, old);\n  return style;\n}\n\nfunction setAttrs(el, attrs) {\n  if (el instanceof HTMLInputElement && 'checked' in attrs) {\n    switch (el.type.toLowerCase()) {\n      case 'checkbox':\n      case 'radio':\n        if (attrs.checked !== null !== el.checked) {\n          el.checked = attrs.checked !== null;\n        }\n\n    }\n  }\n\n  if ((el instanceof HTMLSelectElement || el instanceof HTMLInputElement || el instanceof HTMLTextAreaElement) && 'value' in attrs) {\n    const value = attrs.value || '';\n\n    if (el.value !== value) {\n      el.value = value;\n    }\n  }\n\n  if (el instanceof HTMLDetailsElement && 'open' in attrs) {\n    const value = attrs.open !== null;\n\n    if (el.open !== value) {\n      el.open = value;\n    }\n  }\n\n  if (el instanceof HTMLMediaElement) {\n    if ('muted' in attrs) {\n      const value = attrs.muted !== null;\n\n      if (el.muted !== value) {\n        el.muted = value;\n      }\n    }\n\n    if ('paused' in attrs) {\n      const value = attrs.paused !== null;\n\n      if (el.paused !== value) {\n        if (value) {\n          el.pause();\n        } else {\n          el.play();\n        }\n      }\n    }\n\n    if ('currentTime' in attrs) {\n      const value = attrs.currentTime;\n\n      if (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n        const num = Number(value);\n\n        if (el.currentTime !== num) {\n          el.currentTime = num;\n        }\n      }\n    }\n\n    if ('playbackRate' in attrs) {\n      const value = attrs.playbackRate;\n\n      if (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n        const num = Number(value);\n\n        if (el.playbackRate !== num) {\n          el.playbackRate = num;\n        }\n      }\n    }\n\n    if ('volume' in attrs) {\n      const value = attrs.volume;\n\n      if (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n        const num = Number(value);\n\n        if (el.volume !== num) {\n          el.volume = num;\n        }\n      }\n    }\n  }\n}\n\nfunction stringify(data, isOn = false) {\n  if (data === undefined || data === null) {\n    return data;\n  }\n\n  if (isOn && typeof data === 'function') {\n    return undefined;\n  }\n\n  if (typeof data === 'boolean') {\n    return data ? '' : null;\n  }\n\n  if (typeof data !== 'object') {\n    return String(data);\n  }\n\n  if (data instanceof Date) {\n    return data.toISOString();\n  }\n\n  if (data instanceof RegExp) {\n    return data.toString();\n  }\n\n  return JSON.stringify(data);\n}\n\nfunction getAttrs(props, hasStyle) {\n  const attrs = Object.create(null);\n\n  for (const k in props) {\n    if (/^(n|on|bind|slot)[:-]/.test(k)) {\n      continue;\n    }\n\n    if (!/^[a-zA-Z:_][a-zA-Z0-9:_-]*$/.test(k)) {\n      continue;\n    }\n\n    const name = k.toLowerCase();\n\n    switch (name) {\n      case 'style':\n        if (!hasStyle) {\n          break;\n        }\n\n      case 'ref':\n      case 'is':\n      case 'id':\n      case 'class':\n        continue;\n    }\n\n    let data = props[k];\n\n    if (isValue(data)) {\n      data = data();\n    }\n\n    const value = stringify(data, name.substr(0, 2) === 'on');\n\n    if (value !== undefined) {\n      attrs[name] = value;\n    }\n  }\n\n  return attrs;\n}\n\nfunction update$2(el, attrs, old) {\n  for (const k of Object.keys(attrs)) {\n    const v = attrs[k];\n\n    if (!(k in old) || old[k] !== v) {\n      if (v === null) {\n        el.removeAttribute(k);\n      } else {\n        el.setAttribute(k, v);\n      }\n    }\n  }\n\n  for (const k of Object.keys(old)) {\n    if (!(k in attrs)) {\n      el.removeAttribute(k);\n    }\n  }\n}\n\nfunction updateAttrs(props, el, old, hasStyle) {\n  const attrs = getAttrs(props, hasStyle);\n  update$2(el, attrs, old);\n  setAttrs(el, attrs);\n  return attrs;\n}\n\nfunction createEventEmitter() {\n  const events = new EventEmitter();\n  events.__eventBind = Object.create(null);\n  return events;\n}\n\nfunction* getElementModel(el) {\n  if (el instanceof HTMLInputElement) {\n    switch (el.type.toLowerCase()) {\n      case 'checkbox':\n        yield ['indeterminate', 'change', e => e.currentTarget.indeterminate];\n        return yield ['checked', 'change', e => e.currentTarget.checked];\n\n      case 'radio':\n        return yield ['checked', 'change', e => e.currentTarget.checked];\n    }\n\n    return yield ['value', 'input', e => e.currentTarget.value];\n  }\n\n  if (el instanceof HTMLTextAreaElement) {\n    return yield ['value', 'input', e => e.currentTarget.value];\n  }\n\n  if (el instanceof HTMLSelectElement) {\n    return yield ['value', 'change', e => e.currentTarget.value];\n  }\n\n  if (el instanceof HTMLDetailsElement) {\n    return yield ['open', 'toggle', e => e.currentTarget.open];\n  }\n\n  if (el instanceof HTMLMediaElement) {\n    yield ['currentTime', 'timeupdate', e => e.currentTarget.currentTime];\n    yield ['playbackRate', 'ratechange', e => e.currentTarget.playbackRate];\n    yield ['volume', 'volumechange', e => e.currentTarget.volume];\n    yield ['muted', 'volumechange', e => e.currentTarget.muted];\n    yield ['paused', 'playing', e => e.currentTarget.paused];\n    return yield ['paused', 'pause', e => e.currentTarget.paused];\n  }\n}\n\nfunction getEventName(k) {\n  if (k.substr(0, 2) !== 'on') {\n    return '';\n  }\n\n  let n = k.substr(2);\n\n  if (n[0] === ':' || n[0] === '-') {\n    return '';\n  }\n\n  return n;\n}\n\nfunction updateEvent(props, el, event = createEventEmitter()) {\n  event.updateInProps(props, addEvent => {\n    for (const k in props) {\n      const f = props[k];\n\n      if (typeof f !== 'function') {\n        continue;\n      }\n\n      const name = getEventName(k);\n\n      if (!name) {\n        continue;\n      }\n\n      addEvent(name, f);\n    }\n\n    for (const [prop, name, t] of getElementModel(el)) {\n      const value = props[prop];\n\n      if (isValue(value)) {\n        addEvent(name, e => value(t(e)));\n      }\n    }\n  });\n  const names = new Set(event.names.map(String));\n  const eventBind = event.__eventBind;\n\n  for (const k of Object.keys(eventBind)) {\n    if (names.has(k)) {\n      continue;\n    }\n\n    eventBind[k]();\n    delete eventBind[k];\n  }\n\n  const {\n    emit\n  } = event;\n\n  for (const k of names) {\n    if (k in eventBind) {\n      continue;\n    }\n\n    const f = (...p) => emit(k, ...p);\n\n    el.addEventListener(k, f);\n\n    eventBind[k] = () => {\n      el.removeEventListener(k, f);\n    };\n  }\n\n  return event;\n}\n\nconst PropsMap = new WeakMap();\nfunction update$3(el, props) {\n  const css = el.style;\n  const hasStyle = css instanceof CSSStyleDeclaration;\n  const old = PropsMap.get(el) || {\n    attrs: {}\n  };\n  const id = updateId(props, el, old.id);\n  const classes = updateClass(props, el, old.classes);\n  const style = updateStyle(props, css, old.style, hasStyle);\n  const attrs = updateAttrs(props, el, old.attrs, hasStyle);\n  const event = updateEvent(props, el, old.event);\n  PropsMap.set(el, {\n    id,\n    classes,\n    style,\n    attrs,\n    event\n  });\n  return el;\n}\n\nlet list;\nfunction nextFrame(f) {\n  if (list) {\n    list.push(f);\n    return;\n  }\n\n  list = [f];\n  window.requestAnimationFrame(() => {\n    const fs = list;\n    list = undefined;\n\n    if (!fs) {\n      return;\n    }\n\n    fs.forEach(f => f());\n  });\n}\n\nconst xmlnsMap = {\n  svg: 'http://www.w3.org/2000/svg',\n  html: 'http://www.w3.org/1999/xhtml',\n  mathml: 'http://www.w3.org/1998/Math/MathML'\n};\nconst SVGTags = new Set(['altGlyph', 'altGlyphDef', 'altGlyphItem', 'animate', 'animateColor', 'animateMotion', 'animateTransform', 'circle', 'clipPath', 'color-profile', 'cursor', 'defs', 'desc', 'ellipse', 'feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence', 'filter', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignObject', 'g', 'glyph', 'glyphRef', 'hkern', 'image', 'line', 'linearGradient', 'marker', 'mask', 'metadata', 'missing-glyph', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'script', 'set', 'stop', 'style', 'svg', 'switch', 'symbol', 'text', 'textPath', 'title', 'tref', 'tspan', 'use', 'view', 'vkern']);\nconst MathMLTags = new Set(['maction', 'math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msubsup', 'msup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'semantics']);\nfunction createElement(tagname, namespace) {\n  const res = /^([a-z][a-z0-9-]*):([a-z0-9-]+)$/i.exec(tagname);\n  const tag = res ? res[2] : tagname;\n  const ns = (namespace || (res === null || res === void 0 ? void 0 : res[1]) || SVGTags.has(tag.toLowerCase()) && 'svg' || MathMLTags.has(tag.toLowerCase()) && 'mathml' || '').toLowerCase();\n\n  if (!ns) {\n    return document.createElement(tag);\n  }\n\n  return document.createElementNS(ns in xmlnsMap && xmlnsMap[ns] || ns, tag);\n}\n\nconst tagRegex = /^[a-z][a-z0-9]*(?:-[a-z0-9]+)?(?::[a-z0-9]+(?:-[a-z0-9]+)?)?$/i;\nfunction isTagName(tag) {\n  if (typeof tag !== 'string') {\n    return false;\n  }\n\n  return tagRegex.test(tag);\n}\n\nconst render = {\n  type: 'web',\n  nextFrame,\n\n  isNode(v) {\n    return v instanceof Node;\n  },\n\n  mount({\n    target,\n    class: className,\n    style,\n    tag\n  }, parent) {\n    if (isValue(target)) {\n      target = target.value;\n    }\n\n    if (!isTagName(tag)) {\n      tag = 'div';\n    }\n\n    const container = render.createElement(tag);\n    render.updateProps(container, {\n      class: className,\n      style\n    });\n\n    if (target === null) {\n      if (!parent) {\n        return [container, container];\n      }\n\n      return [container, parent.createPlaceholder()];\n    }\n\n    if (typeof target === 'string') {\n      target = document.querySelector(target);\n    }\n\n    if (target instanceof Element) {\n      target.appendChild(container);\n\n      if (parent) {\n        return [container, parent.createPlaceholder()];\n      }\n\n      return [container, container];\n    }\n\n    if (parent !== render) {\n      document.body.appendChild(container);\n      return [container, container];\n    }\n\n    return [container, container];\n  },\n\n  unmount(container, node, removed) {\n    if (container === node && removed) {\n      return;\n    }\n\n    container.remove();\n  },\n\n  drawContainer(container, node, {\n    target,\n    class: className,\n    style,\n    tag\n  }, parent) {\n    render.updateProps(container, {\n      class: className,\n      style\n    });\n\n    if (isValue(target)) {\n      console.log(target);\n      target = target.value;\n    }\n\n    const oldTarget = parent === render && container === node ? undefined : render.getParent(node);\n\n    if (target === null) {\n      if (oldTarget === null) {\n        return [container, node];\n      }\n\n      if (container !== node) {\n        container.remove();\n      }\n\n      if (!parent) {\n        return [container, container];\n      }\n\n      return [container, parent.createPlaceholder()];\n    }\n\n    if (typeof target === 'string') {\n      target = document.querySelector(target);\n    }\n\n    if (parent !== render && !(target instanceof Element)) {\n      target = document.body;\n    }\n\n    if (oldTarget === target) {\n      return [container, node];\n    }\n\n    if (parent !== render) {\n      target.appendChild(container);\n      return [container, node];\n    }\n\n    if (!oldTarget) {\n      const newNode = parent.createPlaceholder();\n      const pNode = parent.getParent(node);\n\n      if (pNode) {\n        render.insertNode(pNode, newNode, node);\n        render.removeNode(node);\n      }\n\n      target.appendChild(container);\n      return [container, newNode];\n    }\n\n    if (!target) {\n      const pNode = parent.getParent(node);\n\n      if (pNode) {\n        render.insertNode(pNode, container, node);\n        render.removeNode(node);\n      }\n\n      return [container, container];\n    }\n\n    target.appendChild(container);\n    return [container, node];\n  },\n\n  drawNode() {},\n\n  createElement(tag) {\n    return createElement(tag);\n  },\n\n  createText(text) {\n    return document.createTextNode(text);\n  },\n\n  createPlaceholder() {\n    return document.createComment('');\n  },\n\n  createComponent() {\n    const node = createElement('neep-component');\n    return [node, node.attachShadow({\n      mode: 'open'\n    })];\n  },\n\n  getParent(node) {\n    return node.parentNode;\n  },\n\n  nextNode(node) {\n    return node.nextSibling;\n  },\n\n  updateProps(node, props) {\n    update$3(node, props);\n  },\n\n  insertNode(parent, node, next = null) {\n    parent.insertBefore(node, next);\n  },\n\n  removeNode(node) {\n    const p = render.getParent(node);\n\n    if (!p) {\n      return;\n    }\n\n    p.removeChild(node);\n  },\n\n  getRect(node) {\n    if (node instanceof Element) {\n      const {\n        top,\n        right,\n        bottom,\n        left,\n        width,\n        height\n      } = node.getBoundingClientRect();\n      return {\n        top,\n        right,\n        bottom,\n        left,\n        width,\n        height\n      };\n    }\n\n    if (node instanceof ShadowRoot) {\n      const {\n        top,\n        right,\n        bottom,\n        left,\n        width,\n        height\n      } = node.host.getBoundingClientRect();\n      return {\n        top,\n        right,\n        bottom,\n        left,\n        width,\n        height\n      };\n    }\n\n    return null;\n  }\n\n};\n\ninstallNeep()({\n  render\n});\nfunction install(Neep) {}\n\n\n\nvar NeepWebRender = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tinstall: install\n});\n\nexport default NeepWebRender;\nexport { install };\n","/*!\n * NeepDevtools v0.1.0-alpha.8\n * (c) 2019-2020 Fierflame\n * @license MIT\n */\nimport { install as install$2, nameSymbol, typeSymbol, createElement, isValue, Slot, isDeliver, encase, asValue, setHook, render } from '@neep/core';\n\nfunction install() {\n  return install$2;\n}\n\nlet Type;\n\n(function (Type) {\n  Type[\"tag\"] = \"tag\";\n  Type[\"placeholder\"] = \"placeholder\";\n  Type[\"standard\"] = \"standard\";\n  Type[\"simple\"] = \"simple\";\n  Type[\"native\"] = \"native\";\n  Type[\"container\"] = \"container\";\n  Type[\"special\"] = \"special\";\n})(Type || (Type = {}));\n\nfunction* getTree(tree, parent = 0) {\n  var _component$exposed;\n\n  if (Array.isArray(tree)) {\n    for (const it of tree) {\n      yield* getTree(it);\n    }\n\n    return;\n  }\n\n  const {\n    id: tagId,\n    tag,\n    props,\n    children,\n    key,\n    component,\n    label = component === null || component === void 0 ? void 0 : (_component$exposed = component.exposed) === null || _component$exposed === void 0 ? void 0 : _component$exposed.$label\n  } = tree;\n\n  if (!tag) {\n    return yield {\n      tagId,\n      parent,\n      type: Type.placeholder,\n      tag: 'placeholder',\n      children: []\n    };\n  }\n\n  if (typeof tag !== 'string') {\n    const name = tag[nameSymbol] || tag.name;\n\n    if (!component) {\n      return yield {\n        tagId,\n        parent,\n        type: Type.simple,\n        tag: name,\n        children: [...getTree(children)],\n        props,\n        key,\n        label\n      };\n    }\n\n    const isNative = tag[typeSymbol] === 'native';\n    return yield {\n      tagId,\n      parent,\n      type: isNative ? Type.native : Type.standard,\n      tag: name,\n      children: [...getTree(isNative ? component.nativeTree : component.tree)],\n      props,\n      key,\n      label\n    };\n  }\n\n  const ltag = tag.toLowerCase();\n\n  if (ltag === 'neep:container') {\n    return yield {\n      tagId,\n      parent,\n      type: Type.container,\n      tag: ltag,\n      children: [...getTree(component ? component.content : children)],\n      props,\n      key,\n      label\n    };\n  }\n\n  if (ltag === 'neep:value') {\n    const treeValue = tree.value;\n    return yield {\n      tagId,\n      parent,\n      type: Type.special,\n      tag: ltag,\n      children: [],\n      isNative: treeValue === tree.node,\n      value: treeValue,\n      props,\n      key,\n      label\n    };\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return yield {\n      tagId,\n      parent,\n      type: Type.special,\n      tag: ltag,\n      children: [...getTree(children)],\n      props,\n      key,\n      label\n    };\n  }\n\n  yield {\n    tagId,\n    parent,\n    type: Type.tag,\n    tag,\n    children: [...getTree(children)],\n    props,\n    key,\n    label\n  };\n}\n\nfunction getValue(value) {\n  const type = typeof value;\n\n  if (type === 'function') {\n    return createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, \"[Function]\");\n  }\n\n  if (type === 'string') {\n    return createElement(\"span\", null, value);\n  }\n\n  if (type === 'bigint' || type === 'boolean' || type === 'number' || type === 'symbol' || type === 'undefined' || value === null) {\n    return createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, String(value));\n  } else if (value instanceof RegExp) {\n    return createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, String(value));\n  } else if (value instanceof Date) {\n    return createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, value.toISOString());\n  } else if (type === 'object') {\n    return createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, String(value));\n  }\n\n  return null;\n}\nfunction TextNode({\n  isNative,\n  value\n}) {\n  if (isNative) {\n    return createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, \"[Native]\");\n  }\n\n  if (!isValue(value)) {\n    return getValue(value);\n  }\n\n  return createElement(\"template\", null, createElement(\"span\", {\n    style: \"font-weight: bold;\"\n  }, \"[Value:\\xA0\"), getValue(value()), createElement(\"span\", {\n    style: \"font-weight: bold;\"\n  }, \"\\xA0]\"));\n}\n\nfunction getKey(key) {\n  if (typeof key === 'string') {\n    return ` key=${JSON.stringify(key)}`;\n  }\n\n  if (typeof key === 'number') {\n    return ` key=${key}`;\n  }\n\n  if (typeof key === 'boolean') {\n    return ` key=${key}`;\n  }\n\n  if (typeof key === 'bigint') {\n    return ` key=${key}`;\n  }\n\n  if (typeof key === 'symbol') {\n    return ` key=${String(key)}`;\n  }\n\n  if (key === null) {\n    return ` key=${key}`;\n  }\n\n  if (key !== undefined) {\n    return ` key=${String(key)}`;\n  }\n}\nfunction getLabels(labels) {\n  return labels.filter(Boolean).map(([v, color]) => createElement(\"span\", {\n    style: `color: ${color || '#000'}`\n  }, v));\n}\n\nfunction Tag({\n  keys,\n  tagId,\n  key,\n  labels,\n  options,\n  children\n}) {\n  const opened = keys[tagId];\n  const childNodes = opened ? [...getList(children, keys, options)] : [];\n  const hasChildNodes = Boolean(opened && childNodes.length);\n  return createElement(\"div\", {\n    key: tagId,\n    style: \" position: relative; min-height: 20px; font-size: 14px; line-height: 20px; \"\n  }, createElement(\"div\", {\n    style: \" position: absolute; left: -20px; top: 0; width: 20px; height: 20px; text-align: center; cursor: pointer; background: #DDD; \",\n    onclick: () => keys[tagId] = !opened\n  }, opened ? '-' : '+'), createElement(\"div\", null, '<', createElement(Slot, null), getKey(key), '>', !hasChildNodes && createElement(\"template\", null, opened ? createElement(\"span\", null) : createElement(\"span\", {\n    onclick: () => keys[tagId] = true,\n    style: \"cursor: pointer;\"\n  }, \"...\"), '</', createElement(Slot, null), '>'), getLabels(labels)), hasChildNodes && createElement(\"template\", null, createElement(\"div\", {\n    style: \"padding-left: 20px\"\n  }, childNodes), createElement(\"div\", null, '</', createElement(Slot, null), '>')));\n}\n\nfunction PlaceholderTag({\n  name = 'placeholder',\n  tagId,\n  key,\n  labels\n}) {\n  return createElement(\"div\", {\n    key: tagId,\n    style: \" position: relative; min-height: 20px; font-size: 14px; line-height: 20px; \"\n  }, '<', createElement(\"span\", {\n    style: \"font-style: italic;\"\n  }, name), getKey(key), '/>', getLabels(labels));\n}\n\nfunction* getList(list, keys, options, labels = []) {\n  if (Array.isArray(list)) {\n    for (const it of list) {\n      yield* getList(it, keys, options, labels);\n    }\n\n    return;\n  }\n\n  const {\n    tagId,\n    type,\n    tag,\n    children,\n    props,\n    key,\n    label,\n    value,\n    isNative\n  } = list;\n  const labelList = [label, ...labels];\n\n  if (type === Type.standard || type === Type.native) {\n    return yield createElement(Tag, {\n      keys: keys,\n      tagId: tagId,\n      key: key,\n      labels: labelList,\n      options: options,\n      children: children\n    }, createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, tag));\n  }\n\n  if (type === Type.tag) {\n    if (!options.tag) {\n      return yield* getList(children, keys, options, labelList);\n    }\n\n    return yield createElement(Tag, {\n      keys: keys,\n      tagId: tagId,\n      key: key,\n      labels: labelList,\n      options: options,\n      children: children\n    }, tag);\n  }\n\n  if (type === Type.simple) {\n    if (!options.simple) {\n      return yield* getList(children, keys, options, labelList);\n    }\n\n    return yield createElement(Tag, {\n      keys: keys,\n      tagId: tagId,\n      key: key,\n      labels: labelList,\n      options: options,\n      children: children\n    }, createElement(\"span\", {\n      style: \" font-style: italic; font-weight: bold; \"\n    }, tag));\n  }\n\n  if (type === Type.placeholder) {\n    if (!options.placeholder) {\n      return;\n    }\n\n    return yield createElement(PlaceholderTag, {\n      tagId: tagId,\n      key: key,\n      labels: labelList\n    });\n  }\n\n  if (type === Type.container) {\n    if (!options.container) {\n      return yield* getList(children, keys, options, labelList);\n    }\n\n    return yield createElement(Tag, {\n      keys: keys,\n      tagId: tagId,\n      key: key,\n      labels: labelList,\n      options: options,\n      children: children\n    }, createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"container\"));\n  }\n\n  if (isDeliver(tag)) {\n    if (!options.deliver) {\n      return yield* getList(children, keys, options, labelList);\n    }\n\n    return yield createElement(Tag, {\n      keys: keys,\n      tagId: tagId,\n      key: key,\n      labels: labelList,\n      options: options,\n      children: children\n    }, createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"Deliver\"));\n  }\n\n  if (tag === 'template') {\n    if (!options.template) {\n      return yield* getList(children, keys, options, labelList);\n    }\n\n    return yield createElement(Tag, {\n      keys: keys,\n      tagId: tagId,\n      key: key,\n      labels: labelList,\n      options: options,\n      children: children\n    }, createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"Template\"));\n  }\n\n  if (tag === 'neep:scopeslot' || tag === 'neep:scope-slot') {\n    if (!options.scopeSlot) {\n      return yield* getList(children, keys, options, labelList);\n    }\n\n    return yield createElement(Tag, {\n      keys: keys,\n      tagId: tagId,\n      key: key,\n      labels: labelList,\n      options: options,\n      children: children\n    }, createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"ScopeSlot\"));\n  }\n\n  if (tag === 'neep:value') {\n    if (!options.tag) {\n      return;\n    }\n\n    if (!options.value) {\n      return;\n    }\n\n    return yield createElement(TextNode, {\n      isNative: isNative,\n      value: value\n    });\n  }\n\n  if (tag === 'neep:slotrender' || tag === 'neep:slot-render') {\n    if (options.slotRender) {\n      return yield createElement(PlaceholderTag, {\n        tagId: tagId,\n        key: key,\n        labels: labelList,\n        name: \"SlotRender\"\n      });\n    }\n\n    return;\n  }\n}\n\nvar Tree = (props => {\n  const keys = encase({});\n  return () => createElement(\"div\", {\n    style: \"padding-left: 20px;\"\n  }, [...getList(props.tree, keys, props.options)]);\n});\n\nfunction Devtools (props) {\n  return createElement(\"div\", null, createElement(Slot, {\n    name: \"settings\"\n  }), createElement(Slot, {\n    name: \"tree\"\n  }));\n}\n\nfunction Settings (props) {\n  const options = asValue(props.options);\n  const value = options('value');\n  const tag = options('tag');\n  const placeholder = options('placeholder');\n  const simple = options('simple');\n  const container = options('container');\n  const template = options('template');\n  const scopeSlot = options('scopeSlot');\n  const slotRender = options('slotRender');\n  const deliver = options('deliver');\n  return createElement(\"div\", null, createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: value\n  }), \"value\"), createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: tag\n  }), \"tag\"), createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: placeholder\n  }), \"placeholder\"), createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: simple\n  }), \"simple\"), createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: container\n  }), \"container\"), createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: template\n  }), \"template\"), createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: scopeSlot\n  }), \"scopeSlot\"), createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: slotRender\n  }), \"slotRender\"), createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: deliver\n  }), \"deliver\"));\n}\n\nlet creating = false;\n\nfunction create() {\n  creating = true;\n\n  try {\n    return {\n      options: encase({\n        value: false,\n        tag: false,\n        placeholder: false,\n        simple: false,\n        container: false,\n        template: false,\n        scopeSlot: false,\n        slotRender: false,\n        deliver: false\n      }),\n      exposed: render()\n    };\n  } finally {\n    creating = false;\n  }\n}\n\nfunction renderHook(container) {\n  if (creating) {\n    return;\n  }\n\n  let app;\n\n  const getData = () => {\n    if (!app) {\n      app = create();\n    }\n\n    const tree = [...getTree(container.content)];\n    app.exposed.$update(createElement(Devtools, {\n      options: app.options\n    }, createElement(Tree, {\n      slot: \"tree\",\n      tree: tree,\n      options: app.options\n    }), createElement(Settings, {\n      slot: \"settings\",\n      options: app.options\n    })));\n  };\n\n  setHook('drawnAll', getData, container.entity);\n  setHook('mounted', () => {\n    if (!app) {\n      app = create();\n    }\n\n    getData();\n    app.exposed.$mount();\n  }, container.entity);\n}\n\nconst devtools = {\n  renderHook\n};\n\ninstall()({\n  devtools\n});\nfunction install$1(Neep) {}\n\n\n\nvar NeepDevtools = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tinstall: install$1\n});\n\nexport default NeepDevtools;\nexport { install$1 as install };\n","import { Deliver } from '@neep/core';\nimport { createDeliver } from './neep';\nimport Router from '../Router';\n\nexport interface RouterDeliver {\n\trouter: Router;\n\tdepth: number;\n}\nexport let RouterDeliver: Deliver<RouterDeliver | undefined>;\n\nexport default function initDelivers() {\n\tRouterDeliver = createDeliver<RouterDeliver>();\n}\n","import { Context } from '@neep/core';\nimport { addContextConstructor } from './neep';\nimport { RouterDeliver } from './initDelivers';\n\nexport function contextConstructor(context: Context) {\n\tconst data = context.delivered(RouterDeliver);\n\tif (!data) { return; }\n\tconst {router, depth} = data;\n\tReflect.defineProperty(context, 'route', {\n\t\tvalue: router,\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n\tReflect.defineProperty(context, 'match', {\n\t\tget: () => router?._get(depth),\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n}\n\nexport default function installContextConstructor() {\n\taddContextConstructor(contextConstructor);\n}\n","import { Context, mName, mSimple } from '@neep/core';\nimport { createElement, label } from './install';\nimport Router from './Router';\nimport { RouterDeliver } from './install/initDelivers';\n\nexport interface ViewProps {\n\tname?: string;\n\tdepth?: number;\n\trouter?: Router;\n}\nexport default function RouterView(\n\tprops: ViewProps,\n\t{ delivered }: Context,\n) {\n\tconst isNew = props.router instanceof Router;\n\tconst deliver = delivered(RouterDeliver) as RouterDeliver | undefined;\n\tconst router = isNew ? props.router : deliver?.router;\n\tif (!(router instanceof Router)) { return; }\n\n\tlet depth = props.depth;\n\tif (typeof depth === 'number' && Number.isInteger(depth)) {\n\t\tif (depth < 0) { depth = router.size - depth; }\n\t} else {\n\t\tdepth = isNew ? 0 : (deliver?.depth || 0) + 1;\n\t}\n\tif (depth < 0) { return null; }\n\tconst match = router._get(depth);\n\tif (!match) { return; }\n\tconst { route: { components } } = match;\n\tif (!components) { return null; }\n\tconst name = props.name || 'default';\n\tconst component = name in components ? components[name] : undefined;\n\tif (!component) { return null; }\n\tlabel(`[path=${match.path}]`, '#987654');\n\treturn createElement(RouterDeliver, { value: {\n\t\tdepth: depth,\n\t\trouter: router,\n\t}}, createElement(component, props));\n}\nmSimple(RouterView);\nmName('RouterView', RouterView);\n","import { Context, mName, mSimple } from '@neep/core';\nimport { Location } from './type';\nimport { createElement } from './install';\n\nexport interface LinkProps extends Location {\n\tto?: Location | string;\n\treplace?: boolean;\n}\nexport default function RouterLink(\n\tprops: LinkProps,\n\tcontext: Context,\n) {\n\tconst { route, childNodes } = context;\n\tif (!route) { return createElement('template', {}, ...childNodes); }\n\tlet {to, append, replace, path, search, hash, query, alias, params} = props;\n\tif (!to) {\n\t\tto = { path, search, hash, query, alias, params };\n\t} else if (typeof to === 'string') {\n\t\tto = { path: to };\n\t}\n\tif (append) {\n\t\tto.append = true;\n\t}\n\tfunction onclick() {\n\t\tif (!route || !to) { return; }\n\t\tif (replace) {\n\t\t\troute.replace(to);\n\t\t} else {\n\t\t\troute.push(to);\n\t\t}\n\t}\n\treturn route\n\t\t.history?.link({...props, to}, context, onclick)\n\t\t|| createElement('span', {'@click': onclick}, ...childNodes);\n\n}\nmSimple(RouterLink);\nmName('RouterLink', RouterLink);\n","import RouterView from '../View';\nimport RouterLink from '../Link';\nimport { register } from './neep';\n\nexport default function installComponents() {\n\tregister('RouterView', RouterView);\n\tregister('router-view', RouterView);\n\tregister('RouterLink', RouterLink);\n\tregister('router-link', RouterLink);\n}\n","import installContextConstructor from './installContextConstructor';\nimport installComponents from './installComponents';\nimport initDelivers from './initDelivers';\n\nexport default [\n\tinstallComponents,\n\tinstallContextConstructor,\n\tinitDelivers,\n];\n","import moduleList from './moduleList';\n\nexport default function install(Neep: typeof import ('@neep/core')) {\n}\nfor (const f of moduleList) {\n\tf();\n}\n","export function cleanPath(path: string) {\n\tpath = `/${path}`.replace(/\\/+(\\/|$)/g, '$1');\n\twhile(/[^/]+\\/\\.{2,}(\\/|$)/.test(path)) {\n\t\tpath = path.replace(/\\/[^/]+\\/\\.(\\.+(?:\\/|$))/g, '/$1');\n\t}\n\tpath = path.replace(/\\/\\.+(\\/|$)/g, '$1');\n\treturn path || '/';\n}\n","/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n    var tokens = [];\n    var i = 0;\n    while (i < str.length) {\n        var char = str[i];\n        if (char === \"*\" || char === \"+\" || char === \"?\") {\n            tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"\\\\\") {\n            tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n            continue;\n        }\n        if (char === \"{\") {\n            tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"}\") {\n            tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \":\") {\n            var name = \"\";\n            var j = i + 1;\n            while (j < str.length) {\n                var code = str.charCodeAt(j);\n                if (\n                // `0-9`\n                (code >= 48 && code <= 57) ||\n                    // `A-Z`\n                    (code >= 65 && code <= 90) ||\n                    // `a-z`\n                    (code >= 97 && code <= 122) ||\n                    // `_`\n                    code === 95) {\n                    name += str[j++];\n                    continue;\n                }\n                break;\n            }\n            if (!name)\n                throw new TypeError(\"Missing parameter name at \" + i);\n            tokens.push({ type: \"NAME\", index: i, value: name });\n            i = j;\n            continue;\n        }\n        if (char === \"(\") {\n            var count = 1;\n            var pattern = \"\";\n            var j = i + 1;\n            if (str[j] === \"?\") {\n                throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \" + j);\n            }\n            while (j < str.length) {\n                if (str[j] === \"\\\\\") {\n                    pattern += str[j++] + str[j++];\n                    continue;\n                }\n                if (str[j] === \")\") {\n                    count--;\n                    if (count === 0) {\n                        j++;\n                        break;\n                    }\n                }\n                else if (str[j] === \"(\") {\n                    count++;\n                    if (str[j + 1] !== \"?\") {\n                        throw new TypeError(\"Capturing groups are not allowed at \" + j);\n                    }\n                }\n                pattern += str[j++];\n            }\n            if (count)\n                throw new TypeError(\"Unbalanced pattern at \" + i);\n            if (!pattern)\n                throw new TypeError(\"Missing pattern at \" + i);\n            tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n            i = j;\n            continue;\n        }\n        tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n    }\n    tokens.push({ type: \"END\", index: i, value: \"\" });\n    return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str, options) {\n    if (options === void 0) { options = {}; }\n    var tokens = lexer(str);\n    var _a = options.prefixes, prefixes = _a === void 0 ? \"./\" : _a;\n    var defaultPattern = \"[^\" + escapeString(options.delimiter || \"/#?\") + \"]+?\";\n    var result = [];\n    var key = 0;\n    var i = 0;\n    var path = \"\";\n    var tryConsume = function (type) {\n        if (i < tokens.length && tokens[i].type === type)\n            return tokens[i++].value;\n    };\n    var mustConsume = function (type) {\n        var value = tryConsume(type);\n        if (value !== undefined)\n            return value;\n        var _a = tokens[i], nextType = _a.type, index = _a.index;\n        throw new TypeError(\"Unexpected \" + nextType + \" at \" + index + \", expected \" + type);\n    };\n    var consumeText = function () {\n        var result = \"\";\n        var value;\n        // tslint:disable-next-line\n        while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n            result += value;\n        }\n        return result;\n    };\n    while (i < tokens.length) {\n        var char = tryConsume(\"CHAR\");\n        var name = tryConsume(\"NAME\");\n        var pattern = tryConsume(\"PATTERN\");\n        if (name || pattern) {\n            var prefix = char || \"\";\n            if (prefixes.indexOf(prefix) === -1) {\n                path += prefix;\n                prefix = \"\";\n            }\n            if (path) {\n                result.push(path);\n                path = \"\";\n            }\n            result.push({\n                name: name || key++,\n                prefix: prefix,\n                suffix: \"\",\n                pattern: pattern || defaultPattern,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        var value = char || tryConsume(\"ESCAPED_CHAR\");\n        if (value) {\n            path += value;\n            continue;\n        }\n        if (path) {\n            result.push(path);\n            path = \"\";\n        }\n        var open = tryConsume(\"OPEN\");\n        if (open) {\n            var prefix = consumeText();\n            var name_1 = tryConsume(\"NAME\") || \"\";\n            var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n            var suffix = consumeText();\n            mustConsume(\"CLOSE\");\n            result.push({\n                name: name_1 || (pattern_1 ? key++ : \"\"),\n                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n                prefix: prefix,\n                suffix: suffix,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        mustConsume(\"END\");\n    }\n    return result;\n}\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile(str, options) {\n    return tokensToFunction(parse(str, options), options);\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction(tokens, options) {\n    if (options === void 0) { options = {}; }\n    var reFlags = flags(options);\n    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;\n    // Compile all the tokens into regexps.\n    var matches = tokens.map(function (token) {\n        if (typeof token === \"object\") {\n            return new RegExp(\"^(?:\" + token.pattern + \")$\", reFlags);\n        }\n    });\n    return function (data) {\n        var path = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (typeof token === \"string\") {\n                path += token;\n                continue;\n            }\n            var value = data ? data[token.name] : undefined;\n            var optional = token.modifier === \"?\" || token.modifier === \"*\";\n            var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n            if (Array.isArray(value)) {\n                if (!repeat) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not repeat, but got an array\");\n                }\n                if (value.length === 0) {\n                    if (optional)\n                        continue;\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not be empty\");\n                }\n                for (var j = 0; j < value.length; j++) {\n                    var segment = encode(value[j], token);\n                    if (validate && !matches[i].test(segment)) {\n                        throw new TypeError(\"Expected all \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                    }\n                    path += token.prefix + segment + token.suffix;\n                }\n                continue;\n            }\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                var segment = encode(String(value), token);\n                if (validate && !matches[i].test(segment)) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                }\n                path += token.prefix + segment + token.suffix;\n                continue;\n            }\n            if (optional)\n                continue;\n            var typeOfMessage = repeat ? \"an array\" : \"a string\";\n            throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to be \" + typeOfMessage);\n        }\n        return path;\n    };\n}\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match(str, options) {\n    var keys = [];\n    var re = pathToRegexp(str, keys, options);\n    return regexpToFunction(re, keys, options);\n}\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction(re, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.decode, decode = _a === void 0 ? function (x) { return x; } : _a;\n    return function (pathname) {\n        var m = re.exec(pathname);\n        if (!m)\n            return false;\n        var path = m[0], index = m.index;\n        var params = Object.create(null);\n        var _loop_1 = function (i) {\n            // tslint:disable-next-line\n            if (m[i] === undefined)\n                return \"continue\";\n            var key = keys[i - 1];\n            if (key.modifier === \"*\" || key.modifier === \"+\") {\n                params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {\n                    return decode(value, key);\n                });\n            }\n            else {\n                params[key.name] = decode(m[i], key);\n            }\n        };\n        for (var i = 1; i < m.length; i++) {\n            _loop_1(i);\n        }\n        return { path: path, index: index, params: params };\n    };\n}\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options) {\n    return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path, keys) {\n    if (!keys)\n        return path;\n    // Use a negative lookahead to match only capturing groups.\n    var groups = path.source.match(/\\((?!\\?)/g);\n    if (groups) {\n        for (var i = 0; i < groups.length; i++) {\n            keys.push({\n                name: i,\n                prefix: \"\",\n                suffix: \"\",\n                modifier: \"\",\n                pattern: \"\"\n            });\n        }\n    }\n    return path;\n}\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(paths, keys, options) {\n    var parts = paths.map(function (path) { return pathToRegexp(path, keys, options).source; });\n    return new RegExp(\"(?:\" + parts.join(\"|\") + \")\", flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(path, keys, options) {\n    return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(tokens, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function (x) { return x; } : _d;\n    var endsWith = \"[\" + escapeString(options.endsWith || \"\") + \"]|$\";\n    var delimiter = \"[\" + escapeString(options.delimiter || \"/#?\") + \"]\";\n    var route = start ? \"^\" : \"\";\n    // Iterate over the tokens and create our regexp string.\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        if (typeof token === \"string\") {\n            route += escapeString(encode(token));\n        }\n        else {\n            var prefix = escapeString(encode(token.prefix));\n            var suffix = escapeString(encode(token.suffix));\n            if (token.pattern) {\n                if (keys)\n                    keys.push(token);\n                if (prefix || suffix) {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        var mod = token.modifier === \"*\" ? \"?\" : \"\";\n                        route += \"(?:\" + prefix + \"((?:\" + token.pattern + \")(?:\" + suffix + prefix + \"(?:\" + token.pattern + \"))*)\" + suffix + \")\" + mod;\n                    }\n                    else {\n                        route += \"(?:\" + prefix + \"(\" + token.pattern + \")\" + suffix + \")\" + token.modifier;\n                    }\n                }\n                else {\n                    route += \"(\" + token.pattern + \")\" + token.modifier;\n                }\n            }\n            else {\n                route += \"(?:\" + prefix + suffix + \")\" + token.modifier;\n            }\n        }\n    }\n    if (end) {\n        if (!strict)\n            route += delimiter + \"?\";\n        route += !options.endsWith ? \"$\" : \"(?=\" + endsWith + \")\";\n    }\n    else {\n        var endToken = tokens[tokens.length - 1];\n        var isEndDelimited = typeof endToken === \"string\"\n            ? delimiter.indexOf(endToken[endToken.length - 1]) > -1\n            : // tslint:disable-next-line\n                endToken === undefined;\n        if (!strict) {\n            route += \"(?:\" + delimiter + \"(?=\" + endsWith + \"))?\";\n        }\n        if (!isEndDelimited) {\n            route += \"(?=\" + delimiter + \"|\" + endsWith + \")\";\n        }\n    }\n    return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(path, keys, options) {\n    if (path instanceof RegExp)\n        return regexpToRegexp(path, keys);\n    if (Array.isArray(path))\n        return arrayToRegexp(path, keys, options);\n    return stringToRegexp(path, keys, options);\n}\n//# sourceMappingURL=index.js.map","\nimport { match, compile } from 'path-to-regexp';\nimport { RouteConfig, Route, Match } from './type';\nimport { cleanPath } from './util';\n\n\nexport function addRoute(\n\tcfg: RouteConfig,\n\tnamed: Record<string, Route>,\n\tparent?: Route,\n) {\n\tlet { path, children, alias, meta, component, components, ...p } = cfg;\n\tlet end = !(Array.isArray(children) && children.length);\n\tif (!path || path === '*') {\n\t\tpath = '';\n\t\tend = false;\n\t}\n\tif (path[0] !== '/') {\n\t\tpath = `${parent?.path || ''}/${path}`;\n\t}\n\tpath = cleanPath(path);\n\tif (component) {\n\t\tif (!components) {\n\t\t\tcomponents = {};\n\t\t}\n\t\tcomponents.default = component;\n\t}\n\tconst item: Route = {\n\t\t...p,\n\t\tpath,\n\t\talias,\n\t\tcomponent,\n\t\tcomponents,\n\t\tmeta: meta || {},\n\t\ttoPath: compile(path || '', { encode: encodeURIComponent }),\n\t\tmatch: match(path || '', {end, decode: decodeURIComponent}),\n\t};\n\tif (alias) { named[alias] = item; }\n\tif (Array.isArray(children)) {\n\t\titem.children = children.map(c => addRoute(c, named, item));\n\t}\n\treturn item;\n}\n\nexport function *matchRoutes(path: string, routes: Route[] = []): Iterable<Match>{\n\tfor (const route of routes) {\n\t\tconst result = route.match(path);\n\t\tif (!result) { continue; }\n\t\tif (route.components || route.redirect) {\n\t\t\tyield { ...result, route };\n\t\t}\n\t\tif (!route.redirect) {\n\t\t\tyield* matchRoutes(path, route.children);\n\t\t}\n\t\treturn;\n\t}\n}\n","\nfunction getValue(v: any): string | undefined | null {\n\tif (v === undefined) { return undefined; }\n\tif (v === null) { return null; }\n\tif (v === false) { return undefined; }\n\tif (typeof v === 'number' && !Number.isFinite(v)) { return; }\n\tif (typeof v === 'function') { return; }\n\treturn encodeURIComponent(String(v));\n}\nexport function stringify(s: any): string {\n\tconst list: string[] = [];\n\tfor (const key of Object.keys(s)) {\n\t\tconst value = s[key];\n\t\tconst k = encodeURIComponent(key);\n\t\tif (!Array.isArray(value)) {\n\t\t\tconst v = getValue(value);\n\t\t\tif (v === undefined) { continue; }\n\t\t\tlist.push(v === null ? k : `${k}=${v}`);\n\t\t\tcontinue;\n\t\t}\n\t\tfor (const val of value) {\n\t\t\tconst v = getValue(val);\n\t\t\tif (v === undefined) { continue; }\n\t\t\tlist.push(v === null ? k : `${k}=${v}`);\n\t\t}\n\t}\n\treturn list.join('&');\n}\n\nexport function parse(s: string): object {\n\tconst query = Object.create(null);\n\tfunction set(k: string, v: null | string = null) {\n\t\tif (!(k in query)) {\n\t\t\tquery[k] = v;\n\t\t\treturn;\n\t\t}\n\t\tconst it = query[k];\n\t\tif (Array.isArray(it)) {\n\t\t\tit.push(v);\n\t\t} else {\n\t\t\tquery[k] = [it, v];\n\t\t}\n\n\t}\n\tfor (const it of s.split('&')) {\n\t\tconst index = it.indexOf('=');\n\t\tif (index < 0) {\n\t\t\tset(decodeURIComponent(it));\n\t\t\tcontinue;\n\t\t}\n\t\tconst k = decodeURIComponent(it.substr(0, index));\n\t\tconst v = decodeURIComponent(it.substr(index + 1));\n\t\tset(k, v);\n\t}\n\treturn query;\n}\n","import { IHistory } from '../type';\nimport Router from '../Router';\nimport { Context } from '@neep/core';\nimport { createElement } from '../install';\n\nexport default class StoreHistory implements IHistory {\n\trouter: Router;\n\tconstructor(router: Router) {\n\t\tthis.router = router;\n\t}\n\tindex = 0;\n\thistory: [string, string, string, any][] = [];\n\tpush(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\tthis.history.length = this.index + 1;\n\t\tthis.index++;\n\t\tthis.history.push([path, search, hash, state]);\n\t}\n\treplace(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\tthis.history[this.index] = [path, search, hash, state];\n\t}\n\tgo(index: number) {\n\t\tlet newIndex = this.index + index;\n\t\tif (newIndex >= this.history.length) { return; }\n\t\tif (newIndex < 0) { return; }\n\t\tif (newIndex === this.index) { return; }\n\t\tthis.index = newIndex;\n\t\treturn this.history[newIndex];\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\t{ id, class: className, style }: any,\n\t\t{ childNodes, emit }: Context,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElement('span', {\n\t\t\tid, class: className, style,\n\t\t\t'n-on': emit.omit('click'),\n\t\t\t'@click': (...any: any) => {\n\t\t\t\tif (!emit('click', ...any)) { return; }\n\t\t\t\tonClick();\n\t\t\t},\n\t\t}, ...childNodes);\n\t}\n}\n","import { IHistory, Location } from '../type';\nimport Router from '../Router';\nimport { cleanPath } from '../util';\nimport { Context } from '@neep/core';\nimport { createElement } from '../install';\n\nexport default class WebPathHistory implements IHistory {\n\treadonly router: Router;\n\treadonly base: string;\n\tconstructor(router: Router, opt?: {\n\t\tbase?: string;\n\t}) {\n\t\tthis.router = router;\n\t\tlet base = cleanPath(opt?.base || '');\n\t\tthis.base = base === '/' ? '' : base;\n\t\tconst f = () => {\n\t\t\tthis.router._update(\n\t\t\t\tthis.getPath(),\n\t\t\t\tlocation.search,\n\t\t\t\tlocation.hash,\n\t\t\t\thistory.state,\n\t\t\t);\n\t\t};\n\t\twindow.addEventListener('popstate', f);\n\t\tthis.destroy = () => {\n\t\t\tthis.destroy = () => {};\n\t\t\twindow.removeEventListener('popstate', f);\n\t\t};\n\t}\n\tstart() {\n\t\tthis.router._update(\n\t\t\tthis.getPath(),\n\t\t\tlocation.search,\n\t\t\tlocation.hash,\n\t\t\thistory.state,\n\t\t);\n\t}\n\tdestroy() {}\n\tpush(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\thistory.pushState(state, '', `${this.base}${path}${search}${hash}`);\n\t}\n\treplace(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\thistory.replaceState(state, '', `${this.base}${path}${search}${hash}`);\n\t}\n\tprivate getPath() {\n\t\tconst path = location.pathname;\n\t\tconst { base } = this;\n\t\tif (!base) { return path; }\n\t\tif (path.indexOf(`${base}/`) !== 0) { return path; }\n\t\treturn path.substr(base.length);\n\t}\n\tgo(index: number) {\n\t\tconst old = {\n\t\t\tpath: this.getPath(),\n\t\t\tsearch: location.search,\n\t\t\thash: location.hash,\n\t\t\tstate: history.state,\n\t\t};\n\t\thistory.go(index);\n\t\tconst path = this.getPath();\n\t\tconst search = location.search;\n\t\tconst hash = location.hash;\n\t\tconst state = history.state;\n\t\tif (\n\t\t\tpath !== old.path\n\t\t\t|| search !== old.search\n\t\t\t|| hash !== old.hash\n\t\t\t|| state !== old.state\n\t\t) {\n\t\t\treturn [path, search, hash, state] as [string, string, string, any];\n\t\t}\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\t{ to, onclick, id, class: className, style }: { to: Location; [any: string]: any },\n\t\t{ childNodes, emit }: Context,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElement('a', {\n\t\t\tid, class: className, style,\n\t\t\thref: `${this.base}${this.router.getUrl(to)}`,\n\t\t\t'n-on': emit.omit('click'),\n\t\t\t'@click': (e: MouseEvent) => {\n\t\t\t\tlet cancel = !emit('click', e);\n\t\t\t\tif (typeof onclick === 'function') {\n\t\t\t\t\tonclick(e);\n\t\t\t\t}\n\t\t\t\tif (e.defaultPrevented) { return; }\n\t\t\t\te.preventDefault();\n\t\t\t\tif (cancel) { return; }\n\t\t\t\tonClick();\n\t\t\t},\n\t\t}, ...childNodes);\n\t}\n}\n","import { IHistory, Location } from '../type';\nimport Router from '../Router';\nimport { Context } from '@neep/core';\nimport { createElement } from '../install';\n\nfunction parse(p: string): [string, string, string] {\n\tconst result = /^([^?#]*)((?:\\?[^#]*)?)((?:#.*)?)$/.exec(p);\n\tif (!result) { return ['/', '', '']; }\n\treturn [result[1] || '/', result[2], result[3]];\n}\n\nexport default class WebPathHistory implements IHistory {\n\trouter: Router;\n\tconstructor(router: Router) {\n\t\tthis.router = router;\n\t\tconst f = () => {\n\t\t\tconst [path, search, hash] = parse(location.hash.substr(1));\n\t\t\tthis.router._update(path, search, hash);\n\t\t};\n\t\twindow.addEventListener('hashchange', f);\n\t\tthis.destroy = () => {\n\t\t\tthis.destroy = () => {};\n\t\t\twindow.removeEventListener('hashchange', f);\n\t\t};\n\t}\n\tstart() {\n\t\tconst [path, search, hash] = parse(location.hash.substr(1));\n\t\tthis.router._update(path, search, hash);\n\t}\n\tdestroy() {}\n\tpush(path: string, search: string, hash: string) {\n\t\tlocation.hash = `#${path}${search}${hash}`;\n\t}\n\treplace(path: string, search: string, hash: string) {\n\t\tlocation.replace(`#${path}${search}${hash}`);\n\t}\n\tgo(index: number) {\n\t\tconst oldHash = location.hash;\n\t\thistory.go(index);\n\t\tconst hash = location.hash;\n\t\tif (hash === oldHash) { return; }\n\t\treturn [...parse(hash.substr(1)), undefined] as [string, string, string, any];\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\t{ to, onclick, id, class: className, style }: { to: Location; [any: string]: any },\n\t\t{ childNodes, emit }: Context,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElement('a', {\n\t\t\tid, class: className, style,\n\t\t\thref: `#${this.router.getUrl(to)}`,\n\t\t\t'n-on': emit.omit('click'),\n\t\t\t'@click': (e: MouseEvent) => {\n\t\t\t\tlet cancel = !emit('click', e);\n\t\t\t\tif (typeof onclick === 'function') {\n\t\t\t\t\tonclick(e);\n\t\t\t\t}\n\t\t\t\tif (e.defaultPrevented) { return; }\n\t\t\t\te.preventDefault();\n\t\t\t\tif (cancel) { return; }\n\t\t\t\tonClick();\n\t\t\t},\n\t\t}, ...childNodes);\n\t}\n}\n","import install from './install';\nimport { Error, value, encase } from './install/neep';\nimport { Value } from 'monitorable';\nimport RouterView from './View';\nimport RouterLink from './Link';\nimport { Route, Location, IHistory, Match, RouteConfig } from './type';\nimport { cleanPath } from './util';\nimport { addRoute, matchRoutes } from './route';\nimport { stringify, parse } from './query';\nimport * as history from './history';\nimport { Component, mName, mSimple } from '@neep/core';\n\nfunction get(\n\tlocation: Location | string,\n\troutes: Record<string, Route>,\n\tbasePath: string,\n\tstringifyQuery = stringify,\n): {\n\tpath: string;\n\tsearch: string;\n\thash: string;\n} {\n\tif (typeof location === 'string') { location = { path: location }; }\n\n\tconst route = location.alias && routes[location.alias];\n\tconst result = location.path && /^([^?#]*)((?:\\?[^#]*)?)((?:#.*)?)$/\n\t\t.exec(location.path);\n\tlet path = result?.[1] || '';\n\tif (!path) {\n\t\tpath = route ? route.toPath(location.params || {}) : basePath;\n\t} else if (route) {\n\t\tlet routePath = route.toPath(location.params || {});\n\t\tif (!location.append) {\n\t\t\troutePath = routePath.replace(/\\/[^/]*\\/?$/, '');\n\t\t}\n\t\tpath = `${route.toPath(location.params || {})}/${path}`;\n\t} else if (location.append) {\n\t\tpath = `${basePath}/${path}`;\n\t} if (path[0] !== '/') {\n\t\tpath = `${basePath.replace(/\\/[^/]*\\/?$/, '')}/${path}`;\n\t}\n\tpath = cleanPath(path);\n\tconst search = location.query && `?${ stringifyQuery(location.query) }`\n\t\t|| location.search || result?.[2] || '';\n\tconst hash = location.hash || result?.[3] || '';\n\treturn { path, search, hash };\n}\n\nfunction update(\n\tobj: any,\n\tprops: any = {},\n) {\n\tconst newKeys = new Set(Reflect.ownKeys(props));\n\tfor (const k of Reflect.ownKeys(obj)) {\n\t\tif (!newKeys.has(k)) {\n\t\t\tdelete obj[k];\n\t\t}\n\t}\n\tfor (const k of newKeys) {\n\t\tobj[k] = props[k];\n\t}\n\treturn obj;\n}\nconst redirects: string[] = [];\nclass Router {\n\tstatic get history() { return history; }\n\tstatic get install() { return install; }\n\tstatic get View() { return RouterView; }\n\tstatic get Link() { return RouterLink; }\n\tstringify?(query: Record<any, any>): string;\n\tparse?(search: string): Record<any, any>;\n\tprivate _namedRoutes: Record<string, Route> = Object.create(null);\n\tprivate _routes: Route[] = [];\n\thistory?: IHistory;\n\tprivate readonly _size = value(0);\n\tprivate readonly _nodes: Value<Match | undefined>[] = [];\n\tprivate readonly _matches = value<Match[]>([]);\n\tprivate readonly _hash = value('');\n\tprivate readonly _search = value('');\n\tprivate readonly _alias = value('');\n\tprivate readonly _path = value('/');\n\tprivate readonly _state = value(undefined as any);\n\tget size() { return this._size(); }\n\tget matches() { return this._matches(); }\n\tget alias() { return this._alias(); }\n\tget path(): string { return this._path(); }\n\tget search() { return this._search(); }\n\tget hash() { return this._hash(); }\n\tget state() { return this._state(); }\n\treadonly params: Record<string, string> = encase(Object.create(null));\n\treadonly query: Record<string, any> = encase(Object.create(null));\n\treadonly meta: Record<string, any> = encase(Object.create(null));\n\tconstructor({History, historyOption}: {\n\t\tHistory?: {new(router: Router, opt?: any): IHistory }\n\t\thistoryOption?: any;\n\t}) {\n\t\tif (History) {\n\t\t\tconst history = new History(this, historyOption);\n\t\t\tthis.history = history;\n\t\t\thistory.start?.();\n\t\t}\n\t}\n\tsetRoutes(routes: RouteConfig[]) {\n\t\tconst named = Object.create(null);\n\t\tthis._routes = routes.map(c => addRoute(c, named));\n\t\tthis._namedRoutes = named;\n\t\tthis._update(\n\t\t\tthis._path(),\n\t\t\tthis._search(),\n\t\t\tthis._hash(),\n\t\t\tthis._state(),\n\t\t\ttrue,\n\t\t);\n\t}\n\t_get(index: number): Match | undefined {\n\t\tconst item =  this._nodes[index]?.();\n\t\tif (!item) {\n\t\t\tthis._size();\n\t\t\treturn undefined;\n\t\t}\n\t\treturn item;\n\t}\n\t_update(path: string, search: string, hash: string, state?: any, force = false) {\n\t\tif (this._path() !== path || force) {\n\t\t\tconst matches = [...matchRoutes(path, this._routes)];\n\t\t\tconst last = matches[matches.length - 1] as Match | undefined;\n\t\t\tif (last && !last.route.components) {\n\t\t\t\tredirects.push(path);\n\t\t\t\tif (redirects.length >= 10) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Too many consecutive redirect jumps: \\n${\n\t\t\t\t\t\t\tredirects.join('\\n')\n\t\t\t\t\t\t}`,\n\t\t\t\t\t\t'router',\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst {redirect, append} = last.route;\n\t\t\t\ttry {\n\t\t\t\t\tif (append) {\n\t\t\t\t\t\tthis.replace(`${path}/${redirect}`, state);\n\t\t\t\t\t} else if (redirect && redirect[0] === '/') {\n\t\t\t\t\t\tthis.replace(redirect, state);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.replace(`${path}/../${redirect}`, state);\n\t\t\t\t\t}\n\t\t\t\t\treturn ;\n\t\t\t\t} finally {\n\t\t\t\t\tredirects.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst nodes = this._nodes;\n\t\t\tconst nodesLength = nodes.length;\n\t\t\tconst matchesLength = matches.length;\n\t\t\tconst min = Math.min(matchesLength, nodesLength);\n\t\t\tfor (let i = 0; i < min; i++) { nodes[i](matches[i]); }\n\t\t\tfor (let i = min; i < nodesLength; i++) {\n\t\t\t\tnodes[i](undefined);\n\t\t\t}\n\t\t\tfor (let i = min; i < matchesLength; i++) {\n\t\t\t\tnodes[i] = value(matches[i]);\n\t\t\t}\n\t\t\tnodes.length = matchesLength;\n\t\t\tthis._size(matchesLength);\n\t\t\tthis._matches(matches);\n\t\t\tthis._path(path);\n\t\t\tthis._alias(last?.route?.alias || '');\n\t\t\tupdate(this.params, last?.params || {});\n\t\t\tupdate(this.meta, last?.route?.meta || {});\n\t\t}\n\t\tif (this._search() !== search) {\n\t\t\tthis._search(search);\n\t\t\tupdate(this.query, (this.parse || parse)(search.substr(1)));\n\t\t}\n\t\tthis._hash(hash);\n\t\tthis._state(state);\n\t}\n\tpush(location: Location | string, state?: any) {\n\t\tconst { path, search, hash } = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\tthis.history?.push(path, search, hash, state);\n\t\tthis._update(path, search, hash, state);\n\t}\n\treplace(location: Location | string, state?: any) {\n\t\tconst {path, search, hash} = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\tthis.history?.replace(path, search, hash, state);\n\t\tthis._update(path, search, hash, state);\n\t}\n\tgetUrl(location: Location | string) {\n\t\tconst {path, search, hash} = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\treturn `${path}${search}${hash}`;\n\n\t}\n\tgo(index: number) {\n\t\tconst it = this.history?.go(index);\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tback() {\n\t\tconst it = this.history?.back();\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tforward() {\n\t\tconst it = this.history?.forward();\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tget view() {\n\t\tconst view: Component = (props, ...p) =>\n\t\t\tRouterView({...props, router: this}, ...p);\n\t\tmName('Router', view);\n\t\tmSimple(view);\n\t\tReflect.defineProperty(this, 'view', {\n\t\t\tvalue: view,\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t});\n\t\treturn view;\n\t}\n}\n\nexport default Router;\n","import { create, mark, mName, createElement, Template, useValue, value } from '@neep/core';\nimport Router from '@neep/router';\n\nconst User = create((\n\tprops: { a?: any,  set?: () => void},\n\t{ route },\n) => {\n\tconst v = useValue(() => Math.random());\n\tconst s = useValue(() => value(0));\n\ts.value++;\n\treturn <Template>\n\t{s.value}: {v}\n\t\t<div>用户首页</div>\n\t\t<div>Id: {route?.params?.['id']}</div>\n\t\t<hr />\n\t\t<div><Router.Link path=\"/\">首页</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1\">用户1</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/2\">用户2</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1/info\">用户1信息</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1/settings\">用户1设置</Router.Link></div>\n\t\t<hr />\n\t\t<Router.View />\n\t</Template>;\n});\nexport default mark(User, mName('User'));\n","import { create, mark, mName, createElement, Template, useValue } from '@neep/core';\n\nconst Info = create((\n\tprops: { a?: any,  set?: () => void},\n\t{ route },\n) => {\n\tconst v = useValue(() => Math.random());\n\treturn <Template>\n\t\t{v}\n\t\t<div>用户信息</div>\n\t\t<div>Id: {route?.params?.['id']}</div>\n\t</Template>;\n});\nexport default mark(Info, mName('UserInfo'));\n","import { create, mark, mName, createElement, Template } from '@neep/core';\n\nconst Settings = create((\n\tprops: { a?: any,  set?: () => void},\n\t{ route },\n) => {\n\treturn <Template>\n\t\t<div>用户设置</div>\n\t\t<div>Id: {route?.params?.['id']}</div>\n\t</Template>;\n});\nexport default mark(Settings, mName('UserSettings'));\n","import { create, mark, mName, createElement, Template } from '@neep/core';\nimport Router from '@neep/router';\n\nconst Home = () => {\n\treturn <Template>\n\t\t<div>首页</div>\n\t\t<hr />\n\t\t<div><Router.Link path=\"/\">首页</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1\">用户1</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1/settings\">用户1设置</Router.Link></div>\n\t\t<hr />\n\t\t<Router.View />\n\t</Template>;\n};\nexport default mark(Home, mName('Home'));\n","import Router from '@neep/router';\nimport User from './components/User';\nimport Info from './components/User/Info';\nimport Settings from './components/User/Settings';\nimport Home from './components/Home';\nconst router = new Router({\n\tHistory: Router.history.WebHash,\n});\nrouter.setRoutes([\n\t{ path: '/', redirect: '/home' },\n\t{path: '/users/:id', component: User, children: [\n\t\t{path: 'info', component: Info},\n\t\t{path: 'settings', component: Settings},\n\t]},\n\t{path: '/home', component: Home},\n\t{ path: '*', redirect: '/home' },\n]);\n(window as any).router = router;\nexport default router.view;\n","import { render } from '@neep/core';\nimport '@neep/html-renderer';\nimport '@neep/devtools';\nimport App from './App';\nrender(App).$mount();\n"],"names":["console","fn","printError","String","map","value","def","devtools","renderHook","installDevtools","tools","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","NeepError","Error","constructor","message","tag","assert","v","nextFrameApi","nextFrame","renders","create","getRender","type","default","installRender","render","installMonitorable","api","install","apis","monitorable","current","setCurrent","entity","oldEntity","$_valueIndex","$_serviceIndex","ret","$_values","length","$_services","checkCurrent","name","initOnly","created","constructors","initContext","context","addContextConstructor","push","safeify","constructors$1","initEntity","delayedRefresh","objectSet","Set","wait","add","run","list","clear","forEach","o","refresh","asyncRefresh","f","async","getEventName","k","substr","test","addEventFromCollection","addEvent","events","names","Array","isArray","n","p","keys","EventEmitter","update","emitter","newHandles","on","updateInProps","props","custom","entName","listener","_names","createEmit","omitNames","emit","event","res","omit","Reflect","get","markRead","filter","t","includes","_event","e","size","markChange","removed","delete","updateHandles","eventCancelHandles","_cancelHandles","oldHandles","handles","ScopeSlot","SlotRender","Slot","Value","Container","Template","Fragment","hooks","setHook","id","hook","$_hooks","set","callHook","exposed","useValue","index","values","undefined","typeSymbol","Symbol","for","nameSymbol","renderSymbol","componentsSymbol","configSymbol","objectTypeSymbol","objectTypeSymbolElement","objectTypeSymbolDeliver","deliverKeySymbol","deliverDefaultSymbol","isElement","createElement","attrs","children","node","slot","ref","equalProps","a","b","is","aKeys","ownKeys","bKeys","has","equal","i","execed","inserted","label","setLabel","l","getLabel","label$1","text","color","createDeliver","symbol","Provider","_","childNodes","isDeliver","d","getDelivered","delivered","Deliver","ids","Nodes","IdMap","Map","createMountedNode","recoveryMountedNode","recursive2iterable","it","refList","setRefList","setRef","isRemove","getNodes","tree","component","unmount","iRender","removeNode","createValue","source","isNode","RegExp","createText","Date","toISOString","createPlaceholder","createAll","item","createList","createItem","_source$children","ltag","toLowerCase","mount","isValue","insertNode","updateProps","getLastNode","getFirstNode","replace","newTree","oldTree","next","parent","getParent","updateList","newList","mountedMap","src","findIndex","old","updateItem","splice","last","nextNode","updateAll","Math","min","max","all","draw","getSlots","slots","native","nativeList","el","renderSlots","createSlots","isProduction","setSlots","oldChildren","components","register","findComponent","components$1","getChildren","args","replaceNode","isRoot","_node$props","argv","slotName","getComponents","Boolean","execSimple","nObject","slotMap","deliver","result","nodes","init","renderNode","getSlotRenderFn","renderFn","slotRenderFnList","newFn","call","exec","newDelivered","child","slotRenderFn","getItem","postpone","normalize","createExposed","cfg","$parent","_obj$parent","$component","$isContainer","$created","$destroyed","destroyed","$mounted","mounted","$unmounted","unmounted","completeList","setCompleteList","complete","createEntity","_obj$parent2","isContainer","h","bind","config","EntityObject","container","WeakMap","parentDelivered","canRefresh","_delayedRefresh","needRefresh","_needRefresh","requestDraw","_refreshing","_render","_nodes","convert","_update","_destroy","destroy","__executed_destroy","_mount","__executed_mount","exec$1","c","_cancelDrawMonitor","stop","_unmount","__executed_mounted","_draw","disabledKey","propsObj","newKeys","lastSlots","nativeNodes","createContext","initRender","changed","resultOnly","monitor","stopRender","ComponentEntity","_this$iRender$createC","_this$iRender","encase","assign","_shadow","createComponent","_stopRender","markDraw","shadowTree","nativeTree","toElement","createItem$1","createAll$1","_source$props","ContainerEntity","updateList$1","updateItem$1","updateAll$1","awaitDraw","requested","drawAll","rootContainer","_drawChildren","setChildren","setProps","_drawContainer","content","_node","_container","drawChildren","drawContainer","_cancelDrawContainerMonitor","_this$parent","_cancelDrawChildrenMonitor","_drawSelf","_needDraw","_this$parent2","drawSelf","remove","_this$parent3","_awaitDraw","markDrawContainer","needDraw","drawNode","_containers","containers","refs","r","params","target","Mark","mName","mSimple","mark","marks","m","installNeep","install$1","getId","updateId","removeAttribute","getClass","split","classes","oClasses","getAttribute","classList","setAttribute","join","updateClass","class","unit","getStyle","style","css","str","update$1","oStyle","cssText","removeProperty","setProperty","updateStyle","hasStyle","setAttrs","HTMLInputElement","checked","HTMLSelectElement","HTMLTextAreaElement","HTMLDetailsElement","open","HTMLMediaElement","muted","paused","pause","play","currentTime","num","Number","playbackRate","volume","stringify","data","isOn","toString","JSON","getAttrs","update$2","updateAttrs","createEventEmitter","__eventBind","getElementModel","currentTarget","indeterminate","updateEvent","prop","eventBind","addEventListener","removeEventListener","PropsMap","update$3","CSSStyleDeclaration","window","requestAnimationFrame","fs","xmlnsMap","svg","html","mathml","SVGTags","MathMLTags","tagname","namespace","ns","document","createElementNS","tagRegex","isTagName","Node","className","querySelector","Element","appendChild","body","log","oldTarget","newNode","pNode","createTextNode","createComment","attachShadow","mode","parentNode","nextSibling","insertBefore","removeChild","getRect","top","right","bottom","left","width","height","getBoundingClientRect","ShadowRoot","host","install$2","Type","getTree","_component$exposed","tagId","$label","placeholder","simple","isNative","standard","treeValue","special","getValue","TextNode","getKey","getLabels","labels","Tag","options","opened","getList","hasChildNodes","onclick","PlaceholderTag","labelList","template","scopeSlot","slotRender","Tree","Devtools","Settings","asValue","creating","app","getData","$update","$mount","RouterDeliver","initDelivers","contextConstructor","router","depth","_get","installContextConstructor","RouterView","isNew","Router","isInteger","match","route","path","RouterLink","to","append","search","hash","query","alias","history","link","installComponents","Neep","moduleList","cleanPath","addRoute","named","meta","end","toPath","compile","encode","encodeURIComponent","decode","decodeURIComponent","matchRoutes","routes","redirect","isFinite","s","val","parse","indexOf","StoreHistory","state","go","newIndex","back","forward","onClick","any","WebPathHistory","opt","base","getPath","location","start","pushState","replaceState","pathname","href","getUrl","cancel","defaultPrevented","preventDefault","oldHash","basePath","stringifyQuery","routePath","redirects","View","Link","_size","matches","_matches","_alias","_path","_search","_hash","_state","History","historyOption","setRoutes","_routes","_namedRoutes","force","pop","nodesLength","matchesLength","view","User","random","Info","Home","WebHash","App"],"mappings":";;;;;;;;;;EAEA;;EACO,SAAA,UAAA,CAAA,IAAA,EAA+B;;EAKrCA,EAAAA,OAAO,CAAPA,KAAAA,CAAAA,IAAAA;EACA;EAcD;;;EACO,SAAA,OAAA,CAAA,EAAA,EAEc;EACpB,SAAO,CAAC,GAAD,CAAA,KAAU;EAChB,QAAI;EACHC,MAAAA,EAAE,CAAC,GAAHA,CAAE,CAAFA;EADD,KAAA,CAEE,OAAA,CAAA,EAAS;EACVC,MAAAA,UAAU,CAAVA,CAAU,CAAVA;EACA;EALF,GAAA;EAOA;;EACM,SAAA,UAAA,CAAA,MAAA,EAAA,IAAA,EAGuD;EAC7D,MAAI,CAAJ,MAAA,EAAa;EAAE,WAAA,SAAA;EAAmB;;EAClC,MAAI,OAAA,MAAA,KAAA,UAAA,IAAgC,OAAA,MAAA,KAApC,QAAA,EAAgE;EAC/D,WAAA,SAAA;EACA;;EACD,MAAI,OAAA,IAAA,KAAJ,QAAA,EAA8B;EAAE,WAAO,CAAA,MAAA,EAASC,MAAM,CAAtB,IAAsB,CAAf,CAAP;EAAgC;;EAChE,MAAI,OAAA,IAAA,KAAJ,QAAA,EAA8B;EAAE,WAAO,CAAA,MAAA,EAAP,IAAO,CAAP;EAAwB;;EACxD,MAAI,OAAA,IAAA,KAAJ,QAAA,EAA8B;EAAE,WAAO,CAAA,MAAA,EAAP,IAAO,CAAP;EAAwB;;EACxD,MAAI,OAAA,IAAA,KAAJ,SAAA,EAA+B;EAAE,WAAO,CAAA,MAAA,EAAP,IAAO,CAAP;EAAwB;;EACzD,SAAA,SAAA;EACA;;EAWM,SAAA,WAAA,CAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAIF;EACJ,MAAIC,GAAG,CAAHA,GAAAA,CAAJ,GAAIA,CAAJ,EAAyB;EACxB,WAAOA,GAAG,CAAHA,GAAAA,CAAP,GAAOA,CAAP;EACA;;EACD,QAAMC,KAAK,GAAGC,GAAd,EAAA;EACAF,EAAAA,GAAG,CAAHA,GAAAA,CAAAA,GAAAA,EAAAA,KAAAA;EACA,SAAA,KAAA;EACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECtED;;;;;AAKA,EAMA,MAAMG,QAAQ,GAAG;EACfC,EAAAA,UAAU,GAAG;;EADE,CAAjB;;EAIA,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;EAC9B,MAAI,CAACA,KAAL,EAAY;EACV;EACD;;EAED,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;EAC7B;EACD;;EAED,QAAM;EACJF,IAAAA;EADI,MAEFE,KAFJ;;EAIA,MAAI,OAAOF,UAAP,KAAsB,UAA1B,EAAsC;EACpCD,IAAAA,QAAQ,CAACC,UAAT,GAAsBA,UAAtB;EACD;EACF;;EAED,SAASG,eAAT,CAAyBC,GAAzB,EAA8BC,GAA9B,EAAmCR,KAAnC,EAA0C;EACxC,MAAIQ,GAAG,IAAID,GAAX,EAAgB;EACdE,IAAAA,MAAM,CAACC,cAAP,CAAsBH,GAAtB,EAA2BC,GAA3B,EAAgC;EAC9BR,MAAAA,KAAK,EAAEA,KADuB;EAE9BW,MAAAA,UAAU,EAAE,IAFkB;EAG9BC,MAAAA,YAAY,EAAE,IAHgB;EAI9BC,MAAAA,QAAQ,EAAE;EAJoB,KAAhC;EAMD,GAPD,MAOO;EACLN,IAAAA,GAAG,CAACC,GAAD,CAAH,GAAWR,KAAX;EACD;;EAED,SAAOO,GAAP;EACD;;EAED,MAAMO,SAAN,SAAwBC,KAAxB,CAA8B;EAC5BC,EAAAA,WAAW,CAACC,OAAD,EAAUC,GAAG,GAAG,EAAhB,EAAoB;EAC7B,UAAMA,GAAG,GAAI,IAAGA,GAAI,KAAID,OAAQ,EAAvB,GAA2BA,OAApC;;EAEAX,IAAAA,eAAe,CAAC,IAAD,EAAO,KAAP,EAAc,KAAK,CAAnB,CAAf;;EAEA,SAAKY,GAAL,GAAWA,GAAX;EACD;;EAP2B;;EAU9B,SAASC,MAAT,CAAgBC,CAAhB,EAAmBH,OAAnB,EAA4BC,GAA5B,EAAiC;EAC/B,MAAIE,CAAJ,EAAO;EACL;EACD;;EAED,QAAM,IAAIN,SAAJ,CAAcG,OAAd,EAAuBC,GAAvB,CAAN;EACD;;EAED,IAAIG,YAAJ;;EACA,SAASC,SAAT,CAAmB1B,EAAnB,EAAuB;EACrBuB,EAAAA,MAAM,CAACE,YAAD,EAAe,qCAAf,EAAsD,SAAtD,CAAN;;EAEA,MAAIA,YAAJ,EAAkB;EAChBA,IAAAA,YAAY,CAACzB,EAAD,CAAZ;EACD;EACF;;EACD,MAAM2B,OAAO,GAAGd,MAAM,CAACe,MAAP,CAAc,IAAd,CAAhB;;EACA,SAASC,SAAT,CAAmBC,IAAI,GAAG,EAA1B,EAA8B;EAC5B,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;EAC5B,WAAOA,IAAP;EACD;;EAED,SAAOH,OAAO,CAACG,IAAD,CAAP,IAAiBH,OAAO,CAACI,OAAhC;EACD;;EACD,SAASC,aAAT,CAAuBC,MAAvB,EAA+B;EAC7B,MAAI,CAACA,MAAL,EAAa;EACX;EACD;;EAEDN,EAAAA,OAAO,CAACM,MAAM,CAACH,IAAR,CAAP,GAAuBG,MAAvB;;EAEA,MAAIR,YAAJ,EAAkB;EAChB;EACD;;EAED,MAAI,CAACE,OAAO,CAACI,OAAb,EAAsB;EACpBJ,IAAAA,OAAO,CAACI,OAAR,GAAkBE,MAAlB;EACD;;EAED,MAAI,CAACR,YAAD,IAAiBQ,MAAM,CAACP,SAA5B,EAAuC;EACrCC,IAAAA,OAAO,CAACI,OAAR,GAAkBE,MAAlB;EACAR,IAAAA,YAAY,GAAGQ,MAAM,CAACP,SAAtB;EACD;EACF;;EAED,SAASQ,kBAAT,CAA4BC,GAA5B,EAAiC;;EAEjC,SAASC,OAAT,CAAiBC,IAAjB,EAAuB;EACrBH,EAAAA,kBAAkB,CAACG,IAAI,CAACC,WAAN,CAAlB;EACAN,EAAAA,aAAa,CAACK,IAAI,CAACJ,MAAN,CAAb;;EAEA,EAAmB;EACjBzB,IAAAA,eAAe,CAAC6B,IAAI,CAAC/B,QAAN,CAAf;EACD;EACF;;EAED,IAAIiC,OAAJ;;EACA,SAASC,UAAT,CAAoBxC,EAApB,EAAwByC,MAAxB,EAAgC;EAC9B,QAAMC,SAAS,GAAGH,OAAlB;EACAA,EAAAA,OAAO,GAAGE,MAAV;;EAEA,MAAI;EACFF,IAAAA,OAAO,CAACI,YAAR,GAAuB,CAAvB;EACAJ,IAAAA,OAAO,CAACK,cAAR,GAAyB,CAAzB;EACA,UAAMC,GAAG,GAAG7C,EAAE,EAAd;;EAEA,QAAIuC,OAAO,CAACI,YAAR,KAAyBJ,OAAO,CAACO,QAAR,CAAiBC,MAA9C,EAAsD;EACpD,YAAM,IAAI7B,SAAJ,CAAc,4CAAd,EAA4D,MAA5D,CAAN;EACD;;EAED,QAAIqB,OAAO,CAACK,cAAR,IAA0BL,OAAO,CAACK,cAAR,KAA2BL,OAAO,CAACS,UAAR,CAAmBD,MAA5E,EAAoF;EAClF,YAAM,IAAI7B,SAAJ,CAAc,8CAAd,EAA8D,MAA9D,CAAN;EACD;;EAED,WAAO2B,GAAP;EACD,GAdD,SAcU;EACRN,IAAAA,OAAO,GAAGG,SAAV;EACD;EACF;;EACD,SAASO,YAAT,CAAsBC,IAAtB,EAA4BC,QAAQ,GAAG,KAAvC,EAA8C;EAC5C,MAAI,CAACZ,OAAL,EAAc;EACZ,UAAM,IAAIrB,SAAJ,CAAe,cAAagC,IAAK,uCAAjC,EAAyE,MAAzE,CAAN;EACD;;EAED,MAAI,CAACC,QAAL,EAAe;EACb,WAAOZ,OAAP;EACD;;EAED,MAAI,CAACA,OAAO,CAACa,OAAb,EAAsB;EACpB,WAAOb,OAAP;EACD;;EAED,QAAM,IAAIrB,SAAJ,CAAe,cAAagC,IAAK,+CAAjC,EAAiF,MAAjF,CAAN;EACD;;EAED,MAAMG,YAAY,GAAG,EAArB;;EACA,SAASC,WAAT,CAAqBC,OAArB,EAA8Bd,MAA9B,EAAsC;EACpC,OAAK,MAAMrB,WAAX,IAA0BiC,YAA1B,EAAwC;EACtCjC,IAAAA,WAAW,CAACmC,OAAD,EAAUd,MAAV,CAAX;EACD;;EAED,SAAOc,OAAP;EACD;;EACD,SAASC,qBAAT,CAA+BpC,WAA/B,EAA4C;EAC1CiC,EAAAA,YAAY,CAACI,IAAb,CAAkBC,OAAO,CAACtC,WAAD,CAAzB;EACD;;EAED,MAAMuC,cAAc,GAAG,EAAvB;;EACA,SAASC,UAAT,CAAoBnB,MAApB,EAA4B;EAC1B,OAAK,MAAMrB,WAAX,IAA0BuC,cAA1B,EAA0C;EACxCvC,IAAAA,WAAW,CAACqB,MAAD,CAAX;EACD;;EAED,SAAOA,MAAP;EACD;;EAKD,IAAIoB,cAAc,GAAG,CAArB;EACA,MAAMC,SAAS,GAAG,IAAIC,GAAJ,EAAlB;;EACA,SAASC,MAAT,CAAcrD,GAAd,EAAmB;EACjB,MAAIkD,cAAc,IAAI,CAAtB,EAAyB;EACvB,WAAO,KAAP;EACD;;EAEDC,EAAAA,SAAS,CAACG,GAAV,CAActD,GAAd;EACA,SAAO,IAAP;EACD;;EAED,SAASuD,KAAT,GAAe;EACb,MAAIL,cAAc,GAAG,CAArB,EAAwB;EACtB;EACD;;EAED,QAAMM,IAAI,GAAG,CAAC,GAAGL,SAAJ,CAAb;EACAA,EAAAA,SAAS,CAACM,KAAV;EACAD,EAAAA,IAAI,CAACE,OAAL,CAAaC,CAAC,IAAIA,CAAC,CAACC,OAAF,EAAlB;EACD;;EAED,eAAeC,YAAf,CAA4BC,CAA5B,EAA+B;EAC7B,MAAI;EACFZ,IAAAA,cAAc;EACd,WAAO,MAAMY,CAAC,EAAd;EACD,GAHD,SAGU;EACRZ,IAAAA,cAAc;EACdK,IAAAA,KAAG;EACJ;EACF;;EAED,SAASK,OAAT,CAAiBE,CAAjB,EAAoBC,KAApB,EAA2B;EACzB,MAAIA,KAAJ,EAAW;EACT,WAAOF,YAAY,CAACC,CAAD,CAAnB;EACD;;EAED,MAAI;EACFZ,IAAAA,cAAc;EACd,WAAOY,CAAC,EAAR;EACD,GAHD,SAGU;EACRZ,IAAAA,cAAc;EACdK,IAAAA,KAAG;EACJ;EACF;;EAED,SAASS,YAAT,CAAsBC,CAAtB,EAAyB;EACvB,MAAIA,CAAC,CAAC,CAAD,CAAD,KAAS,GAAb,EAAkB;EAChB,WAAOA,CAAC,CAACC,MAAF,CAAS,CAAT,CAAP;EACD;;EAED,MAAI,UAAUC,IAAV,CAAeF,CAAf,CAAJ,EAAuB;EACrB,WAAOA,CAAC,CAACC,MAAF,CAAS,CAAT,CAAP;EACD;;EAED,MAAI,mBAAmBC,IAAnB,CAAwBF,CAAxB,CAAJ,EAAgC;EAC9B,WAAOA,CAAC,CAACC,MAAF,CAAS,CAAT,CAAP;EACD;;EAED,SAAO,EAAP;EACD;;EAED,SAASE,sBAAT,CAAgCC,QAAhC,EAA0CC,MAA1C,EAAkD;EAChD,MAAI,CAACA,MAAL,EAAa;EACX;EACD;;EAED,MAAI,OAAOA,MAAP,KAAkB,UAAtB,EAAkC;EAChC,UAAM;EACJC,MAAAA;EADI,QAEFD,MAFJ;;EAIA,QAAI,CAACE,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAL,EAA2B;EACzB;EACD;;EAED,SAAK,MAAMG,CAAX,IAAgBH,KAAhB,EAAuB;EACrB,UAAI,CAACG,CAAL,EAAQ;EACN;EACD;;EAEDL,MAAAA,QAAQ,CAACK,CAAD,EAAI,CAAC,GAAGC,CAAJ,KAAUL,MAAM,CAACI,CAAD,EAAI,GAAGC,CAAP,CAApB,CAAR;EACD;;EAED;EACD;;EAED,MAAI,OAAOL,MAAP,KAAkB,QAAtB,EAAgC;EAC9B;EACD;;EAED,OAAK,MAAML,CAAX,IAAgB/D,MAAM,CAAC0E,IAAP,CAAYN,MAAZ,CAAhB,EAAqC;EACnC,UAAMR,CAAC,GAAGQ,MAAM,CAACL,CAAD,CAAhB;;EAEA,QAAI,OAAOH,CAAP,KAAa,UAAjB,EAA6B;EAC3B;EACD;;EAEDO,IAAAA,QAAQ,CAACJ,CAAD,EAAIH,CAAJ,CAAR;EACD;EACF;;EAED,MAAMe,YAAN,CAAmB;EACjB,SAAOC,MAAP,CAAcC,OAAd,EAAuBT,MAAvB,EAA+B;EAC7B,QAAI,CAACA,MAAL,EAAa;EACX,aAAO,EAAP;EACD;;EAED,UAAMU,UAAU,GAAG,EAAnB;;EAEA,QAAIV,MAAM,IAAI,OAAOA,MAAP,KAAkB,QAAhC,EAA0C;EACxC,WAAK,MAAMI,CAAX,IAAgBxE,MAAM,CAAC0E,IAAP,CAAYN,MAAZ,CAAhB,EAAqC;EACnC,YAAI,CAACI,CAAL,EAAQ;EACN;EACD;;EAED,cAAMrF,EAAE,GAAGiF,MAAM,CAACI,CAAD,CAAjB;;EAEA,YAAI,OAAOrF,EAAP,KAAc,UAAlB,EAA8B;EAC5B;EACD;;EAED2F,QAAAA,UAAU,CAAClC,IAAX,CAAgBiC,OAAO,CAACE,EAAR,CAAWP,CAAX,EAAcrF,EAAd,CAAhB;EACD;EACF;;EAED,WAAO2F,UAAP;EACD;;EAED,SAAOE,aAAP,CAAqBH,OAArB,EAA8BI,KAA9B,EAAqCC,MAArC,EAA6C;EAC3C,QAAI,CAACD,KAAL,EAAY;EACV,aAAO,EAAP;EACD;;EAED,UAAMH,UAAU,GAAG,EAAnB;;EAEA,aAASX,QAAT,CAAkBgB,OAAlB,EAA2BC,QAA3B,EAAqC;EACnCN,MAAAA,UAAU,CAAClC,IAAX,CAAgBiC,OAAO,CAACE,EAAR,CAAWI,OAAX,EAAoBC,QAApB,CAAhB;EACD;;EAED,SAAK,MAAMrB,CAAX,IAAgB/D,MAAM,CAAC0E,IAAP,CAAYO,KAAZ,CAAhB,EAAoC;EAClC,YAAM9F,EAAE,GAAG8F,KAAK,CAAClB,CAAD,CAAhB;;EAEA,UAAI,OAAO5E,EAAP,KAAc,UAAlB,EAA8B;EAC5B;EACD;;EAED,YAAMgG,OAAO,GAAGrB,YAAY,CAACC,CAAD,CAA5B;;EAEA,UAAI,CAACoB,OAAL,EAAc;EACZ;EACD;;EAEDhB,MAAAA,QAAQ,CAACgB,OAAD,EAAUhG,EAAV,CAAR;EACD;;EAED+E,IAAAA,sBAAsB,CAACC,QAAD,EAAWc,KAAK,CAAC,GAAD,CAAhB,CAAtB;EACAf,IAAAA,sBAAsB,CAACC,QAAD,EAAWc,KAAK,CAAC,MAAD,CAAhB,CAAtB;EACAf,IAAAA,sBAAsB,CAACC,QAAD,EAAWc,KAAK,CAAC,MAAD,CAAhB,CAAtB;;EAEA,QAAI,OAAOC,MAAP,KAAkB,UAAtB,EAAkC;EAChCA,MAAAA,MAAM,CAACf,QAAD,CAAN;EACD;;EAEDW,IAAAA,UAAU,CAAClC,IAAX,CAAgB,GAAG+B,YAAY,CAACC,MAAb,CAAoBC,OAApB,EAA6BI,KAAK,CAAC,GAAD,CAAlC,CAAnB;EACA,WAAOH,UAAP;EACD;;EAED,MAAIT,KAAJ,GAAY;EACV,WAAO,CAAC,GAAG,KAAKgB,MAAT,CAAP;EACD;;EAED9E,EAAAA,WAAW,GAAG;EACZV,IAAAA,eAAe,CAAC,IAAD,EAAO,QAAP,EAAiB,IAAIqD,GAAJ,EAAjB,CAAf;;EAEArD,IAAAA,eAAe,CAAC,IAAD,EAAO,gBAAP,EAAyB,IAAIqD,GAAJ,EAAzB,CAAf;;EAEArD,IAAAA,eAAe,CAAC,IAAD,EAAO,MAAP,EAAe,KAAK,CAApB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,IAAP,EAAa,KAAK,CAAlB,CAAf;;EAEA,UAAMuE,MAAM,GAAGpE,MAAM,CAACe,MAAP,CAAc,IAAd,CAAf;EACA,UAAMsD,KAAK,GAAG,KAAKgB,MAAnB;;EAEA,aAASC,UAAT,CAAoB,GAAGC,SAAvB,EAAkC;EAChC,eAASC,IAAT,CAAcnD,IAAd,EAAoB,GAAGoC,CAAvB,EAA0B;EACxB,cAAMgB,KAAK,GAAGrB,MAAM,CAAC/B,IAAD,CAApB;;EAEA,YAAI,CAACoD,KAAL,EAAY;EACV,iBAAO,IAAP;EACD;;EAED,eAAO/B,OAAO,CAAC,MAAM;EACnB,cAAIgC,GAAG,GAAG,IAAV;;EAEA,eAAK,MAAMvG,EAAX,IAAiB,CAAC,GAAGsG,KAAJ,CAAjB,EAA6B;EAC3BC,YAAAA,GAAG,GAAGvG,EAAE,CAAC,GAAGsF,CAAJ,CAAF,IAAYiB,GAAlB;EACD;;EAED,iBAAOA,GAAP;EACD,SARa,CAAd;EASD;;EAEDF,MAAAA,IAAI,CAACG,IAAL,GAAY,CAAC,GAAGtB,KAAJ,KAAciB,UAAU,CAAC,GAAGC,SAAJ,EAAe,GAAGlB,KAAlB,CAApC;;EAEAuB,MAAAA,OAAO,CAAC3F,cAAR,CAAuBuF,IAAvB,EAA6B,OAA7B,EAAsC;EACpCK,QAAAA,GAAG,EAAE,MAAM;EACTC,UAAAA,QAAQ,CAACR,UAAD,EAAa,OAAb,CAAR;EACA,iBAAO,CAAC,GAAGjB,KAAJ,EAAW0B,MAAX,CAAkBC,CAAC,IAAI,CAACT,SAAS,CAACU,QAAV,CAAmBD,CAAnB,CAAxB,CAAP;EACD,SAJmC;EAKpC7F,QAAAA,YAAY,EAAE;EALsB,OAAtC;EAOA,aAAOqF,IAAP;EACD;;EAED,UAAMT,EAAE,GAAG,CAAC1C,IAAD,EAAO+C,QAAP,KAAoB;EAC7B,UAAIc,MAAJ;;EAEA,eAAS/G,EAAT,CAAY,GAAGsF,CAAf,EAAkB;EAChB,YAAI;EACF,iBAAOW,QAAQ,CAAC,GAAGX,CAAJ,CAAR,KAAmB,KAA1B;EACD,SAFD,CAEE,OAAO0B,CAAP,EAAU;EACV/G,UAAAA,UAAU,CAAC+G,CAAD,CAAV;EACA,iBAAO,IAAP;EACD;EACF;;EAED,UAAIV,KAAK,GAAGrB,MAAM,CAAC/B,IAAD,CAAlB;;EAEA,UAAI,EAAE,CAAC6D,MAAM,GAAGT,KAAV,MAAqB,IAArB,IAA6BS,MAAM,KAAK,KAAK,CAA7C,GAAiD,KAAK,CAAtD,GAA0DA,MAAM,CAACE,IAAnE,CAAJ,EAA8E;EAC5EX,QAAAA,KAAK,GAAG,IAAIvC,GAAJ,EAAR;EACAkB,QAAAA,MAAM,CAAC/B,IAAD,CAAN,GAAeoD,KAAf;EACAY,QAAAA,UAAU,CAACf,UAAD,EAAa,OAAb,CAAV;EACAjB,QAAAA,KAAK,CAACjB,GAAN,CAAUf,IAAV;EACD;;EAEDoD,MAAAA,KAAK,CAACrC,GAAN,CAAUjE,EAAV;EACA,UAAImH,OAAO,GAAG,KAAd;EACA,aAAO,MAAM;EACX,YAAIA,OAAJ,EAAa;EACX;EACD;;EAEDA,QAAAA,OAAO,GAAG,IAAV;EACAb,QAAAA,KAAK,CAACc,MAAN,CAAapH,EAAb;;EAEA,YAAIsG,KAAK,CAACW,IAAV,EAAgB;EACd;EACD;;EAEDC,QAAAA,UAAU,CAACf,UAAD,EAAa,OAAb,CAAV;EACAjB,QAAAA,KAAK,CAACkC,MAAN,CAAalE,IAAb;EACD,OAdD;EAeD,KAtCD;;EAwCA,SAAKmD,IAAL,GAAYF,UAAU,EAAtB;EACA,SAAKP,EAAL,GAAUA,EAAV;EACD;;EAEDyB,EAAAA,aAAa,CAAC1B,UAAD,EAAa;EACxB,UAAM2B,kBAAkB,GAAG,KAAKC,cAAhC;EACA,UAAMC,UAAU,GAAG,CAAC,GAAGF,kBAAJ,CAAnB;EACAA,IAAAA,kBAAkB,CAAClD,KAAnB;;EAEA,SAAK,MAAMpE,EAAX,IAAiBwH,UAAjB,EAA6B;EAC3BxH,MAAAA,EAAE;EACH;;EAED2F,IAAAA,UAAU,CAACtB,OAAX,CAAmBI,CAAC,IAAI6C,kBAAkB,CAACrD,GAAnB,CAAuBQ,CAAvB,CAAxB;EACA,WAAOkB,UAAP;EACD;;EAEDF,EAAAA,MAAM,CAACtB,IAAD,EAAO;EACX,UAAMsD,OAAO,GAAGjC,YAAY,CAACC,MAAb,CAAoB,IAApB,EAA0BtB,IAA1B,CAAhB;EACA,WAAO,KAAKkD,aAAL,CAAmBI,OAAnB,CAAP;EACD;;EAED5B,EAAAA,aAAa,CAAC1B,IAAD,EAAO4B,MAAP,EAAe;EAC1B,UAAM0B,OAAO,GAAGjC,YAAY,CAACK,aAAb,CAA2B,IAA3B,EAAiC1B,IAAjC,EAAuC4B,MAAvC,CAAhB;EACA,WAAO,KAAKsB,aAAL,CAAmBI,OAAnB,CAAP;EACD;;EAlLgB;;EAsLnB,MAAMC,SAAS,GAAG,gBAAlB;EACA,MAAMC,UAAU,GAAG,iBAAnB;EACA,MAAMC,IAAI,GAAG,WAAb;EACA,MAAMC,KAAK,GAAG,YAAd;EACA,MAAMC,SAAS,GAAG,gBAAlB;EACA,MAAMC,QAAQ,GAAG,UAAjB;EACA,MAAMC,QAAQ,GAAGD,QAAjB;;EAgDA,MAAME,KAAK,GAAGpH,MAAM,CAACe,MAAP,CAAc,IAAd,CAAd;;EACA,SAASsG,OAAT,CAAiBC,EAAjB,EAAqBC,IAArB,EAA2B3F,MAA3B,EAAmC;EACjC,MAAI0B,IAAI,GAAG,CAAC1B,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAAC4F,OAAxD,KAAoEJ,KAA/E;;EAEA,MAAI,CAAC9D,IAAL,EAAW;EACT,WAAO,MAAM,EAAb;EACD;;EAEDiE,EAAAA,IAAI,GAAG1E,OAAO,CAAC0E,IAAD,CAAd;EACA,MAAIE,GAAG,GAAGnE,IAAI,CAACgE,EAAD,CAAd;;EAEA,MAAI,CAACG,GAAL,EAAU;EACRA,IAAAA,GAAG,GAAG,IAAIvE,GAAJ,EAAN;EACAI,IAAAA,IAAI,CAACgE,EAAD,CAAJ,GAAWG,GAAX;EACD;;EAEDA,EAAAA,GAAG,CAACrE,GAAJ,CAAQmE,IAAR;EACA,SAAO,MAAME,GAAG,CAAClB,MAAJ,CAAWgB,IAAX,CAAb;EACD;;EACD,SAASG,QAAT,CAAkBJ,EAAlB,EAAsBK,OAAtB,EAA+B;EAC7B,MAAI,CAACA,OAAL,EAAc;EACZ;EACD;;EAED,OAAK,MAAMJ,IAAX,IAAmBI,OAAO,CAACH,OAAR,CAAgBF,EAAhB,KAAuB,EAA1C,EAA8C;EAC5CC,IAAAA,IAAI,CAACI,OAAD,CAAJ;EACD;;EAED,OAAK,MAAMJ,IAAX,IAAmBH,KAAK,CAACE,EAAD,CAAL,IAAa,EAAhC,EAAoC;EAClCC,IAAAA,IAAI,CAACI,OAAD,CAAJ;EACD;EACF;;EAaD,SAASC,QAAT,CAAkBzI,EAAlB,EAAsB;EACpB,QAAMyC,MAAM,GAAGQ,YAAY,CAAC,UAAD,CAA3B;EACA,QAAMyF,KAAK,GAAGjG,MAAM,CAACE,YAAP,EAAd;EACA,QAAMgG,MAAM,GAAGlG,MAAM,CAACK,QAAtB;;EAEA,MAAI,CAACL,MAAM,CAACW,OAAZ,EAAqB;EACnBuF,IAAAA,MAAM,CAACD,KAAD,CAAN,GAAgBE,SAAhB;EACA,UAAMpH,CAAC,GAAG,OAAOxB,EAAP,KAAc,UAAd,GAA2BA,EAAE,EAA7B,GAAkCI,KAAK,CAACwI,SAAD,CAAjD;EACA,WAAOD,MAAM,CAACD,KAAD,CAAN,GAAgBlH,CAAvB;EACD;;EAED,MAAIkH,KAAK,IAAIC,MAAM,CAAC5F,MAApB,EAA4B;EAC1B,UAAM,IAAI7B,SAAJ,CAAc,4CAAd,EAA4D,MAA5D,CAAN;EACD;;EAED,SAAOyH,MAAM,CAACD,KAAD,CAAb;EACD;;EA8ED,MAAMG,UAAU,GAAGC,MAAM,CAACC,GAAP,CAAW,MAAX,CAAnB;EACA,MAAMC,UAAU,GAAGF,MAAM,CAACC,GAAP,CAAW,MAAX,CAAnB;EACA,MAAME,YAAY,GAAGH,MAAM,CAACC,GAAP,CAAW,QAAX,CAArB;EACA,MAAMG,gBAAgB,GAAGJ,MAAM,CAACC,GAAP,CAAW,YAAX,CAAzB;EACA,MAAMI,YAAY,GAAGL,MAAM,CAACC,GAAP,CAAW,QAAX,CAArB;EACA,MAAMK,gBAAgB,GAAGN,MAAM,CAACC,GAAP,CAAW,kBAAX,CAAzB;EACA,MAAMM,uBAAuB,GAAG,yBAAhC;EACA,MAAMC,uBAAuB,GAAG,yBAAhC;EACA,MAAMC,gBAAgB,GAAGT,MAAM,CAACC,GAAP,CAAW,kBAAX,CAAzB;EACA,MAAMS,oBAAoB,GAAGV,MAAM,CAACC,GAAP,CAAW,sBAAX,CAA7B;;EAEA,SAASU,SAAT,CAAmBjI,CAAnB,EAAsB;EACpB,MAAI,CAACA,CAAL,EAAQ;EACN,WAAO,KAAP;EACD;;EAED,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;EACzB,WAAO,KAAP;EACD;;EAED,SAAOA,CAAC,CAAC4H,gBAAD,CAAD,KAAwBC,uBAA/B;EACD;;EAeD,SAASK,aAAT,CAAuBpI,GAAvB,EAA4BqI,KAA5B,EAAmC,GAAGC,QAAtC,EAAgD;EAC9C,QAAM9D,KAAK,GAAG6D,KAAK,GAAG,EAAE,GAAGA;EAAL,GAAH,GACf,EADJ;EAEA,QAAME,IAAI,GAAG;EACX,KAACT,gBAAD,GAAoBC,uBADT;EAEX/H,IAAAA,GAFW;EAGXV,IAAAA,GAAG,EAAEgI,SAHM;EAIX9C,IAAAA,KAJW;EAKX8D,IAAAA;EALW,GAAb;;EAQA,MAAI,WAAW9D,KAAf,EAAsB;EACpB+D,IAAAA,IAAI,CAACjJ,GAAL,GAAWkF,KAAK,CAAC,OAAD,CAAhB;EACD,GAFD,MAEO,IAAI,WAAWA,KAAf,EAAsB;EAC3B+D,IAAAA,IAAI,CAACjJ,GAAL,GAAWkF,KAAK,CAAC,OAAD,CAAhB;EACD,GAFM,MAEA,IAAI,SAASA,KAAb,EAAoB;EACzB+D,IAAAA,IAAI,CAACjJ,GAAL,GAAWkF,KAAK,CAAClF,GAAjB;EACD;;EAED,MAAI,YAAYkF,KAAhB,EAAuB;EACrB+D,IAAAA,IAAI,CAACC,IAAL,GAAYhE,KAAK,CAAC,QAAD,CAAjB;EACD,GAFD,MAEO,IAAI,YAAYA,KAAhB,EAAuB;EAC5B+D,IAAAA,IAAI,CAACC,IAAL,GAAYhE,KAAK,CAAC,QAAD,CAAjB;EACD,GAFM,MAEA,IAAI,UAAUA,KAAd,EAAqB;EAC1B+D,IAAAA,IAAI,CAACC,IAAL,GAAYhE,KAAK,CAACgE,IAAlB;EACD;;EAED,MAAI,OAAOhE,KAAK,CAAC,OAAD,CAAZ,KAA0B,UAA9B,EAA0C;EACxC+D,IAAAA,IAAI,CAACE,GAAL,GAAWjE,KAAK,CAAC,OAAD,CAAhB;EACD,GAFD,MAEO,IAAI,OAAOA,KAAK,CAAC,OAAD,CAAZ,KAA0B,UAA9B,EAA0C;EAC/C+D,IAAAA,IAAI,CAACE,GAAL,GAAWjE,KAAK,CAAC,OAAD,CAAhB;EACD,GAFM,MAEA,IAAI,OAAOA,KAAK,CAACiE,GAAb,KAAqB,UAAzB,EAAqC;EAC1CF,IAAAA,IAAI,CAACE,GAAL,GAAWjE,KAAK,CAACiE,GAAjB;EACD;;EAED,MAAIzI,GAAG,KAAKuG,KAAZ,EAAmB;EACjBgC,IAAAA,IAAI,CAACzJ,KAAL,GAAa0F,KAAK,CAAC1F,KAAnB;EACD;;EAED,SAAOyJ,IAAP;EACD;;EAyDD,SAASG,UAAT,CAAoBC,CAApB,EAAuBC,CAAvB,EAA0B;EACxB,MAAIrJ,MAAM,CAACsJ,EAAP,CAAUF,CAAV,EAAaC,CAAb,CAAJ,EAAqB;EACnB,WAAO,IAAP;EACD;;EAED,MAAI,CAACD,CAAL,EAAQ;EACN,WAAO,KAAP;EACD;;EAED,MAAI,CAACC,CAAL,EAAQ;EACN,WAAO,KAAP;EACD;;EAED,MAAI,OAAOD,CAAP,KAAa,QAAjB,EAA2B;EACzB,WAAO,KAAP;EACD;;EAED,MAAI,OAAOC,CAAP,KAAa,QAAjB,EAA2B;EACzB,WAAO,KAAP;EACD;;EAED,QAAME,KAAK,GAAG,IAAIrG,GAAJ,CAAQ0C,OAAO,CAAC4D,OAAR,CAAgBJ,CAAhB,CAAR,CAAd;EACA,QAAMK,KAAK,GAAG7D,OAAO,CAAC4D,OAAR,CAAgBH,CAAhB,CAAd;;EAEA,MAAIE,KAAK,CAACnD,IAAN,KAAeqD,KAAK,CAACvH,MAAzB,EAAiC;EAC/B,WAAO,KAAP;EACD;;EAED,OAAK,MAAM6B,CAAX,IAAgB0F,KAAhB,EAAuB;EACrB,QAAI,CAACF,KAAK,CAACG,GAAN,CAAU3F,CAAV,CAAL,EAAmB;EACjB,aAAO,KAAP;EACD;;EAED,QAAIqF,CAAC,CAACrF,CAAD,CAAD,KAASsF,CAAC,CAACtF,CAAD,CAAd,EAAmB;EACjB,aAAO,KAAP;EACD;EACF;;EAED,SAAO,IAAP;EACD;;EAED,SAAS4F,KAAT,CAAeP,CAAf,EAAkBC,CAAlB,EAAqB;EACnB,MAAIrJ,MAAM,CAACsJ,EAAP,CAAUF,CAAV,EAAaC,CAAb,CAAJ,EAAqB;EACnB,WAAO,IAAP;EACD;;EAED,MAAI,CAACD,CAAL,EAAQ;EACN,WAAO,KAAP;EACD;;EAED,MAAI,CAACC,CAAL,EAAQ;EACN,WAAO,KAAP;EACD;;EAED,MAAI,OAAOD,CAAP,KAAa,QAAjB,EAA2B;EACzB,WAAO,KAAP;EACD;;EAED,MAAI,OAAOC,CAAP,KAAa,QAAjB,EAA2B;EACzB,WAAO,KAAP;EACD;;EAED,MAAI/E,KAAK,CAACC,OAAN,CAAc6E,CAAd,CAAJ,EAAsB;EACpB,QAAI,CAAC9E,KAAK,CAACC,OAAN,CAAc8E,CAAd,CAAL,EAAuB;EACrB,aAAO,KAAP;EACD;;EAED,QAAID,CAAC,CAAClH,MAAF,KAAamH,CAAC,CAACnH,MAAnB,EAA2B;EACzB,aAAO,KAAP;EACD;;EAED,SAAK,IAAI0H,CAAC,GAAGR,CAAC,CAAClH,MAAF,GAAW,CAAxB,EAA2B0H,CAAC,IAAI,CAAhC,EAAmCA,CAAC,EAApC,EAAwC;EACtC,UAAI,CAACD,KAAK,CAACP,CAAC,CAACQ,CAAD,CAAF,EAAOP,CAAC,CAACO,CAAD,CAAR,CAAV,EAAwB;EACtB,eAAO,KAAP;EACD;EACF;;EAED,WAAO,IAAP;EACD;;EAED,MAAItF,KAAK,CAACC,OAAN,CAAc8E,CAAd,CAAJ,EAAsB;EACpB,WAAO,KAAP;EACD;;EAED,MAAI,CAACT,SAAS,CAACQ,CAAD,CAAd,EAAmB;EACjB,WAAO,KAAP;EACD;;EAED,MAAI,CAACR,SAAS,CAACS,CAAD,CAAd,EAAmB;EACjB,WAAO,KAAP;EACD;;EAED,MAAID,CAAC,CAAC3I,GAAF,KAAU4I,CAAC,CAAC5I,GAAhB,EAAqB;EACnB,WAAO,KAAP;EACD;;EAED,MAAI2I,CAAC,CAACS,MAAF,KAAaR,CAAC,CAACQ,MAAnB,EAA2B;EACzB,WAAO,KAAP;EACD;;EAED,MAAIT,CAAC,CAACU,QAAF,KAAeT,CAAC,CAACS,QAArB,EAA+B;EAC7B,WAAO,KAAP;EACD;;EAED,MAAIV,CAAC,CAACF,GAAF,KAAUG,CAAC,CAACH,GAAhB,EAAqB;EACnB,WAAO,KAAP;EACD;;EAED,MAAIE,CAAC,CAAC7J,KAAF,KAAY8J,CAAC,CAAC9J,KAAlB,EAAyB;EACvB,WAAO,KAAP;EACD;;EAED,MAAI6J,CAAC,CAACrJ,GAAF,KAAUsJ,CAAC,CAACtJ,GAAhB,EAAqB;EACnB,WAAO,KAAP;EACD;;EAED,MAAIqJ,CAAC,CAACH,IAAF,KAAWI,CAAC,CAACJ,IAAjB,EAAuB;EACrB,WAAO,KAAP;EACD;;EAED,SAAOE,UAAU,CAACC,CAAC,CAACnE,KAAH,EAAUoE,CAAC,CAACpE,KAAZ,CAAV,IAAgC0E,KAAK,CAACP,CAAC,CAACL,QAAH,EAAaM,CAAC,CAACN,QAAf,CAA5C;EACD;;EAED,IAAIgB,KAAJ;;EACA,SAASC,QAAT,CAAkBC,CAAlB,EAAqB;EACnBF,EAAAA,KAAK,GAAGE,CAAR;EACD;;EACD,SAASC,QAAT,GAAoB;EAClB,QAAMD,CAAC,GAAGF,KAAV;EACAA,EAAAA,KAAK,GAAGhC,SAAR;EACA,SAAOkC,CAAP;EACD;;EAED,SAASE,OAAT,CAAiBC,IAAjB,EAAuBC,KAAK,GAAG,EAA/B,EAAmC;EACjC,EAAmB;EACjB,QAAI,CAAC3I,OAAL,EAAc;EACZsI,MAAAA,QAAQ,CAAC,CAACI,IAAD,EAAOC,KAAP,CAAD,CAAR;EACA;EACD;;EAEDzE,IAAAA,OAAO,CAAC3F,cAAR,CAAuByB,OAAO,CAACiG,OAA/B,EAAwC,QAAxC,EAAkD;EAChDpI,MAAAA,KAAK,EAAE,CAAC6K,IAAD,EAAOC,KAAP,CADyC;EAEhDlK,MAAAA,YAAY,EAAE;EAFkC,KAAlD;EAID;EACF;;EAsBD,SAASmK,aAAT,CAAuB9K,GAAvB,EAA4B;EAC1B,QAAM+K,MAAM,GAAGtC,MAAM,EAArB;;EAEA,WAASuC,QAAT,CAAkBC,CAAlB,EAAqB;EACnBC,IAAAA;EADmB,GAArB,EAEG;EACD,WAAOA,UAAP;EACD;;EAED9E,EAAAA,OAAO,CAAC3F,cAAR,CAAuBuK,QAAvB,EAAiCjC,gBAAjC,EAAmD;EACjDhJ,IAAAA,KAAK,EAAEkJ;EAD0C,GAAnD;EAGA7C,EAAAA,OAAO,CAAC3F,cAAR,CAAuBuK,QAAvB,EAAiC9B,gBAAjC,EAAmD;EACjDnJ,IAAAA,KAAK,EAAEgL;EAD0C,GAAnD;EAGA3E,EAAAA,OAAO,CAAC3F,cAAR,CAAuBuK,QAAvB,EAAiC7B,oBAAjC,EAAuD;EACrDpJ,IAAAA,KAAK,EAAEC;EAD8C,GAAvD;EAGA,SAAOgL,QAAP;EACD;;EACD,SAASG,SAAT,CAAmBC,CAAnB,EAAsB;EACpB,MAAI,OAAOA,CAAP,KAAa,UAAjB,EAA6B;EAC3B,WAAO,KAAP;EACD;;EAED,SAAOA,CAAC,CAACrC,gBAAD,CAAD,KAAwBE,uBAA/B;EACD;;EACD,SAASoC,YAAT,CAAsBC,SAAtB,EAAiCC,OAAjC,EAA0C;EACxCrK,EAAAA,MAAM,CAACiK,SAAS,CAACI,OAAD,CAAV,EAAqB,EAArB,CAAN;EACA,QAAMxL,KAAK,GAAGuL,SAAS,CAACC,OAAO,CAACrC,gBAAD,CAAR,CAAvB;EACA,SAAOnJ,KAAK,KAAKwI,SAAV,GAAsBgD,OAAO,CAACpC,oBAAD,CAA7B,GAAsDpJ,KAA7D;EACD;;EAED,IAAIyL,GAAG,GAAG,CAAV;EACA,MAAMC,KAAK,GAAG,EAAd;EACA,IAAIC,KAAJ;;AAEA,EAAmB;EACjBA,EAAAA,KAAK,GAAG,IAAIC,GAAJ,EAAR;EACD;;EAED,SAASC,iBAAT,CAA2B5G,CAA3B,EAA8B8C,EAA9B,EAAkC;EAChC,EAAmB;EACjBA,IAAAA,EAAE,GAAGA,EAAE,IAAI,EAAE0D,GAAb;EACA,UAAM;EACJhC,MAAAA;EADI,QAEFxE,CAFJ;;EAIA,QAAIwE,IAAI,IAAIkC,KAAZ,EAAmB;EACjBA,MAAAA,KAAK,CAACzD,GAAN,CAAUuB,IAAV,EAAgB1B,EAAhB;EACD;;EAED,WAAO2D,KAAK,CAAC3D,EAAD,CAAL,GAAY,EAAE,GAAG9C,CAAL;EACjB8C,MAAAA;EADiB,KAAnB;EAGD;EAKF;;EACD,SAAS+D,mBAAT,CAA6BrC,IAA7B,EAAmC;EACjC,EAAmB;EACjB,WAAOiC,KAAK,CAACjC,IAAI,CAAC1B,EAAN,CAAZ;EACD;EACF;;EAED,UAAUgE,kBAAV,CAA6BhI,IAA7B,EAAmC;EACjC,MAAI,CAACgB,KAAK,CAACC,OAAN,CAAcjB,IAAd,CAAL,EAA0B;EACxB,UAAMA,IAAN;EACA;EACD;;EAED,OAAK,MAAMiI,EAAX,IAAiBjI,IAAjB,EAAuB;EACrB,WAAOgI,kBAAkB,CAACC,EAAD,CAAzB;EACD;EACF;;EAED,IAAIC,OAAJ;;EACA,SAASC,UAAT,CAAoBnI,IAApB,EAA0B;EACxBkI,EAAAA,OAAO,GAAGlI,IAAV;EACD;;EACD,SAASoI,MAAT,CAAgBxC,GAAhB,EAAqBF,IAArB,EAA2B2C,QAA3B,EAAqC;EACnC,MAAI,OAAOzC,GAAP,KAAe,UAAnB,EAA+B;EAC7B;EACD;;EAED,MAAI,CAACF,IAAL,EAAW;EACT;EACD;;EAED,MAAI,CAACwC,OAAL,EAAc;EACZtC,IAAAA,GAAG,CAACF,IAAD,EAAO2C,QAAP,CAAH;EACD,GAFD,MAEO;EACLH,IAAAA,OAAO,CAAC5I,IAAR,CAAa,MAAMsG,GAAG,CAACF,IAAD,EAAO2C,QAAP,CAAtB;EACD;EACF;;EACD,UAAUC,QAAV,CAAmBC,IAAnB,EAAyB;EACvB,MAAIvH,KAAK,CAACC,OAAN,CAAcsH,IAAd,CAAJ,EAAyB;EACvB,SAAK,MAAMN,EAAX,IAAiBM,IAAjB,EAAuB;EACrB,aAAOD,QAAQ,CAACL,EAAD,CAAf;EACD;;EAED;EACD;;EAED,QAAM;EACJxC,IAAAA,QADI;EAEJC,IAAAA,IAFI;EAGJ8C,IAAAA;EAHI,MAIFD,IAJJ;;EAMA,MAAI7C,IAAJ,EAAU;EACR,UAAMA,IAAN;EACA;EACD;;EAED,MAAI8C,SAAJ,EAAe;EACb,WAAOF,QAAQ,CAACE,SAAS,CAACD,IAAX,CAAf;EACA;EACD;;EAED,SAAOD,QAAQ,CAAC7C,QAAD,CAAf;EACD;;EACD,SAASgD,OAAT,CAAiBC,OAAjB,EAA0BH,IAA1B,EAAgC;EAC9B,MAAIvH,KAAK,CAACC,OAAN,CAAcsH,IAAd,CAAJ,EAAyB;EACvBA,IAAAA,IAAI,CAACrI,OAAL,CAAa2C,CAAC,IAAI4F,OAAO,CAACC,OAAD,EAAU7F,CAAV,CAAzB;EACA;EACD;;EAED,QAAM;EACJ2F,IAAAA,SADI;EAEJ/C,IAAAA,QAFI;EAGJC,IAAAA,IAHI;EAIJE,IAAAA;EAJI,MAKF2C,IALJ;EAMAR,EAAAA,mBAAmB,CAACQ,IAAD,CAAnB;;EAEA,MAAIC,SAAJ,EAAe;EACbJ,IAAAA,MAAM,CAACxC,GAAD,EAAM4C,SAAS,CAACnE,OAAhB,EAAyB,IAAzB,CAAN;EACAmE,IAAAA,SAAS,CAACC,OAAV;EACA;EACD;;EAED,MAAI/C,IAAJ,EAAU;EACR0C,IAAAA,MAAM,CAACxC,GAAD,EAAMF,IAAN,EAAY,IAAZ,CAAN;EACAgD,IAAAA,OAAO,CAACC,UAAR,CAAmBjD,IAAnB;EACD;;EAED+C,EAAAA,OAAO,CAACC,OAAD,EAAUjD,QAAV,CAAP;EACD;;EAED,SAASmD,aAAT,CAAqBF,OAArB,EAA8BG,MAA9B,EAAsC5M,KAAtC,EAA6C;EAC3C,MAAI;EACF2J,IAAAA;EADE,MAEAiD,MAFJ;;EAIA,MAAIH,OAAO,CAACI,MAAR,CAAe7M,KAAf,CAAJ,EAA2B;EACzBmM,IAAAA,MAAM,CAACxC,GAAD,EAAM3J,KAAN,CAAN;EACA,WAAO6L,iBAAiB,CAAC,EAAE,GAAGe,MAAL;EACvB5M,MAAAA,KADuB;EAEvByJ,MAAAA,IAAI,EAAEzJ,KAFiB;EAGvBwJ,MAAAA,QAAQ,EAAE,EAHa;EAIvB+C,MAAAA,SAAS,EAAE/D;EAJY,KAAD,CAAxB;EAMD;;EAED,QAAM9G,IAAI,GAAG,OAAO1B,KAApB;EACA,MAAIyJ,IAAJ;;EAEA,MAAI/H,IAAI,KAAK,QAAT,IAAqBA,IAAI,KAAK,SAA9B,IAA2CA,IAAI,KAAK,QAApD,IAAgEA,IAAI,KAAK,QAAzE,IAAqFA,IAAI,KAAK,QAA9F,IAA0G1B,KAAK,YAAY8M,MAA/H,EAAuI;EACrIrD,IAAAA,IAAI,GAAGgD,OAAO,CAACM,UAAR,CAAmBjN,MAAM,CAACE,KAAD,CAAzB,CAAP;EACD,GAFD,MAEO,IAAIA,KAAK,YAAYgN,IAArB,EAA2B;EAChCvD,IAAAA,IAAI,GAAGgD,OAAO,CAACM,UAAR,CAAmB/M,KAAK,CAACiN,WAAN,EAAnB,CAAP;EACD,GAFM,MAEA,IAAIvL,IAAI,KAAK,QAAT,IAAqB1B,KAAzB,EAAgC;EACrCyJ,IAAAA,IAAI,GAAGgD,OAAO,CAACM,UAAR,CAAmBjN,MAAM,CAACE,KAAD,CAAzB,CAAP;EACD;;EAED,MAAI,CAACyJ,IAAL,EAAW;EACTA,IAAAA,IAAI,GAAGgD,OAAO,CAACS,iBAAR,EAAP;EACD;;EAEDf,EAAAA,MAAM,CAACxC,GAAD,EAAMF,IAAN,CAAN;EACA,SAAOoC,iBAAiB,CAAC,EAAE,GAAGe,MAAL;EACvB5M,IAAAA,KADuB;EAEvByJ,IAAAA,IAFuB;EAGvB8C,IAAAA,SAAS,EAAE/D,SAHY;EAIvBgB,IAAAA,QAAQ,EAAE;EAJa,GAAD,CAAxB;EAMD;;EACD,SAAS2D,SAAT,CAAmBV,OAAnB,EAA4BG,MAA5B,EAAoC;EAClC,MAAI,CAACA,MAAM,CAACjK,MAAZ,EAAoB;EAClB,WAAO,CAACkJ,iBAAiB,CAAC;EACxB3K,MAAAA,GAAG,EAAE,IADmB;EAExBuI,MAAAA,IAAI,EAAEgD,OAAO,CAACS,iBAAR,EAFkB;EAGxBX,MAAAA,SAAS,EAAE/D,SAHa;EAIxBgB,MAAAA,QAAQ,EAAE;EAJc,KAAD,CAAlB,CAAP;EAMD;;EAED,SAAOoD,MAAM,CAAC7M,GAAP,CAAWqN,IAAI,IAAIrI,KAAK,CAACC,OAAN,CAAcoI,IAAd,IAAsBC,UAAU,CAACZ,OAAD,EAAUW,IAAV,CAAhC,GAAkDE,UAAU,CAACb,OAAD,EAAUW,IAAV,CAA/E,CAAP;EACD;;EACD,SAASC,UAAT,CAAoBZ,OAApB,EAA6BG,MAA7B,EAAqC;EACnC,MAAIA,MAAM,CAACjK,MAAX,EAAmB;EACjB,WAAOiK,MAAM,CAAC7M,GAAP,CAAWiM,EAAE,IAAIsB,UAAU,CAACb,OAAD,EAAUT,EAAV,CAA3B,CAAP;EACD;;EAED,SAAO,CAACH,iBAAiB,CAAC;EACxB3K,IAAAA,GAAG,EAAE,IADmB;EAExBuI,IAAAA,IAAI,EAAEgD,OAAO,CAACS,iBAAR,EAFkB;EAGxBX,IAAAA,SAAS,EAAE/D,SAHa;EAIxBgB,IAAAA,QAAQ,EAAE;EAJc,GAAD,CAAlB,CAAP;EAMD;;EACD,SAAS8D,UAAT,CAAoBb,OAApB,EAA6BG,MAA7B,EAAqC;EACnC,MAAIW,gBAAJ;;EAEA,QAAM;EACJrM,IAAAA,GADI;EAEJyI,IAAAA,GAFI;EAGJ4C,IAAAA;EAHI,MAIFK,MAJJ;;EAMA,MAAI,CAAC1L,GAAL,EAAU;EACR,UAAMuI,IAAI,GAAGgD,OAAO,CAACS,iBAAR,EAAb;EACAf,IAAAA,MAAM,CAACxC,GAAD,EAAMF,IAAN,CAAN;EACA,WAAOoC,iBAAiB,CAAC;EACvB3K,MAAAA,GAAG,EAAE,IADkB;EAEvBuI,MAAAA,IAFuB;EAGvB8C,MAAAA,SAAS,EAAE/D,SAHY;EAIvBgB,MAAAA,QAAQ,EAAE;EAJa,KAAD,CAAxB;EAMD;;EAED,MAAI4B,SAAS,CAAClK,GAAD,CAAb,EAAoB;EAClB,WAAO2K,iBAAiB,CAAC,EAAE,GAAGe,MAAL;EACvBnD,MAAAA,IAAI,EAAEjB,SADiB;EAEvB+D,MAAAA,SAAS,EAAE/D,SAFY;EAGvBgB,MAAAA,QAAQ,EAAE2D,SAAS,CAACV,OAAD,EAAUG,MAAM,CAACpD,QAAjB;EAHI,KAAD,CAAxB;EAKD;;EAED,QAAMgE,IAAI,GAAG,OAAOtM,GAAP,KAAe,QAAf,GAA0B,EAA1B,GAA+BA,GAAG,CAACuM,WAAJ,EAA5C;;EAEA,MAAI,OAAOvM,GAAP,KAAe,QAAf,IAA2BsM,IAAI,KAAK9F,SAAxC,EAAmD;EACjD,QAAI,CAAC6E,SAAL,EAAgB;EACd,aAAOV,iBAAiB,CAAC,EAAE,GAAGe,MAAL;EACvBnD,QAAAA,IAAI,EAAEjB,SADiB;EAEvB+D,QAAAA,SAAS,EAAE/D,SAFY;EAGvBgB,QAAAA,QAAQ,EAAE2D,SAAS,CAACV,OAAD,EAAUG,MAAM,CAACpD,QAAjB;EAHI,OAAD,CAAxB;EAKD;;EAED+C,IAAAA,SAAS,CAACmB,KAAV;EACAvB,IAAAA,MAAM,CAACxC,GAAD,EAAM4C,SAAS,CAACnE,OAAhB,CAAN;EACA,WAAOyD,iBAAiB,CAAC,EAAE,GAAGe,MAAL;EACvBnD,MAAAA,IAAI,EAAEjB,SADiB;EAEvB+D,MAAAA,SAFuB;EAGvB/C,MAAAA,QAAQ,EAAE;EAHa,KAAD,CAAxB;EAKD;;EAED,MAAIgE,IAAI,KAAK/F,KAAb,EAAoB;EAClB,QAAI;EACFzH,MAAAA;EADE,QAEA4M,MAFJ;;EAIA,QAAIe,OAAO,CAAC3N,KAAD,CAAX,EAAoB;EAClBA,MAAAA,KAAK,GAAGA,KAAK,EAAb;EACD;;EAED,WAAO2M,aAAW,CAACF,OAAD,EAAUG,MAAV,EAAkB5M,KAAlB,CAAlB;EACD;;EAED,MAAIwN,IAAI,CAAC/I,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,OAAtB,IAAiC+I,IAAI,KAAK,UAA9C,EAA0D;EACxD,WAAO3B,iBAAiB,CAAC,EAAE,GAAGe,MAAL;EACvBnD,MAAAA,IAAI,EAAEjB,SADiB;EAEvB+D,MAAAA,SAAS,EAAE/D,SAFY;EAGvBgB,MAAAA,QAAQ,EAAE2D,SAAS,CAACV,OAAD,EAAUG,MAAM,CAACpD,QAAjB;EAHI,KAAD,CAAxB;EAKD;;EAED,QAAMC,IAAI,GAAGgD,OAAO,CAACnD,aAAR,CAAsBpI,GAAtB,CAAb;EACAiL,EAAAA,MAAM,CAACxC,GAAD,EAAMF,IAAN,CAAN;EACA,MAAID,QAAQ,GAAG,EAAf;;EAEA,MAAI,CAAC+D,gBAAgB,GAAGX,MAAM,CAACpD,QAA3B,MAAyC,IAAzC,IAAiD+D,gBAAgB,KAAK,KAAK,CAA3E,GAA+E,KAAK,CAApF,GAAwFA,gBAAgB,CAAC5K,MAA7G,EAAqH;EACnH6G,IAAAA,QAAQ,GAAG2D,SAAS,CAACV,OAAD,EAAUG,MAAM,CAACpD,QAAjB,CAApB;;EAEA,SAAK,MAAMwC,EAAX,IAAiBK,QAAQ,CAAC7C,QAAD,CAAzB,EAAqC;EACnCiD,MAAAA,OAAO,CAACmB,UAAR,CAAmBnE,IAAnB,EAAyBuC,EAAzB;EACD;EACF;;EAEDS,EAAAA,OAAO,CAACoB,WAAR,CAAoBpE,IAApB,EAA0BmD,MAAM,CAAClH,KAAP,IAAgB,EAA1C;EACA,SAAOmG,iBAAiB,CAAC,EAAE,GAAGe,MAAL;EACvBnD,IAAAA,IADuB;EAEvB8C,IAAAA,SAAS,EAAE/D,SAFY;EAGvBgB,IAAAA;EAHuB,GAAD,CAAxB;EAKD;;EAED,SAASsE,WAAT,CAAqBxB,IAArB,EAA2B;EACzB,MAAIvH,KAAK,CAACC,OAAN,CAAcsH,IAAd,CAAJ,EAAyB;EACvB,WAAOwB,WAAW,CAACxB,IAAI,CAACA,IAAI,CAAC3J,MAAL,GAAc,CAAf,CAAL,CAAlB;EACD;;EAED,QAAM;EACJ4J,IAAAA,SADI;EAEJ/C,IAAAA,QAFI;EAGJC,IAAAA;EAHI,MAIF6C,IAJJ;;EAMA,MAAI7C,IAAJ,EAAU;EACR,WAAOA,IAAP;EACD;;EAED,MAAI8C,SAAJ,EAAe;EACb,WAAOuB,WAAW,CAACvB,SAAS,CAACD,IAAX,CAAlB;EACD;;EAED,SAAOwB,WAAW,CAACtE,QAAD,CAAlB;EACD;;EAED,SAASuE,YAAT,CAAsBzB,IAAtB,EAA4B;EAC1B,MAAIvH,KAAK,CAACC,OAAN,CAAcsH,IAAd,CAAJ,EAAyB;EACvB,WAAOyB,YAAY,CAACzB,IAAI,CAAC,CAAD,CAAL,CAAnB;EACD;;EAED,QAAM;EACJC,IAAAA,SADI;EAEJ/C,IAAAA,QAFI;EAGJC,IAAAA;EAHI,MAIF6C,IAJJ;;EAMA,MAAI7C,IAAJ,EAAU;EACR,WAAOA,IAAP;EACD;;EAED,MAAI8C,SAAJ,EAAe;EACb,WAAOwB,YAAY,CAACxB,SAAS,CAACD,IAAX,CAAnB;EACD;;EAED,SAAOyB,YAAY,CAACvE,QAAQ,CAAC,CAAD,CAAT,CAAnB;EACD;;EAED,SAASwE,OAAT,CAAiBvB,OAAjB,EAA0BwB,OAA1B,EAAmCC,OAAnC,EAA4C;EAC1C,QAAMC,IAAI,GAAGJ,YAAY,CAACG,OAAD,CAAzB;;EAEA,MAAI,CAACC,IAAL,EAAW;EACT,WAAOF,OAAP;EACD;;EAED,QAAMG,MAAM,GAAG3B,OAAO,CAAC4B,SAAR,CAAkBF,IAAlB,CAAf;;EAEA,MAAI,CAACC,MAAL,EAAa;EACX,WAAOH,OAAP;EACD;;EAED,OAAK,MAAMjC,EAAX,IAAiBK,QAAQ,CAAC4B,OAAD,CAAzB,EAAoC;EAClCxB,IAAAA,OAAO,CAACmB,UAAR,CAAmBQ,MAAnB,EAA2BpC,EAA3B,EAA+BmC,IAA/B;EACD;;EAED3B,EAAAA,OAAO,CAACC,OAAD,EAAUyB,OAAV,CAAP;EACA,SAAOD,OAAP;EACD;;EAED,SAASK,UAAT,CAAoB7B,OAApB,EAA6BG,MAA7B,EAAqCN,IAArC,EAA2C;EACzC,MAAI,CAACM,MAAM,CAACjK,MAAZ,EAAoB;EAClB,UAAM8G,IAAI,GAAG6D,UAAU,CAACb,OAAD,EAAU;EAC/BvL,MAAAA,GAAG,EAAE,IAD0B;EAE/BsI,MAAAA,QAAQ,EAAE;EAFqB,KAAV,CAAvB;EAIA,WAAO,CAACwE,OAAO,CAACvB,OAAD,EAAUhD,IAAV,EAAgB6C,IAAhB,CAAR,CAAP;EACD;;EAED,MAAI,CAACvH,KAAK,CAACC,OAAN,CAAcsH,IAAd,CAAL,EAA0B;EACxBA,IAAAA,IAAI,GAAG,CAACA,IAAD,CAAP;EACD;;EAED,QAAMiC,OAAO,GAAG,EAAhB;EACA,QAAMxK,IAAI,GAAG,CAAC,GAAGuI,IAAJ,CAAb;EACA,QAAMkC,UAAU,GAAG,IAAI5C,GAAJ,EAAnB;;EAEA,OAAK,MAAM6C,GAAX,IAAkB7B,MAAlB,EAA0B;EACxB,UAAMtE,KAAK,GAAGvE,IAAI,CAAC2K,SAAL,CAAe1C,EAAE,IAAIA,EAAE,CAAC9K,GAAH,KAAWuN,GAAG,CAACvN,GAAf,IAAsB8K,EAAE,CAACxL,GAAH,KAAWiO,GAAG,CAACjO,GAA1D,CAAd;;EAEA,QAAI8H,KAAK,IAAI,CAAb,EAAgB;EACd,YAAMqG,GAAG,GAAG5K,IAAI,CAACuE,KAAD,CAAhB;EACA,YAAM8E,IAAI,GAAGwB,UAAU,CAACnC,OAAD,EAAUgC,GAAV,EAAeE,GAAf,CAAvB;EACAH,MAAAA,UAAU,CAACtG,GAAX,CAAeyG,GAAf,EAAoBvB,IAApB;EACAmB,MAAAA,OAAO,CAAClL,IAAR,CAAa+J,IAAb;EACArJ,MAAAA,IAAI,CAAC8K,MAAL,CAAYvG,KAAZ,EAAmB,CAAnB;EACD,KAND,MAMO;EACL,YAAM8E,IAAI,GAAGE,UAAU,CAACb,OAAD,EAAUgC,GAAV,CAAvB;EACAF,MAAAA,OAAO,CAAClL,IAAR,CAAa+J,IAAb;EACD;EACF;;EAED,MAAI,CAACoB,UAAU,CAAC3H,IAAhB,EAAsB;EACpB,WAAOmH,OAAO,CAACvB,OAAD,EAAU8B,OAAV,EAAmBxK,IAAnB,CAAd;EACD;;EAEDyI,EAAAA,OAAO,CAACC,OAAD,EAAU1I,IAAV,CAAP;EACAuI,EAAAA,IAAI,GAAGA,IAAI,CAAC9F,MAAL,CAAYC,CAAC,IAAI+H,UAAU,CAACrE,GAAX,CAAe1D,CAAf,CAAjB,CAAP;EACA,QAAMqI,IAAI,GAAGhB,WAAW,CAACxB,IAAI,CAACA,IAAI,CAAC3J,MAAL,GAAc,CAAf,CAAL,CAAxB;EACA,QAAMyL,MAAM,GAAG3B,OAAO,CAAC4B,SAAR,CAAkBS,IAAlB,CAAf;;EAEA,MAAI,CAACV,MAAL,EAAa;EACX,WAAOG,OAAP;EACD;;EAED,MAAIJ,IAAI,GAAG1B,OAAO,CAACsC,QAAR,CAAiBD,IAAjB,CAAX;;EAEA,OAAK,IAAIzE,CAAC,GAAGkE,OAAO,CAAC5L,MAAR,GAAiB,CAA9B,EAAiC0H,CAAC,IAAI,CAAtC,EAAyCA,CAAC,EAA1C,EAA8C;EAC5C,UAAM+C,IAAI,GAAGmB,OAAO,CAAClE,CAAD,CAApB;EACA,UAAM/B,KAAK,GAAGgE,IAAI,CAACoC,SAAL,CAAexK,CAAC,IAAIsK,UAAU,CAAClI,GAAX,CAAepC,CAAf,MAAsBkJ,IAA1C,CAAd;;EAEA,QAAI9E,KAAK,IAAI,CAAb,EAAgB;EACd,WAAK,MAAM0D,EAAX,IAAiBM,IAAI,CAACuC,MAAL,CAAYvG,KAAZ,CAAjB,EAAqC;EACnCkG,QAAAA,UAAU,CAACxH,MAAX,CAAkBgF,EAAlB;EACD;EACF,KAJD,MAIO;EACL,WAAK,MAAMA,EAAX,IAAiBK,QAAQ,CAACe,IAAD,CAAzB,EAAiC;EAC/BX,QAAAA,OAAO,CAACmB,UAAR,CAAmBQ,MAAnB,EAA2BpC,EAA3B,EAA+BmC,IAA/B;EACD;EACF;;EAEDA,IAAAA,IAAI,GAAGJ,YAAY,CAACX,IAAD,CAAZ,IAAsBe,IAA7B;EACD;;EAED,SAAOI,OAAP;EACD;;EAED,SAASS,SAAT,CAAmBvC,OAAnB,EAA4BG,MAA5B,EAAoCN,IAApC,EAA0C;EACxC,MAAIhE,KAAK,GAAG,CAAZ;EACA,MAAI3F,MAAM,GAAGsM,IAAI,CAACC,GAAL,CAAStC,MAAM,CAACjK,MAAhB,EAAwB2J,IAAI,CAAC3J,MAA7B,CAAb;EACA,QAAMoB,IAAI,GAAG,EAAb;;EAEA,SAAOuE,KAAK,GAAG3F,MAAf,EAAuB2F,KAAK,EAA5B,EAAgC;EAC9B,UAAMmG,GAAG,GAAG7B,MAAM,CAACtE,KAAD,CAAlB;;EAEA,QAAIvD,KAAK,CAACC,OAAN,CAAcyJ,GAAd,CAAJ,EAAwB;EACtB1K,MAAAA,IAAI,CAACV,IAAL,CAAUiL,UAAU,CAAC7B,OAAD,EAAUgC,GAAV,EAAenC,IAAI,CAAChE,KAAD,CAAnB,CAApB;EACD,KAFD,MAEO;EACLvE,MAAAA,IAAI,CAACV,IAAL,CAAUuL,UAAU,CAACnC,OAAD,EAAUgC,GAAV,EAAenC,IAAI,CAAChE,KAAD,CAAnB,CAApB;EACD;EACF;;EAED3F,EAAAA,MAAM,GAAGsM,IAAI,CAACE,GAAL,CAASvC,MAAM,CAACjK,MAAhB,EAAwB2J,IAAI,CAAC3J,MAA7B,CAAT;;EAEA,MAAI2J,IAAI,CAAC3J,MAAL,GAAc2F,KAAlB,EAAyB;EACvB,WAAOA,KAAK,GAAG3F,MAAf,EAAuB2F,KAAK,EAA5B,EAAgC;EAC9BkE,MAAAA,OAAO,CAACC,OAAD,EAAUH,IAAI,CAAChE,KAAD,CAAd,CAAP;EACD;EACF;;EAED,MAAIsE,MAAM,CAACjK,MAAP,GAAgB2F,KAApB,EAA2B;EACzB,UAAMwG,IAAI,GAAGhB,WAAW,CAAC/J,IAAI,CAACA,IAAI,CAACpB,MAAL,GAAc,CAAf,CAAL,CAAxB;EACA,UAAMyL,MAAM,GAAG3B,OAAO,CAAC4B,SAAR,CAAkBS,IAAlB,CAAf;EACA,UAAMX,IAAI,GAAG1B,OAAO,CAACsC,QAAR,CAAiBD,IAAjB,CAAb;;EAEA,WAAOxG,KAAK,GAAG3F,MAAf,EAAuB2F,KAAK,EAA5B,EAAgC;EAC9B,YAAMmG,GAAG,GAAG7B,MAAM,CAACtE,KAAD,CAAlB;EACA,YAAM8E,IAAI,GAAGrI,KAAK,CAACC,OAAN,CAAcyJ,GAAd,IAAqBpB,UAAU,CAACZ,OAAD,EAAUgC,GAAV,CAA/B,GAAgDnB,UAAU,CAACb,OAAD,EAAUgC,GAAV,CAAvE;EACA1K,MAAAA,IAAI,CAACV,IAAL,CAAU+J,IAAV;;EAEA,UAAI,CAACgB,MAAL,EAAa;EACX;EACD;;EAED,WAAK,MAAMpC,EAAX,IAAiBK,QAAQ,CAACe,IAAD,CAAzB,EAAiC;EAC/BX,QAAAA,OAAO,CAACmB,UAAR,CAAmBQ,MAAnB,EAA2BpC,EAA3B,EAA+BmC,IAA/B;EACD;EACF;EACF;;EAED,SAAOpK,IAAP;EACD;;EAED,SAAS6K,UAAT,CAAoBnC,OAApB,EAA6BG,MAA7B,EAAqCN,IAArC,EAA2C;EACzC,MAAIvH,KAAK,CAACC,OAAN,CAAcsH,IAAd,CAAJ,EAAyB;EACvB,UAAMhE,KAAK,GAAGgE,IAAI,CAACoC,SAAL,CAAe1C,EAAE,IAAIA,EAAE,CAAC9K,GAAH,KAAW0L,MAAM,CAAC1L,GAAlB,IAAyB8K,EAAE,CAACO,SAAH,KAAiBK,MAAM,CAACL,SAAtE,CAAd;;EAEA,QAAIjE,KAAK,GAAG,CAAZ,EAAe;EACb,aAAO0F,OAAO,CAACvB,OAAD,EAAUa,UAAU,CAACb,OAAD,EAAUG,MAAV,CAApB,EAAuCN,IAAvC,CAAd;EACD;;EAED,UAAM8C,GAAG,GAAG9C,IAAZ;EACA,KAACA,IAAD,IAASA,IAAI,CAACuC,MAAL,CAAYvG,KAAZ,EAAmB,CAAnB,CAAT;EACAkE,IAAAA,OAAO,CAACC,OAAD,EAAU2C,GAAV,CAAP;EACD;;EAED,QAAM;EACJlO,IAAAA,GADI;EAEJqL,IAAAA;EAFI,MAGFK,MAHJ;EAIA,QAAMjD,GAAG,GAAGiD,MAAM,CAACjD,GAAP,KAAe2C,IAAI,CAAC3C,GAApB,IAA2BiD,MAAM,CAACjD,GAAlC,IAAyCnB,SAArD;;EAEA,MAAItH,GAAG,KAAKoL,IAAI,CAACpL,GAAb,IAAoBqL,SAAS,KAAKD,IAAI,CAACC,SAA3C,EAAsD;EACpD,WAAOyB,OAAO,CAACvB,OAAD,EAAUa,UAAU,CAACb,OAAD,EAAUG,MAAV,CAApB,EAAuCN,IAAvC,CAAd;EACD;;EAED,MAAIlB,SAAS,CAAClK,GAAD,CAAb,EAAoB;EAClB,WAAO2K,iBAAiB,CAAC,EAAE,GAAGe,MAAL;EACvBnD,MAAAA,IAAI,EAAEjB,SADiB;EAEvB+D,MAAAA,SAAS,EAAE/D,SAFY;EAGvBgB,MAAAA,QAAQ,EAAEwF,SAAS,CAACvC,OAAD,EAAUG,MAAM,CAACpD,QAAjB,EAA2B8C,IAAI,CAAC9C,QAAhC;EAHI,KAAD,EAIrB8C,IAAI,CAACvE,EAJgB,CAAxB;EAKD;;EAED,MAAI,CAAC7G,GAAL,EAAU;EACR,WAAOoL,IAAP;EACD;;EAED,QAAMkB,IAAI,GAAG,OAAOtM,GAAP,KAAe,QAAf,GAA0B,EAA1B,GAA+BA,GAAG,CAACuM,WAAJ,EAA5C;;EAEA,MAAI,OAAOvM,GAAP,KAAe,QAAf,IAA2BsM,IAAI,KAAK9F,SAAxC,EAAmD;EACjD,QAAI,CAAC6E,SAAL,EAAgB;EACd,aAAOV,iBAAiB,CAAC,EAAE,GAAGe,MAAL;EACvBnD,QAAAA,IAAI,EAAEjB,SADiB;EAEvB+D,QAAAA,SAAS,EAAE/D,SAFY;EAGvBgB,QAAAA,QAAQ,EAAEwF,SAAS,CAACvC,OAAD,EAAUG,MAAM,CAACpD,QAAjB,EAA2B8C,IAAI,CAAC9C,QAAhC;EAHI,OAAD,EAIrB8C,IAAI,CAACvE,EAJgB,CAAxB;EAKD;;EAEDoE,IAAAA,MAAM,CAACxC,GAAD,EAAM4C,SAAS,CAACnE,OAAhB,CAAN;EACA,WAAOyD,iBAAiB,CAAC,EAAE,GAAGe,MAAL;EACvBnD,MAAAA,IAAI,EAAEjB,SADiB;EAEvB+D,MAAAA,SAFuB;EAGvB/C,MAAAA,QAAQ,EAAE;EAHa,KAAD,EAIrB8C,IAAI,CAACvE,EAJgB,CAAxB;EAKD;;EAED,MAAIyF,IAAI,KAAK/F,KAAb,EAAoB;EAClB,QAAI;EACFzH,MAAAA;EADE,QAEA4M,MAFJ;;EAIA,QAAIe,OAAO,CAAC3N,KAAD,CAAX,EAAoB;EAClBA,MAAAA,KAAK,GAAGA,KAAK,EAAb;EACD;;EAED,QAAIsM,IAAI,CAACtM,KAAL,KAAeA,KAAnB,EAA0B;EACxBmM,MAAAA,MAAM,CAACxC,GAAD,EAAM2C,IAAI,CAAC7C,IAAX,CAAN;EACA,aAAOoC,iBAAiB,CAAC,EAAE,GAAGS,IAAL;EACvB,WAAGM,MADoB;EAEvB5M,QAAAA,KAFuB;EAGvBwJ,QAAAA,QAAQ,EAAE;EAHa,OAAD,EAIrB8C,IAAI,CAACvE,EAJgB,CAAxB;EAKD;;EAED,WAAOiG,OAAO,CAACvB,OAAD,EAAUE,aAAW,CAACF,OAAD,EAAUG,MAAV,EAAkB5M,KAAlB,CAArB,EAA+CsM,IAA/C,CAAd;EACD;;EAED,MAAIkB,IAAI,CAAC/I,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,OAAtB,IAAiC+I,IAAI,KAAK,UAA9C,EAA0D;EACxD,WAAO3B,iBAAiB,CAAC,EAAE,GAAGe,MAAL;EACvBnD,MAAAA,IAAI,EAAEjB,SADiB;EAEvB+D,MAAAA,SAAS,EAAE/D,SAFY;EAGvBgB,MAAAA,QAAQ,EAAEwF,SAAS,CAACvC,OAAD,EAAUG,MAAM,CAACpD,QAAjB,EAA2B8C,IAAI,CAAC9C,QAAhC;EAHI,KAAD,EAIrB8C,IAAI,CAACvE,EAJgB,CAAxB;EAKD;;EAED,QAAM;EACJ0B,IAAAA;EADI,MAEF6C,IAFJ;EAGAH,EAAAA,MAAM,CAACxC,GAAD,EAAMF,IAAN,CAAN;EACA,MAAID,QAAQ,GAAG,EAAf;;EAEA,MAAI,CAACoD,MAAM,CAACpD,QAAP,CAAgB7G,MAAjB,IAA2B2J,IAAI,CAAC9C,QAAL,CAAc7G,MAA7C,EAAqD;EACnD6J,IAAAA,OAAO,CAACC,OAAD,EAAUH,IAAI,CAAC9C,QAAf,CAAP;EACD,GAFD,MAEO,IAAIoD,MAAM,CAACpD,QAAP,CAAgB7G,MAAhB,IAA0B2J,IAAI,CAAC9C,QAAL,CAAc7G,MAA5C,EAAoD;EACzD6G,IAAAA,QAAQ,GAAGwF,SAAS,CAACvC,OAAD,EAAUG,MAAM,CAACpD,QAAjB,EAA2B8C,IAAI,CAAC9C,QAAhC,CAApB;EACD,GAFM,MAEA,IAAIoD,MAAM,CAACpD,QAAP,CAAgB7G,MAAhB,IAA0B,CAAC2J,IAAI,CAAC9C,QAAL,CAAc7G,MAA7C,EAAqD;EAC1D6G,IAAAA,QAAQ,GAAG2D,SAAS,CAACV,OAAD,EAAUG,MAAM,CAACpD,QAAjB,CAApB;;EAEA,SAAK,MAAMwC,EAAX,IAAiBK,QAAQ,CAAC7C,QAAD,CAAzB,EAAqC;EACnCiD,MAAAA,OAAO,CAACmB,UAAR,CAAmBnE,IAAnB,EAAyBuC,EAAzB;EACD;EACF;;EAEDS,EAAAA,OAAO,CAACoB,WAAR,CAAoBpE,IAApB,EAA0BmD,MAAM,CAAClH,KAAP,IAAgB,EAA1C;EACA,SAAOmG,iBAAiB,CAAC,EAAE,GAAGS,IAAL;EACvB,OAAGM,MADoB;EAEvBpD,IAAAA;EAFuB,GAAD,EAGrB8C,IAAI,CAACvE,EAHgB,CAAxB;EAID;;EAED,SAASsH,IAAT,CAAc5C,OAAd,EAAuBG,MAAvB,EAA+BN,IAA/B,EAAqC;EACnC,MAAIA,IAAJ,EAAU;EACR,WAAO0C,SAAS,CAACvC,OAAD,EAAUG,MAAV,EAAkBN,IAAlB,CAAhB;EACD;;EAED,SAAOa,SAAS,CAACV,OAAD,EAAUG,MAAV,CAAhB;EACD;;EAED,SAAS0C,QAAT,CAAkB7C,OAAlB,EAA2BjD,QAA3B,EAAqC+F,KAArC,EAA4CC,MAAM,GAAG,KAArD,EAA4D;EAC1D,QAAMC,UAAU,GAAG,EAAnB;;EAEA,OAAK,MAAMzD,EAAX,IAAiBxC,QAAjB,EAA2B;EACzB,QAAIzE,KAAK,CAACC,OAAN,CAAcgH,EAAd,CAAJ,EAAuB;EACrB,YAAMjI,IAAI,GAAGtD,MAAM,CAACe,MAAP,CAAc,IAAd,CAAb;EACAiO,MAAAA,UAAU,CAACpM,IAAX,CAAgBiM,QAAQ,CAAC7C,OAAD,EAAUT,EAAV,EAAcjI,IAAd,EAAoByL,MAApB,CAAxB;;EAEA,WAAK,MAAMhL,CAAX,IAAgB6B,OAAO,CAAC4D,OAAR,CAAgBlG,IAAhB,CAAhB,EAAuC;EACrC,YAAIS,CAAC,IAAI+K,KAAT,EAAgB;EACdA,UAAAA,KAAK,CAAC/K,CAAD,CAAL,CAASnB,IAAT,CAAcU,IAAI,CAACS,CAAD,CAAlB;EACD,SAFD,MAEO;EACL+K,UAAAA,KAAK,CAAC/K,CAAD,CAAL,GAAW,CAACT,IAAI,CAACS,CAAD,CAAL,CAAX;EACD;EACF;;EAED;EACD;;EAED,QAAI6E,SAAS,CAAC2C,EAAD,CAAT,IAAiBA,EAAE,CAACtC,IAAH,KAAYlB,SAAjC,EAA4C;EAC1C,UAAI,OAAOwD,EAAE,CAAC9K,GAAV,KAAkB,UAAlB,IAAgC8K,EAAE,CAAC9K,GAAH,CAAOuH,UAAP,MAAuB,QAAvD,IAAmEuD,EAAE,CAAC1B,MAAtE,IAAgF0B,EAAE,CAAC9K,GAAH,KAAWyG,QAA/F,EAAyG;EACvG,cAAM5D,IAAI,GAAGtD,MAAM,CAACe,MAAP,CAAc,IAAd,CAAb;EACAiO,QAAAA,UAAU,CAACpM,IAAX,CAAgBiM,QAAQ,CAAC7C,OAAD,EAAUT,EAAE,CAACxC,QAAb,EAAuBzF,IAAvB,EAA6ByL,MAA7B,CAAxB;;EAEA,aAAK,MAAMhL,CAAX,IAAgB6B,OAAO,CAAC4D,OAAR,CAAgBlG,IAAhB,CAAhB,EAAuC;EACrC,gBAAM0F,IAAI,GAAG,EAAE,GAAGuC,EAAL;EACXxC,YAAAA,QAAQ,EAAEzF,IAAI,CAACS,CAAD;EADH,WAAb;;EAIA,cAAIA,CAAC,IAAI+K,KAAT,EAAgB;EACdA,YAAAA,KAAK,CAAC/K,CAAD,CAAL,CAASnB,IAAT,CAAcoG,IAAd;EACD,WAFD,MAEO;EACL8F,YAAAA,KAAK,CAAC/K,CAAD,CAAL,GAAW,CAACiF,IAAD,CAAX;EACD;EACF;;EAED;EACD;EACF;;EAED,QAAI+F,MAAJ,EAAY;EACV,UAAI/C,OAAO,CAACI,MAAR,CAAeb,EAAf,CAAJ,EAAwB;EACtByD,QAAAA,UAAU,CAACpM,IAAX,CAAgB2I,EAAhB;EACA;EACD;;EAED,UAAI,CAAC3C,SAAS,CAAC2C,EAAD,CAAd,EAAoB;EAClByD,QAAAA,UAAU,CAACpM,IAAX,CAAgB2I,EAAhB;EACA;EACD;;EAED,UAAIA,EAAE,CAAC9K,GAAH,KAAWqG,UAAX,IAAyByE,EAAE,CAAC9K,GAAH,KAAWyG,QAAxC,EAAkD;EAChD8H,QAAAA,UAAU,CAACpM,IAAX,CAAgB2I,EAAhB;EACA;EACD;EACF;;EAED,UAAMtC,IAAI,GAAGL,SAAS,CAAC2C,EAAD,CAAT,IAAiBA,EAAE,CAACtC,IAApB,IAA4B,SAAzC;EACA,UAAMgG,EAAE,GAAGrG,SAAS,CAAC2C,EAAD,CAAT,GAAgB,EAAE,GAAGA,EAAL;EACzBtC,MAAAA,IAAI,EAAElB,SADmB;EAEzB9C,MAAAA,KAAK,EAAE,EAAE,GAAGsG,EAAE,CAACtG,KAAR;EACLgE,QAAAA,IAAI,EAAElB;EADD;EAFkB,KAAhB,GAKPwD,EALJ;;EAOA,QAAItC,IAAI,IAAI6F,KAAZ,EAAmB;EACjBA,MAAAA,KAAK,CAAC7F,IAAD,CAAL,CAAYrG,IAAZ,CAAiBqM,EAAjB;EACD,KAFD,MAEO;EACLH,MAAAA,KAAK,CAAC7F,IAAD,CAAL,GAAc,CAACgG,EAAD,CAAd;EACD;EACF;;EAED,SAAOD,UAAP;EACD;;EAED,SAASE,WAAT,CAAqB5L,IAArB,EAA2B,GAAG2B,KAA9B,EAAqC;EACnC,SAAO3B,IAAI,CAAChE,GAAL,CAASiM,EAAE,IAAI;EACpB,QAAIjH,KAAK,CAACC,OAAN,CAAcgH,EAAd,CAAJ,EAAuB;EACrB,aAAO2D,WAAW,CAAC3D,EAAD,EAAK,GAAGtG,KAAR,CAAlB;EACD;;EAED,QAAI,CAAC2D,SAAS,CAAC2C,EAAD,CAAd,EAAoB;EAClB,aAAOA,EAAP;EACD;;EAED,QAAIA,EAAE,CAAC9K,GAAH,KAAWqG,UAAf,EAA2B;EACzB,aAAO,EAAE,GAAGyE,EAAL;EACLtC,QAAAA,IAAI,EAAElB;EADD,OAAP;EAGD;;EAED,UAAM;EACJgB,MAAAA;EADI,QAEFwC,EAFJ;;EAIA,QAAI,CAACxC,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,KAAK,CAAvC,GAA2C,KAAK,CAAhD,GAAoDA,QAAQ,CAAC7G,MAA9D,MAA0E,CAA9E,EAAiF;EAC/E,aAAO6G,QAAP;EACD;;EAED,UAAM,CAAC3H,MAAD,IAAW2H,QAAjB;;EAEA,QAAImE,OAAO,CAAC9L,MAAD,CAAP,IAAmB,OAAOA,MAAP,KAAkB,UAAzC,EAAqD;EACnD,aAAO2H,QAAP;EACD;;EAED,WAAO3H,MAAM,CAAC,GAAG6D,KAAJ,CAAb;EACD,GA9BM,CAAP;EA+BD;;EAED,SAASkK,WAAT,CAAqB9M,IAArB,EAA2BiB,IAA3B,EAAiC;EAC/B,QAAM2F,IAAI,GAAG,CAAC,GAAGhE,KAAJ,MAAe;EAC1B,KAACsD,gBAAD,GAAoBC,uBADM;EAE1B/H,IAAAA,GAAG,EAAEoG,SAFqB;EAG1BkC,IAAAA,QAAQ,EAAEmG,WAAW,CAAC5L,IAAD,EAAO,GAAG2B,KAAV,CAHK;EAI1B6E,IAAAA,QAAQ,EAAE,IAJgB;EAK1BC,IAAAA,KAAK,EAAEqF,CAA2B,CAAE,IAAG/M,IAAK,GAAV,EAAc,MAAd;EALR,GAAf,CAAb;;EAQA4G,EAAAA,IAAI,CAACF,QAAL,GAAgBzF,IAAhB;EACA,SAAO2F,IAAP;EACD;;EAED,SAASoG,QAAT,CAAkBtG,QAAlB,EAA4B+F,KAAK,GAAG9O,MAAM,CAACe,MAAP,CAAc,IAAd,CAApC,EAAyDuO,WAAzD,EAAsE;EACpE,OAAK,MAAMvL,CAAX,IAAgB6B,OAAO,CAAC4D,OAAR,CAAgBsF,KAAhB,CAAhB,EAAwC;EACtC,QAAI/K,CAAC,IAAIgF,QAAT,EAAmB;EACjB;EACD;;EAED,WAAO+F,KAAK,CAAC/K,CAAD,CAAZ;EACD;;EAED,MAAI,CAACuL,WAAL,EAAkB;EAChB,SAAK,MAAMvL,CAAX,IAAgB6B,OAAO,CAAC4D,OAAR,CAAgBT,QAAhB,CAAhB,EAA2C;EACzC+F,MAAAA,KAAK,CAAC/K,CAAD,CAAL,GAAWoL,WAAW,CAACpL,CAAD,EAAIgF,QAAQ,CAAChF,CAAD,CAAZ,CAAtB;EACD;;EAED,WAAO+K,KAAP;EACD;;EAED,OAAK,MAAM/K,CAAX,IAAgB6B,OAAO,CAAC4D,OAAR,CAAgBT,QAAhB,CAAhB,EAA2C;EACzC,UAAMzF,IAAI,GAAGyF,QAAQ,CAAChF,CAAD,CAArB;;EAEA,QAAI4F,KAAK,CAACrG,IAAD,EAAOgM,WAAW,CAACvL,CAAD,CAAlB,CAAT,EAAiC;EAC/B;EACD;;EAED+K,IAAAA,KAAK,CAAC/K,CAAD,CAAL,GAAWoL,WAAW,CAACpL,CAAD,EAAIT,IAAJ,CAAtB;EACD;;EAED,SAAOwL,KAAP;EACD;;EAED,MAAMS,UAAU,GAAGvP,MAAM,CAACe,MAAP,CAAc,IAAd,CAAnB;;EACA,SAASyO,QAAT,CAAkBnN,IAAlB,EAAwByJ,SAAxB,EAAmC;EACjCyD,EAAAA,UAAU,CAAClN,IAAD,CAAV,GAAmByJ,SAAnB;EACD;;EAED,SAAS2D,aAAT,CAAuBhP,GAAvB,EAA4BiP,YAA5B,EAA0C;EACxC,MAAI,CAACjP,GAAL,EAAU;EACR,WAAO,IAAP;EACD;;EAED,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;EAC3B,WAAOA,GAAP;EACD;;EAED,MAAIA,GAAG,KAAK,UAAZ,EAAwB;EACtB,WAAOA,GAAP;EACD;;EAED,MAAI,YAAYwD,IAAZ,CAAiBxD,GAAjB,CAAJ,EAA2B;EACzB,WAAOA,GAAP;EACD;;EAED,OAAK,MAAM6C,IAAX,IAAmBoM,YAAnB,EAAiC;EAC/B,UAAM5D,SAAS,GAAGxI,IAAI,CAAC7C,GAAD,CAAtB;;EAEA,QAAIqL,SAAJ,EAAe;EACb,aAAOA,SAAP;EACD;EACF;;EAED,SAAOyD,UAAU,CAAC9O,GAAD,CAAV,IAAmBA,GAA1B;EACD;;EAED,SAASkP,WAAT,CAAqB5G,QAArB,EAA+B6G,IAA/B,EAAqC;EACnC,MAAI7G,QAAQ,CAAC7G,MAAT,KAAoB,CAAxB,EAA2B;EACzB,WAAO6G,QAAP;EACD;;EAED,QAAM,CAAC5J,EAAD,IAAO4J,QAAb;;EAEA,MAAI,OAAO5J,EAAP,KAAc,UAAlB,EAA8B;EAC5B,WAAO4J,QAAP;EACD;;EAED,SAAO5J,EAAE,CAAC,GAAGyQ,IAAJ,CAAT;EACD;;EAED,SAASC,WAAT,CAAqB7G,IAArB,EAA2B8F,KAA3B,EAAkCS,UAAlC,EAA8CR,MAA9C,EAAsDe,MAAtD,EAA8D;EAC5D,MAAIC,WAAJ;;EAEA,MAAIzL,KAAK,CAACC,OAAN,CAAcyE,IAAd,CAAJ,EAAyB;EACvB,WAAOA,IAAI,CAAC1J,GAAL,CAASkF,CAAC,IAAIqL,WAAW,CAACrL,CAAD,EAAIsK,KAAJ,EAAWS,UAAX,EAAuBR,MAAvB,EAA+Be,MAA/B,CAAzB,CAAP;EACD;;EAED,MAAI,CAAClH,SAAS,CAACI,IAAD,CAAd,EAAsB;EACpB,WAAOA,IAAP;EACD;;EAED,MAAI;EACFD,IAAAA,QADE;EAEF9D,IAAAA;EAFE,MAGA+D,IAHJ;EAIA,MAAIvI,GAAG,GAAGgP,aAAa,CAACzG,IAAI,CAACvI,GAAN,EAAW8O,UAAX,CAAvB;;EAEA,MAAI9O,GAAG,KAAKqG,UAAR,IAAsBgJ,MAA1B,EAAkC;EAChC,WAAO,IAAP;EACD;;EAED,MAAIrP,GAAG,KAAKsG,IAAZ,EAAkB;EAChBtG,IAAAA,GAAG,GAAGsO,MAAM,GAAG,MAAH,GAAYlI,SAAxB;EACD;;EAED,MAAIpG,GAAG,KAAKoG,SAAZ,EAAuB;EACrB,WAAO,EAAE,GAAGmC,IAAL;EACLvI,MAAAA,GADK;EAELsI,MAAAA,QAAQ,EAAE8G,WAAW,CAAC9G,QAAD,EAAW+F,KAAX,EAAkBS,UAAlB,EAA8BR,MAA9B,EAAsCe,MAAtC;EAFhB,KAAP;EAID;;EAED,MAAI9G,IAAI,CAACvI,GAAL,KAAaoG,SAAb,IAA0BmC,IAAI,CAACc,QAAnC,EAA6C;EAC3C,WAAOd,IAAP;EACD;;EAED,QAAM4G,IAAI,GAAG,CAAC3K,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAAC+K,IAArD,KAA8D,CAAC/K,KAAK,CAAC+K,IAAP,CAA9D,IAA8E1L,KAAK,CAACC,OAAN,CAAcU,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAAC2K,IAAlE,MAA4E3K,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAAC2K,IAAN,CAAW1N,MAArI,KAAgJ+C,KAAK,CAAC2K,IAApO,IAA4O,CAAC,EAAD,CAAzP;EACA,QAAMK,QAAQ,GAAG,CAAC,CAACF,WAAW,GAAG/G,IAAI,CAAC/D,KAApB,MAA+B,IAA/B,IAAuC8K,WAAW,KAAK,KAAK,CAA5D,GAAgE,KAAK,CAArE,GAAyEA,WAAW,CAAC1N,IAAtF,KAA+F,SAAhH;EACA,QAAM4G,IAAI,GAAG6F,KAAK,CAACmB,QAAD,CAAlB;;EAEA,MAAI,OAAOhH,IAAP,KAAgB,UAApB,EAAgC;EAC9B,WAAO,EAAE,GAAGD,IAAL;EACL,SAAGC,IAAI,CAAC,GAAG2G,IAAJ;EADF,KAAP;EAGD;;EAED,QAAM7F,KAAK,GAAGqF,CAA2B,CAAE,IAAGa,QAAS,GAAd,EAAkB,MAAlB,CAAzC;EACA,SAAO,EAAE,GAAGjH,IAAL;EACLvI,IAAAA,GAAG,EAAEoG,SADA;EAELkD,IAAAA,KAFK;EAGLhB,IAAAA,QAAQ,EAAE8G,WAAW,CAACF,WAAW,CAAC5G,QAAD,EAAW6G,IAAX,CAAZ,EAA8Bd,KAA9B,EAAqCS,UAArC,EAAiDR,MAAjD,EAAyD,KAAzD;EAHhB,GAAP;EAKD;;EAED,SAASmB,aAAT,CAAuB,GAAGX,UAA1B,EAAsC;EACpC,SAAOA,UAAU,CAACxJ,MAAX,CAAkBoK,OAAlB,CAAP;EACD;;EAED,SAASC,UAAT,CAAoBC,OAApB,EAA6BvF,SAA7B,EAAwC9B,IAAxC,EAA8CvI,GAA9C,EAAmD8O,UAAnD,EAA+DxG,QAA/D,EAAyE;EACvE,MAAIC,IAAI,CAACa,MAAT,EAAiB;EACf,WAAOb,IAAP;EACD;;EAED,QAAM;EACJgD,IAAAA;EADI,MAEFqE,OAFJ;EAGA,QAAMC,OAAO,GAAGtQ,MAAM,CAACe,MAAP,CAAc,IAAd,CAAhB;EACA8N,EAAAA,QAAQ,CAAC7C,OAAD,EAAUjD,QAAV,EAAoBuH,OAApB,CAAR;EACA,QAAMxB,KAAK,GAAGO,QAAQ,CAACiB,OAAD,CAAtB;EACA,QAAM7K,KAAK,GAAG,IAAId,YAAJ,EAAd;EACAc,EAAAA,KAAK,CAACT,aAAN,CAAoBgE,IAAI,CAAC/D,KAAzB;EACA,QAAMA,KAAK,GAAG,EAAE,GAAG+D,IAAI,CAAC/D;EAAV,GAAd;EAEA,QAAMvC,OAAO,GAAGD,WAAW,CAAC;EAC1BqM,IAAAA,KAD0B;EAE1BvM,IAAAA,OAAO,EAAE,KAFiB;EAG1BoL,IAAAA,MAAM,EAAE0C,OAAO,CAAC1I,OAHU;;EAK1BmD,IAAAA,SAAS,CAACyF,OAAD,EAAU;EACjB,aAAO1F,YAAY,CAACC,SAAD,EAAYyF,OAAZ,CAAnB;EACD,KAPyB;;EAS1BxH,IAAAA,QAAQ,EAAE,IAAI7F,GAAJ,EATgB;EAU1BwH,IAAAA,UAAU,EAAE3B,QAVc;;EAY1BrF,IAAAA,OAAO,CAACE,CAAD,EAAI;EACTyM,MAAAA,OAAO,CAAC3M,OAAR,CAAgBE,CAAhB;EACD,KAdyB;;EAgB1B4B,IAAAA,IAAI,EAAEC,KAAK,CAACD;EAhBc,GAAD,CAA3B;;EAmBA,EAAmB;EACjB0E,IAAAA,QAAQ;EACT;;EAED,QAAMsG,MAAM,GAAG/P,GAAG,CAACwE,KAAD,EAAQvC,OAAR,CAAlB;EACA,MAAIqH,KAAJ;;EAEA,EAAmB;EACjBA,IAAAA,KAAK,GAAGG,QAAQ,EAAhB;EACD;;EAED,QAAMuG,KAAK,GAAGC,IAAI,CAACL,OAAD,EAAUvF,SAAV,EAAqB6F,UAAU,CAACN,OAAO,CAACrE,OAAT,EAAkBwE,MAAlB,EAA0B9N,OAA1B,EAAmCjC,GAAG,CAAC2H,YAAD,CAAtC,CAA/B,EAAsF0G,KAAtF,EAA6FoB,aAAa,CAAC,GAAGX,UAAJ,EAAgB9O,GAAG,CAAC4H,gBAAD,CAAnB,CAA1G,EAAkJ,KAAlJ,CAAlB;EACA,SAAO,EAAE,GAAGW,IAAL;EACLvI,IAAAA,GADK;EAELoJ,IAAAA,MAAM,EAAE,IAFH;EAGLd,IAAAA,QAAQ,EAAEzE,KAAK,CAACC,OAAN,CAAckM,KAAd,IAAuBA,KAAvB,GAA+B,CAACA,KAAD,CAHpC;EAIL1G,IAAAA;EAJK,GAAP;EAMD;;EAED,SAAS6G,eAAT,CAAyBP,OAAzB,EAAkCvF,SAAlC,EAA6C/B,QAA7C,EAAuD+F,KAAvD,EAA8DS,UAA9D,EAA0ER,MAA1E,EAAkF;EAChF,MAAIhG,QAAQ,CAAC7G,MAAT,KAAoB,CAAxB,EAA2B;EACzB,WAAO,IAAP;EACD;;EAED,QAAM,CAAC2O,QAAD,IAAa9H,QAAnB;;EAEA,MAAImE,OAAO,CAAC2D,QAAD,CAAP,IAAqB,OAAOA,QAAP,KAAoB,UAA7C,EAAyD;EACvD,WAAO,IAAP;EACD;;EAED,QAAM;EACJC,IAAAA;EADI,MAEFT,OAFJ;EAGA,QAAMlR,EAAE,GAAG2R,gBAAgB,CAACjL,GAAjB,CAAqBgL,QAArB,CAAX;;EAEA,MAAI1R,EAAJ,EAAQ;EACN,WAAOA,EAAP;EACD;;EAED,QAAM4R,KAAK,GAAG,UAAU,GAAGtM,CAAb,EAAgB;EAC5B,WAAOiM,IAAI,CAACL,OAAD,EAAUvF,SAAV,EAAqB+F,QAAQ,CAACG,IAAT,CAAc,IAAd,EAAoB,GAAGvM,CAAvB,CAArB,EAAgDqK,KAAhD,EAAuDS,UAAvD,EAAmER,MAAnE,CAAX;EACD,GAFD;;EAIA+B,EAAAA,gBAAgB,CAACrJ,GAAjB,CAAqBoJ,QAArB,EAA+BE,KAA/B;EACA,SAAOA,KAAP;EACD;;EAED,SAASE,MAAT,CAAcZ,OAAd,EAAuBvF,SAAvB,EAAkC9B,IAAlC,EAAwC8F,KAAxC,EAA+CS,UAA/C,EAA2DR,MAA3D,EAAmE;EACjE,MAAIzK,KAAK,CAACC,OAAN,CAAcyE,IAAd,CAAJ,EAAyB;EACvB,WAAOA,IAAI,CAAC1J,GAAL,CAASkF,CAAC,IAAIyM,MAAI,CAACZ,OAAD,EAAUvF,SAAV,EAAqBtG,CAArB,EAAwBsK,KAAxB,EAA+BS,UAA/B,EAA2CR,MAA3C,CAAlB,CAAP;EACD;;EAED,MAAI,CAACnG,SAAS,CAACI,IAAD,CAAd,EAAsB;EACpB,WAAOA,IAAP;EACD;;EAED,MAAI;EACFvI,IAAAA,GADE;EAEFsI,IAAAA;EAFE,MAGAC,IAHJ;;EAKA,MAAI2B,SAAS,CAAClK,GAAD,CAAb,EAAoB;EAClB,UAAMyQ,YAAY,GAAGlR,MAAM,CAACe,MAAP,CAAc+J,SAAd,CAArB;EACAlF,IAAAA,OAAO,CAAC3F,cAAR,CAAuBiR,YAAvB,EAAqCzQ,GAAG,CAACiI,gBAAD,CAAxC,EAA4D;EAC1DvI,MAAAA,YAAY,EAAE,IAD4C;EAE1DD,MAAAA,UAAU,EAAE,IAF8C;EAG1DX,MAAAA,KAAK,EAAEyJ,IAAI,CAAC/D,KAAL,GAAa+D,IAAI,CAAC/D,KAAL,CAAW1F,KAAxB,GAAgCwI;EAHmB,KAA5D;EAKA,WAAO,EAAE,GAAGiB,IAAL;EACLvI,MAAAA,GADK;EAELsI,MAAAA,QAAQ,EAAEA,QAAQ,CAACzJ,GAAT,CAAa6R,KAAK,IAAIF,MAAI,CAACZ,OAAD,EAAUa,YAAV,EAAwBC,KAAxB,EAA+BrC,KAA/B,EAAsCS,UAAtC,EAAkDR,MAAlD,CAA1B;EAFL,KAAP;EAID;;EAED,MAAItO,GAAG,KAAKqG,UAAZ,EAAwB;EACtB,UAAMsK,YAAY,GAAGR,eAAe,CAACP,OAAD,EAAUvF,SAAV,EAAqB/B,QAArB,EAA+B+F,KAA/B,EAAsCS,UAAtC,EAAkDR,MAAlD,CAApC;;EAEA,QAAIqC,YAAJ,EAAkB;EAChB,aAAO,EAAE,GAAGpI,IAAL;EACLD,QAAAA,QAAQ,EAAE,CAACqI,YAAD;EADL,OAAP;EAGD;EACF;;EAED,MAAI,OAAO3Q,GAAP,KAAe,UAAf,IAA6BA,GAAG,CAACuH,UAAD,CAAH,KAAoB,QAArD,EAA+D;EAC7D,WAAO,EAAE,GAAGgB,IAAL;EACLvI,MAAAA,GADK;EAELsI,MAAAA,QAAQ,EAAEA,QAAQ,CAACzJ,GAAT,CAAakF,CAAC,IAAIyM,MAAI,CAACZ,OAAD,EAAUvF,SAAV,EAAqBtG,CAArB,EAAwBsK,KAAxB,EAA+BS,UAA/B,EAA2CR,MAA3C,CAAtB;EAFL,KAAP;EAID;;EAED,SAAOqB,UAAU,CAACC,OAAD,EAAUvF,SAAV,EAAqB9B,IAArB,EAA2BvI,GAA3B,EAAgC8O,UAAhC,EAA4CxG,QAA5C,CAAjB;EACD;;EAED,SAASsI,OAAT,CAAiBrI,IAAjB,EAAuB;EACrB,MAAI1E,KAAK,CAACC,OAAN,CAAcyE,IAAd,CAAJ,EAAyB;EACvB,WAAOA,IAAI,CAAC1J,GAAL,CAAS+R,OAAT,CAAP;EACD;;EAED,MAAIzI,SAAS,CAACI,IAAD,CAAb,EAAqB;EACnB,WAAOA,IAAP;EACD;;EAED,MAAIA,IAAI,KAAKjB,SAAT,IAAsBiB,IAAI,KAAK,IAAnC,EAAyC;EACvC,WAAO;EACL,OAACT,gBAAD,GAAoBC,uBADf;EAEL/H,MAAAA,GAAG,EAAE,IAFA;EAGLV,MAAAA,GAAG,EAAEgI,SAHA;EAILgB,MAAAA,QAAQ,EAAE;EAJL,KAAP;EAMD;;EAED,SAAO;EACL,KAACR,gBAAD,GAAoBC,uBADf;EAELzI,IAAAA,GAAG,EAAEgI,SAFA;EAGLtH,IAAAA,GAAG,EAAEuG,KAHA;EAILzH,IAAAA,KAAK,EAAEyJ,IAJF;EAKLD,IAAAA,QAAQ,EAAE;EALL,GAAP;EAOD;;EAED,SAAS4H,UAAT,CAAoB3E,OAApB,EAA6BhD,IAA7B,EAAmCtG,OAAnC,EAA4CtB,MAA5C,EAAoD;EAClD,MAAIkD,KAAK,CAACC,OAAN,CAAcyE,IAAd,CAAJ,EAAyB;EACvB,WAAOA,IAAP;EACD;;EAED,MAAIJ,SAAS,CAACI,IAAD,CAAb,EAAqB;EACnB,QAAIA,IAAI,CAACvI,GAAL,KAAa0G,QAAjB,EAA2B;EACzB,aAAO6B,IAAI,CAACD,QAAL,CAAczJ,GAAd,CAAkB+R,OAAlB,CAAP;EACD;;EAED,WAAO,CAACrI,IAAD,CAAP;EACD;;EAED,MAAI,CAACA,IAAD,IAAS,CAAC5H,MAAV,IAAoB4K,OAAO,CAACI,MAAR,CAAepD,IAAf,CAAxB,EAA8C;EAC5C,WAAO,CAACA,IAAD,CAAP;EACD;;EAED,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;EAC5B,WAAO,CAACA,IAAD,CAAP;EACD;;EAED,QAAM1F,IAAI,GAAGlC,MAAM,CAAC4H,IAAD,EAAOtG,OAAP,CAAnB;;EAEA,MAAI4B,KAAK,CAACC,OAAN,CAAcjB,IAAd,CAAJ,EAAyB;EACvB,WAAOA,IAAP;EACD;;EAED,SAAO,CAACA,IAAD,CAAP;EACD;;EAED,SAASoN,IAAT,CAAcL,OAAd,EAAuBvF,SAAvB,EAAkC9B,IAAlC,EAAwC8F,KAAxC,EAA+CS,UAA/C,EAA2DR,MAA3D,EAAmE;EACjE,SAAOrL,OAAO,CAAC,MAAM4N,QAAQ,CAAC,MAAML,MAAI,CAACZ,OAAD,EAAUvF,SAAV,EAAqB+E,WAAW,CAAC7G,IAAD,EAAO8F,KAAP,EAAcS,UAAd,EAA0BR,MAA1B,EAAkC,IAAlC,CAAX,CAAmDzP,GAAnD,CAAuD+R,OAAvD,CAArB,EAAsFvC,KAAtF,EAA6FS,UAA7F,EAAyGR,MAAzG,CAAX,CAAf,CAAd;EACD;;EACD,SAASwC,SAAT,CAAmBlB,OAAnB,EAA4BG,MAA5B,EAAoC;EAClC,QAAM;EACJ1E,IAAAA;EADI,MAEFuE,OAFJ;EAGA,SAAOK,IAAI,CAACL,OAAD,EAAUA,OAAO,CAACvF,SAAlB,EAA6B6F,UAAU,CAACN,OAAO,CAACrE,OAAT,EAAkBwE,MAAlB,EAA0BH,OAAO,CAAC3N,OAAlC,EAA2CoJ,SAAS,CAAC1D,YAAD,CAApD,CAAvC,EAA4GiI,OAAO,CAACvB,KAApH,EAA2HoB,aAAa,CAACpE,SAAS,CAACzD,gBAAD,CAAV,CAAxI,EAAuK8H,OAAO,CAACE,OAAO,CAACtB,MAAT,CAA9K,CAAX;EACD;;EAED,SAASyC,aAAT,CAAuB1R,GAAvB,EAA4B;EAC1B,QAAM2R,GAAG,GAAG;EACVC,IAAAA,OAAO,EAAE;EACPvR,MAAAA,YAAY,EAAE,IADP;EAEP0F,MAAAA,GAAG,EAAE,MAAM;EACT,YAAI8L,WAAJ;;EAEA,eAAO,CAACA,WAAW,GAAG7R,GAAG,CAAC6N,MAAnB,MAA+B,IAA/B,IAAuCgE,WAAW,KAAK,KAAK,CAA5D,GAAgE,KAAK,CAArE,GAAyEA,WAAW,CAAChK,OAA5F;EACD;EANM,KADC;EASViK,IAAAA,UAAU,EAAE;EACVzR,MAAAA,YAAY,EAAE,IADJ;EAEVZ,MAAAA,KAAK,EAAE;EAFG,KATF;EAaVsS,IAAAA,YAAY,EAAE;EACZ1R,MAAAA,YAAY,EAAE,IADF;EAEZZ,MAAAA,KAAK,EAAE;EAFK,KAbJ;EAiBVuS,IAAAA,QAAQ,EAAE;EACR3R,MAAAA,YAAY,EAAE,IADN;EAER0F,MAAAA,GAAG,EAAE,MAAM/F,GAAG,CAACyC;EAFP,KAjBA;EAqBVwP,IAAAA,UAAU,EAAE;EACV5R,MAAAA,YAAY,EAAE,IADJ;EAEV0F,MAAAA,GAAG,EAAE,MAAM/F,GAAG,CAACkS;EAFL,KArBF;EAyBVC,IAAAA,QAAQ,EAAE;EACR9R,MAAAA,YAAY,EAAE,IADN;EAER0F,MAAAA,GAAG,EAAE,MAAM/F,GAAG,CAACoS;EAFP,KAzBA;EA6BVC,IAAAA,UAAU,EAAE;EACVhS,MAAAA,YAAY,EAAE,IADJ;EAEV0F,MAAAA,GAAG,EAAE,MAAM/F,GAAG,CAACsS;EAFL;EA7BF,GAAZ;EAkCA,QAAMzK,OAAO,GAAG3H,MAAM,CAACe,MAAP,CAAc,IAAd,EAAoB0Q,GAApB,CAAhB;EACA,SAAO9J,OAAP;EACD;;EAED,IAAI0K,YAAJ;;EACA,SAASC,eAAT,CAAyBhP,IAAzB,EAA+B;EAC7B+O,EAAAA,YAAY,GAAG/O,IAAf;EACD;;EACD,SAASiP,QAAT,CAAkBhH,EAAlB,EAAsB;EACpB,MAAI,CAAC8G,YAAL,EAAmB;EACjB9G,IAAAA,EAAE;EACH,GAFD,MAEO;EACL8G,IAAAA,YAAY,CAACzP,IAAb,CAAkB2I,EAAlB;EACD;EACF;;EAED,SAASiH,YAAT,CAAsB1S,GAAtB,EAA2B;EACzB,QAAM2R,GAAG,GAAG;EACV9J,IAAAA,OAAO,EAAE;EACPxH,MAAAA,YAAY,EAAE,IADP;EAEP0F,MAAAA,GAAG,EAAE,MAAM/F,GAAG,CAAC6H;EAFR,KADC;EAKVgG,IAAAA,MAAM,EAAE;EACNxN,MAAAA,YAAY,EAAE,IADR;EAEN0F,MAAAA,GAAG,EAAE,MAAM;EACT,YAAI4M,YAAJ;;EAEA,eAAO,CAACA,YAAY,GAAG3S,GAAG,CAAC6N,MAApB,MAAgC,IAAhC,IAAwC8E,YAAY,KAAK,KAAK,CAA9D,GAAkE,KAAK,CAAvE,GAA2EA,YAAY,CAAC7Q,MAA/F;EACD;EANK,KALE;EAaVkK,IAAAA,SAAS,EAAE;EACT3L,MAAAA,YAAY,EAAE,IADL;EAETZ,MAAAA,KAAK,EAAE;EAFE,KAbD;EAiBVmT,IAAAA,WAAW,EAAE;EACXvS,MAAAA,YAAY,EAAE,IADH;EAEXZ,MAAAA,KAAK,EAAE;EAFI,KAjBH;EAqBVgD,IAAAA,OAAO,EAAE;EACPpC,MAAAA,YAAY,EAAE,IADP;EAEP0F,MAAAA,GAAG,EAAE,MAAM/F,GAAG,CAACyC;EAFR,KArBC;EAyBVyP,IAAAA,SAAS,EAAE;EACT7R,MAAAA,YAAY,EAAE,IADL;EAET0F,MAAAA,GAAG,EAAE,MAAM/F,GAAG,CAACkS;EAFN,KAzBD;EA6BVE,IAAAA,OAAO,EAAE;EACP/R,MAAAA,YAAY,EAAE,IADP;EAEP0F,MAAAA,GAAG,EAAE,MAAM/F,GAAG,CAACoS;EAFR,KA7BC;EAiCVE,IAAAA,SAAS,EAAE;EACTjS,MAAAA,YAAY,EAAE,IADL;EAET0F,MAAAA,GAAG,EAAE,MAAM/F,GAAG,CAACsS;EAFN,KAjCD;EAqCV5K,IAAAA,OAAO,EAAE;EACPrH,MAAAA,YAAY,EAAE,IADP;EAEPZ,MAAAA,KAAK,EAAES,MAAM,CAACe,MAAP,CAAc,IAAd;EAFA,KArCC;EAyCVe,IAAAA,YAAY,EAAE;EACZ3B,MAAAA,YAAY,EAAE,IADF;EAEZZ,MAAAA,KAAK,EAAE,CAFK;EAGZa,MAAAA,QAAQ,EAAE;EAHE,KAzCJ;EA8CV6B,IAAAA,QAAQ,EAAE;EACR9B,MAAAA,YAAY,EAAE,IADN;EAERZ,MAAAA,KAAK,EAAE;EAFC,KA9CA;EAkDVwC,IAAAA,cAAc,EAAE;EACd5B,MAAAA,YAAY,EAAE,IADA;EAEdZ,MAAAA,KAAK,EAAE,CAFO;EAGda,MAAAA,QAAQ,EAAE;EAHI,KAlDN;EAuDV+B,IAAAA,UAAU,EAAE;EACVhC,MAAAA,YAAY,EAAE,IADJ;EAEVZ,MAAAA,KAAK,EAAE;EAFG,KAvDF;EA2DVmI,IAAAA,QAAQ,EAAE;EACRvH,MAAAA,YAAY,EAAE,IADN;;EAGRZ,MAAAA,KAAK,CAACoT,CAAD,EAAI;EACPjL,QAAAA,QAAQ,CAACiL,CAAD,EAAI/Q,MAAJ,CAAR;EACD;;EALO,KA3DA;EAmEVyF,IAAAA,OAAO,EAAE;EACPlH,MAAAA,YAAY,EAAE,IADP;;EAGPZ,MAAAA,KAAK,CAAC+H,EAAD,EAAKC,IAAL,EAAW;EACd,eAAOF,OAAO,CAACC,EAAD,EAAKC,IAAL,EAAW3F,MAAX,CAAd;EACD;;EALM,KAnEC;EA2EV8B,IAAAA,OAAO,EAAE;EACPvD,MAAAA,YAAY,EAAE,IADP;EAEPZ,MAAAA,KAAK,EAAEO,GAAG,CAAC4D,OAAJ,CAAYkP,IAAZ,CAAiB9S,GAAjB;EAFA,KA3EC;EA+EViF,IAAAA,EAAE,EAAE;EACF5E,MAAAA,YAAY,EAAE,IADZ;EAEFZ,MAAAA,KAAK,EAAEO,GAAG,CAACiF;EAFT,KA/EM;EAmFVS,IAAAA,IAAI,EAAE;EACJrF,MAAAA,YAAY,EAAE,IADV;EAEJZ,MAAAA,KAAK,EAAEO,GAAG,CAAC0F;EAFP,KAnFI;EAuFVqN,IAAAA,MAAM,EAAE;EACN1S,MAAAA,YAAY,EAAE,IADR;EAENZ,MAAAA,KAAK,EAAEO,GAAG,CAAC+S;EAFL;EAvFE,GAAZ;EA4FA,QAAMjR,MAAM,GAAG5B,MAAM,CAACe,MAAP,CAAc,IAAd,EAAoB0Q,GAApB,CAAf;EACA,SAAO1O,UAAU,CAACnB,MAAD,CAAjB;EACD;;EAED,MAAMkR,YAAN,CAAmB;EACjBvS,EAAAA,WAAW,CAACyL,OAAD,EAAU2B,MAAV,EAAkB7C,SAAS,GAAG,CAAC6C,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAAC7C,SAAxD,KAAsE9K,MAAM,CAACe,MAAP,CAAc,IAAd,CAApG,EAAyHgS,SAAzH,EAAoI;EAC7IlT,IAAAA,eAAe,CAAC,IAAD,EAAO,kBAAP,EAA2B,IAAImT,OAAJ,EAA3B,CAAf;;EAEAnT,IAAAA,eAAe,CAAC,IAAD,EAAO,QAAP,EAAiB,IAAI8E,YAAJ,EAAjB,CAAf;;EAEA9E,IAAAA,eAAe,CAAC,IAAD,EAAO,MAAP,EAAe,KAAKuE,MAAL,CAAYoB,IAA3B,CAAf;;EAEA3F,IAAAA,eAAe,CAAC,IAAD,EAAO,IAAP,EAAa,KAAKuE,MAAL,CAAYW,EAAzB,CAAf;;EAEAlF,IAAAA,eAAe,CAAC,IAAD,EAAO,oBAAP,EAA6B,IAAIqD,GAAJ,EAA7B,CAAf;;EAEArD,IAAAA,eAAe,CAAC,IAAD,EAAO,SAAP,EAAkB,KAAK,CAAvB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,YAAP,EAAqBG,MAAM,CAACe,MAAP,CAAc,IAAd,CAArB,CAAf;;EAEAlB,IAAAA,eAAe,CAAC,IAAD,EAAO,QAAP,EAAiBG,MAAM,CAACe,MAAP,CAAc,IAAd,CAAjB,CAAf;;EAEAlB,IAAAA,eAAe,CAAC,IAAD,EAAO,iBAAP,EAA0B,KAAK,CAA/B,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,WAAP,EAAoB,KAAK,CAAzB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,SAAP,EAAkB2R,aAAa,CAAC,IAAD,CAA/B,CAAf;;EAEA3R,IAAAA,eAAe,CAAC,IAAD,EAAO,QAAP,EAAiB2S,YAAY,CAAC,IAAD,CAA7B,CAAf;;EAEA3S,IAAAA,eAAe,CAAC,IAAD,EAAO,QAAP,EAAiB,KAAK,CAAtB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,QAAP,EAAiB,KAAK,CAAtB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,SAAP,EAAkB,KAAlB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,WAAP,EAAoB,KAApB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,SAAP,EAAkB,KAAlB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,WAAP,EAAoB,KAApB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,UAAP,EAAmB,IAAIqD,GAAJ,EAAnB,CAAf;;EAEArD,IAAAA,eAAe,CAAC,IAAD,EAAO,MAAP,EAAe,EAAf,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,WAAP,EAAoB,KAAK,CAAzB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,SAAP,EAAkB,MAAM,EAAxB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,cAAP,EAAuB,KAAvB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,iBAAP,EAA0B,CAA1B,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,aAAP,EAAsB,KAAtB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,QAAP,EAAiB,EAAjB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,YAAP,EAAqB,EAArB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,oBAAP,EAA6B,KAA7B,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,kBAAP,EAA2B,KAA3B,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,oBAAP,EAA6B,KAA7B,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,oBAAP,EAA6B,KAAK,CAAlC,CAAf;;EAEA,SAAKmM,OAAL,GAAeA,OAAf;EACA,SAAKiH,eAAL,GAAuBnI,SAAvB;EACA,SAAKA,SAAL,GAAiB9K,MAAM,CAACe,MAAP,CAAc+J,SAAd,CAAjB;;EAEA,QAAI6C,MAAJ,EAAY;EACV,WAAKA,MAAL,GAAcA,MAAd;EACD;;EAED,SAAKoF,SAAL,GAAiBA,SAAS,IAAI,IAA9B;EACD;;EAED,MAAIG,UAAJ,GAAiB;EACf,QAAI/P,MAAI,CAAC,IAAD,CAAR,EAAgB;EACd,aAAO,KAAP;EACD;;EAED,WAAO,CAAC,KAAKgQ,eAAb;EACD;;EAED,MAAIC,WAAJ,GAAkB;EAChB,QAAIjQ,MAAI,CAAC,IAAD,CAAR,EAAgB;EACd,aAAO,KAAP;EACD;;EAED,QAAI,KAAKgQ,eAAT,EAA0B;EACxB,aAAO,KAAP;EACD;;EAED,UAAMC,WAAW,GAAG,KAAKC,YAAzB;EACA,SAAKA,YAAL,GAAoB,KAApB;EACA,WAAOD,WAAP;EACD;;EAEDE,EAAAA,WAAW,GAAG;;EAEd,QAAM3P,YAAN,CAAmBC,CAAnB,EAAsB;EACpB,QAAI;EACF,WAAKuP,eAAL;EACA,aAAO,MAAMvP,CAAC,EAAd;EACD,KAHD,SAGU;EACR,WAAKuP,eAAL;EACA,WAAKzP,OAAL;EACD;EACF;;EAEDA,EAAAA,OAAO,CAACE,CAAD,EAAIC,KAAJ,EAAW;EAChB,QAAI,OAAOD,CAAP,KAAa,UAAjB,EAA6B;EAC3B,UAAIC,KAAJ,EAAW;EACT,eAAO,KAAKF,YAAL,CAAkBC,CAAlB,CAAP;EACD;;EAED,UAAI;EACF,aAAKuP,eAAL;EACA,eAAOvP,CAAC,EAAR;EACD,OAHD,SAGU;EACR,aAAKuP,eAAL;;EAEA,YAAI,KAAKA,eAAL,IAAwB,CAA5B,EAA+B;EAC7B,eAAKzP,OAAL;EACD;EACF;EACF;;EAED,QAAI,KAAKsO,SAAT,EAAoB;EAClB;EACD;;EAED,SAAKqB,YAAL,GAAoB,IAApB;;EAEA,QAAI,CAAC,KAAK9Q,OAAV,EAAmB;EACjB;EACD;;EAED,QAAI,KAAKgR,WAAT,EAAsB;EACpB;EACD;;EAED,SAAKA,WAAL,GAAmB,IAAnB;EACA,QAAI9C,KAAJ;;EAEA,WAAO,KAAK2C,WAAZ,EAAyB;EACvB3C,MAAAA,KAAK,GAAG,KAAK+C,OAAL,EAAR;;EAEA,UAAI,KAAKxB,SAAT,EAAoB;EAClB;EACD;EACF;;EAED,SAAKuB,WAAL,GAAmB,KAAnB;;EAEA,QAAI,CAAC,KAAKL,UAAV,EAAsB;EACpB;EACD;;EAED,QAAI,CAACzC,KAAL,EAAY;EACV;EACD;;EAED,SAAKgD,MAAL,GAAcC,OAAO,CAAC,IAAD,EAAOjD,KAAP,EAAc,KAAKgD,MAAnB,CAArB;;EAEA,QAAI,CAAC,KAAKvB,OAAV,EAAmB;EACjB;EACD;;EAED,QAAI,KAAKF,SAAT,EAAoB;EAClB;EACD;;EAED,QAAI,KAAKI,SAAT,EAAoB;EAClB;EACD;;EAED,SAAKkB,WAAL;EACD;;EAED5L,EAAAA,QAAQ,CAACJ,EAAD,EAAK;EACXI,IAAAA,QAAQ,CAACJ,EAAD,EAAK,KAAK1F,MAAV,CAAR;EACD;;EAED+R,EAAAA,OAAO,CAAC1O,KAAD,EAAQ8D,QAAR,EAAkB;EACvB,SAAK2B,UAAL,GAAkB3B,QAAlB;EACD;;EAEDnE,EAAAA,MAAM,CAACK,KAAD,EAAQ8D,QAAR,EAAkB;EACtB,SAAK4K,OAAL,CAAa1O,KAAb,EAAoB8D,QAApB;EACD;;EAED6K,EAAAA,QAAQ,GAAG;;EAEXC,EAAAA,OAAO,GAAG;EACR,QAAI,KAAKC,kBAAT,EAA6B;EAC3B;EACD;;EAED,SAAKA,kBAAL,GAA0B,IAA1B;EACA,SAAKpM,QAAL,CAAc,eAAd;;EAEA,SAAKkM,QAAL;;EAEA,SAAKlM,QAAL,CAAc,WAAd;EACA,SAAKsK,SAAL,GAAiB,IAAjB;EACD;;EAED+B,EAAAA,MAAM,GAAG;;EAET9G,EAAAA,KAAK,GAAG;EACN,QAAI,KAAK6G,kBAAT,EAA6B;EAC3B;EACD;;EAED,QAAI,KAAKE,gBAAT,EAA2B;EACzB;EACD;;EAED,SAAKA,gBAAL,GAAwB,IAAxB;EACA,SAAKtM,QAAL,CAAc,aAAd;EACA,UAAM8I,MAAM,GAAGyD,IAAM,CAACC,CAAC,IAAIA,CAAC,IAAI,KAAKZ,WAAL,EAAX,EAA+B,MAAM;EACxD,WAAKS,MAAL;;EAEA,WAAK7B,OAAL,GAAe,IAAf;EACD,KAJoB,CAArB;EAKA,SAAKiC,kBAAL,GAA0B3D,MAAM,CAAC4D,IAAjC;EACA7B,IAAAA,QAAQ,CAAC,MAAM,KAAK7K,QAAL,CAAc,SAAd,CAAP,CAAR;EACD;;EAED2M,EAAAA,QAAQ,GAAG;;EAEXtI,EAAAA,OAAO,GAAG;EACR,QAAI,CAAC,KAAKmG,OAAV,EAAmB;EACjB;EACD;;EAED,QAAI,KAAKoC,kBAAT,EAA6B;EAC3B;EACD;;EAED,SAAKA,kBAAL,GAA0B,IAA1B;EACA,SAAK5M,QAAL,CAAc,eAAd;;EAEA,SAAK2M,QAAL;;EAEA,SAAK3M,QAAL,CAAc,WAAd;EACA,SAAK0K,SAAL,GAAiB,IAAjB;EACD;;EAEDmC,EAAAA,KAAK,GAAG;;EAER3F,EAAAA,IAAI,GAAG;EACL,QAAI,KAAKkF,kBAAT,EAA6B;EAC3B;EACD;;EAED,QAAI,KAAKK,kBAAT,EAA6B;EAC3B,WAAKA,kBAAL;EACD;;EAED,SAAKzM,QAAL,CAAc,YAAd;EACA,UAAM8I,MAAM,GAAGyD,IAAM,CAACC,CAAC,IAAIA,CAAC,IAAI,KAAKZ,WAAL,EAAX,EAA+B,MAAM,KAAKiB,KAAL,EAArC,CAArB;EACA,SAAKJ,kBAAL,GAA0B3D,MAAM,CAAC4D,IAAjC;EACA7B,IAAAA,QAAQ,CAAC,MAAM,KAAK7K,QAAL,CAAc,OAAd,CAAP,CAAR;EACD;;EAxQgB;;EA4QnB,MAAM8M,WAAW,GAAG,IAAItR,GAAJ,CAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,EAAyC,GAAzC,EAA8C,GAA9C,EAAmD,GAAnD,EAAwD,GAAxD,EAA6D,GAA7D,EAAkE,GAAlE,EAAuE,GAAvE,EAA4E,GAA5E,EAAiF,GAAjF,EAAsF,GAAtF,EAA2F,GAA3F,EAAgG,GAAhG,CAAR,CAApB;;EAEA,SAAS6C,MAAT,CAAgBhC,CAAhB,EAAmB;EACjB,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;EACzB,WAAO,IAAP;EACD;;EAED,MAAIyQ,WAAW,CAAC9K,GAAZ,CAAgB3F,CAAC,CAAC,CAAD,CAAjB,CAAJ,EAA2B;EACzB,WAAO,KAAP;EACD;;EAED,MAAI,SAASE,IAAT,CAAcF,CAAd,CAAJ,EAAsB;EACpB,WAAO,KAAP;EACD;;EAED,MAAI,UAAUE,IAAV,CAAeF,CAAf,CAAJ,EAAuB;EACrB,WAAO,KAAP;EACD;;EAED,SAAO,IAAP;EACD;;EAED,SAASa,MAAT,CAAgByL,OAAhB,EAAyBpL,KAAzB,EAAgC8D,QAAhC,EAA0C;EACxC,QAAM0L,QAAQ,GAAGpE,OAAO,CAACpL,KAAzB;EACA,QAAMyP,OAAO,GAAG,IAAIxR,GAAJ,CAAQ0C,OAAO,CAAC4D,OAAR,CAAgBvE,KAAhB,EAAuBc,MAAvB,CAA8BA,MAA9B,CAAR,CAAhB;;EAEA,OAAK,MAAMhC,CAAX,IAAgB6B,OAAO,CAAC4D,OAAR,CAAgBiL,QAAhB,CAAhB,EAA2C;EACzC,QAAI1O,MAAM,CAAChC,CAAD,CAAN,IAAa,CAAC2Q,OAAO,CAAChL,GAAR,CAAY3F,CAAZ,CAAlB,EAAkC;EAChC,aAAO0Q,QAAQ,CAAC1Q,CAAD,CAAf;EACD;EACF;;EAED,OAAK,MAAMA,CAAX,IAAgB2Q,OAAhB,EAAyB;EACvBD,IAAAA,QAAQ,CAAC1Q,CAAD,CAAR,GAAckB,KAAK,CAAClB,CAAD,CAAnB;EACD;;EAEDsM,EAAAA,OAAO,CAACjM,MAAR,CAAeY,aAAf,CAA6BC,KAA7B;EACA,QAAM6J,KAAK,GAAG9O,MAAM,CAACe,MAAP,CAAc,IAAd,CAAd;EACA,QAAM;EACJgO,IAAAA;EADI,MAEFsB,OAFJ;EAGA,QAAM3F,UAAU,GAAGmE,QAAQ,CAACwB,OAAO,CAACrE,OAAT,EAAkBjD,QAAlB,EAA4B+F,KAA5B,EAAmCqB,OAAO,CAACpB,MAAD,CAA1C,CAA3B;EACAM,EAAAA,QAAQ,CAACP,KAAD,EAAQuB,OAAO,CAACvB,KAAhB,EAAuBuB,OAAO,CAACsE,SAA/B,CAAR;EACAtE,EAAAA,OAAO,CAACsE,SAAR,GAAoB7F,KAApB;;EAEA,MAAI,CAACC,MAAL,EAAa;EACX;EACD;;EAEDsB,EAAAA,OAAO,CAACuE,WAAR,GAAsBlB,OAAO,CAACrD,OAAD,EAAU3F,UAAV,EAAsB2F,OAAO,CAACuE,WAA9B,CAA7B;;EAEA,MAAI,CAACvE,OAAO,CAAC6B,OAAb,EAAsB;EACpB;EACD;;EAED7B,EAAAA,OAAO,CAACiD,WAAR;EACD;;EAED,SAASuB,aAAT,CAAuBxE,OAAvB,EAAgC;EAC9B,SAAO5N,WAAW,CAAC;EACjBqM,IAAAA,KAAK,EAAEuB,OAAO,CAACvB,KADE;;EAGjB,QAAIvM,OAAJ,GAAc;EACZ,aAAO8N,OAAO,CAAC9N,OAAf;EACD,KALgB;;EAOjB,QAAIoL,MAAJ,GAAa;EACX,aAAO0C,OAAO,CAAC1C,MAAR,CAAehG,OAAtB;EACD,KATgB;;EAWjB,QAAIoB,QAAJ,GAAe;EACb,aAAOsH,OAAO,CAACtH,QAAf;EACD,KAbgB;;EAejB,QAAI2B,UAAJ,GAAiB;EACf,aAAO2F,OAAO,CAAC3F,UAAf;EACD,KAjBgB;;EAmBjB,QAAIlF,IAAJ,GAAW;EACT,aAAO6K,OAAO,CAAC7K,IAAf;EACD,KArBgB;;EAuBjBsF,IAAAA,SAAS,CAACyF,OAAD,EAAU;EACjB,aAAO1F,YAAY,CAACwF,OAAO,CAAC4C,eAAT,EAA0B1C,OAA1B,CAAnB;EACD,KAzBgB;;EA2BjB7M,IAAAA,OAAO,CAACE,CAAD,EAAI;EACTyM,MAAAA,OAAO,CAAC3M,OAAR,CAAgBE,CAAhB;EACD;;EA7BgB,GAAD,EA+BfyM,OAAO,CAACzO,MA/BO,CAAlB;EAgCD;;EAED,SAASkT,UAAT,CAAoBzE,OAApB,EAA6B;EAC3B,QAAM;EACJvE,IAAAA,SADI;EAEJ7G,IAAAA,KAFI;EAGJvC,IAAAA,OAHI;EAIJd,IAAAA;EAJI,MAKFyO,OALJ;;EAOA,WAAS3M,OAAT,CAAiBqR,OAAjB,EAA0B;EACxB,QAAI,CAACA,OAAL,EAAc;EACZ;EACD;;EAED1E,IAAAA,OAAO,CAAC3M,OAAR;EACD;;EAED,QAAM8M,MAAM,GAAGyD,IAAM,CAACvQ,OAAD,EAAU,MAAM/B,UAAU,CAAC,MAAMmK,SAAS,CAAC7G,KAAD,EAAQvC,OAAR,CAAhB,EAAkCd,MAAlC,CAA1B,EAAqE;EACxFoT,IAAAA,UAAU,EAAE;EAD4E,GAArE,CAArB;;EAIA,MAAI,OAAOxE,MAAP,KAAkB,UAAtB,EAAkC;EAChC,UAAMpP,MAAM,GAAG6T,OAAO,CAACvR,OAAD,EAAU,MAAM6N,SAAS,CAAClB,OAAD,EAAUG,MAAM,EAAhB,CAAzB,CAAtB;EACA,WAAO;EACLC,MAAAA,KAAK,EAAErP,MAAM,EADR;EAELA,MAAAA,MAFK;EAGL8T,MAAAA,UAAU,EAAE,MAAM9T,MAAM,CAACgT,IAAP;EAHb,KAAP;EAKD;;EAED,QAAMhT,MAAM,GAAG6T,OAAO,CAACvR,OAAD,EAAU,MAAM6N,SAAS,CAAClB,OAAD,EAAU1O,UAAU,CAAC,MAAMmK,SAAS,CAAC7G,KAAD,EAAQvC,OAAR,CAAhB,EAAkCd,MAAlC,CAApB,CAAzB,CAAtB;EACA,SAAO;EACL6O,IAAAA,KAAK,EAAEwD,IAAM,CAACvQ,OAAD,EAAU,MAAM6N,SAAS,CAAClB,OAAD,EAAUG,MAAV,CAAzB,EAA4C;EACvDwE,MAAAA,UAAU,EAAE;EAD2C,KAA5C,CADR;EAIL5T,IAAAA,MAJK;EAKL8T,IAAAA,UAAU,EAAE,MAAM9T,MAAM,CAACgT,IAAP;EALb,GAAP;EAOD;;EAED,MAAMe,eAAN,SAA8BrC,YAA9B,CAA2C;EACzCvS,EAAAA,WAAW,CAACuL,SAAD,EAAY7G,KAAZ,EAAmB8D,QAAnB,EAA6B4E,MAA7B,EAAqC7C,SAArC,EAAgD;EACzD,QAAIsK,qBAAJ,EAA2BC,aAA3B;;EAEA,UAAM1H,MAAM,CAAC3B,OAAb,EAAsB2B,MAAtB,EAA8B7C,SAA9B,EAAyC6C,MAAM,CAACoF,SAAhD;;EAEAlT,IAAAA,eAAe,CAAC,IAAD,EAAO,WAAP,EAAoB,KAAK,CAAzB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,OAAP,EAAgByV,MAAM,CAACtV,MAAM,CAACe,MAAP,CAAc,IAAd,CAAD,CAAtB,CAAf;;EAEAlB,IAAAA,eAAe,CAAC,IAAD,EAAO,OAAP,EAAgByV,MAAM,CAACtV,MAAM,CAACe,MAAP,CAAc,IAAd,CAAD,CAAtB,CAAf;;EAEAlB,IAAAA,eAAe,CAAC,IAAD,EAAO,WAAP,EAAoB,KAAK,CAAzB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,aAAP,EAAsB,KAAK,CAA3B,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,aAAP,EAAsB,KAAK,CAA3B,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,YAAP,EAAqB,EAArB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,YAAP,EAAqB,EAArB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,SAAP,EAAkB,KAAK,CAAvB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,SAAP,EAAkB,KAAK,CAAvB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,QAAP,EAAiB,KAAK,CAAtB,CAAf;;EAEA,SAAKiM,SAAL,GAAiBA,SAAjB;EACA9L,IAAAA,MAAM,CAACuV,MAAP,CAAc,KAAK1C,MAAnB,EAA2B/G,SAAS,CAACxD,YAAD,CAApC;EACAtI,IAAAA,MAAM,CAACuV,MAAP,CAAc,KAAKhG,UAAnB,EAA+BzD,SAAS,CAACzD,gBAAD,CAAxC;EACAzC,IAAAA,OAAO,CAAC3F,cAAR,CAAuB,KAAK0H,OAA5B,EAAqC,YAArC,EAAmD;EACjDpI,MAAAA,KAAK,EAAEuM,SAD0C;EAEjD5L,MAAAA,UAAU,EAAE,IAFqC;EAGjDC,MAAAA,YAAY,EAAE;EAHmC,KAAnD;EAKA,KAAC,KAAK4O,MAAN,EAAc,KAAKyG,OAAnB,IAA8B1J,SAAS,CAAC9D,UAAD,CAAT,KAA0B,QAA1B,KAAuC,CAACoN,qBAAqB,GAAG,CAACC,aAAa,GAAG,KAAKrJ,OAAtB,EAA+ByJ,eAAxD,MAA6E,IAA7E,IAAqFL,qBAAqB,KAAK,KAAK,CAApH,GAAwH,KAAK,CAA7H,GAAiIA,qBAAqB,CAACpE,IAAtB,CAA2BqE,aAA3B,CAAxK,KAAsN,EAApP;EACA,SAAK1H,MAAL,GAAcA,MAAd;EACAA,IAAAA,MAAM,CAAC5E,QAAP,CAAgB3F,GAAhB,CAAoB,KAAKuE,OAAzB;EACA,UAAMjF,OAAO,GAAGmS,aAAa,CAAC,IAAD,CAA7B;EACA,SAAKnS,OAAL,GAAeA,OAAf;EACA,SAAKgF,QAAL,CAAc,cAAd;EACA,SAAKgD,UAAL,GAAkB3B,QAAlB;EACArF,IAAAA,OAAO,CAAC,MAAM4N,QAAQ,CAAC,MAAM1M,MAAM,CAAC,IAAD,EAAOK,KAAP,EAAc8D,QAAd,CAAb,CAAf,CAAP;EACA,UAAM;EACJ3H,MAAAA,MADI;EAEJqP,MAAAA,KAFI;EAGJyE,MAAAA;EAHI,QAIFJ,UAAU,CAAC,IAAD,CAJd;EAKA,SAAKtB,OAAL,GAAepS,MAAf;EACA,SAAKsU,WAAL,GAAmBR,UAAnB;EACA,SAAKzB,MAAL,GAAcC,OAAO,CAAC,IAAD,EAAOjD,KAAP,CAArB;EACA,SAAK/I,QAAL,CAAc,SAAd;EACA,SAAKnF,OAAL,GAAe,IAAf;;EAEA,QAAI,KAAK8Q,YAAT,EAAuB;EACrB,WAAK3P,OAAL;EACD;EACF;;EAEDiQ,EAAAA,OAAO,CAAC1O,KAAD,EAAQ8D,QAAR,EAAkB;EACvB,QAAI,KAAKiJ,SAAT,EAAoB;EAClB;EACD;;EAED,SAAKtH,UAAL,GAAkB3B,QAAlB;EACArF,IAAAA,OAAO,CAAC,MAAM4N,QAAQ,CAAC,MAAM1M,MAAM,CAAC,IAAD,EAAOK,KAAP,EAAc8D,QAAd,CAAb,CAAf,CAAP;EACD;;EAED6K,EAAAA,QAAQ,GAAG;EACT,QAAI,KAAK8B,WAAT,EAAsB;EACpB,WAAKA,WAAL;EACD;;EAED,SAAK/H,MAAL,CAAY5E,QAAZ,CAAqBxC,MAArB,CAA4B,KAAKoB,OAAjC;EACAkM,IAAAA,OAAO,CAAC,KAAKJ,MAAN,CAAP;EACD;;EAEDH,EAAAA,WAAW,GAAG;EACZ,SAAKP,SAAL,CAAe4C,QAAf,CAAwB,IAAxB;EACD;;EAEDpB,EAAAA,KAAK,GAAG;EACN,UAAM;EACJK,MAAAA,WADI;EAEJ5I,MAAAA,OAFI;EAGJwJ,MAAAA,OAHI;EAIJzG,MAAAA;EAJI,QAKF,IALJ;;EAOA,QAAI,CAACA,MAAD,IAAW,CAAC6F,WAAZ,IAA2B,CAACY,OAAhC,EAAyC;EACvC,WAAK3J,IAAL,GAAY+C,IAAI,CAAC5C,OAAD,EAAU,KAAKyH,MAAf,EAAuB,KAAK5H,IAA5B,CAAhB;EACA;EACD;;EAED,SAAK+J,UAAL,GAAkBhH,IAAI,CAAC5C,OAAD,EAAU,KAAKyH,MAAf,EAAuB,KAAKmC,UAA5B,CAAtB;EACA,SAAKC,UAAL,GAAkBjH,IAAI,CAAC5C,OAAD,EAAU4I,WAAV,EAAuB,KAAKiB,UAA5B,CAAtB;EACD;;EAED9B,EAAAA,MAAM,GAAG;EACP,UAAM;EACJa,MAAAA,WADI;EAEJ5I,MAAAA,OAFI;EAGJwJ,MAAAA,OAHI;EAIJzG,MAAAA,MAJI;EAKJ0E,MAAAA;EALI,QAMF,IANJ;;EAQA,QAAI,CAAC1E,MAAD,IAAW,CAAC6F,WAAZ,IAA2B,CAACY,OAAhC,EAAyC;EACvC,WAAK3J,IAAL,GAAY+C,IAAI,CAAC5C,OAAD,EAAUyH,MAAV,CAAhB;EACA;EACD;;EAED,SAAK5H,IAAL,GAAY+C,IAAI,CAAC5C,OAAD,EAAU,CAAC;EACzBvL,MAAAA,GAAG,EAAEuG,KADoB;EAEzBjH,MAAAA,GAAG,EAAEgP,MAFoB;EAGzBxP,MAAAA,KAAK,EAAEwP,MAHkB;EAIzBhG,MAAAA,QAAQ,EAAE;EAJe,KAAD,CAAV,CAAhB;EAMA,SAAK6M,UAAL,GAAkBhH,IAAI,CAAC5C,OAAD,EAAUyH,MAAV,CAAtB;;EAEA,SAAK,MAAMlI,EAAX,IAAiBK,QAAQ,CAAC,KAAKgK,UAAN,CAAzB,EAA4C;EAC1C5J,MAAAA,OAAO,CAACmB,UAAR,CAAmBqI,OAAnB,EAA4BjK,EAA5B;EACD;;EAED,SAAKsK,UAAL,GAAkBjH,IAAI,CAAC5C,OAAD,EAAU4I,WAAV,CAAtB;;EAEA,SAAK,MAAMrJ,EAAX,IAAiBK,QAAQ,CAAC,KAAKiK,UAAN,CAAzB,EAA4C;EAC1C7J,MAAAA,OAAO,CAACmB,UAAR,CAAmB4B,MAAnB,EAA2BxD,EAA3B;EACD;EACF;;EAED8I,EAAAA,QAAQ,GAAG;EACT,UAAM;EACJrI,MAAAA,OADI;EAEJ6J,MAAAA;EAFI,QAGF,IAHJ;EAIA9J,IAAAA,OAAO,CAACC,OAAD,EAAU,KAAKH,IAAf,CAAP;;EAEA,QAAI,CAACgK,UAAL,EAAiB;EACf;EACD;;EAED9J,IAAAA,OAAO,CAACC,OAAD,EAAU6J,UAAV,CAAP;EACD;;EAhJwC;;EAoJ3C,SAASC,SAAT,CAAmB9P,CAAnB,EAAsB;EACpB,MAAIA,CAAC,KAAK,KAAN,IAAeA,CAAC,KAAK,IAArB,IAA6BA,CAAC,KAAK+B,SAAvC,EAAkD;EAChD,WAAO,IAAP;EACD;;EAED,MAAIa,SAAS,CAAC5C,CAAD,CAAb,EAAkB;EAChB,WAAOA,CAAP;EACD;;EAED,SAAO;EACL,KAACuC,gBAAD,GAAoBC,uBADf;EAEL/H,IAAAA,GAAG,EAAEuG,KAFA;EAGLjH,IAAAA,GAAG,EAAEiG,CAHA;EAILzG,IAAAA,KAAK,EAAEyG,CAJF;EAKL+C,IAAAA,QAAQ,EAAE;EALL,GAAP;EAOD;;EACD,SAAS8K,OAAT,CAAiBhI,IAAjB,EAAuB;EACrB,MAAIvH,KAAK,CAACC,OAAN,CAAcsH,IAAd,CAAJ,EAAyB;EACvBA,IAAAA,IAAI,CAACrI,OAAL,CAAawC,CAAC,IAAI6N,OAAO,CAAC7N,CAAD,CAAzB;EACA;EACD;;EAED,QAAM;EACJ8F,IAAAA;EADI,MAEFD,IAFJ;;EAIA,MAAIC,SAAJ,EAAe;EACbA,IAAAA,SAAS,CAAC+H,OAAV;EACD;EACF;;EAED,SAASkC,YAAT,CAAsB1F,OAAtB,EAA+BvF,SAA/B,EAA0CqB,MAA1C,EAAkD;EAChD,MAAI,CAACA,MAAL,EAAa;EACX,WAAO;EACL1L,MAAAA,GAAG,EAAE,IADA;EAELV,MAAAA,GAAG,EAAEgI,SAFA;EAGLgB,MAAAA,QAAQ,EAAE;EAHL,KAAP;EAKD;;EAED,QAAM;EACJtI,IAAAA;EADI,MAEF0L,MAFJ;;EAIA,MAAI,CAAC1L,GAAL,EAAU;EACR,WAAO;EACLA,MAAAA,GAAG,EAAE,IADA;EAELV,MAAAA,GAAG,EAAEgI,SAFA;EAGLgB,MAAAA,QAAQ,EAAE;EAHL,KAAP;EAKD;;EAED,MAAI4B,SAAS,CAAClK,GAAD,CAAb,EAAoB;EAClB,UAAMyQ,YAAY,GAAGlR,MAAM,CAACe,MAAP,CAAc+J,SAAd,CAArB;EACAlF,IAAAA,OAAO,CAAC3F,cAAR,CAAuBiR,YAAvB,EAAqCzQ,GAAG,CAACiI,gBAAD,CAAxC,EAA4D;EAC1DvI,MAAAA,YAAY,EAAE,IAD4C;EAE1DD,MAAAA,UAAU,EAAE,IAF8C;EAG1DX,MAAAA,KAAK,EAAE4M,MAAM,CAAClH,KAAP,GAAekH,MAAM,CAAClH,KAAP,CAAa1F,KAA5B,GAAoCwI;EAHe,KAA5D;EAKA,WAAO,EAAE,GAAGoE,MAAL;EACLrB,MAAAA,SAAS,EAAEoG,YADN;EAELnI,MAAAA,QAAQ,EAAEiN,WAAW,CAAC3F,OAAD,EAAUa,YAAV,EAAwB/E,MAAM,CAACpD,QAA/B;EAFhB,KAAP;EAID;;EAED,MAAI,OAAOtI,GAAP,KAAe,QAAnB,EAA6B;EAC3B,QAAIA,GAAG,CAACuH,UAAD,CAAH,KAAoB,QAAxB,EAAkC;EAChC,aAAO,EAAE,GAAGmE,MAAL;EACLpD,QAAAA,QAAQ,EAAEiN,WAAW,CAAC3F,OAAD,EAAUvF,SAAV,EAAqBqB,MAAM,CAACpD,QAA5B,CADhB;EAEL+C,QAAAA,SAAS,EAAE/D;EAFN,OAAP;EAID;;EAED,WAAO,EAAE,GAAGoE,MAAL;EACLpD,MAAAA,QAAQ,EAAE,EADL;EAEL+C,MAAAA,SAAS,EAAE,IAAIqJ,eAAJ,CAAoB1U,GAApB,EAAyB0L,MAAM,CAAClH,KAAP,IAAgB,EAAzC,EAA6CkH,MAAM,CAACpD,QAApD,EAA8DsH,OAA9D,EAAuEvF,SAAvE;EAFN,KAAP;EAID;;EAED,QAAMiC,IAAI,GAAGtM,GAAG,CAACuM,WAAJ,EAAb;;EAEA,MAAID,IAAI,KAAK9F,SAAb,EAAwB;EACtB,QAAIgP,aAAJ;;EAEA,UAAMhV,IAAI,GAAGkL,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgD,CAAC8J,aAAa,GAAG9J,MAAM,CAAClH,KAAxB,MAAmC,IAAnC,IAA2CgR,aAAa,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,aAAa,CAAChV,IAA1J;EACA,UAAM+K,OAAO,GAAG/K,IAAI,GAAGD,SAAS,CAACC,IAAD,CAAZ,GAAqBoP,OAAO,CAACrE,OAAjD;EACA,WAAO,EAAE,GAAGG,MAAL;EACLpD,MAAAA,QAAQ,EAAE,EADL;EAEL+C,MAAAA,SAAS,EAAE,IAAIoK,eAAJ,CAAoBlK,OAApB,EAA6BG,MAAM,CAAClH,KAAP,IAAgB,EAA7C,EAAiDkH,MAAM,CAACpD,QAAxD,EAAkEsH,OAAlE,EAA2EvF,SAA3E;EAFN,KAAP;EAID;;EAED,MAAIiC,IAAI,KAAK/F,KAAb,EAAoB;EAClB,WAAO,EAAE,GAAGmF,MAAL;EACLpD,MAAAA,QAAQ,EAAE;EADL,KAAP;EAGD;;EAED,MAAIgE,IAAI,CAAC/I,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,OAAtB,IAAiC+I,IAAI,KAAK,UAA9C,EAA0D;EACxD,WAAO,EAAE,GAAGZ,MAAL;EACLpD,MAAAA,QAAQ,EAAEiN,WAAW,CAAC3F,OAAD,EAAUvF,SAAV,EAAqBqB,MAAM,CAACpD,QAA5B;EADhB,KAAP;EAGD;;EAED,SAAO,EAAE,GAAGoD,MAAL;EACLpD,IAAAA,QAAQ,EAAEiN,WAAW,CAAC3F,OAAD,EAAUvF,SAAV,EAAqBqB,MAAM,CAACpD,QAA5B;EADhB,GAAP;EAGD;;EACD,SAASiN,WAAT,CAAqB3F,OAArB,EAA8BvF,SAA9B,EAAyCqB,MAAzC,EAAiD;EAC/C,MAAI,CAAC7H,KAAK,CAACC,OAAN,CAAc4H,MAAd,CAAL,EAA4B;EAC1BA,IAAAA,MAAM,GAAG,CAACA,MAAD,CAAT;EACD;;EAED,MAAI,CAACA,MAAM,CAACjK,MAAZ,EAAoB;EAClB,WAAO,EAAP;EACD;;EAED,SAAOiK,MAAM,CAAC7M,GAAP,CAAWqN,IAAI,IAAI;EACxB,QAAI,CAACrI,KAAK,CAACC,OAAN,CAAcoI,IAAd,CAAL,EAA0B;EACxB,aAAOoJ,YAAY,CAAC1F,OAAD,EAAUvF,SAAV,EAAqBgL,SAAS,CAACnJ,IAAD,CAA9B,CAAnB;EACD;;EAED,WAAO,CAAC,GAAGrB,kBAAkB,CAACqB,IAAD,CAAtB,EAA8BrN,GAA9B,CAAkCiM,EAAE,IAAIwK,YAAY,CAAC1F,OAAD,EAAUvF,SAAV,EAAqBgL,SAAS,CAACvK,EAAD,CAA9B,CAApD,CAAP;EACD,GANM,CAAP;EAOD;;EAED,SAAS4K,YAAT,CAAsB9F,OAAtB,EAA+BvF,SAA/B,EAA0CqB,MAA1C,EAAkDN,IAAlD,EAAwD;EACtD,MAAI,CAACvH,KAAK,CAACC,OAAN,CAAcsH,IAAd,CAAL,EAA0B;EACxBA,IAAAA,IAAI,GAAG,CAACA,IAAD,CAAP;EACD;;EAED,QAAMiC,OAAO,GAAG,EAAhB;;EAEA,OAAK,MAAME,GAAX,IAAkB1C,kBAAkB,CAACa,MAAD,CAApC,EAA8C;EAC5C,UAAMnD,IAAI,GAAG8M,SAAS,CAAC9H,GAAD,CAAtB;;EAEA,QAAI,CAAChF,IAAL,EAAW;EACT;EACD;;EAED,UAAMnB,KAAK,GAAGgE,IAAI,CAACoC,SAAL,CAAe1C,EAAE,IAAIA,EAAE,CAAC9K,GAAH,KAAWuI,IAAI,CAACvI,GAAhB,IAAuB8K,EAAE,CAACxL,GAAH,KAAWiJ,IAAI,CAACjJ,GAA5D,CAAd;;EAEA,QAAI8H,KAAK,IAAI,CAAb,EAAgB;EACdiG,MAAAA,OAAO,CAAClL,IAAR,CAAawT,YAAY,CAAC/F,OAAD,EAAUvF,SAAV,EAAqB9B,IAArB,EAA2B6C,IAAI,CAAChE,KAAD,CAA/B,CAAzB;EACAgE,MAAAA,IAAI,CAACuC,MAAL,CAAYvG,KAAZ,EAAmB,CAAnB;EACD,KAHD,MAGO;EACLiG,MAAAA,OAAO,CAAClL,IAAR,CAAamT,YAAY,CAAC1F,OAAD,EAAUvF,SAAV,EAAqB9B,IAArB,CAAzB;EACD;EACF;;EAED6K,EAAAA,OAAO,CAAChI,IAAD,CAAP;EACA,SAAOiC,OAAP;EACD;;EAED,SAASsI,YAAT,CAAsB/F,OAAtB,EAA+BvF,SAA/B,EAA0CqB,MAA1C,EAAkDN,IAAlD,EAAwD;EACtD,MAAI,CAACA,IAAL,EAAW;EACT,WAAOkK,YAAY,CAAC1F,OAAD,EAAUvF,SAAV,EAAqBqB,MAArB,CAAnB;EACD;;EAED,MAAI,CAACA,MAAL,EAAa;EACX0H,IAAAA,OAAO,CAAChI,IAAD,CAAP;EACA,WAAO;EACLpL,MAAAA,GAAG,EAAE,IADA;EAELV,MAAAA,GAAG,EAAEgI,SAFA;EAGLgB,MAAAA,QAAQ,EAAE;EAHL,KAAP;EAKD;;EAED,MAAIzE,KAAK,CAACC,OAAN,CAAcsH,IAAd,CAAJ,EAAyB;EACvB,QAAI,CAACA,IAAI,CAAC3J,MAAV,EAAkB;EAChB,aAAO6T,YAAY,CAAC1F,OAAD,EAAUvF,SAAV,EAAqBqB,MAArB,CAAnB;EACD;;EAED,UAAMtE,KAAK,GAAGgE,IAAI,CAACoC,SAAL,CAAe1C,EAAE,IAAIA,EAAE,CAAC9K,GAAH,KAAW0L,MAAM,CAAC1L,GAAvC,CAAd;;EAEA,QAAIoH,KAAK,GAAG,CAAZ,EAAe;EACbgM,MAAAA,OAAO,CAAChI,IAAD,CAAP;EACA,aAAOkK,YAAY,CAAC1F,OAAD,EAAUvF,SAAV,EAAqBqB,MAArB,CAAnB;EACD;;EAED,UAAMwC,GAAG,GAAG9C,IAAZ;EACA,KAACA,IAAD,IAASA,IAAI,CAACuC,MAAL,CAAYvG,KAAZ,EAAmB,CAAnB,CAAT;EACAgM,IAAAA,OAAO,CAAClF,GAAD,CAAP;EACD;;EAED,QAAM;EACJlO,IAAAA;EADI,MAEF0L,MAFJ;;EAIA,MAAI1L,GAAG,KAAKoL,IAAI,CAACpL,GAAjB,EAAsB;EACpBoT,IAAAA,OAAO,CAAChI,IAAD,CAAP;EACA,WAAOkK,YAAY,CAAC1F,OAAD,EAAUvF,SAAV,EAAqBqB,MAArB,CAAnB;EACD;;EAED,MAAI,CAAC1L,GAAL,EAAU;EACR,WAAO;EACLA,MAAAA,GAAG,EAAE,IADA;EAELV,MAAAA,GAAG,EAAEgI,SAFA;EAGLgB,MAAAA,QAAQ,EAAE;EAHL,KAAP;EAKD;;EAED,MAAI4B,SAAS,CAAClK,GAAD,CAAb,EAAoB;EAClB,UAAMyQ,YAAY,GAAGrF,IAAI,CAACf,SAAL,IAAkB9K,MAAM,CAACe,MAAP,CAAc+J,SAAd,CAAvC;EACAlF,IAAAA,OAAO,CAAC3F,cAAR,CAAuBiR,YAAvB,EAAqCzQ,GAAG,CAACiI,gBAAD,CAAxC,EAA4D;EAC1DvI,MAAAA,YAAY,EAAE,IAD4C;EAE1DD,MAAAA,UAAU,EAAE,IAF8C;EAG1DX,MAAAA,KAAK,EAAE4M,MAAM,CAAClH,KAAP,GAAekH,MAAM,CAAClH,KAAP,CAAa1F,KAA5B,GAAoCwI;EAHe,KAA5D;EAKA,WAAO,EAAE,GAAGoE,MAAL;EACLrB,MAAAA,SAAS,EAAEoG,YADN;EAELnI,MAAAA,QAAQ,EAAE,CAAC,GAAGsN,WAAW,CAAChG,OAAD,EAAUa,YAAV,EAAwB/E,MAAM,CAACpD,QAA/B,EAAyC8C,IAAI,CAAC9C,QAA9C,CAAf;EAFL,KAAP;EAID;;EAED,MAAI,OAAOtI,GAAP,KAAe,QAAnB,EAA6B;EAC3B,QAAIA,GAAG,CAACuH,UAAD,CAAH,KAAoB,QAAxB,EAAkC;EAChC,aAAO,EAAE,GAAGmE,MAAL;EACLpD,QAAAA,QAAQ,EAAE,CAAC,GAAGsN,WAAW,CAAChG,OAAD,EAAUvF,SAAV,EAAqBqB,MAAM,CAACpD,QAA5B,EAAsC8C,IAAI,CAAC9C,QAA3C,CAAf,CADL;EAEL+C,QAAAA,SAAS,EAAE/D;EAFN,OAAP;EAID;;EAED,UAAM;EACJ+D,MAAAA;EADI,QAEFD,IAFJ;;EAIA,QAAI,CAACC,SAAL,EAAgB;EACd,aAAOiK,YAAY,CAAC1F,OAAD,EAAUvF,SAAV,EAAqBqB,MAArB,CAAnB;EACD;;EAEDL,IAAAA,SAAS,CAAClH,MAAV,CAAiBuH,MAAM,CAAClH,KAAP,IAAgB,EAAjC,EAAqCkH,MAAM,CAACpD,QAA5C;EACA,WAAO,EAAE,GAAGoD,MAAL;EACLpD,MAAAA,QAAQ,EAAE,EADL;EAEL+C,MAAAA;EAFK,KAAP;EAID;;EAED,QAAMiB,IAAI,GAAGtM,GAAG,CAACuM,WAAJ,EAAb;;EAEA,MAAID,IAAI,KAAK9F,SAAb,EAAwB;EACtB,QAAIgP,aAAJ;;EAEA,UAAM;EACJnK,MAAAA;EADI,QAEFD,IAFJ;;EAIA,QAAI,CAACC,SAAL,EAAgB;EACd,aAAOiK,YAAY,CAAC1F,OAAD,EAAUvF,SAAV,EAAqBqB,MAArB,CAAnB;EACD;;EAED,UAAMlL,IAAI,GAAGkL,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgD,CAAC8J,aAAa,GAAG9J,MAAM,CAAClH,KAAxB,MAAmC,IAAnC,IAA2CgR,aAAa,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,aAAa,CAAChV,IAA1J;EACA,UAAM+K,OAAO,GAAG/K,IAAI,GAAGD,SAAS,CAACC,IAAD,CAAZ,GAAqBoP,OAAO,CAACrE,OAAjD;;EAEA,QAAIA,OAAO,KAAKF,SAAS,CAACE,OAA1B,EAAmC;EACjC,aAAO+J,YAAY,CAAC1F,OAAD,EAAUvF,SAAV,EAAqBqB,MAArB,CAAnB;EACD;;EAEDL,IAAAA,SAAS,CAAClH,MAAV,CAAiBuH,MAAM,CAAClH,KAAP,IAAgB,EAAjC,EAAqCkH,MAAM,CAACpD,QAA5C;EACA,WAAO,EAAE,GAAGoD,MAAL;EACLpD,MAAAA,QAAQ,EAAE,EADL;EAEL+C,MAAAA;EAFK,KAAP;EAID;;EAED,MAAIiB,IAAI,KAAK/F,KAAb,EAAoB;EAClB,WAAO,EAAE,GAAGmF,MAAL;EACLpD,MAAAA,QAAQ,EAAE;EADL,KAAP;EAGD;;EAED,MAAIgE,IAAI,CAAC/I,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,OAAtB,IAAiC+I,IAAI,KAAK,UAA9C,EAA0D;EACxD,WAAO,EAAE,GAAGZ,MAAL;EACLpD,MAAAA,QAAQ,EAAE,CAAC,GAAGsN,WAAW,CAAChG,OAAD,EAAUvF,SAAV,EAAqBqB,MAAM,CAACpD,QAA5B,EAAsC8C,IAAI,CAAC9C,QAA3C,CAAf;EADL,KAAP;EAGD;;EAED,SAAO,EAAE,GAAGoD,MAAL;EACLpD,IAAAA,QAAQ,EAAE,CAAC,GAAGsN,WAAW,CAAChG,OAAD,EAAUvF,SAAV,EAAqBqB,MAAM,CAACpD,QAA5B,EAAsC8C,IAAI,CAAC9C,QAA3C,CAAf;EADL,GAAP;EAGD;;EAED,UAAUsN,WAAV,CAAsBhG,OAAtB,EAA+BvF,SAA/B,EAA0CqB,MAA1C,EAAkDN,IAAlD,EAAwD;EACtD,MAAI,CAACvH,KAAK,CAACC,OAAN,CAAc4H,MAAd,CAAL,EAA4B;EAC1BA,IAAAA,MAAM,GAAG,CAACA,MAAD,CAAT;EACD;;EAED,MAAItE,KAAK,GAAG,CAAZ;EACA,MAAI3F,MAAM,GAAGsM,IAAI,CAACC,GAAL,CAAStC,MAAM,CAACjK,MAAP,IAAiB,CAA1B,EAA6B2J,IAAI,CAAC3J,MAAlC,CAAb;;EAEA,SAAO2F,KAAK,GAAG3F,MAAf,EAAuB2F,KAAK,EAA5B,EAAgC;EAC9B,UAAMmG,GAAG,GAAG7B,MAAM,CAACtE,KAAD,CAAlB;;EAEA,QAAIvD,KAAK,CAACC,OAAN,CAAcyJ,GAAd,CAAJ,EAAwB;EACtB,YAAMmI,YAAY,CAAC9F,OAAD,EAAUvF,SAAV,EAAqBkD,GAArB,EAA0BnC,IAAI,CAAChE,KAAD,CAA9B,CAAlB;EACD,KAFD,MAEO;EACL,YAAMuO,YAAY,CAAC/F,OAAD,EAAUvF,SAAV,EAAqBgL,SAAS,CAAC9H,GAAD,CAA9B,EAAqCnC,IAAI,CAAChE,KAAD,CAAzC,CAAlB;EACD;EACF;;EAED3F,EAAAA,MAAM,GAAGsM,IAAI,CAACE,GAAL,CAASvC,MAAM,CAACjK,MAAhB,EAAwBiK,MAAM,CAACjK,MAA/B,CAAT;;EAEA,MAAI2J,IAAI,CAAC3J,MAAL,GAAc2F,KAAlB,EAAyB;EACvB,WAAOA,KAAK,GAAG3F,MAAf,EAAuB2F,KAAK,EAA5B,EAAgC;EAC9BgM,MAAAA,OAAO,CAAChI,IAAI,CAAChE,KAAD,CAAL,CAAP;EACD;EACF;;EAED,MAAIsE,MAAM,CAACjK,MAAP,GAAgB2F,KAApB,EAA2B;EACzB,WAAOA,KAAK,GAAG3F,MAAf,EAAuB2F,KAAK,EAA5B,EAAgC;EAC9B,YAAMmG,GAAG,GAAG8H,SAAS,CAAC3J,MAAM,CAACtE,KAAD,CAAP,CAArB;;EAEA,UAAIvD,KAAK,CAACC,OAAN,CAAcyJ,GAAd,CAAJ,EAAwB;EACtB,cAAM,CAAC,GAAG1C,kBAAkB,CAAC0C,GAAD,CAAtB,EAA6B1O,GAA7B,CAAiCiM,EAAE,IAAIwK,YAAY,CAAC1F,OAAD,EAAUvF,SAAV,EAAqBS,EAArB,CAAnD,CAAN;EACD,OAFD,MAEO;EACL,cAAMwK,YAAY,CAAC1F,OAAD,EAAUvF,SAAV,EAAqBkD,GAArB,CAAlB;EACD;EACF;EACF;EACF;;EAED,SAAS0F,OAAT,CAAiBrD,OAAjB,EAA0BlE,MAA1B,EAAkCN,IAAlC,EAAwC;EACtC,SAAOnI,OAAO,CAAC,MAAM4N,QAAQ,CAAC,MAAM;EAClC,QAAI,CAACzF,IAAL,EAAW;EACT,aAAOmK,WAAW,CAAC3F,OAAD,EAAUA,OAAO,CAACvF,SAAlB,EAA6BqB,MAA7B,CAAlB;EACD;;EAED,WAAO,CAAC,GAAGkK,WAAW,CAAChG,OAAD,EAAUA,OAAO,CAACvF,SAAlB,EAA6BqB,MAA7B,EAAqCN,IAArC,CAAf,CAAP;EACD,GAN4B,CAAf,CAAd;EAOD;;EAED,IAAIyK,SAAS,GAAG,IAAIpT,GAAJ,EAAhB;EACA,IAAIqT,SAAS,GAAG,KAAhB;;EAEA,SAASZ,QAAT,CAAkBzB,CAAlB,EAAqB;EACnBoC,EAAAA,SAAS,CAAClT,GAAV,CAAc8Q,CAAd;;EAEA,MAAIqC,SAAJ,EAAe;EACb;EACD;;EAEDA,EAAAA,SAAS,GAAG,IAAZ;EACA1V,EAAAA,SAAS,CAAC,MAAM;EACd0V,IAAAA,SAAS,GAAG,KAAZ;EACA,UAAMjT,IAAI,GAAG,CAAC,GAAGgT,SAAJ,CAAb;EACAA,IAAAA,SAAS,CAAC/S,KAAV;EACAD,IAAAA,IAAI,CAAChE,GAAL,CAAS4U,CAAC,IAAIA,CAAC,CAACsC,OAAF,EAAd;EACD,GALQ,CAAT;EAMD;;EAED,MAAMN,eAAN,SAA8BpD,YAA9B,CAA2C;EACzCvS,EAAAA,WAAW,CAACyL,OAAD,EAAU/G,KAAV,EAAiB8D,QAAjB,EAA2B4E,MAA3B,EAAmC7C,SAAnC,EAA8C;EACvD,UAAMkB,OAAN,EAAe2B,MAAf,EAAuB7C,SAAvB;;EAEAjL,IAAAA,eAAe,CAAC,IAAD,EAAO,OAAP,EAAgB,KAAK,CAArB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,SAAP,EAAkB,EAAlB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,OAAP,EAAgB,IAAhB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,YAAP,EAAqB,IAArB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,eAAP,EAAwB,IAAxB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,eAAP,EAAwB,KAAxB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,gBAAP,EAAyB,KAAzB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,6BAAP,EAAsC,KAAK,CAA3C,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,4BAAP,EAAqC,KAAK,CAA1C,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,YAAP,EAAqB,IAAIqD,GAAJ,EAArB,CAAf;;EAEArD,IAAAA,eAAe,CAAC,IAAD,EAAO,WAAP,EAAoB,KAApB,CAAf;;EAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,aAAP,EAAsB,IAAIqD,GAAJ,EAAtB,CAAf;;EAEA,SAAK+B,KAAL,GAAaA,KAAb;EACA,SAAK0I,MAAL,GAAcA,MAAd;;EAEA,QAAIA,MAAJ,EAAY;EACV,WAAK8I,aAAL,GAAqB9I,MAAM,CAACoF,SAAP,CAAiB0D,aAAtC;EACD;;EAED,SAAK/O,QAAL,CAAc,cAAd;EACA,SAAKgD,UAAL,GAAkB3B,QAAlB;;EAEA,UAAMrF,OAAO,GAAGqR,OAAO,IAAI;EACzB,UAAI,CAACA,OAAL,EAAc;EACZ;EACD;;EAED,WAAK2B,aAAL,GAAqB,IAArB;EACA,WAAKhT,OAAL;EACD,KAPD;;EASA,UAAMoL,KAAK,GAAG9O,MAAM,CAACe,MAAP,CAAc,IAAd,CAAd;EACA,SAAKyS,OAAL,GAAeyB,OAAO,CAACvR,OAAD,EAAU,MAAMgN,IAAI,CAAC,IAAD,EAAO,KAAK5F,SAAZ,EAAuB,KAAKJ,UAA5B,EAAwCoE,KAAxC,EAA+C,EAA/C,EAAmD,KAAnD,CAApB,CAAtB;EACA,SAAK2E,MAAL,GAAcC,OAAO,CAAC,IAAD,EAAO,KAAKF,OAAL,EAAP,CAArB;EACA,SAAK9L,QAAL,CAAc,SAAd;EACA,SAAKnF,OAAL,GAAe,IAAf;EACD;;EAEDoU,EAAAA,WAAW,CAAC5N,QAAD,EAAW;EACpB,QAAI,KAAKiJ,SAAT,EAAoB;EAClB;EACD;;EAED,SAAKtH,UAAL,GAAkB3B,QAAlB;EACA,SAAK2N,aAAL,GAAqB,IAArB;EACA,SAAKhT,OAAL;EACD;;EAEDkT,EAAAA,QAAQ,CAAC3R,KAAD,EAAQ;EACd,QAAI,KAAK+M,SAAT,EAAoB;EAClB;EACD;;EAED,SAAK/M,KAAL,GAAaA,KAAb;EACA,SAAK4R,cAAL,GAAsB,IAAtB;EACA,SAAKnT,OAAL;EACD;;EAEDkB,EAAAA,MAAM,CAACK,KAAD,EAAQ8D,QAAR,EAAkB;EACtB,SAAKrF,OAAL,CAAa,MAAM;EACjB,WAAKkT,QAAL,CAAc3R,KAAd;EACA,WAAK0R,WAAL,CAAiB5N,QAAjB;EACD,KAHD;EAID;;EAEDuK,EAAAA,WAAW,GAAG;EACZ,SAAKqC,QAAL,CAAc,IAAd;EACD;;EAED5B,EAAAA,MAAM,GAAG;EACP,UAAM;EACJ9O,MAAAA,KADI;EAEJ0I,MAAAA,MAFI;EAGJ3B,MAAAA;EAHI,QAIF,IAJJ;EAKA,UAAM8K,OAAO,GAAGlI,IAAI,CAAC,KAAKmE,SAAL,CAAe/G,OAAhB,EAAyB,KAAKyH,MAA9B,CAApB;EACA,SAAKqD,OAAL,GAAeA,OAAf;EACA,UAAM,CAAC/D,SAAD,EAAY/J,IAAZ,IAAoBgD,OAAO,CAACiB,KAAR,CAAchI,KAAd,EAAqB0I,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAAC3B,OAA5E,CAA1B;;EAEA,SAAK,MAAMT,EAAX,IAAiBK,QAAQ,CAACkL,OAAD,CAAzB,EAAoC;EAClC9K,MAAAA,OAAO,CAACmB,UAAR,CAAmB4F,SAAnB,EAA8BxH,EAA9B;EACD;;EAED,SAAKM,IAAL,GAAY,CAACT,iBAAiB,CAAC;EAC7B3K,MAAAA,GAAG,EAAEuG,KADwB;EAE7BjH,MAAAA,GAAG,EAAEgI,SAFwB;EAG7B+D,MAAAA,SAAS,EAAE/D,SAHkB;EAI7BiB,MAAAA,IAJ6B;EAK7BzJ,MAAAA,KAAK,EAAEyJ,IALsB;EAM7BD,MAAAA,QAAQ,EAAE;EANmB,KAAD,CAAlB,CAAZ;EAQA,SAAKgO,KAAL,GAAa/N,IAAb;EACA,SAAKgO,UAAL,GAAkBjE,SAAlB;EACD;;EAEDa,EAAAA,QAAQ,GAAG;EACTC,IAAAA,OAAO,CAAC,KAAKiD,OAAN,CAAP;EACD;;EAEDzC,EAAAA,QAAQ,GAAG;EACT,UAAM;EACJ1G,MAAAA,MADI;EAEJ3B,MAAAA;EAFI,QAGF,IAHJ;;EAKA,QAAI2B,MAAJ,EAAY;EACV5B,MAAAA,OAAO,CAAC4B,MAAM,CAAC3B,OAAR,EAAiB,KAAKH,IAAtB,CAAP;EACD;;EAEDG,IAAAA,OAAO,CAACD,OAAR,CAAgB,KAAKiL,UAArB,EAAiC,KAAKD,KAAtC,EAA6C5G,OAAO,CAACxC,MAAD,CAApD;EACA5B,IAAAA,OAAO,CAAC,KAAKC,OAAN,EAAe,KAAK8K,OAApB,CAAP;EACD;;EAEDvC,EAAAA,KAAK,GAAG;EACN,UAAM;EACJmC,MAAAA,aAAa,EAAEO,YADX;EAEJJ,MAAAA,cAAc,EAAEK;EAFZ,QAGF,IAHJ;EAIA,SAAKL,cAAL,GAAsB,KAAtB;;EAEA,QAAI,KAAKM,2BAAT,EAAsC;EACpC,WAAKA,2BAAL;EACD;;EAED,QAAID,aAAJ,EAAmB;EACjB,YAAM1G,MAAM,GAAGyD,IAAM,CAACC,CAAC,IAAIA,CAAC,IAAI,CAAC,KAAK2C,cAAL,GAAsB,IAAvB,EAA6B,KAAKvD,WAAL,EAA7B,CAAX,EAA6D,MAAM;EACtF,YAAI8D,YAAJ;;EAEA,eAAO,KAAKpL,OAAL,CAAakL,aAAb,CAA2B,KAAKF,UAAhC,EAA4C,KAAKD,KAAjD,EAAwD,KAAK9R,KAA7D,EAAoE,CAACmS,YAAY,GAAG,KAAKzJ,MAArB,MAAiC,IAAjC,IAAyCyJ,YAAY,KAAK,KAAK,CAA/D,GAAmE,KAAK,CAAxE,GAA4EA,YAAY,CAACpL,OAA7J,CAAP;EACD,OAJoB,CAArB;EAKA,OAAC,KAAKgL,UAAN,EAAkB,KAAKD,KAAvB,IAAgCvG,MAAM,CAACA,MAAvC;EACA,WAAK2G,2BAAL,GAAmC3G,MAAM,CAAC4D,IAA1C;EACD;;EAED,QAAI,KAAKzG,MAAL,IAAe,KAAKA,MAAL,CAAY3B,OAAZ,KAAwB,KAAKA,OAAhD,EAAyD;EACvD;EACD;;EAED,SAAK0K,aAAL,GAAqB,KAArB;;EAEA,QAAI,KAAKW,0BAAT,EAAqC;EACnC,WAAKA,0BAAL;EACD;;EAED,QAAIJ,YAAJ,EAAkB;EAChB,YAAMzG,MAAM,GAAGyD,IAAM,CAACC,CAAC,IAAIA,CAAC,IAAI,CAAC,KAAKwC,aAAL,GAAqB,IAAtB,EAA4B,KAAKpD,WAAL,EAA5B,CAAX,EAA4D,MAAM,KAAKwD,OAAL,GAAelI,IAAI,CAAC,KAAK5C,OAAN,EAAe,KAAKyH,MAApB,EAA4B,KAAKqD,OAAjC,CAArF,CAArB;EACA,WAAKA,OAAL,GAAetG,MAAM,CAACA,MAAtB;EACA,WAAK6G,0BAAL,GAAkC7G,MAAM,CAAC4D,IAAzC;EACD;EACF;;EAEDkD,EAAAA,SAAS,GAAG;EACV,UAAM;EACJZ,MAAAA,aAAa,EAAEO,YADX;EAEJJ,MAAAA,cAAc,EAAEK;EAFZ,QAGF,IAHJ;EAIA,SAAKK,SAAL,GAAiB,KAAjB;EACA,SAAKb,aAAL,GAAqB,KAArB;EACA,SAAKG,cAAL,GAAsB,KAAtB;;EAEA,QAAIK,aAAJ,EAAmB;EACjB,UAAIM,aAAJ;;EAEA,WAAKxL,OAAL,CAAakL,aAAb,CAA2B,KAAKF,UAAhC,EAA4C,KAAKD,KAAjD,EAAwD,KAAK9R,KAA7D,EAAoE,CAACuS,aAAa,GAAG,KAAK7J,MAAtB,MAAkC,IAAlC,IAA0C6J,aAAa,KAAK,KAAK,CAAjE,GAAqE,KAAK,CAA1E,GAA8EA,aAAa,CAACxL,OAAhK,EAAyK,IAAzK;EACD;;EAED,QAAIiL,YAAJ,EAAkB;EAChB,WAAKH,OAAL,GAAelI,IAAI,CAAC,KAAK5C,OAAN,EAAe,KAAKyH,MAApB,EAA4B,KAAKqD,OAAjC,CAAnB;EACD;EACF;;EAEDW,EAAAA,QAAQ,GAAG;EACT,QAAI,CAAC,KAAKvF,OAAV,EAAmB;EACjB;EACD;;EAED,QAAI,KAAKF,SAAT,EAAoB;EAClB;EACD;;EAED,SAAKtK,QAAL,CAAc,YAAd;EACAuM,IAAAA,IAAM,CAACC,CAAC,IAAIA,CAAC,IAAI,KAAKZ,WAAL,EAAX,EAA+B,MAAM,KAAKgE,SAAL,EAArC,CAAN;EACA/E,IAAAA,QAAQ,CAAC,MAAM,KAAK7K,QAAL,CAAc,OAAd,CAAP,CAAR;EACD;;EAEDiO,EAAAA,QAAQ,CAACtF,OAAD,EAAUqH,MAAM,GAAG,KAAnB,EAA0B;EAChC,QAAIC,aAAJ;;EAEA,QAAI,CAAC,CAACA,aAAa,GAAG,KAAKhK,MAAtB,MAAkC,IAAlC,IAA0CgK,aAAa,KAAK,KAAK,CAAjE,GAAqE,KAAK,CAA1E,GAA8EA,aAAa,CAAC3L,OAA7F,MAA0G,KAAKA,OAAnH,EAA4H;EAC1H,WAAK2B,MAAL,CAAYoF,SAAZ,CAAsB4C,QAAtB,CAA+BtF,OAA/B,EAAwCqH,MAAxC;EACA;EACD;;EAED,QAAIrH,OAAO,KAAK,IAAZ,IAAoB,KAAK1C,MAA7B,EAAqC;EACnC,WAAKA,MAAL,CAAYoF,SAAZ,CAAsB4C,QAAtB,CAA+B,IAA/B,EAAqC+B,MAArC;EACA,WAAKH,SAAL,GAAiB,CAACG,MAAlB;EACD,KAHD,MAGO,IAAIA,MAAJ,EAAY;EACjB,WAAKE,UAAL,CAAgBrR,MAAhB,CAAuB8J,OAAvB;EACD,KAFM,MAEA;EACL,WAAKuH,UAAL,CAAgBxU,GAAhB,CAAoBiN,OAApB;EACD;;EAED,SAAKoG,aAAL,CAAmBoB,iBAAnB,CAAqC,IAArC,EAA2C,CAAC,KAAKN,SAAN,IAAmB,CAAC,KAAKK,UAAL,CAAgBxR,IAApC,IAA4C,KAAK4L,SAA5F;EACD;;EAEDkF,EAAAA,aAAa,GAAG;EACd,UAAM;EACJH,MAAAA,KAAK,EAAE/N,IADH;EAEJgO,MAAAA,UAAU,EAAEjE,SAFR;EAGJ6E,MAAAA,UAAU,EAAEtB;EAHR,QAIF,IAJJ;;EAMA,QAAI,CAACtN,IAAD,IAAS,CAAC+J,SAAd,EAAyB;EACvB;EACD;;EAED,SAAKrL,QAAL,CAAc,YAAd;EACA,UAAMoQ,QAAQ,GAAG,KAAKP,SAAtB;EACA,SAAKA,SAAL,GAAiB,KAAjB;EACA,UAAMjU,IAAI,GAAG,CAAC,GAAGgT,SAAJ,CAAb;EACAA,IAAAA,SAAS,CAAC/S,KAAV;;EAEA,QAAIuU,QAAJ,EAAc;EACZ,WAAKL,QAAL;EACD;;EAEDnU,IAAAA,IAAI,CAAChE,GAAL,CAAS4U,CAAC,IAAIA,CAAC,CAACtF,IAAF,EAAd;EACA,SAAK5C,OAAL,CAAa+L,QAAb,CAAsBhF,SAAtB,EAAiC/J,IAAjC;EACAuJ,IAAAA,QAAQ,CAAC,MAAM,KAAK7K,QAAL,CAAc,OAAd,CAAP,CAAR;EACD;;EAEDmQ,EAAAA,iBAAiB,CAAC9E,SAAD,EAAY2E,MAAM,GAAG,KAArB,EAA4B;EAC3C,QAAIA,MAAJ,EAAY;EACV,WAAKM,WAAL,CAAiBzR,MAAjB,CAAwBwM,SAAxB;EACD,KAFD,MAEO;EACL,WAAKiF,WAAL,CAAiB5U,GAAjB,CAAqB2P,SAArB;EACD;;EAED4C,IAAAA,QAAQ,CAAC,IAAD,CAAR;EACD;;EAEDa,EAAAA,OAAO,GAAG;EACR,UAAMyB,UAAU,GAAG,KAAKD,WAAxB;;EAEA,QAAI,CAACC,UAAU,CAAC7R,IAAhB,EAAsB;EACpB;EACD;;EAED,UAAM9C,IAAI,GAAG,CAAC,GAAG2U,UAAJ,CAAb;EACAA,IAAAA,UAAU,CAAC1U,KAAX;EACA,SAAKmE,QAAL,CAAc,eAAd;EACA,UAAMwQ,IAAI,GAAG,EAAb;EACA,UAAM7F,YAAY,GAAG,EAArB;EACAC,IAAAA,eAAe,CAACD,YAAD,CAAf;EACA5G,IAAAA,UAAU,CAACyM,IAAD,CAAV;EACA5U,IAAAA,IAAI,CAACE,OAAL,CAAa0Q,CAAC,IAAIA,CAAC,CAACgD,aAAF,EAAlB;EACAzL,IAAAA,UAAU;EACVyM,IAAAA,IAAI,CAAC1U,OAAL,CAAa2U,CAAC,IAAIA,CAAC,EAAnB;EACA9F,IAAAA,YAAY,CAAC7O,OAAb,CAAqB2U,CAAC,IAAIA,CAAC,EAA3B;EACA,SAAKzQ,QAAL,CAAc,UAAd;EACD;;EApRwC;;EAwR3C,SAAStG,MAAT,CAAgB+E,CAAhB,EAAmB1B,CAAC,GAAG,EAAvB,EAA2B;EACzB,MAAI2T,MAAM,GAAG,EAAE,GAAG3T;EAAL,GAAb;EAEA,QAAMsO,SAAS,GAAG,IAAImD,eAAJ,CAAoBlV,SAAS,CAACyD,CAAC,CAACxD,IAAH,CAA7B,EAAuCmX,MAAvC,EAA+CjS,CAAC,KAAK4B,SAAN,GAAkB,EAAlB,GAAuBa,SAAS,CAACzC,CAAD,CAAT,GAAe,CAACA,CAAD,CAAf,GAAqB,CAAC0C,aAAa,CAAC1C,CAAD,CAAd,CAA3F,CAAlB;;EAEA,EAAmB;EACjB1G,IAAAA,QAAQ,CAACC,UAAT,CAAoBqT,SAApB;EACD;;EAED,QAAM;EACJpL,IAAAA;EADI,MAEFoL,SAFJ;EAGAnN,EAAAA,OAAO,CAAC3F,cAAR,CAAuB0H,OAAvB,EAAgC,SAAhC,EAA2C;EACzCpI,IAAAA,KAAK,CAAC2U,CAAD,EAAI;EACPnB,MAAAA,SAAS,CAAC4D,WAAV,CAAsBzC,CAAC,KAAKnM,SAAN,GAAkB,EAAlB,GAAuBa,SAAS,CAACsL,CAAD,CAAT,GAAe,CAACA,CAAD,CAAf,GAAqB,CAACrL,aAAa,CAACqL,CAAD,CAAd,CAAlE;EACA,aAAOvM,OAAP;EACD,KAJwC;;EAMzCxH,IAAAA,YAAY,EAAE;EAN2B,GAA3C;EAQAyF,EAAAA,OAAO,CAAC3F,cAAR,CAAuB0H,OAAvB,EAAgC,QAAhC,EAA0C;EACxCpI,IAAAA,KAAK,CAAC8Y,MAAD,EAAS;EACZ,UAAI1Q,OAAO,CAACsK,QAAZ,EAAsB;EACpB,eAAOtK,OAAP;EACD;;EAED,UAAI0Q,MAAJ,EAAY;EACVD,QAAAA,MAAM,CAACC,MAAP,GAAgBA,MAAhB;EACAtF,QAAAA,SAAS,CAAC6D,QAAV,CAAmBwB,MAAnB;EACD;;EAEDrF,MAAAA,SAAS,CAAC9F,KAAV;EACA,aAAOtF,OAAP;EACD,KAbuC;;EAexCxH,IAAAA,YAAY,EAAE;EAf0B,GAA1C;EAiBAyF,EAAAA,OAAO,CAAC3F,cAAR,CAAuB0H,OAAvB,EAAgC,UAAhC,EAA4C;EAC1CpI,IAAAA,KAAK,GAAG;EACN,UAAI,CAACoI,OAAO,CAACsK,QAAb,EAAuB;EACrB;EACD;;EAED,UAAItK,OAAO,CAACwK,UAAZ,EAAwB;EACtB;EACD;;EAED,UAAIxK,OAAO,CAACoK,UAAZ,EAAwB;EACtB,eAAOgB,SAAS,CAACc,OAAV,EAAP;EACD;;EAEDd,MAAAA,SAAS,CAAChH,OAAV;EACD,KAfyC;;EAiB1C5L,IAAAA,YAAY,EAAE;EAjB4B,GAA5C;;EAoBA,MAAIiY,MAAM,CAACC,MAAX,EAAmB;EACjBtF,IAAAA,SAAS,CAAC9F,KAAV;EACD;;EAED,SAAOtF,OAAP;EACD;;EAED,SAAS2Q,IAAT,CAAc/N,MAAd,EAAsBhL,KAAtB,EAA6B;EAC3B,SAAOuM,SAAS,IAAI;EAClBA,IAAAA,SAAS,CAACvB,MAAD,CAAT,GAAoBhL,KAApB;EACA,WAAOuM,SAAP;EACD,GAHD;EAID;;EAgBD,SAASyM,KAAT,CAAelW,IAAf,EAAqByJ,SAArB,EAAgC;EAC9B,MAAI,CAACA,SAAL,EAAgB;EACd,WAAOwM,IAAI,CAACnQ,UAAD,EAAa9F,IAAb,CAAX;EACD;;EAEDyJ,EAAAA,SAAS,CAAC3D,UAAD,CAAT,GAAwB9F,IAAxB;EACA,SAAOyJ,SAAP;EACD;;EASD,SAAS0M,OAAT,CAAiB1M,SAAjB,EAA4B;EAC1B,MAAI,CAACA,SAAL,EAAgB;EACd,WAAOwM,IAAI,CAACtQ,UAAD,EAAa,QAAb,CAAX;EACD;;EAED8D,EAAAA,SAAS,CAAC9D,UAAD,CAAT,GAAwB,QAAxB;EACA,SAAO8D,SAAP;EACD;;EAmCD,SAAS/K,QAAT,CAAgBmT,CAAhB,EAAmBiE,CAAnB,EAAsB;EACpB,MAAI,OAAOA,CAAP,KAAa,UAAjB,EAA6B;EAC3BjE,IAAAA,CAAC,CAAC9L,YAAD,CAAD,GAAkB+P,CAAlB;EACD;;EAED,SAAOjE,CAAP;EACD;;EACD,SAASuE,IAAT,CAAc3M,SAAd,EAAyB,GAAG4M,KAA5B,EAAmC;EACjC,OAAK,MAAMC,CAAX,IAAgBD,KAAhB,EAAuB;EACrBC,IAAAA,CAAC,CAAC7M,SAAD,CAAD;EACD;;EAED,SAAOA,SAAP;EACD;;EC55GD;;;;;AAKA;EAEA,SAAS8M,WAAT,GAAuB;EACrB,SAAOC,OAAP;EACD;;EAED,SAASC,KAAT,CAAenY,CAAf,EAAkB;EAChB,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;EACzB,WAAOA,CAAP;EACD;;EAED,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;EACzB,WAAOtB,MAAM,CAACsB,CAAD,CAAb;EACD;;EAED,SAAOoH,SAAP;EACD;;EAED,SAASgR,QAAT,CAAkB9T,KAAlB,EAAyBgK,EAAzB,EAA6Bf,GAA7B,EAAkC;EAChC,QAAM5G,EAAE,GAAGwR,KAAK,CAAC5L,OAAO,CAACjI,KAAK,CAACqC,EAAP,CAAP,GAAoBrC,KAAK,CAACqC,EAAN,EAApB,GAAiCrC,KAAK,CAACqC,EAAxC,CAAhB;;EAEA,MAAIA,EAAE,KAAK4G,GAAX,EAAgB;EACd,QAAI,OAAO5G,EAAP,KAAc,QAAlB,EAA4B;EAC1B2H,MAAAA,EAAE,CAAC3H,EAAH,GAAQrC,KAAK,CAACqC,EAAd;EACD,KAFD,MAEO;EACL2H,MAAAA,EAAE,CAAC+J,eAAH,CAAmB,IAAnB;EACD;EACF;;EAED,SAAO1R,EAAP;EACD;;EAED,UAAUgE,oBAAV,CAA6BhI,IAA7B,EAAmC;EACjC,MAAI4J,OAAO,CAAC5J,IAAD,CAAX,EAAmB;EACjB,WAAOgI,oBAAkB,CAAChI,IAAI,EAAL,CAAzB;EACA;EACD;;EAED,MAAI,CAACgB,KAAK,CAACC,OAAN,CAAcjB,IAAd,CAAL,EAA0B;EACxB,UAAMA,IAAN;EACA;EACD;;EAED,OAAK,MAAMiI,EAAX,IAAiBjI,IAAjB,EAAuB;EACrB,WAAOgI,oBAAkB,CAACC,EAAD,CAAzB;EACD;EACF;;EAED,SAAS0N,QAAT,CAAkB3V,IAAlB,EAAwB;EACtB,QAAMmE,GAAG,GAAG,IAAIvE,GAAJ,EAAZ;;EAEA,OAAK,MAAMvC,CAAX,IAAgB2K,oBAAkB,CAAChI,IAAD,CAAlC,EAA0C;EACxC,QAAI,CAAC3C,CAAL,EAAQ;EACN;EACD;;EAED,QAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B;EACzB,WAAK,IAAIoD,CAAT,IAAcpD,CAAC,CAACuY,KAAF,CAAQ,GAAR,EAAanT,MAAb,CAAoBoK,OAApB,CAAd,EAA4C;EAC1C1I,QAAAA,GAAG,CAACrE,GAAJ,CAAQW,CAAR;EACD;EACF,KAJD,MAIO,IAAI,OAAOpD,CAAP,KAAa,QAAjB,EAA2B;EAChC,WAAK,MAAMoD,CAAX,IAAgBpD,CAAhB,EAAmB;EACjB,cAAMyC,GAAG,GAAGzC,CAAC,CAACoD,CAAD,CAAb;;EAEA,aAAK,IAAIwH,EAAT,IAAexH,CAAC,CAACmV,KAAF,CAAQ,GAAR,EAAanT,MAAb,CAAoBoK,OAApB,CAAf,EAA6C;EAC3C1I,UAAAA,GAAG,CAACrE,GAAG,GAAG,KAAH,GAAW,QAAf,CAAH,CAA4BmI,EAA5B;EACD;EACF;EACF;EACF;;EAED,MAAI,CAAC9D,GAAG,CAACrB,IAAT,EAAe;EACb,WAAO2B,SAAP;EACD;;EAED,SAAON,GAAP;EACD;;EAED,SAAS7C,QAAT,CAAgBqK,EAAhB,EAAoBkK,OAApB,EAA6BC,QAA7B,EAAuC;EACrC,MAAID,OAAO,IAAIC,QAAf,EAAyB;EACvB,UAAM9V,IAAI,GAAG2L,EAAE,CAACoK,YAAH,CAAgB,OAAhB,KAA4B,EAAzC;EACA,UAAMC,SAAS,GAAG,IAAIpW,GAAJ,CAAQI,IAAI,CAAC4V,KAAL,CAAW,GAAX,EAAgBnT,MAAhB,CAAuBoK,OAAvB,CAAR,CAAlB;EACAiJ,IAAAA,QAAQ,CAAC5V,OAAT,CAAiB0Q,CAAC,IAAIoF,SAAS,CAAC/S,MAAV,CAAiB2N,CAAjB,CAAtB;EACAiF,IAAAA,OAAO,CAAC3V,OAAR,CAAgB0Q,CAAC,IAAIoF,SAAS,CAAClW,GAAV,CAAc8Q,CAAd,CAArB;EACAjF,IAAAA,EAAE,CAACsK,YAAH,CAAgB,OAAhB,EAAyB,CAAC,GAAGD,SAAJ,EAAeE,IAAf,CAAoB,GAApB,CAAzB;EACD,GAND,MAMO,IAAIL,OAAJ,EAAa;EAClBlK,IAAAA,EAAE,CAACsK,YAAH,CAAgB,OAAhB,EAAyB,CAAC,GAAGJ,OAAJ,EAAaK,IAAb,CAAkB,GAAlB,CAAzB;EACD,GAFM,MAEA,IAAIJ,QAAJ,EAAc;EACnBnK,IAAAA,EAAE,CAAC+J,eAAH,CAAmB,OAAnB;EACD;EACF;;EAED,SAASS,WAAT,CAAqBxU,KAArB,EAA4BgK,EAA5B,EAAgCf,GAAhC,EAAqC;EACnC,QAAMiL,OAAO,GAAGF,QAAQ,CAAC/L,OAAO,CAACjI,KAAK,CAACyU,KAAP,CAAP,GAAuBzU,KAAK,CAACyU,KAAN,EAAvB,GAAuCzU,KAAK,CAACyU,KAA9C,CAAxB;EACA9U,EAAAA,QAAM,CAACqK,EAAD,EAAKkK,OAAL,EAAcjL,GAAd,CAAN;EACA,SAAOiL,OAAP;EACD;;EAED,MAAMQ,IAAI,GAAG;EACX,WAAS,IADE;EAEX,YAAU,IAFC;EAGX,SAAO,IAHI;EAIX,WAAS,IAJE;EAKX,YAAU,IALC;EAMX,UAAQ,IANG;EAOX,YAAU,IAPC;EAQX,gBAAc,IARH;EASX,kBAAgB,IATL;EAUX,iBAAe,IAVJ;EAWX,mBAAiB,IAXN;EAYX,kBAAgB,IAZL;EAaX,sBAAoB,IAbT;EAcX,wBAAsB,IAdX;EAeX,uBAAqB,IAfV;EAgBX,yBAAuB,IAhBZ;EAiBX,mBAAiB,IAjBN;EAkBX,4BAA0B,IAlBf;EAmBX,6BAA2B,IAnBhB;EAoBX,+BAA6B,IApBlB;EAqBX,gCAA8B,IArBnB;EAsBX,aAAW,IAtBA;EAuBX,iBAAe,IAvBJ;EAwBX,mBAAiB,IAxBN;EAyBX,kBAAgB,IAzBL;EA0BX,oBAAkB,IA1BP;EA2BX,YAAU,IA3BC;EA4BX,gBAAc,IA5BH;EA6BX,kBAAgB,IA7BL;EA8BX,iBAAe,IA9BJ;EA+BX,mBAAiB;EA/BN,CAAb;;EAkCA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;EACvB,MAAI3M,OAAO,CAAC2M,KAAD,CAAX,EAAoB;EAClBA,IAAAA,KAAK,GAAGA,KAAK,EAAb;EACD;;EAED,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;EAC7B,WAAOA,KAAP;EACD;;EAED,MAAI,CAACA,KAAL,EAAY;EACV,WAAO9R,SAAP;EACD;;EAED,MAAI,OAAO8R,KAAP,KAAiB,QAArB,EAA+B;EAC7B,WAAO9R,SAAP;EACD;;EAED,QAAM+R,GAAG,GAAG9Z,MAAM,CAACe,MAAP,CAAc,IAAd,CAAZ;;EAEA,OAAK,IAAIgD,CAAT,IAAc8V,KAAd,EAAqB;EACnB,QAAIta,KAAK,GAAGsa,KAAK,CAAC9V,CAAD,CAAjB;;EAEA,QAAImJ,OAAO,CAAC3N,KAAD,CAAX,EAAoB;EAClBA,MAAAA,KAAK,GAAGA,KAAK,EAAb;EACD;;EAED,UAAMQ,GAAG,GAAGgE,CAAC,CAACC,MAAF,CAAS,CAAT,EAAY,CAAZ,MAAmB,IAAnB,GAA0BD,CAA1B,GAA8BA,CAAC,CAACwJ,OAAF,CAAU,QAAV,EAAoB,KAApB,EAA2BA,OAA3B,CAAmC,KAAnC,EAA0C,GAA1C,EAA+CP,WAA/C,EAA1C;;EAEA,QAAI,OAAOzN,KAAP,KAAiB,QAArB,EAA+B;EAC7B,YAAMwa,GAAG,GAAGxa,KAAK,IAAIwE,CAAC,IAAI4V,IAAd,GAAsB,GAAEpa,KAAM,GAAEoa,IAAI,CAAC5V,CAAD,CAAI,EAAxC,GAA6C,GAAExE,KAAM,EAAjE;EACAua,MAAAA,GAAG,CAAC/Z,GAAD,CAAH,GAAW,CAACga,GAAD,EAAMhS,SAAN,CAAX;EACD,KAHD,MAGO,IAAIxI,KAAK,IAAI,OAAOA,KAAP,KAAiB,QAA9B,EAAwC;EAC7C,YAAMoB,CAAC,GAAGpB,KAAK,CAACgO,OAAN,CAAc,gBAAd,EAAgC,EAAhC,CAAV;EACAuM,MAAAA,GAAG,CAAC/Z,GAAD,CAAH,GAAW,CAACY,CAAD,EAAIA,CAAC,KAAKpB,KAAN,GAAcwI,SAAd,GAA0B,WAA9B,CAAX;EACD;EACF;;EAED,SAAO+R,GAAP;EACD;;EAED,SAASE,UAAT,CAAkBF,GAAlB,EAAuBD,KAAvB,EAA8BI,MAA9B,EAAsC;EACpC,MAAI,CAACJ,KAAL,EAAY;EACV,QAAI,CAACI,MAAL,EAAa;EACX;EACD;;EAED,QAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;EAC9BH,MAAAA,GAAG,CAACI,OAAJ,GAAc,EAAd;EACA;EACD;;EAED,SAAK,MAAMnW,CAAX,IAAgB/D,MAAM,CAAC0E,IAAP,CAAYuV,MAAZ,CAAhB,EAAqC;EACnCH,MAAAA,GAAG,CAACK,cAAJ,CAAmBpW,CAAnB;EACD;;EAED;EACD;;EAED,MAAI,OAAO8V,KAAP,KAAiB,QAArB,EAA+B;EAC7B,QAAIA,KAAK,KAAK,OAAOI,MAArB,EAA6B;EAC3BH,MAAAA,GAAG,CAACI,OAAJ,GAAcL,KAAd;EACD;;EAED;EACD;;EAED,MAAI,CAACI,MAAD,IAAW,OAAOA,MAAP,KAAkB,QAAjC,EAA2C;EACzC,QAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;EAC9BH,MAAAA,GAAG,CAACI,OAAJ,GAAc,EAAd;EACD;;EAED,SAAK,MAAMnW,CAAX,IAAgB/D,MAAM,CAAC0E,IAAP,CAAYmV,KAAZ,CAAhB,EAAoC;EAClCC,MAAAA,GAAG,CAACM,WAAJ,CAAgBrW,CAAhB,EAAmB,GAAG8V,KAAK,CAAC9V,CAAD,CAA3B;EACD;;EAED;EACD;;EAED,OAAK,MAAMA,CAAX,IAAgB/D,MAAM,CAAC0E,IAAP,CAAYmV,KAAZ,CAAhB,EAAoC;EAClC,UAAMlZ,CAAC,GAAGkZ,KAAK,CAAC9V,CAAD,CAAf;;EAEA,QAAI,CAACkW,MAAM,CAAClW,CAAD,CAAP,IAAckW,MAAM,CAAClW,CAAD,CAAN,CAAU,CAAV,MAAiBpD,CAAC,CAAC,CAAD,CAAhC,IAAuCsZ,MAAM,CAAClW,CAAD,CAAN,CAAU,CAAV,MAAiBpD,CAAC,CAAC,CAAD,CAA7D,EAAkE;EAChEmZ,MAAAA,GAAG,CAACM,WAAJ,CAAgBrW,CAAhB,EAAmB,GAAGpD,CAAtB;EACD;EACF;;EAED,OAAK,MAAMoD,CAAX,IAAgB/D,MAAM,CAAC0E,IAAP,CAAYuV,MAAZ,CAAhB,EAAqC;EACnC,QAAI,CAACJ,KAAK,CAAC9V,CAAD,CAAV,EAAe;EACb+V,MAAAA,GAAG,CAACK,cAAJ,CAAmBpW,CAAnB;EACD;EACF;EACF;;EAED,SAASsW,WAAT,CAAqBpV,KAArB,EAA4B6U,GAA5B,EAAiC5L,GAAjC,EAAsCoM,QAAtC,EAAgD;EAC9C,MAAI,CAACA,QAAL,EAAe;EACb,WAAOvS,SAAP;EACD;;EAED,QAAM8R,KAAK,GAAGD,QAAQ,CAAC1M,OAAO,CAACjI,KAAK,CAAC4U,KAAP,CAAP,GAAuB5U,KAAK,CAAC4U,KAAN,EAAvB,GAAuC5U,KAAK,CAAC4U,KAA9C,CAAtB;EACAG,EAAAA,UAAQ,CAACF,GAAD,EAAMD,KAAN,EAAa3L,GAAb,CAAR;EACA,SAAO2L,KAAP;EACD;;EAED,SAASU,QAAT,CAAkBtL,EAAlB,EAAsBnG,KAAtB,EAA6B;EAC3B,MAAImG,EAAE,YAAYuL,gBAAd,IAAkC,aAAa1R,KAAnD,EAA0D;EACxD,YAAQmG,EAAE,CAAChO,IAAH,CAAQ+L,WAAR,EAAR;EACE,WAAK,UAAL;EACA,WAAK,OAAL;EACE,YAAIlE,KAAK,CAAC2R,OAAN,KAAkB,IAAlB,KAA2BxL,EAAE,CAACwL,OAAlC,EAA2C;EACzCxL,UAAAA,EAAE,CAACwL,OAAH,GAAa3R,KAAK,CAAC2R,OAAN,KAAkB,IAA/B;EACD;;EALL;EAQD;;EAED,MAAI,CAACxL,EAAE,YAAYyL,iBAAd,IAAmCzL,EAAE,YAAYuL,gBAAjD,IAAqEvL,EAAE,YAAY0L,mBAApF,KAA4G,WAAW7R,KAA3H,EAAkI;EAChI,UAAMvJ,KAAK,GAAGuJ,KAAK,CAACvJ,KAAN,IAAe,EAA7B;;EAEA,QAAI0P,EAAE,CAAC1P,KAAH,KAAaA,KAAjB,EAAwB;EACtB0P,MAAAA,EAAE,CAAC1P,KAAH,GAAWA,KAAX;EACD;EACF;;EAED,MAAI0P,EAAE,YAAY2L,kBAAd,IAAoC,UAAU9R,KAAlD,EAAyD;EACvD,UAAMvJ,KAAK,GAAGuJ,KAAK,CAAC+R,IAAN,KAAe,IAA7B;;EAEA,QAAI5L,EAAE,CAAC4L,IAAH,KAAYtb,KAAhB,EAAuB;EACrB0P,MAAAA,EAAE,CAAC4L,IAAH,GAAUtb,KAAV;EACD;EACF;;EAED,MAAI0P,EAAE,YAAY6L,gBAAlB,EAAoC;EAClC,QAAI,WAAWhS,KAAf,EAAsB;EACpB,YAAMvJ,KAAK,GAAGuJ,KAAK,CAACiS,KAAN,KAAgB,IAA9B;;EAEA,UAAI9L,EAAE,CAAC8L,KAAH,KAAaxb,KAAjB,EAAwB;EACtB0P,QAAAA,EAAE,CAAC8L,KAAH,GAAWxb,KAAX;EACD;EACF;;EAED,QAAI,YAAYuJ,KAAhB,EAAuB;EACrB,YAAMvJ,KAAK,GAAGuJ,KAAK,CAACkS,MAAN,KAAiB,IAA/B;;EAEA,UAAI/L,EAAE,CAAC+L,MAAH,KAAczb,KAAlB,EAAyB;EACvB,YAAIA,KAAJ,EAAW;EACT0P,UAAAA,EAAE,CAACgM,KAAH;EACD,SAFD,MAEO;EACLhM,UAAAA,EAAE,CAACiM,IAAH;EACD;EACF;EACF;;EAED,QAAI,iBAAiBpS,KAArB,EAA4B;EAC1B,YAAMvJ,KAAK,GAAGuJ,KAAK,CAACqS,WAApB;;EAEA,UAAI5b,KAAK,IAAI,gBAAgB0E,IAAhB,CAAqB1E,KAArB,CAAb,EAA0C;EACxC,cAAM6b,GAAG,GAAGC,MAAM,CAAC9b,KAAD,CAAlB;;EAEA,YAAI0P,EAAE,CAACkM,WAAH,KAAmBC,GAAvB,EAA4B;EAC1BnM,UAAAA,EAAE,CAACkM,WAAH,GAAiBC,GAAjB;EACD;EACF;EACF;;EAED,QAAI,kBAAkBtS,KAAtB,EAA6B;EAC3B,YAAMvJ,KAAK,GAAGuJ,KAAK,CAACwS,YAApB;;EAEA,UAAI/b,KAAK,IAAI,gBAAgB0E,IAAhB,CAAqB1E,KAArB,CAAb,EAA0C;EACxC,cAAM6b,GAAG,GAAGC,MAAM,CAAC9b,KAAD,CAAlB;;EAEA,YAAI0P,EAAE,CAACqM,YAAH,KAAoBF,GAAxB,EAA6B;EAC3BnM,UAAAA,EAAE,CAACqM,YAAH,GAAkBF,GAAlB;EACD;EACF;EACF;;EAED,QAAI,YAAYtS,KAAhB,EAAuB;EACrB,YAAMvJ,KAAK,GAAGuJ,KAAK,CAACyS,MAApB;;EAEA,UAAIhc,KAAK,IAAI,gBAAgB0E,IAAhB,CAAqB1E,KAArB,CAAb,EAA0C;EACxC,cAAM6b,GAAG,GAAGC,MAAM,CAAC9b,KAAD,CAAlB;;EAEA,YAAI0P,EAAE,CAACsM,MAAH,KAAcH,GAAlB,EAAuB;EACrBnM,UAAAA,EAAE,CAACsM,MAAH,GAAYH,GAAZ;EACD;EACF;EACF;EACF;EACF;;EAED,SAASI,SAAT,CAAmBC,IAAnB,EAAyBC,IAAI,GAAG,KAAhC,EAAuC;EACrC,MAAID,IAAI,KAAK1T,SAAT,IAAsB0T,IAAI,KAAK,IAAnC,EAAyC;EACvC,WAAOA,IAAP;EACD;;EAED,MAAIC,IAAI,IAAI,OAAOD,IAAP,KAAgB,UAA5B,EAAwC;EACtC,WAAO1T,SAAP;EACD;;EAED,MAAI,OAAO0T,IAAP,KAAgB,SAApB,EAA+B;EAC7B,WAAOA,IAAI,GAAG,EAAH,GAAQ,IAAnB;EACD;;EAED,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;EAC5B,WAAOpc,MAAM,CAACoc,IAAD,CAAb;EACD;;EAED,MAAIA,IAAI,YAAYlP,IAApB,EAA0B;EACxB,WAAOkP,IAAI,CAACjP,WAAL,EAAP;EACD;;EAED,MAAIiP,IAAI,YAAYpP,MAApB,EAA4B;EAC1B,WAAOoP,IAAI,CAACE,QAAL,EAAP;EACD;;EAED,SAAOC,IAAI,CAACJ,SAAL,CAAeC,IAAf,CAAP;EACD;;EAED,SAASI,QAAT,CAAkB5W,KAAlB,EAAyBqV,QAAzB,EAAmC;EACjC,QAAMxR,KAAK,GAAG9I,MAAM,CAACe,MAAP,CAAc,IAAd,CAAd;;EAEA,OAAK,MAAMgD,CAAX,IAAgBkB,KAAhB,EAAuB;EACrB,QAAI,wBAAwBhB,IAAxB,CAA6BF,CAA7B,CAAJ,EAAqC;EACnC;EACD;;EAED,QAAI,CAAC,8BAA8BE,IAA9B,CAAmCF,CAAnC,CAAL,EAA4C;EAC1C;EACD;;EAED,UAAM1B,IAAI,GAAG0B,CAAC,CAACiJ,WAAF,EAAb;;EAEA,YAAQ3K,IAAR;EACE,WAAK,OAAL;EACE,YAAI,CAACiY,QAAL,EAAe;EACb;EACD;;EAEH,WAAK,KAAL;EACA,WAAK,IAAL;EACA,WAAK,IAAL;EACA,WAAK,OAAL;EACE;EAVJ;;EAaA,QAAImB,IAAI,GAAGxW,KAAK,CAAClB,CAAD,CAAhB;;EAEA,QAAImJ,OAAO,CAACuO,IAAD,CAAX,EAAmB;EACjBA,MAAAA,IAAI,GAAGA,IAAI,EAAX;EACD;;EAED,UAAMlc,KAAK,GAAGic,SAAS,CAACC,IAAD,EAAOpZ,IAAI,CAAC2B,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,IAA7B,CAAvB;;EAEA,QAAIzE,KAAK,KAAKwI,SAAd,EAAyB;EACvBe,MAAAA,KAAK,CAACzG,IAAD,CAAL,GAAc9C,KAAd;EACD;EACF;;EAED,SAAOuJ,KAAP;EACD;;EAED,SAASgT,QAAT,CAAkB7M,EAAlB,EAAsBnG,KAAtB,EAA6BoF,GAA7B,EAAkC;EAChC,OAAK,MAAMnK,CAAX,IAAgB/D,MAAM,CAAC0E,IAAP,CAAYoE,KAAZ,CAAhB,EAAoC;EAClC,UAAMnI,CAAC,GAAGmI,KAAK,CAAC/E,CAAD,CAAf;;EAEA,QAAI,EAAEA,CAAC,IAAImK,GAAP,KAAeA,GAAG,CAACnK,CAAD,CAAH,KAAWpD,CAA9B,EAAiC;EAC/B,UAAIA,CAAC,KAAK,IAAV,EAAgB;EACdsO,QAAAA,EAAE,CAAC+J,eAAH,CAAmBjV,CAAnB;EACD,OAFD,MAEO;EACLkL,QAAAA,EAAE,CAACsK,YAAH,CAAgBxV,CAAhB,EAAmBpD,CAAnB;EACD;EACF;EACF;;EAED,OAAK,MAAMoD,CAAX,IAAgB/D,MAAM,CAAC0E,IAAP,CAAYwJ,GAAZ,CAAhB,EAAkC;EAChC,QAAI,EAAEnK,CAAC,IAAI+E,KAAP,CAAJ,EAAmB;EACjBmG,MAAAA,EAAE,CAAC+J,eAAH,CAAmBjV,CAAnB;EACD;EACF;EACF;;EAED,SAASgY,WAAT,CAAqB9W,KAArB,EAA4BgK,EAA5B,EAAgCf,GAAhC,EAAqCoM,QAArC,EAA+C;EAC7C,QAAMxR,KAAK,GAAG+S,QAAQ,CAAC5W,KAAD,EAAQqV,QAAR,CAAtB;EACAwB,EAAAA,QAAQ,CAAC7M,EAAD,EAAKnG,KAAL,EAAYoF,GAAZ,CAAR;EACAqM,EAAAA,QAAQ,CAACtL,EAAD,EAAKnG,KAAL,CAAR;EACA,SAAOA,KAAP;EACD;;EAED,SAASkT,kBAAT,GAA8B;EAC5B,QAAM5X,MAAM,GAAG,IAAIO,YAAJ,EAAf;EACAP,EAAAA,MAAM,CAAC6X,WAAP,GAAqBjc,MAAM,CAACe,MAAP,CAAc,IAAd,CAArB;EACA,SAAOqD,MAAP;EACD;;EAED,UAAU8X,eAAV,CAA0BjN,EAA1B,EAA8B;EAC5B,MAAIA,EAAE,YAAYuL,gBAAlB,EAAoC;EAClC,YAAQvL,EAAE,CAAChO,IAAH,CAAQ+L,WAAR,EAAR;EACE,WAAK,UAAL;EACE,cAAM,CAAC,eAAD,EAAkB,QAAlB,EAA4B7G,CAAC,IAAIA,CAAC,CAACgW,aAAF,CAAgBC,aAAjD,CAAN;EACA,eAAO,MAAM,CAAC,SAAD,EAAY,QAAZ,EAAsBjW,CAAC,IAAIA,CAAC,CAACgW,aAAF,CAAgB1B,OAA3C,CAAb;;EAEF,WAAK,OAAL;EACE,eAAO,MAAM,CAAC,SAAD,EAAY,QAAZ,EAAsBtU,CAAC,IAAIA,CAAC,CAACgW,aAAF,CAAgB1B,OAA3C,CAAb;EANJ;;EASA,WAAO,MAAM,CAAC,OAAD,EAAU,OAAV,EAAmBtU,CAAC,IAAIA,CAAC,CAACgW,aAAF,CAAgB5c,KAAxC,CAAb;EACD;;EAED,MAAI0P,EAAE,YAAY0L,mBAAlB,EAAuC;EACrC,WAAO,MAAM,CAAC,OAAD,EAAU,OAAV,EAAmBxU,CAAC,IAAIA,CAAC,CAACgW,aAAF,CAAgB5c,KAAxC,CAAb;EACD;;EAED,MAAI0P,EAAE,YAAYyL,iBAAlB,EAAqC;EACnC,WAAO,MAAM,CAAC,OAAD,EAAU,QAAV,EAAoBvU,CAAC,IAAIA,CAAC,CAACgW,aAAF,CAAgB5c,KAAzC,CAAb;EACD;;EAED,MAAI0P,EAAE,YAAY2L,kBAAlB,EAAsC;EACpC,WAAO,MAAM,CAAC,MAAD,EAAS,QAAT,EAAmBzU,CAAC,IAAIA,CAAC,CAACgW,aAAF,CAAgBtB,IAAxC,CAAb;EACD;;EAED,MAAI5L,EAAE,YAAY6L,gBAAlB,EAAoC;EAClC,UAAM,CAAC,aAAD,EAAgB,YAAhB,EAA8B3U,CAAC,IAAIA,CAAC,CAACgW,aAAF,CAAgBhB,WAAnD,CAAN;EACA,UAAM,CAAC,cAAD,EAAiB,YAAjB,EAA+BhV,CAAC,IAAIA,CAAC,CAACgW,aAAF,CAAgBb,YAApD,CAAN;EACA,UAAM,CAAC,QAAD,EAAW,cAAX,EAA2BnV,CAAC,IAAIA,CAAC,CAACgW,aAAF,CAAgBZ,MAAhD,CAAN;EACA,UAAM,CAAC,OAAD,EAAU,cAAV,EAA0BpV,CAAC,IAAIA,CAAC,CAACgW,aAAF,CAAgBpB,KAA/C,CAAN;EACA,UAAM,CAAC,QAAD,EAAW,SAAX,EAAsB5U,CAAC,IAAIA,CAAC,CAACgW,aAAF,CAAgBnB,MAA3C,CAAN;EACA,WAAO,MAAM,CAAC,QAAD,EAAW,OAAX,EAAoB7U,CAAC,IAAIA,CAAC,CAACgW,aAAF,CAAgBnB,MAAzC,CAAb;EACD;EACF;;EAED,SAASlX,cAAT,CAAsBC,CAAtB,EAAyB;EACvB,MAAIA,CAAC,CAACC,MAAF,CAAS,CAAT,EAAY,CAAZ,MAAmB,IAAvB,EAA6B;EAC3B,WAAO,EAAP;EACD;;EAED,MAAIQ,CAAC,GAAGT,CAAC,CAACC,MAAF,CAAS,CAAT,CAAR;;EAEA,MAAIQ,CAAC,CAAC,CAAD,CAAD,KAAS,GAAT,IAAgBA,CAAC,CAAC,CAAD,CAAD,KAAS,GAA7B,EAAkC;EAChC,WAAO,EAAP;EACD;;EAED,SAAOA,CAAP;EACD;;EAED,SAAS6X,WAAT,CAAqBpX,KAArB,EAA4BgK,EAA5B,EAAgCxJ,KAAK,GAAGuW,kBAAkB,EAA1D,EAA8D;EAC5DvW,EAAAA,KAAK,CAACT,aAAN,CAAoBC,KAApB,EAA2Bd,QAAQ,IAAI;EACrC,SAAK,MAAMJ,CAAX,IAAgBkB,KAAhB,EAAuB;EACrB,YAAMrB,CAAC,GAAGqB,KAAK,CAAClB,CAAD,CAAf;;EAEA,UAAI,OAAOH,CAAP,KAAa,UAAjB,EAA6B;EAC3B;EACD;;EAED,YAAMvB,IAAI,GAAGyB,cAAY,CAACC,CAAD,CAAzB;;EAEA,UAAI,CAAC1B,IAAL,EAAW;EACT;EACD;;EAED8B,MAAAA,QAAQ,CAAC9B,IAAD,EAAOuB,CAAP,CAAR;EACD;;EAED,SAAK,MAAM,CAAC0Y,IAAD,EAAOja,IAAP,EAAa2D,CAAb,CAAX,IAA8BkW,eAAe,CAACjN,EAAD,CAA7C,EAAmD;EACjD,YAAM1P,KAAK,GAAG0F,KAAK,CAACqX,IAAD,CAAnB;;EAEA,UAAIpP,OAAO,CAAC3N,KAAD,CAAX,EAAoB;EAClB4E,QAAAA,QAAQ,CAAC9B,IAAD,EAAO8D,CAAC,IAAI5G,KAAK,CAACyG,CAAC,CAACG,CAAD,CAAF,CAAjB,CAAR;EACD;EACF;EACF,GAxBD;EAyBA,QAAM9B,KAAK,GAAG,IAAInB,GAAJ,CAAQuC,KAAK,CAACpB,KAAN,CAAY/E,GAAZ,CAAgBD,MAAhB,CAAR,CAAd;EACA,QAAMkd,SAAS,GAAG9W,KAAK,CAACwW,WAAxB;;EAEA,OAAK,MAAMlY,CAAX,IAAgB/D,MAAM,CAAC0E,IAAP,CAAY6X,SAAZ,CAAhB,EAAwC;EACtC,QAAIlY,KAAK,CAACqF,GAAN,CAAU3F,CAAV,CAAJ,EAAkB;EAChB;EACD;;EAEDwY,IAAAA,SAAS,CAACxY,CAAD,CAAT;EACA,WAAOwY,SAAS,CAACxY,CAAD,CAAhB;EACD;;EAED,QAAM;EACJyB,IAAAA;EADI,MAEFC,KAFJ;;EAIA,OAAK,MAAM1B,CAAX,IAAgBM,KAAhB,EAAuB;EACrB,QAAIN,CAAC,IAAIwY,SAAT,EAAoB;EAClB;EACD;;EAED,UAAM3Y,CAAC,GAAG,CAAC,GAAGa,CAAJ,KAAUe,IAAI,CAACzB,CAAD,EAAI,GAAGU,CAAP,CAAxB;;EAEAwK,IAAAA,EAAE,CAACuN,gBAAH,CAAoBzY,CAApB,EAAuBH,CAAvB;;EAEA2Y,IAAAA,SAAS,CAACxY,CAAD,CAAT,GAAe,MAAM;EACnBkL,MAAAA,EAAE,CAACwN,mBAAH,CAAuB1Y,CAAvB,EAA0BH,CAA1B;EACD,KAFD;EAGD;;EAED,SAAO6B,KAAP;EACD;;EAED,MAAMiX,QAAQ,GAAG,IAAI1J,OAAJ,EAAjB;;EACA,SAAS2J,QAAT,CAAkB1N,EAAlB,EAAsBhK,KAAtB,EAA6B;EAC3B,QAAM6U,GAAG,GAAG7K,EAAE,CAAC4K,KAAf;EACA,QAAMS,QAAQ,GAAGR,GAAG,YAAY8C,mBAAhC;EACA,QAAM1O,GAAG,GAAGwO,QAAQ,CAAC7W,GAAT,CAAaoJ,EAAb,KAAoB;EAC9BnG,IAAAA,KAAK,EAAE;EADuB,GAAhC;EAGA,QAAMxB,EAAE,GAAGyR,QAAQ,CAAC9T,KAAD,EAAQgK,EAAR,EAAYf,GAAG,CAAC5G,EAAhB,CAAnB;EACA,QAAM6R,OAAO,GAAGM,WAAW,CAACxU,KAAD,EAAQgK,EAAR,EAAYf,GAAG,CAACiL,OAAhB,CAA3B;EACA,QAAMU,KAAK,GAAGQ,WAAW,CAACpV,KAAD,EAAQ6U,GAAR,EAAa5L,GAAG,CAAC2L,KAAjB,EAAwBS,QAAxB,CAAzB;EACA,QAAMxR,KAAK,GAAGiT,WAAW,CAAC9W,KAAD,EAAQgK,EAAR,EAAYf,GAAG,CAACpF,KAAhB,EAAuBwR,QAAvB,CAAzB;EACA,QAAM7U,KAAK,GAAG4W,WAAW,CAACpX,KAAD,EAAQgK,EAAR,EAAYf,GAAG,CAACzI,KAAhB,CAAzB;EACAiX,EAAAA,QAAQ,CAACjV,GAAT,CAAawH,EAAb,EAAiB;EACf3H,IAAAA,EADe;EAEf6R,IAAAA,OAFe;EAGfU,IAAAA,KAHe;EAIf/Q,IAAAA,KAJe;EAKfrD,IAAAA;EALe,GAAjB;EAOA,SAAOwJ,EAAP;EACD;;EAED,IAAI3L,IAAJ;;EACA,SAASzC,WAAT,CAAmB+C,CAAnB,EAAsB;EACpB,MAAIN,IAAJ,EAAU;EACRA,IAAAA,IAAI,CAACV,IAAL,CAAUgB,CAAV;EACA;EACD;;EAEDN,EAAAA,IAAI,GAAG,CAACM,CAAD,CAAP;EACAiZ,EAAAA,MAAM,CAACC,qBAAP,CAA6B,MAAM;EACjC,UAAMC,EAAE,GAAGzZ,IAAX;EACAA,IAAAA,IAAI,GAAGyE,SAAP;;EAEA,QAAI,CAACgV,EAAL,EAAS;EACP;EACD;;EAEDA,IAAAA,EAAE,CAACvZ,OAAH,CAAWI,CAAC,IAAIA,CAAC,EAAjB;EACD,GATD;EAUD;;EAED,MAAMoZ,QAAQ,GAAG;EACfC,EAAAA,GAAG,EAAE,4BADU;EAEfC,EAAAA,IAAI,EAAE,8BAFS;EAGfC,EAAAA,MAAM,EAAE;EAHO,CAAjB;EAKA,MAAMC,OAAO,GAAG,IAAIla,GAAJ,CAAQ,CAAC,UAAD,EAAa,aAAb,EAA4B,cAA5B,EAA4C,SAA5C,EAAuD,cAAvD,EAAuE,eAAvE,EAAwF,kBAAxF,EAA4G,QAA5G,EAAsH,UAAtH,EAAkI,eAAlI,EAAmJ,QAAnJ,EAA6J,MAA7J,EAAqK,MAArK,EAA6K,SAA7K,EAAwL,SAAxL,EAAmM,eAAnM,EAAoN,qBAApN,EAA2O,aAA3O,EAA0P,kBAA1P,EAA8Q,mBAA9Q,EAAmS,mBAAnS,EAAwT,gBAAxT,EAA0U,SAA1U,EAAqV,SAArV,EAAgW,SAAhW,EAA2W,SAA3W,EAAsX,SAAtX,EAAiY,gBAAjY,EAAmZ,SAAnZ,EAA8Z,SAA9Z,EAAya,aAAza,EAAwb,cAAxb,EAAwc,UAAxc,EAAod,cAApd,EAAoe,oBAApe,EAA0f,aAA1f,EAAygB,QAAzgB,EAAmhB,cAAnhB,EAAmiB,QAAniB,EAA6iB,WAA7iB,EAA0jB,kBAA1jB,EAA8kB,gBAA9kB,EAAgmB,eAAhmB,EAAinB,eAAjnB,EAAkoB,eAAloB,EAAmpB,GAAnpB,EAAwpB,OAAxpB,EAAiqB,UAAjqB,EAA6qB,OAA7qB,EAAsrB,OAAtrB,EAA+rB,MAA/rB,EAAusB,gBAAvsB,EAAytB,QAAztB,EAAmuB,MAAnuB,EAA2uB,UAA3uB,EAAuvB,eAAvvB,EAAwwB,OAAxwB,EAAixB,MAAjxB,EAAyxB,SAAzxB,EAAoyB,SAApyB,EAA+yB,UAA/yB,EAA2zB,gBAA3zB,EAA60B,MAA70B,EAAq1B,QAAr1B,EAA+1B,KAA/1B,EAAs2B,MAAt2B,EAA82B,OAA92B,EAAu3B,KAAv3B,EAA83B,QAA93B,EAAw4B,QAAx4B,EAAk5B,MAAl5B,EAA05B,UAA15B,EAAs6B,OAAt6B,EAA+6B,MAA/6B,EAAu7B,OAAv7B,EAAg8B,KAAh8B,EAAu8B,MAAv8B,EAA+8B,OAA/8B,CAAR,CAAhB;EACA,MAAMma,UAAU,GAAG,IAAIna,GAAJ,CAAQ,CAAC,SAAD,EAAY,MAAZ,EAAoB,UAApB,EAAgC,QAAhC,EAA0C,SAA1C,EAAqD,OAArD,EAA8D,QAA9D,EAAwE,IAAxE,EAA8E,YAA9E,EAA4F,eAA5F,EAA6G,IAA7G,EAAmH,IAAnH,EAAyH,OAAzH,EAAkI,SAAlI,EAA6I,UAA7I,EAAyJ,OAAzJ,EAAkK,MAAlK,EAA0K,IAA1K,EAAgL,QAAhL,EAA0L,OAA1L,EAAmM,QAAnM,EAA6M,MAA7M,EAAqN,SAArN,EAAgO,MAAhO,EAAwO,QAAxO,EAAkP,KAAlP,EAAyP,OAAzP,EAAkQ,KAAlQ,EAAyQ,QAAzQ,EAAmR,YAAnR,EAAiS,WAAjS,CAAR,CAAnB;;EACA,SAAS2F,eAAT,CAAuByU,OAAvB,EAAgCC,SAAhC,EAA2C;EACzC,QAAM7X,GAAG,GAAG,oCAAoCuL,IAApC,CAAyCqM,OAAzC,CAAZ;EACA,QAAM7c,GAAG,GAAGiF,GAAG,GAAGA,GAAG,CAAC,CAAD,CAAN,GAAY4X,OAA3B;EACA,QAAME,EAAE,GAAG,CAACD,SAAS,KAAK7X,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAK,KAAK,CAA7B,GAAiC,KAAK,CAAtC,GAA0CA,GAAG,CAAC,CAAD,CAAlD,CAAT,IAAmE0X,OAAO,CAAC1T,GAAR,CAAYjJ,GAAG,CAACuM,WAAJ,EAAZ,KAAkC,KAArG,IAA8GqQ,UAAU,CAAC3T,GAAX,CAAejJ,GAAG,CAACuM,WAAJ,EAAf,KAAqC,QAAnJ,IAA+J,EAAhK,EAAoKA,WAApK,EAAX;;EAEA,MAAI,CAACwQ,EAAL,EAAS;EACP,WAAOC,QAAQ,CAAC5U,aAAT,CAAuBpI,GAAvB,CAAP;EACD;;EAED,SAAOgd,QAAQ,CAACC,eAAT,CAAyBF,EAAE,IAAIR,QAAN,IAAkBA,QAAQ,CAACQ,EAAD,CAA1B,IAAkCA,EAA3D,EAA+D/c,GAA/D,CAAP;EACD;;EAED,MAAMkd,QAAQ,GAAG,gEAAjB;;EACA,SAASC,SAAT,CAAmBnd,GAAnB,EAAwB;EACtB,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;EAC3B,WAAO,KAAP;EACD;;EAED,SAAOkd,QAAQ,CAAC1Z,IAAT,CAAcxD,GAAd,CAAP;EACD;;EAED,MAAMW,QAAM,GAAG;EACbH,EAAAA,IAAI,EAAE,KADO;EAEbJ,aAAAA,WAFa;;EAIbuL,EAAAA,MAAM,CAACzL,CAAD,EAAI;EACR,WAAOA,CAAC,YAAYkd,IAApB;EACD,GANY;;EAQb5Q,EAAAA,KAAK,CAAC;EACJoL,IAAAA,MADI;EAEJqB,IAAAA,KAAK,EAAEoE,SAFH;EAGJjE,IAAAA,KAHI;EAIJpZ,IAAAA;EAJI,GAAD,EAKFkN,MALE,EAKM;EACT,QAAIT,OAAO,CAACmL,MAAD,CAAX,EAAqB;EACnBA,MAAAA,MAAM,GAAGA,MAAM,CAAC9Y,KAAhB;EACD;;EAED,QAAI,CAACqe,SAAS,CAACnd,GAAD,CAAd,EAAqB;EACnBA,MAAAA,GAAG,GAAG,KAAN;EACD;;EAED,UAAMsS,SAAS,GAAG3R,QAAM,CAACyH,aAAP,CAAqBpI,GAArB,CAAlB;EACAW,IAAAA,QAAM,CAACgM,WAAP,CAAmB2F,SAAnB,EAA8B;EAC5B2G,MAAAA,KAAK,EAAEoE,SADqB;EAE5BjE,MAAAA;EAF4B,KAA9B;;EAKA,QAAIxB,MAAM,KAAK,IAAf,EAAqB;EACnB,UAAI,CAAC1K,MAAL,EAAa;EACX,eAAO,CAACoF,SAAD,EAAYA,SAAZ,CAAP;EACD;;EAED,aAAO,CAACA,SAAD,EAAYpF,MAAM,CAAClB,iBAAP,EAAZ,CAAP;EACD;;EAED,QAAI,OAAO4L,MAAP,KAAkB,QAAtB,EAAgC;EAC9BA,MAAAA,MAAM,GAAGoF,QAAQ,CAACM,aAAT,CAAuB1F,MAAvB,CAAT;EACD;;EAED,QAAIA,MAAM,YAAY2F,OAAtB,EAA+B;EAC7B3F,MAAAA,MAAM,CAAC4F,WAAP,CAAmBlL,SAAnB;;EAEA,UAAIpF,MAAJ,EAAY;EACV,eAAO,CAACoF,SAAD,EAAYpF,MAAM,CAAClB,iBAAP,EAAZ,CAAP;EACD;;EAED,aAAO,CAACsG,SAAD,EAAYA,SAAZ,CAAP;EACD;;EAED,QAAIpF,MAAM,KAAKvM,QAAf,EAAuB;EACrBqc,MAAAA,QAAQ,CAACS,IAAT,CAAcD,WAAd,CAA0BlL,SAA1B;EACA,aAAO,CAACA,SAAD,EAAYA,SAAZ,CAAP;EACD;;EAED,WAAO,CAACA,SAAD,EAAYA,SAAZ,CAAP;EACD,GAxDY;;EA0DbhH,EAAAA,OAAO,CAACgH,SAAD,EAAY/J,IAAZ,EAAkB1C,OAAlB,EAA2B;EAChC,QAAIyM,SAAS,KAAK/J,IAAd,IAAsB1C,OAA1B,EAAmC;EACjC;EACD;;EAEDyM,IAAAA,SAAS,CAAC2E,MAAV;EACD,GAhEY;;EAkEbR,EAAAA,aAAa,CAACnE,SAAD,EAAY/J,IAAZ,EAAkB;EAC7BqP,IAAAA,MAD6B;EAE7BqB,IAAAA,KAAK,EAAEoE,SAFsB;EAG7BjE,IAAAA,KAH6B;EAI7BpZ,IAAAA;EAJ6B,GAAlB,EAKVkN,MALU,EAKF;EACTvM,IAAAA,QAAM,CAACgM,WAAP,CAAmB2F,SAAnB,EAA8B;EAC5B2G,MAAAA,KAAK,EAAEoE,SADqB;EAE5BjE,MAAAA;EAF4B,KAA9B;;EAKA,QAAI3M,OAAO,CAACmL,MAAD,CAAX,EAAqB;EACnBnZ,MAAAA,OAAO,CAACif,GAAR,CAAY9F,MAAZ;EACAA,MAAAA,MAAM,GAAGA,MAAM,CAAC9Y,KAAhB;EACD;;EAED,UAAM6e,SAAS,GAAGzQ,MAAM,KAAKvM,QAAX,IAAqB2R,SAAS,KAAK/J,IAAnC,GAA0CjB,SAA1C,GAAsD3G,QAAM,CAACwM,SAAP,CAAiB5E,IAAjB,CAAxE;;EAEA,QAAIqP,MAAM,KAAK,IAAf,EAAqB;EACnB,UAAI+F,SAAS,KAAK,IAAlB,EAAwB;EACtB,eAAO,CAACrL,SAAD,EAAY/J,IAAZ,CAAP;EACD;;EAED,UAAI+J,SAAS,KAAK/J,IAAlB,EAAwB;EACtB+J,QAAAA,SAAS,CAAC2E,MAAV;EACD;;EAED,UAAI,CAAC/J,MAAL,EAAa;EACX,eAAO,CAACoF,SAAD,EAAYA,SAAZ,CAAP;EACD;;EAED,aAAO,CAACA,SAAD,EAAYpF,MAAM,CAAClB,iBAAP,EAAZ,CAAP;EACD;;EAED,QAAI,OAAO4L,MAAP,KAAkB,QAAtB,EAAgC;EAC9BA,MAAAA,MAAM,GAAGoF,QAAQ,CAACM,aAAT,CAAuB1F,MAAvB,CAAT;EACD;;EAED,QAAI1K,MAAM,KAAKvM,QAAX,IAAqB,EAAEiX,MAAM,YAAY2F,OAApB,CAAzB,EAAuD;EACrD3F,MAAAA,MAAM,GAAGoF,QAAQ,CAACS,IAAlB;EACD;;EAED,QAAIE,SAAS,KAAK/F,MAAlB,EAA0B;EACxB,aAAO,CAACtF,SAAD,EAAY/J,IAAZ,CAAP;EACD;;EAED,QAAI2E,MAAM,KAAKvM,QAAf,EAAuB;EACrBiX,MAAAA,MAAM,CAAC4F,WAAP,CAAmBlL,SAAnB;EACA,aAAO,CAACA,SAAD,EAAY/J,IAAZ,CAAP;EACD;;EAED,QAAI,CAACoV,SAAL,EAAgB;EACd,YAAMC,OAAO,GAAG1Q,MAAM,CAAClB,iBAAP,EAAhB;EACA,YAAM6R,KAAK,GAAG3Q,MAAM,CAACC,SAAP,CAAiB5E,IAAjB,CAAd;;EAEA,UAAIsV,KAAJ,EAAW;EACTld,QAAAA,QAAM,CAAC+L,UAAP,CAAkBmR,KAAlB,EAAyBD,OAAzB,EAAkCrV,IAAlC;EACA5H,QAAAA,QAAM,CAAC6K,UAAP,CAAkBjD,IAAlB;EACD;;EAEDqP,MAAAA,MAAM,CAAC4F,WAAP,CAAmBlL,SAAnB;EACA,aAAO,CAACA,SAAD,EAAYsL,OAAZ,CAAP;EACD;;EAED,QAAI,CAAChG,MAAL,EAAa;EACX,YAAMiG,KAAK,GAAG3Q,MAAM,CAACC,SAAP,CAAiB5E,IAAjB,CAAd;;EAEA,UAAIsV,KAAJ,EAAW;EACTld,QAAAA,QAAM,CAAC+L,UAAP,CAAkBmR,KAAlB,EAAyBvL,SAAzB,EAAoC/J,IAApC;EACA5H,QAAAA,QAAM,CAAC6K,UAAP,CAAkBjD,IAAlB;EACD;;EAED,aAAO,CAAC+J,SAAD,EAAYA,SAAZ,CAAP;EACD;;EAEDsF,IAAAA,MAAM,CAAC4F,WAAP,CAAmBlL,SAAnB;EACA,WAAO,CAACA,SAAD,EAAY/J,IAAZ,CAAP;EACD,GA/IY;;EAiJb+O,EAAAA,QAAQ,GAAG,EAjJE;;EAmJblP,EAAAA,aAAa,CAACpI,GAAD,EAAM;EACjB,WAAOoI,eAAa,CAACpI,GAAD,CAApB;EACD,GArJY;;EAuJb6L,EAAAA,UAAU,CAAClC,IAAD,EAAO;EACf,WAAOqT,QAAQ,CAACc,cAAT,CAAwBnU,IAAxB,CAAP;EACD,GAzJY;;EA2JbqC,EAAAA,iBAAiB,GAAG;EAClB,WAAOgR,QAAQ,CAACe,aAAT,CAAuB,EAAvB,CAAP;EACD,GA7JY;;EA+Jb/I,EAAAA,eAAe,GAAG;EAChB,UAAMzM,IAAI,GAAGH,eAAa,CAAC,gBAAD,CAA1B;EACA,WAAO,CAACG,IAAD,EAAOA,IAAI,CAACyV,YAAL,CAAkB;EAC9BC,MAAAA,IAAI,EAAE;EADwB,KAAlB,CAAP,CAAP;EAGD,GApKY;;EAsKb9Q,EAAAA,SAAS,CAAC5E,IAAD,EAAO;EACd,WAAOA,IAAI,CAAC2V,UAAZ;EACD,GAxKY;;EA0KbrQ,EAAAA,QAAQ,CAACtF,IAAD,EAAO;EACb,WAAOA,IAAI,CAAC4V,WAAZ;EACD,GA5KY;;EA8KbxR,EAAAA,WAAW,CAACpE,IAAD,EAAO/D,KAAP,EAAc;EACvB0X,IAAAA,QAAQ,CAAC3T,IAAD,EAAO/D,KAAP,CAAR;EACD,GAhLY;;EAkLbkI,EAAAA,UAAU,CAACQ,MAAD,EAAS3E,IAAT,EAAe0E,IAAI,GAAG,IAAtB,EAA4B;EACpCC,IAAAA,MAAM,CAACkR,YAAP,CAAoB7V,IAApB,EAA0B0E,IAA1B;EACD,GApLY;;EAsLbzB,EAAAA,UAAU,CAACjD,IAAD,EAAO;EACf,UAAMvE,CAAC,GAAGrD,QAAM,CAACwM,SAAP,CAAiB5E,IAAjB,CAAV;;EAEA,QAAI,CAACvE,CAAL,EAAQ;EACN;EACD;;EAEDA,IAAAA,CAAC,CAACqa,WAAF,CAAc9V,IAAd;EACD,GA9LY;;EAgMb+V,EAAAA,OAAO,CAAC/V,IAAD,EAAO;EACZ,QAAIA,IAAI,YAAYgV,OAApB,EAA6B;EAC3B,YAAM;EACJgB,QAAAA,GADI;EAEJC,QAAAA,KAFI;EAGJC,QAAAA,MAHI;EAIJC,QAAAA,IAJI;EAKJC,QAAAA,KALI;EAMJC,QAAAA;EANI,UAOFrW,IAAI,CAACsW,qBAAL,EAPJ;EAQA,aAAO;EACLN,QAAAA,GADK;EAELC,QAAAA,KAFK;EAGLC,QAAAA,MAHK;EAILC,QAAAA,IAJK;EAKLC,QAAAA,KALK;EAMLC,QAAAA;EANK,OAAP;EAQD;;EAED,QAAIrW,IAAI,YAAYuW,UAApB,EAAgC;EAC9B,YAAM;EACJP,QAAAA,GADI;EAEJC,QAAAA,KAFI;EAGJC,QAAAA,MAHI;EAIJC,QAAAA,IAJI;EAKJC,QAAAA,KALI;EAMJC,QAAAA;EANI,UAOFrW,IAAI,CAACwW,IAAL,CAAUF,qBAAV,EAPJ;EAQA,aAAO;EACLN,QAAAA,GADK;EAELC,QAAAA,KAFK;EAGLC,QAAAA,MAHK;EAILC,QAAAA,IAJK;EAKLC,QAAAA,KALK;EAMLC,QAAAA;EANK,OAAP;EAQD;;EAED,WAAO,IAAP;EACD;;EAxOY,CAAf;EA4OAzG,WAAW,GAAG;EACZxX,UAAAA;EADY,CAAH,CAAX;;EC90BA;;;;;AAKA;EAEA,SAASG,SAAT,GAAmB;EACjB,SAAOke,OAAP;EACD;;EAED,IAAIC,IAAJ;;EAEA,CAAC,UAAUA,IAAV,EAAgB;EACfA,EAAAA,IAAI,CAAC,KAAD,CAAJ,GAAc,KAAd;EACAA,EAAAA,IAAI,CAAC,aAAD,CAAJ,GAAsB,aAAtB;EACAA,EAAAA,IAAI,CAAC,UAAD,CAAJ,GAAmB,UAAnB;EACAA,EAAAA,IAAI,CAAC,QAAD,CAAJ,GAAiB,QAAjB;EACAA,EAAAA,IAAI,CAAC,QAAD,CAAJ,GAAiB,QAAjB;EACAA,EAAAA,IAAI,CAAC,WAAD,CAAJ,GAAoB,WAApB;EACAA,EAAAA,IAAI,CAAC,SAAD,CAAJ,GAAkB,SAAlB;EACD,CARD,EAQGA,IAAI,KAAKA,IAAI,GAAG,EAAZ,CARP;;EAUA,UAAUC,OAAV,CAAkB9T,IAAlB,EAAwB8B,MAAM,GAAG,CAAjC,EAAoC;EAClC,MAAIiS,kBAAJ;;EAEA,MAAItb,KAAK,CAACC,OAAN,CAAcsH,IAAd,CAAJ,EAAyB;EACvB,SAAK,MAAMN,EAAX,IAAiBM,IAAjB,EAAuB;EACrB,aAAO8T,OAAO,CAACpU,EAAD,CAAd;EACD;;EAED;EACD;;EAED,QAAM;EACJjE,IAAAA,EAAE,EAAEuY,KADA;EAEJpf,IAAAA,GAFI;EAGJwE,IAAAA,KAHI;EAIJ8D,IAAAA,QAJI;EAKJhJ,IAAAA,GALI;EAMJ+L,IAAAA,SANI;EAOJ/B,IAAAA,KAAK,GAAG+B,SAAS,KAAK,IAAd,IAAsBA,SAAS,KAAK,KAAK,CAAzC,GAA6C,KAAK,CAAlD,GAAsD,CAAC8T,kBAAkB,GAAG9T,SAAS,CAACnE,OAAhC,MAA6C,IAA7C,IAAqDiY,kBAAkB,KAAK,KAAK,CAAjF,GAAqF,KAAK,CAA1F,GAA8FA,kBAAkB,CAACE;EAP3K,MAQFjU,IARJ;;EAUA,MAAI,CAACpL,GAAL,EAAU;EACR,WAAO,MAAM;EACXof,MAAAA,KADW;EAEXlS,MAAAA,MAFW;EAGX1M,MAAAA,IAAI,EAAEye,IAAI,CAACK,WAHA;EAIXtf,MAAAA,GAAG,EAAE,aAJM;EAKXsI,MAAAA,QAAQ,EAAE;EALC,KAAb;EAOD;;EAED,MAAI,OAAOtI,GAAP,KAAe,QAAnB,EAA6B;EAC3B,UAAM4B,IAAI,GAAG5B,GAAG,CAAC0H,UAAD,CAAH,IAAmB1H,GAAG,CAAC4B,IAApC;;EAEA,QAAI,CAACyJ,SAAL,EAAgB;EACd,aAAO,MAAM;EACX+T,QAAAA,KADW;EAEXlS,QAAAA,MAFW;EAGX1M,QAAAA,IAAI,EAAEye,IAAI,CAACM,MAHA;EAIXvf,QAAAA,GAAG,EAAE4B,IAJM;EAKX0G,QAAAA,QAAQ,EAAE,CAAC,GAAG4W,OAAO,CAAC5W,QAAD,CAAX,CALC;EAMX9D,QAAAA,KANW;EAOXlF,QAAAA,GAPW;EAQXgK,QAAAA;EARW,OAAb;EAUD;;EAED,UAAMkW,QAAQ,GAAGxf,GAAG,CAACuH,UAAD,CAAH,KAAoB,QAArC;EACA,WAAO,MAAM;EACX6X,MAAAA,KADW;EAEXlS,MAAAA,MAFW;EAGX1M,MAAAA,IAAI,EAAEgf,QAAQ,GAAGP,IAAI,CAAC3Q,MAAR,GAAiB2Q,IAAI,CAACQ,QAHzB;EAIXzf,MAAAA,GAAG,EAAE4B,IAJM;EAKX0G,MAAAA,QAAQ,EAAE,CAAC,GAAG4W,OAAO,CAACM,QAAQ,GAAGnU,SAAS,CAAC+J,UAAb,GAA0B/J,SAAS,CAACD,IAA7C,CAAX,CALC;EAMX5G,MAAAA,KANW;EAOXlF,MAAAA,GAPW;EAQXgK,MAAAA;EARW,KAAb;EAUD;;EAED,QAAMgD,IAAI,GAAGtM,GAAG,CAACuM,WAAJ,EAAb;;EAEA,MAAID,IAAI,KAAK,gBAAb,EAA+B;EAC7B,WAAO,MAAM;EACX8S,MAAAA,KADW;EAEXlS,MAAAA,MAFW;EAGX1M,MAAAA,IAAI,EAAEye,IAAI,CAAC3M,SAHA;EAIXtS,MAAAA,GAAG,EAAEsM,IAJM;EAKXhE,MAAAA,QAAQ,EAAE,CAAC,GAAG4W,OAAO,CAAC7T,SAAS,GAAGA,SAAS,CAACgL,OAAb,GAAuB/N,QAAjC,CAAX,CALC;EAMX9D,MAAAA,KANW;EAOXlF,MAAAA,GAPW;EAQXgK,MAAAA;EARW,KAAb;EAUD;;EAED,MAAIgD,IAAI,KAAK,YAAb,EAA2B;EACzB,UAAMoT,SAAS,GAAGtU,IAAI,CAACtM,KAAvB;EACA,WAAO,MAAM;EACXsgB,MAAAA,KADW;EAEXlS,MAAAA,MAFW;EAGX1M,MAAAA,IAAI,EAAEye,IAAI,CAACU,OAHA;EAIX3f,MAAAA,GAAG,EAAEsM,IAJM;EAKXhE,MAAAA,QAAQ,EAAE,EALC;EAMXkX,MAAAA,QAAQ,EAAEE,SAAS,KAAKtU,IAAI,CAAC7C,IANlB;EAOXzJ,MAAAA,KAAK,EAAE4gB,SAPI;EAQXlb,MAAAA,KARW;EASXlF,MAAAA,GATW;EAUXgK,MAAAA;EAVW,KAAb;EAYD;;EAED,MAAIgD,IAAI,CAAC/I,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,OAAtB,IAAiC+I,IAAI,KAAK,UAA9C,EAA0D;EACxD,WAAO,MAAM;EACX8S,MAAAA,KADW;EAEXlS,MAAAA,MAFW;EAGX1M,MAAAA,IAAI,EAAEye,IAAI,CAACU,OAHA;EAIX3f,MAAAA,GAAG,EAAEsM,IAJM;EAKXhE,MAAAA,QAAQ,EAAE,CAAC,GAAG4W,OAAO,CAAC5W,QAAD,CAAX,CALC;EAMX9D,MAAAA,KANW;EAOXlF,MAAAA,GAPW;EAQXgK,MAAAA;EARW,KAAb;EAUD;;EAED,QAAM;EACJ8V,IAAAA,KADI;EAEJlS,IAAAA,MAFI;EAGJ1M,IAAAA,IAAI,EAAEye,IAAI,CAACjf,GAHP;EAIJA,IAAAA,GAJI;EAKJsI,IAAAA,QAAQ,EAAE,CAAC,GAAG4W,OAAO,CAAC5W,QAAD,CAAX,CALN;EAMJ9D,IAAAA,KANI;EAOJlF,IAAAA,GAPI;EAQJgK,IAAAA;EARI,GAAN;EAUD;;EAED,SAASsW,UAAT,CAAkB9gB,KAAlB,EAAyB;EACvB,QAAM0B,IAAI,GAAG,OAAO1B,KAApB;;EAEA,MAAI0B,IAAI,KAAK,UAAb,EAAyB;EACvB,WAAO4H,aAAa,CAAC,MAAD,EAAS;EAC3BgR,MAAAA,KAAK,EAAE;EADoB,KAAT,EAEjB,YAFiB,CAApB;EAGD;;EAED,MAAI5Y,IAAI,KAAK,QAAb,EAAuB;EACrB,WAAO4H,aAAa,CAAC,MAAD,EAAS,IAAT,EAAetJ,KAAf,CAApB;EACD;;EAED,MAAI0B,IAAI,KAAK,QAAT,IAAqBA,IAAI,KAAK,SAA9B,IAA2CA,IAAI,KAAK,QAApD,IAAgEA,IAAI,KAAK,QAAzE,IAAqFA,IAAI,KAAK,WAA9F,IAA6G1B,KAAK,KAAK,IAA3H,EAAiI;EAC/H,WAAOsJ,aAAa,CAAC,MAAD,EAAS;EAC3BgR,MAAAA,KAAK,EAAE;EADoB,KAAT,EAEjBxa,MAAM,CAACE,KAAD,CAFW,CAApB;EAGD,GAJD,MAIO,IAAIA,KAAK,YAAY8M,MAArB,EAA6B;EAClC,WAAOxD,aAAa,CAAC,MAAD,EAAS;EAC3BgR,MAAAA,KAAK,EAAE;EADoB,KAAT,EAEjBxa,MAAM,CAACE,KAAD,CAFW,CAApB;EAGD,GAJM,MAIA,IAAIA,KAAK,YAAYgN,IAArB,EAA2B;EAChC,WAAO1D,aAAa,CAAC,MAAD,EAAS;EAC3BgR,MAAAA,KAAK,EAAE;EADoB,KAAT,EAEjBta,KAAK,CAACiN,WAAN,EAFiB,CAApB;EAGD,GAJM,MAIA,IAAIvL,IAAI,KAAK,QAAb,EAAuB;EAC5B,WAAO4H,aAAa,CAAC,MAAD,EAAS;EAC3BgR,MAAAA,KAAK,EAAE;EADoB,KAAT,EAEjBxa,MAAM,CAACE,KAAD,CAFW,CAApB;EAGD;;EAED,SAAO,IAAP;EACD;;EACD,SAAS+gB,QAAT,CAAkB;EAChBL,EAAAA,QADgB;EAEhB1gB,EAAAA;EAFgB,CAAlB,EAGG;EACD,MAAI0gB,QAAJ,EAAc;EACZ,WAAOpX,aAAa,CAAC,MAAD,EAAS;EAC3BgR,MAAAA,KAAK,EAAE;EADoB,KAAT,EAEjB,UAFiB,CAApB;EAGD;;EAED,MAAI,CAAC3M,OAAO,CAAC3N,KAAD,CAAZ,EAAqB;EACnB,WAAO8gB,UAAQ,CAAC9gB,KAAD,CAAf;EACD;;EAED,SAAOsJ,aAAa,CAAC,UAAD,EAAa,IAAb,EAAmBA,aAAa,CAAC,MAAD,EAAS;EAC3DgR,IAAAA,KAAK,EAAE;EADoD,GAAT,EAEjD,aAFiD,CAAhC,EAEDwG,UAAQ,CAAC9gB,KAAK,EAAN,CAFP,EAEkBsJ,aAAa,CAAC,MAAD,EAAS;EAC1DgR,IAAAA,KAAK,EAAE;EADmD,GAAT,EAEhD,OAFgD,CAF/B,CAApB;EAKD;;EAED,SAAS0G,MAAT,CAAgBxgB,GAAhB,EAAqB;EACnB,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;EAC3B,WAAQ,QAAO6b,IAAI,CAACJ,SAAL,CAAezb,GAAf,CAAoB,EAAnC;EACD;;EAED,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;EAC3B,WAAQ,QAAOA,GAAI,EAAnB;EACD;;EAED,MAAI,OAAOA,GAAP,KAAe,SAAnB,EAA8B;EAC5B,WAAQ,QAAOA,GAAI,EAAnB;EACD;;EAED,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;EAC3B,WAAQ,QAAOA,GAAI,EAAnB;EACD;;EAED,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;EAC3B,WAAQ,QAAOV,MAAM,CAACU,GAAD,CAAM,EAA3B;EACD;;EAED,MAAIA,GAAG,KAAK,IAAZ,EAAkB;EAChB,WAAQ,QAAOA,GAAI,EAAnB;EACD;;EAED,MAAIA,GAAG,KAAKgI,SAAZ,EAAuB;EACrB,WAAQ,QAAO1I,MAAM,CAACU,GAAD,CAAM,EAA3B;EACD;EACF;;EACD,SAASygB,SAAT,CAAmBC,MAAnB,EAA2B;EACzB,SAAOA,MAAM,CAAC1a,MAAP,CAAcoK,OAAd,EAAuB7Q,GAAvB,CAA2B,CAAC,CAACqB,CAAD,EAAI0J,KAAJ,CAAD,KAAgBxB,aAAa,CAAC,MAAD,EAAS;EACtEgR,IAAAA,KAAK,EAAG,UAASxP,KAAK,IAAI,MAAO;EADqC,GAAT,EAE5D1J,CAF4D,CAAxD,CAAP;EAGD;;EAED,SAAS+f,GAAT,CAAa;EACXhc,EAAAA,IADW;EAEXmb,EAAAA,KAFW;EAGX9f,EAAAA,GAHW;EAIX0gB,EAAAA,MAJW;EAKXE,EAAAA,OALW;EAMX5X,EAAAA;EANW,CAAb,EAOG;EACD,QAAM6X,MAAM,GAAGlc,IAAI,CAACmb,KAAD,CAAnB;EACA,QAAMnV,UAAU,GAAGkW,MAAM,GAAG,CAAC,GAAGC,OAAO,CAAC9X,QAAD,EAAWrE,IAAX,EAAiBic,OAAjB,CAAX,CAAH,GAA2C,EAApE;EACA,QAAMG,aAAa,GAAG3Q,OAAO,CAACyQ,MAAM,IAAIlW,UAAU,CAACxI,MAAtB,CAA7B;EACA,SAAO2G,aAAa,CAAC,KAAD,EAAQ;EAC1B9I,IAAAA,GAAG,EAAE8f,KADqB;EAE1BhG,IAAAA,KAAK,EAAE;EAFmB,GAAR,EAGjBhR,aAAa,CAAC,KAAD,EAAQ;EACtBgR,IAAAA,KAAK,EAAE,8HADe;EAEtBkH,IAAAA,OAAO,EAAE,MAAMrc,IAAI,CAACmb,KAAD,CAAJ,GAAc,CAACe;EAFR,GAAR,EAGbA,MAAM,GAAG,GAAH,GAAS,GAHF,CAHI,EAMI/X,aAAa,CAAC,KAAD,EAAQ,IAAR,EAAc,GAAd,EAAmBA,aAAa,CAAC9B,IAAD,EAAO,IAAP,CAAhC,EAA8CwZ,MAAM,CAACxgB,GAAD,CAApD,EAA2D,GAA3D,EAAgE,CAAC+gB,aAAD,IAAkBjY,aAAa,CAAC,UAAD,EAAa,IAAb,EAAmB+X,MAAM,GAAG/X,aAAa,CAAC,MAAD,EAAS,IAAT,CAAhB,GAAiCA,aAAa,CAAC,MAAD,EAAS;EAClNkY,IAAAA,OAAO,EAAE,MAAMrc,IAAI,CAACmb,KAAD,CAAJ,GAAc,IADqL;EAElNhG,IAAAA,KAAK,EAAE;EAF2M,GAAT,EAGxM,KAHwM,CAAvE,EAGzH,IAHyH,EAGnHhR,aAAa,CAAC9B,IAAD,EAAO,IAAP,CAHsG,EAGxF,GAHwF,CAA/F,EAGayZ,SAAS,CAACC,MAAD,CAHtB,CANjB,EASkDK,aAAa,IAAIjY,aAAa,CAAC,UAAD,EAAa,IAAb,EAAmBA,aAAa,CAAC,KAAD,EAAQ;EAC1IgR,IAAAA,KAAK,EAAE;EADmI,GAAR,EAEjInP,UAFiI,CAAhC,EAEpF7B,aAAa,CAAC,KAAD,EAAQ,IAAR,EAAc,IAAd,EAAoBA,aAAa,CAAC9B,IAAD,EAAO,IAAP,CAAjC,EAA+C,GAA/C,CAFuE,CAThF,CAApB;EAYD;;EAED,SAASia,cAAT,CAAwB;EACtB3e,EAAAA,IAAI,GAAG,aADe;EAEtBwd,EAAAA,KAFsB;EAGtB9f,EAAAA,GAHsB;EAItB0gB,EAAAA;EAJsB,CAAxB,EAKG;EACD,SAAO5X,aAAa,CAAC,KAAD,EAAQ;EAC1B9I,IAAAA,GAAG,EAAE8f,KADqB;EAE1BhG,IAAAA,KAAK,EAAE;EAFmB,GAAR,EAGjB,GAHiB,EAGZhR,aAAa,CAAC,MAAD,EAAS;EAC5BgR,IAAAA,KAAK,EAAE;EADqB,GAAT,EAElBxX,IAFkB,CAHD,EAKVke,MAAM,CAACxgB,GAAD,CALI,EAKG,IALH,EAKSygB,SAAS,CAACC,MAAD,CALlB,CAApB;EAMD;;EAED,UAAUI,OAAV,CAAkBvd,IAAlB,EAAwBoB,IAAxB,EAA8Bic,OAA9B,EAAuCF,MAAM,GAAG,EAAhD,EAAoD;EAClD,MAAInc,KAAK,CAACC,OAAN,CAAcjB,IAAd,CAAJ,EAAyB;EACvB,SAAK,MAAMiI,EAAX,IAAiBjI,IAAjB,EAAuB;EACrB,aAAOud,OAAO,CAACtV,EAAD,EAAK7G,IAAL,EAAWic,OAAX,EAAoBF,MAApB,CAAd;EACD;;EAED;EACD;;EAED,QAAM;EACJZ,IAAAA,KADI;EAEJ5e,IAAAA,IAFI;EAGJR,IAAAA,GAHI;EAIJsI,IAAAA,QAJI;EAKJ9D,IAAAA,KALI;EAMJlF,IAAAA,GANI;EAOJgK,IAAAA,KAPI;EAQJxK,IAAAA,KARI;EASJ0gB,IAAAA;EATI,MAUF3c,IAVJ;EAWA,QAAM2d,SAAS,GAAG,CAAClX,KAAD,EAAQ,GAAG0W,MAAX,CAAlB;;EAEA,MAAIxf,IAAI,KAAKye,IAAI,CAACQ,QAAd,IAA0Bjf,IAAI,KAAKye,IAAI,CAAC3Q,MAA5C,EAAoD;EAClD,WAAO,MAAMlG,aAAa,CAAC6X,GAAD,EAAM;EAC9Bhc,MAAAA,IAAI,EAAEA,IADwB;EAE9Bmb,MAAAA,KAAK,EAAEA,KAFuB;EAG9B9f,MAAAA,GAAG,EAAEA,GAHyB;EAI9B0gB,MAAAA,MAAM,EAAEQ,SAJsB;EAK9BN,MAAAA,OAAO,EAAEA,OALqB;EAM9B5X,MAAAA,QAAQ,EAAEA;EANoB,KAAN,EAOvBF,aAAa,CAAC,MAAD,EAAS;EACvBgR,MAAAA,KAAK,EAAE;EADgB,KAAT,EAEbpZ,GAFa,CAPU,CAA1B;EAUD;;EAED,MAAIQ,IAAI,KAAKye,IAAI,CAACjf,GAAlB,EAAuB;EACrB,QAAI,CAACkgB,OAAO,CAAClgB,GAAb,EAAkB;EAChB,aAAO,OAAOogB,OAAO,CAAC9X,QAAD,EAAWrE,IAAX,EAAiBic,OAAjB,EAA0BM,SAA1B,CAArB;EACD;;EAED,WAAO,MAAMpY,aAAa,CAAC6X,GAAD,EAAM;EAC9Bhc,MAAAA,IAAI,EAAEA,IADwB;EAE9Bmb,MAAAA,KAAK,EAAEA,KAFuB;EAG9B9f,MAAAA,GAAG,EAAEA,GAHyB;EAI9B0gB,MAAAA,MAAM,EAAEQ,SAJsB;EAK9BN,MAAAA,OAAO,EAAEA,OALqB;EAM9B5X,MAAAA,QAAQ,EAAEA;EANoB,KAAN,EAOvBtI,GAPuB,CAA1B;EAQD;;EAED,MAAIQ,IAAI,KAAKye,IAAI,CAACM,MAAlB,EAA0B;EACxB,QAAI,CAACW,OAAO,CAACX,MAAb,EAAqB;EACnB,aAAO,OAAOa,OAAO,CAAC9X,QAAD,EAAWrE,IAAX,EAAiBic,OAAjB,EAA0BM,SAA1B,CAArB;EACD;;EAED,WAAO,MAAMpY,aAAa,CAAC6X,GAAD,EAAM;EAC9Bhc,MAAAA,IAAI,EAAEA,IADwB;EAE9Bmb,MAAAA,KAAK,EAAEA,KAFuB;EAG9B9f,MAAAA,GAAG,EAAEA,GAHyB;EAI9B0gB,MAAAA,MAAM,EAAEQ,SAJsB;EAK9BN,MAAAA,OAAO,EAAEA,OALqB;EAM9B5X,MAAAA,QAAQ,EAAEA;EANoB,KAAN,EAOvBF,aAAa,CAAC,MAAD,EAAS;EACvBgR,MAAAA,KAAK,EAAE;EADgB,KAAT,EAEbpZ,GAFa,CAPU,CAA1B;EAUD;;EAED,MAAIQ,IAAI,KAAKye,IAAI,CAACK,WAAlB,EAA+B;EAC7B,QAAI,CAACY,OAAO,CAACZ,WAAb,EAA0B;EACxB;EACD;;EAED,WAAO,MAAMlX,aAAa,CAACmY,cAAD,EAAiB;EACzCnB,MAAAA,KAAK,EAAEA,KADkC;EAEzC9f,MAAAA,GAAG,EAAEA,GAFoC;EAGzC0gB,MAAAA,MAAM,EAAEQ;EAHiC,KAAjB,CAA1B;EAKD;;EAED,MAAIhgB,IAAI,KAAKye,IAAI,CAAC3M,SAAlB,EAA6B;EAC3B,QAAI,CAAC4N,OAAO,CAAC5N,SAAb,EAAwB;EACtB,aAAO,OAAO8N,OAAO,CAAC9X,QAAD,EAAWrE,IAAX,EAAiBic,OAAjB,EAA0BM,SAA1B,CAArB;EACD;;EAED,WAAO,MAAMpY,aAAa,CAAC6X,GAAD,EAAM;EAC9Bhc,MAAAA,IAAI,EAAEA,IADwB;EAE9Bmb,MAAAA,KAAK,EAAEA,KAFuB;EAG9B9f,MAAAA,GAAG,EAAEA,GAHyB;EAI9B0gB,MAAAA,MAAM,EAAEQ,SAJsB;EAK9BN,MAAAA,OAAO,EAAEA,OALqB;EAM9B5X,MAAAA,QAAQ,EAAEA;EANoB,KAAN,EAOvBF,aAAa,CAAC,MAAD,EAAS;EACvBgR,MAAAA,KAAK,EAAE;EADgB,KAAT,EAEb,WAFa,CAPU,CAA1B;EAUD;;EAED,MAAIlP,SAAS,CAAClK,GAAD,CAAb,EAAoB;EAClB,QAAI,CAACkgB,OAAO,CAACpQ,OAAb,EAAsB;EACpB,aAAO,OAAOsQ,OAAO,CAAC9X,QAAD,EAAWrE,IAAX,EAAiBic,OAAjB,EAA0BM,SAA1B,CAArB;EACD;;EAED,WAAO,MAAMpY,aAAa,CAAC6X,GAAD,EAAM;EAC9Bhc,MAAAA,IAAI,EAAEA,IADwB;EAE9Bmb,MAAAA,KAAK,EAAEA,KAFuB;EAG9B9f,MAAAA,GAAG,EAAEA,GAHyB;EAI9B0gB,MAAAA,MAAM,EAAEQ,SAJsB;EAK9BN,MAAAA,OAAO,EAAEA,OALqB;EAM9B5X,MAAAA,QAAQ,EAAEA;EANoB,KAAN,EAOvBF,aAAa,CAAC,MAAD,EAAS;EACvBgR,MAAAA,KAAK,EAAE;EADgB,KAAT,EAEb,SAFa,CAPU,CAA1B;EAUD;;EAED,MAAIpZ,GAAG,KAAK,UAAZ,EAAwB;EACtB,QAAI,CAACkgB,OAAO,CAACO,QAAb,EAAuB;EACrB,aAAO,OAAOL,OAAO,CAAC9X,QAAD,EAAWrE,IAAX,EAAiBic,OAAjB,EAA0BM,SAA1B,CAArB;EACD;;EAED,WAAO,MAAMpY,aAAa,CAAC6X,GAAD,EAAM;EAC9Bhc,MAAAA,IAAI,EAAEA,IADwB;EAE9Bmb,MAAAA,KAAK,EAAEA,KAFuB;EAG9B9f,MAAAA,GAAG,EAAEA,GAHyB;EAI9B0gB,MAAAA,MAAM,EAAEQ,SAJsB;EAK9BN,MAAAA,OAAO,EAAEA,OALqB;EAM9B5X,MAAAA,QAAQ,EAAEA;EANoB,KAAN,EAOvBF,aAAa,CAAC,MAAD,EAAS;EACvBgR,MAAAA,KAAK,EAAE;EADgB,KAAT,EAEb,UAFa,CAPU,CAA1B;EAUD;;EAED,MAAIpZ,GAAG,KAAK,gBAAR,IAA4BA,GAAG,KAAK,iBAAxC,EAA2D;EACzD,QAAI,CAACkgB,OAAO,CAACQ,SAAb,EAAwB;EACtB,aAAO,OAAON,OAAO,CAAC9X,QAAD,EAAWrE,IAAX,EAAiBic,OAAjB,EAA0BM,SAA1B,CAArB;EACD;;EAED,WAAO,MAAMpY,aAAa,CAAC6X,GAAD,EAAM;EAC9Bhc,MAAAA,IAAI,EAAEA,IADwB;EAE9Bmb,MAAAA,KAAK,EAAEA,KAFuB;EAG9B9f,MAAAA,GAAG,EAAEA,GAHyB;EAI9B0gB,MAAAA,MAAM,EAAEQ,SAJsB;EAK9BN,MAAAA,OAAO,EAAEA,OALqB;EAM9B5X,MAAAA,QAAQ,EAAEA;EANoB,KAAN,EAOvBF,aAAa,CAAC,MAAD,EAAS;EACvBgR,MAAAA,KAAK,EAAE;EADgB,KAAT,EAEb,WAFa,CAPU,CAA1B;EAUD;;EAED,MAAIpZ,GAAG,KAAK,YAAZ,EAA0B;EACxB,QAAI,CAACkgB,OAAO,CAAClgB,GAAb,EAAkB;EAChB;EACD;;EAED,QAAI,CAACkgB,OAAO,CAACphB,KAAb,EAAoB;EAClB;EACD;;EAED,WAAO,MAAMsJ,aAAa,CAACyX,QAAD,EAAW;EACnCL,MAAAA,QAAQ,EAAEA,QADyB;EAEnC1gB,MAAAA,KAAK,EAAEA;EAF4B,KAAX,CAA1B;EAID;;EAED,MAAIkB,GAAG,KAAK,iBAAR,IAA6BA,GAAG,KAAK,kBAAzC,EAA6D;EAC3D,QAAIkgB,OAAO,CAACS,UAAZ,EAAwB;EACtB,aAAO,MAAMvY,aAAa,CAACmY,cAAD,EAAiB;EACzCnB,QAAAA,KAAK,EAAEA,KADkC;EAEzC9f,QAAAA,GAAG,EAAEA,GAFoC;EAGzC0gB,QAAAA,MAAM,EAAEQ,SAHiC;EAIzC5e,QAAAA,IAAI,EAAE;EAJmC,OAAjB,CAA1B;EAMD;;EAED;EACD;EACF;;EAED,IAAIgf,IAAI,GAAIpc,KAAK,IAAI;EACnB,QAAMP,IAAI,GAAG4Q,MAAM,CAAC,EAAD,CAAnB;EACA,SAAO,MAAMzM,aAAa,CAAC,KAAD,EAAQ;EAChCgR,IAAAA,KAAK,EAAE;EADyB,GAAR,EAEvB,CAAC,GAAGgH,OAAO,CAAC5b,KAAK,CAAC4G,IAAP,EAAanH,IAAb,EAAmBO,KAAK,CAAC0b,OAAzB,CAAX,CAFuB,CAA1B;EAGD,CALD;;EAOA,SAASW,QAAT,CAAmBrc,KAAnB,EAA0B;EACxB,SAAO4D,aAAa,CAAC,KAAD,EAAQ,IAAR,EAAcA,aAAa,CAAC9B,IAAD,EAAO;EACpD1E,IAAAA,IAAI,EAAE;EAD8C,GAAP,CAA3B,EAEhBwG,aAAa,CAAC9B,IAAD,EAAO;EACtB1E,IAAAA,IAAI,EAAE;EADgB,GAAP,CAFG,CAApB;EAKD;;EAED,SAASkf,QAAT,CAAmBtc,KAAnB,EAA0B;EACxB,QAAM0b,OAAO,GAAGa,OAAO,CAACvc,KAAK,CAAC0b,OAAP,CAAvB;EACA,QAAMphB,KAAK,GAAGohB,OAAO,CAAC,OAAD,CAArB;EACA,QAAMlgB,GAAG,GAAGkgB,OAAO,CAAC,KAAD,CAAnB;EACA,QAAMZ,WAAW,GAAGY,OAAO,CAAC,aAAD,CAA3B;EACA,QAAMX,MAAM,GAAGW,OAAO,CAAC,QAAD,CAAtB;EACA,QAAM5N,SAAS,GAAG4N,OAAO,CAAC,WAAD,CAAzB;EACA,QAAMO,QAAQ,GAAGP,OAAO,CAAC,UAAD,CAAxB;EACA,QAAMQ,SAAS,GAAGR,OAAO,CAAC,WAAD,CAAzB;EACA,QAAMS,UAAU,GAAGT,OAAO,CAAC,YAAD,CAA1B;EACA,QAAMpQ,OAAO,GAAGoQ,OAAO,CAAC,SAAD,CAAvB;EACA,SAAO9X,aAAa,CAAC,KAAD,EAAQ,IAAR,EAAcA,aAAa,CAAC,OAAD,EAAU,IAAV,EAAgBA,aAAa,CAAC,OAAD,EAAU;EACpF5H,IAAAA,IAAI,EAAE,UAD8E;EAEpFwZ,IAAAA,OAAO,EAAElb;EAF2E,GAAV,CAA7B,EAG3C,OAH2C,CAA3B,EAGNsJ,aAAa,CAAC,OAAD,EAAU,IAAV,EAAgBA,aAAa,CAAC,OAAD,EAAU;EAChE5H,IAAAA,IAAI,EAAE,UAD0D;EAEhEwZ,IAAAA,OAAO,EAAEha;EAFuD,GAAV,CAA7B,EAGvB,KAHuB,CAHP,EAMRoI,aAAa,CAAC,OAAD,EAAU,IAAV,EAAgBA,aAAa,CAAC,OAAD,EAAU;EAC9D5H,IAAAA,IAAI,EAAE,UADwD;EAE9DwZ,IAAAA,OAAO,EAAEsF;EAFqD,GAAV,CAA7B,EAGrB,aAHqB,CANL,EASAlX,aAAa,CAAC,OAAD,EAAU,IAAV,EAAgBA,aAAa,CAAC,OAAD,EAAU;EACtE5H,IAAAA,IAAI,EAAE,UADgE;EAEtEwZ,IAAAA,OAAO,EAAEuF;EAF6D,GAAV,CAA7B,EAG7B,QAH6B,CATb,EAYLnX,aAAa,CAAC,OAAD,EAAU,IAAV,EAAgBA,aAAa,CAAC,OAAD,EAAU;EACjE5H,IAAAA,IAAI,EAAE,UAD2D;EAEjEwZ,IAAAA,OAAO,EAAE1H;EAFwD,GAAV,CAA7B,EAGxB,WAHwB,CAZR,EAeFlK,aAAa,CAAC,OAAD,EAAU,IAAV,EAAgBA,aAAa,CAAC,OAAD,EAAU;EACpE5H,IAAAA,IAAI,EAAE,UAD8D;EAEpEwZ,IAAAA,OAAO,EAAEyG;EAF2D,GAAV,CAA7B,EAG3B,UAH2B,CAfX,EAkBHrY,aAAa,CAAC,OAAD,EAAU,IAAV,EAAgBA,aAAa,CAAC,OAAD,EAAU;EACnE5H,IAAAA,IAAI,EAAE,UAD6D;EAEnEwZ,IAAAA,OAAO,EAAE0G;EAF0D,GAAV,CAA7B,EAG1B,WAH0B,CAlBV,EAqBFtY,aAAa,CAAC,OAAD,EAAU,IAAV,EAAgBA,aAAa,CAAC,OAAD,EAAU;EACpE5H,IAAAA,IAAI,EAAE,UAD8D;EAEpEwZ,IAAAA,OAAO,EAAE2G;EAF2D,GAAV,CAA7B,EAG3B,YAH2B,CArBX,EAwBDvY,aAAa,CAAC,OAAD,EAAU,IAAV,EAAgBA,aAAa,CAAC,OAAD,EAAU;EACrE5H,IAAAA,IAAI,EAAE,UAD+D;EAErEwZ,IAAAA,OAAO,EAAElK;EAF4D,GAAV,CAA7B,EAG5B,SAH4B,CAxBZ,CAApB;EA4BD;;EAED,IAAIkR,QAAQ,GAAG,KAAf;;EAEA,SAAS1gB,QAAT,GAAkB;EAChB0gB,EAAAA,QAAQ,GAAG,IAAX;;EAEA,MAAI;EACF,WAAO;EACLd,MAAAA,OAAO,EAAErL,MAAM,CAAC;EACd/V,QAAAA,KAAK,EAAE,KADO;EAEdkB,QAAAA,GAAG,EAAE,KAFS;EAGdsf,QAAAA,WAAW,EAAE,KAHC;EAIdC,QAAAA,MAAM,EAAE,KAJM;EAKdjN,QAAAA,SAAS,EAAE,KALG;EAMdmO,QAAAA,QAAQ,EAAE,KANI;EAOdC,QAAAA,SAAS,EAAE,KAPG;EAQdC,QAAAA,UAAU,EAAE,KARE;EASd7Q,QAAAA,OAAO,EAAE;EATK,OAAD,CADV;EAYL5I,MAAAA,OAAO,EAAEvG,MAAM;EAZV,KAAP;EAcD,GAfD,SAeU;EACRqgB,IAAAA,QAAQ,GAAG,KAAX;EACD;EACF;;EAED,SAAS/hB,UAAT,CAAoBqT,SAApB,EAA+B;EAC7B,MAAI0O,QAAJ,EAAc;EACZ;EACD;;EAED,MAAIC,GAAJ;;EAEA,QAAMC,OAAO,GAAG,MAAM;EACpB,QAAI,CAACD,GAAL,EAAU;EACRA,MAAAA,GAAG,GAAG3gB,QAAM,EAAZ;EACD;;EAED,UAAM8K,IAAI,GAAG,CAAC,GAAG8T,OAAO,CAAC5M,SAAS,CAAC+D,OAAX,CAAX,CAAb;EACA4K,IAAAA,GAAG,CAAC/Z,OAAJ,CAAYia,OAAZ,CAAoB/Y,aAAa,CAACyY,QAAD,EAAW;EAC1CX,MAAAA,OAAO,EAAEe,GAAG,CAACf;EAD6B,KAAX,EAE9B9X,aAAa,CAACwY,IAAD,EAAO;EACrBpY,MAAAA,IAAI,EAAE,MADe;EAErB4C,MAAAA,IAAI,EAAEA,IAFe;EAGrB8U,MAAAA,OAAO,EAAEe,GAAG,CAACf;EAHQ,KAAP,CAFiB,EAM7B9X,aAAa,CAAC0Y,QAAD,EAAW;EAC1BtY,MAAAA,IAAI,EAAE,UADoB;EAE1B0X,MAAAA,OAAO,EAAEe,GAAG,CAACf;EAFa,KAAX,CANgB,CAAjC;EAUD,GAhBD;;EAkBAtZ,EAAAA,OAAO,CAAC,UAAD,EAAasa,OAAb,EAAsB5O,SAAS,CAACnR,MAAhC,CAAP;EACAyF,EAAAA,OAAO,CAAC,SAAD,EAAY,MAAM;EACvB,QAAI,CAACqa,GAAL,EAAU;EACRA,MAAAA,GAAG,GAAG3gB,QAAM,EAAZ;EACD;;EAED4gB,IAAAA,OAAO;EACPD,IAAAA,GAAG,CAAC/Z,OAAJ,CAAYka,MAAZ;EACD,GAPM,EAOJ9O,SAAS,CAACnR,MAPN,CAAP;EAQD;;EAED,MAAMnC,UAAQ,GAAG;EACfC,EAAAA;EADe,CAAjB;AAIA6B,WAAO,GAAG;EACR9B,YAAAA;EADQ,CAAH,CAAP;;;;;;;;;;;;;;;;;EC5iBO,IAAIqiB,aAAJ;AAEP,EAAe,SAASC,YAAT,GAAwB;EACtCD,EAAAA,aAAa,GAAGxX,aAAa,EAA7B;EACA;;ECRM,SAAS0X,kBAAT,CAA4Btf,OAA5B,EAA8C;EACpD,QAAM+Y,IAAI,GAAG/Y,OAAO,CAACoI,SAAR,CAAkBgX,aAAlB,CAAb;;EACA,MAAI,CAACrG,IAAL,EAAW;EAAE;EAAS;;EACtB,QAAM;EAACwG,IAAAA,MAAD;EAASC,IAAAA;EAAT,MAAkBzG,IAAxB;EACA7V,EAAAA,OAAO,CAAC3F,cAAR,CAAuByC,OAAvB,EAAgC,OAAhC,EAAyC;EACxCnD,IAAAA,KAAK,EAAE0iB,MADiC;EAExC/hB,IAAAA,UAAU,EAAE,IAF4B;EAGxCC,IAAAA,YAAY,EAAE;EAH0B,GAAzC;EAKAyF,EAAAA,OAAO,CAAC3F,cAAR,CAAuByC,OAAvB,EAAgC,OAAhC,EAAyC;EACxCmD,IAAAA,GAAG,EAAE,MAAMoc,MAAN,aAAMA,MAAN,uBAAMA,MAAM,CAAEE,IAAR,CAAaD,KAAb,CAD6B;EAExChiB,IAAAA,UAAU,EAAE,IAF4B;EAGxCC,IAAAA,YAAY,EAAE;EAH0B,GAAzC;EAKA;AAED,EAAe,SAASiiB,yBAAT,GAAqC;EACnDzf,EAAAA,qBAAqB,CAACqf,kBAAD,CAArB;EACA;;ECZc,SAASK,UAAT,CACdpd,KADc,EAEd;EAAE6F,EAAAA;EAAF,CAFc,EAGb;EACD,QAAMwX,KAAK,GAAGrd,KAAK,CAACgd,MAAN,YAAwBM,MAAtC;EACA,QAAMhS,OAAO,GAAGzF,SAAS,CAACgX,aAAD,CAAzB;EACA,QAAMG,MAAM,GAAGK,KAAK,GAAGrd,KAAK,CAACgd,MAAT,GAAkB1R,OAAlB,aAAkBA,OAAlB,uBAAkBA,OAAO,CAAE0R,MAA/C;;EACA,MAAI,EAAEA,MAAM,YAAYM,MAApB,CAAJ,EAAiC;EAAE;EAAS;;EAE5C,MAAIL,KAAK,GAAGjd,KAAK,CAACid,KAAlB;;EACA,MAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6B7G,MAAM,CAACmH,SAAP,CAAiBN,KAAjB,CAAjC,EAA0D;EACzD,QAAIA,KAAK,GAAG,CAAZ,EAAe;EAAEA,MAAAA,KAAK,GAAGD,MAAM,CAAC7b,IAAP,GAAc8b,KAAtB;EAA8B;EAC/C,GAFD,MAEO;EACNA,IAAAA,KAAK,GAAGI,KAAK,GAAG,CAAH,GAAO,CAAC,CAAA/R,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAE2R,KAAT,KAAkB,CAAnB,IAAwB,CAA5C;EACA;;EACD,MAAIA,KAAK,GAAG,CAAZ,EAAe;EAAE,WAAO,IAAP;EAAc;;EAC/B,QAAMO,KAAK,GAAGR,MAAM,CAACE,IAAP,CAAYD,KAAZ,CAAd;;EACA,MAAI,CAACO,KAAL,EAAY;EAAE;EAAS;;EACvB,QAAM;EAAEC,IAAAA,KAAK,EAAE;EAAEnT,MAAAA;EAAF;EAAT,MAA4BkT,KAAlC;;EACA,MAAI,CAAClT,UAAL,EAAiB;EAAE,WAAO,IAAP;EAAc;;EACjC,QAAMlN,IAAI,GAAG4C,KAAK,CAAC5C,IAAN,IAAc,SAA3B;EACA,QAAMyJ,SAAS,GAAGzJ,IAAI,IAAIkN,UAAR,GAAqBA,UAAU,CAAClN,IAAD,CAA/B,GAAwC0F,SAA1D;;EACA,MAAI,CAAC+D,SAAL,EAAgB;EAAE,WAAO,IAAP;EAAc;;EAChC/B,EAAAA,OAAK,CAAE,SAAQ0Y,KAAK,CAACE,IAAK,GAArB,EAAyB,SAAzB,CAAL;EACA,SAAO9Z,aAAa,CAACiZ,aAAD,EAAgB;EAAEviB,IAAAA,KAAK,EAAE;EAC5C2iB,MAAAA,KAAK,EAAEA,KADqC;EAE5CD,MAAAA,MAAM,EAAEA;EAFoC;EAAT,GAAhB,EAGhBpZ,aAAa,CAACiD,SAAD,EAAY7G,KAAZ,CAHG,CAApB;EAIA;EACDuT,OAAO,CAAC6J,UAAD,CAAP;EACA9J,KAAK,CAAC,YAAD,EAAe8J,UAAf,CAAL;;EChCe,SAASO,UAAT,CACd3d,KADc,EAEdvC,OAFc,EAGb;EAAA;;EACD,QAAM;EAAEggB,IAAAA,KAAF;EAAShY,IAAAA;EAAT,MAAwBhI,OAA9B;;EACA,MAAI,CAACggB,KAAL,EAAY;EAAE,WAAO7Z,aAAa,CAAC,UAAD,EAAa,EAAb,EAAiB,GAAG6B,UAApB,CAApB;EAAsD;;EACpE,MAAI;EAACmY,IAAAA,EAAD;EAAKC,IAAAA,MAAL;EAAavV,IAAAA,OAAb;EAAsBoV,IAAAA,IAAtB;EAA4BI,IAAAA,MAA5B;EAAoCC,IAAAA,IAApC;EAA0CC,IAAAA,KAA1C;EAAiDC,IAAAA,KAAjD;EAAwD9K,IAAAA;EAAxD,MAAkEnT,KAAtE;;EACA,MAAI,CAAC4d,EAAL,EAAS;EACRA,IAAAA,EAAE,GAAG;EAAEF,MAAAA,IAAF;EAAQI,MAAAA,MAAR;EAAgBC,MAAAA,IAAhB;EAAsBC,MAAAA,KAAtB;EAA6BC,MAAAA,KAA7B;EAAoC9K,MAAAA;EAApC,KAAL;EACA,GAFD,MAEO,IAAI,OAAOyK,EAAP,KAAc,QAAlB,EAA4B;EAClCA,IAAAA,EAAE,GAAG;EAAEF,MAAAA,IAAI,EAAEE;EAAR,KAAL;EACA;;EACD,MAAIC,MAAJ,EAAY;EACXD,IAAAA,EAAE,CAACC,MAAH,GAAY,IAAZ;EACA;;EACD,WAAS/B,OAAT,GAAmB;EAClB,QAAI,CAAC2B,KAAD,IAAU,CAACG,EAAf,EAAmB;EAAE;EAAS;;EAC9B,QAAItV,OAAJ,EAAa;EACZmV,MAAAA,KAAK,CAACnV,OAAN,CAAcsV,EAAd;EACA,KAFD,MAEO;EACNH,MAAAA,KAAK,CAAC9f,IAAN,CAAWigB,EAAX;EACA;EACD;;EACD,SAAO,mBAAAH,KAAK,CACVS,OADK,kEACIC,IADJ,CACS,EAAC,GAAGne,KAAJ;EAAW4d,IAAAA;EAAX,GADT,EACyBngB,OADzB,EACkCqe,OADlC,MAEHlY,aAAa,CAAC,MAAD,EAAS;EAAC,cAAUkY;EAAX,GAAT,EAA8B,GAAGrW,UAAjC,CAFjB;EAIA;EACD8N,OAAO,CAACoK,UAAD,CAAP;EACArK,KAAK,CAAC,YAAD,EAAeqK,UAAf,CAAL;;ECjCe,SAASS,iBAAT,GAA6B;EAC3C7T,EAAAA,QAAQ,CAAC,YAAD,EAAe6S,UAAf,CAAR;EACA7S,EAAAA,QAAQ,CAAC,aAAD,EAAgB6S,UAAhB,CAAR;EACA7S,EAAAA,QAAQ,CAAC,YAAD,EAAeoT,UAAf,CAAR;EACApT,EAAAA,QAAQ,CAAC,aAAD,EAAgBoT,UAAhB,CAAR;EACA;;ACLD,mBAAe,CACdS,iBADc,EAEdjB,yBAFc,EAGdL,YAHc,CAAf;;ECFe,SAASxgB,SAAT,CAAiB+hB,IAAjB,EAAqD;;EAEpE,KAAK,MAAM1f,CAAX,IAAgB2f,UAAhB,EAA4B;EAC3B3f,EAAAA,CAAC;EACD;;ECNM,SAAS4f,SAAT,CAAmBb,IAAnB,EAAiC;EACvCA,EAAAA,IAAI,GAAI,IAAGA,IAAK,EAAT,CAAWpV,OAAX,CAAmB,YAAnB,EAAiC,IAAjC,CAAP;;EACA,SAAM,sBAAsBtJ,IAAtB,CAA2B0e,IAA3B,CAAN,EAAwC;EACvCA,IAAAA,IAAI,GAAGA,IAAI,CAACpV,OAAL,CAAa,2BAAb,EAA0C,KAA1C,CAAP;EACA;;EACDoV,EAAAA,IAAI,GAAGA,IAAI,CAACpV,OAAL,CAAa,cAAb,EAA6B,IAA7B,CAAP;EACA,SAAOoV,IAAI,IAAI,GAAf;EACA;;ECUD;;;EAGA,SAAS,KAAT,CAAe,GAAf,EAA0B;EACxB,MAAM,MAAM,GAAe,EAA3B;EACA,MAAI,CAAC,GAAG,CAAR;;EAEA,SAAO,CAAC,GAAG,GAAG,CAAC,MAAf,EAAuB;EACrB,QAAM,IAAI,GAAG,GAAG,CAAC,CAAD,CAAhB;;EAEA,QAAI,IAAI,KAAK,GAAT,IAAgB,IAAI,KAAK,GAAzB,IAAgC,IAAI,KAAK,GAA7C,EAAkD;EAChD,MAAA,MAAM,CAAC,IAAP,CAAY;EAAE,QAAA,IAAI,EAAE,UAAR;EAAoB,QAAA,KAAK,EAAE,CAA3B;EAA8B,QAAA,KAAK,EAAE,GAAG,CAAC,CAAC,EAAF;EAAxC,OAAZ;EACA;EACD;;EAED,QAAI,IAAI,KAAK,IAAb,EAAmB;EACjB,MAAA,MAAM,CAAC,IAAP,CAAY;EAAE,QAAA,IAAI,EAAE,cAAR;EAAwB,QAAA,KAAK,EAAE,CAAC,EAAhC;EAAoC,QAAA,KAAK,EAAE,GAAG,CAAC,CAAC,EAAF;EAA9C,OAAZ;EACA;EACD;;EAED,QAAI,IAAI,KAAK,GAAb,EAAkB;EAChB,MAAA,MAAM,CAAC,IAAP,CAAY;EAAE,QAAA,IAAI,EAAE,MAAR;EAAgB,QAAA,KAAK,EAAE,CAAvB;EAA0B,QAAA,KAAK,EAAE,GAAG,CAAC,CAAC,EAAF;EAApC,OAAZ;EACA;EACD;;EAED,QAAI,IAAI,KAAK,GAAb,EAAkB;EAChB,MAAA,MAAM,CAAC,IAAP,CAAY;EAAE,QAAA,IAAI,EAAE,OAAR;EAAiB,QAAA,KAAK,EAAE,CAAxB;EAA2B,QAAA,KAAK,EAAE,GAAG,CAAC,CAAC,EAAF;EAArC,OAAZ;EACA;EACD;;EAED,QAAI,IAAI,KAAK,GAAb,EAAkB;EAChB,UAAI,IAAI,GAAG,EAAX;EACA,UAAI,CAAC,GAAG,CAAC,GAAG,CAAZ;;EAEA,aAAO,CAAC,GAAG,GAAG,CAAC,MAAf,EAAuB;EACrB,YAAM,IAAI,GAAG,GAAG,CAAC,UAAJ,CAAe,CAAf,CAAb;;EAEA;EAEG,QAAA,IAAI,IAAI,EAAR,IAAc,IAAI,IAAI,EAAvB;EAEC,QAAA,IAAI,IAAI,EAAR,IAAc,IAAI,IAAI,EAFvB;EAIC,QAAA,IAAI,IAAI,EAAR,IAAc,IAAI,IAAI,GAJvB;EAMA,QAAA,IAAI,KAAK,EARX,EASE;EACA,UAAA,IAAI,IAAI,GAAG,CAAC,CAAC,EAAF,CAAX;EACA;EACD;;EAED;EACD;;EAED,UAAI,CAAC,IAAL,EAAW,MAAM,IAAI,SAAJ,CAAc,+BAA6B,CAA3C,CAAN;EAEX,MAAA,MAAM,CAAC,IAAP,CAAY;EAAE,QAAA,IAAI,EAAE,MAAR;EAAgB,QAAA,KAAK,EAAE,CAAvB;EAA0B,QAAA,KAAK,EAAE;EAAjC,OAAZ;EACA,MAAA,CAAC,GAAG,CAAJ;EACA;EACD;;EAED,QAAI,IAAI,KAAK,GAAb,EAAkB;EAChB,UAAI,KAAK,GAAG,CAAZ;EACA,UAAI,OAAO,GAAG,EAAd;EACA,UAAI,CAAC,GAAG,CAAC,GAAG,CAAZ;;EAEA,UAAI,GAAG,CAAC,CAAD,CAAH,KAAW,GAAf,EAAoB;EAClB,cAAM,IAAI,SAAJ,CAAc,wCAAoC,CAAlD,CAAN;EACD;;EAED,aAAO,CAAC,GAAG,GAAG,CAAC,MAAf,EAAuB;EACrB,YAAI,GAAG,CAAC,CAAD,CAAH,KAAW,IAAf,EAAqB;EACnB,UAAA,OAAO,IAAI,GAAG,CAAC,CAAC,EAAF,CAAH,GAAW,GAAG,CAAC,CAAC,EAAF,CAAzB;EACA;EACD;;EAED,YAAI,GAAG,CAAC,CAAD,CAAH,KAAW,GAAf,EAAoB;EAClB,UAAA,KAAK;;EACL,cAAI,KAAK,KAAK,CAAd,EAAiB;EACf,YAAA,CAAC;EACD;EACD;EACF,SAND,MAMO,IAAI,GAAG,CAAC,CAAD,CAAH,KAAW,GAAf,EAAoB;EACzB,UAAA,KAAK;;EACL,cAAI,GAAG,CAAC,CAAC,GAAG,CAAL,CAAH,KAAe,GAAnB,EAAwB;EACtB,kBAAM,IAAI,SAAJ,CAAc,yCAAuC,CAArD,CAAN;EACD;EACF;;EAED,QAAA,OAAO,IAAI,GAAG,CAAC,CAAC,EAAF,CAAd;EACD;;EAED,UAAI,KAAJ,EAAW,MAAM,IAAI,SAAJ,CAAc,2BAAyB,CAAvC,CAAN;EACX,UAAI,CAAC,OAAL,EAAc,MAAM,IAAI,SAAJ,CAAc,wBAAsB,CAApC,CAAN;EAEd,MAAA,MAAM,CAAC,IAAP,CAAY;EAAE,QAAA,IAAI,EAAE,SAAR;EAAmB,QAAA,KAAK,EAAE,CAA1B;EAA6B,QAAA,KAAK,EAAE;EAApC,OAAZ;EACA,MAAA,CAAC,GAAG,CAAJ;EACA;EACD;;EAED,IAAA,MAAM,CAAC,IAAP,CAAY;EAAE,MAAA,IAAI,EAAE,MAAR;EAAgB,MAAA,KAAK,EAAE,CAAvB;EAA0B,MAAA,KAAK,EAAE,GAAG,CAAC,CAAC,EAAF;EAApC,KAAZ;EACD;;EAED,EAAA,MAAM,CAAC,IAAP,CAAY;EAAE,IAAA,IAAI,EAAE,KAAR;EAAe,IAAA,KAAK,EAAE,CAAtB;EAAyB,IAAA,KAAK,EAAE;EAAhC,GAAZ;EAEA,SAAO,MAAP;EACD;EAaD;;;;;AAGA,EAAM,SAAU,KAAV,CAAgB,GAAhB,EAA6B,OAA7B,EAAuD;EAA1B,MAAA,OAAA,KAAA,KAAA,CAAA,EAAA;EAAA,IAAA,OAAA,GAAA,EAAA;EAA0B;;EAC3D,MAAM,MAAM,GAAG,KAAK,CAAC,GAAD,CAApB;EACQ,MAAA,EAAA,GAAA,OAAA,CAAA,QAAA;EAAA,MAAA,QAAA,GAAA,EAAA,KAAA,KAAA,CAAA,GAAA,IAAA,GAAA,EAAA;EACR,MAAM,cAAc,GAAG,OAAK,YAAY,CAAC,OAAO,CAAC,SAAR,IAAqB,KAAtB,CAAjB,GAA6C,KAApE;EACA,MAAM,MAAM,GAAY,EAAxB;EACA,MAAI,GAAG,GAAG,CAAV;EACA,MAAI,CAAC,GAAG,CAAR;EACA,MAAI,IAAI,GAAG,EAAX;;EAEA,MAAM,UAAU,GAAG,UAAC,IAAD,EAAuB;EACxC,QAAI,CAAC,GAAG,MAAM,CAAC,MAAX,IAAqB,MAAM,CAAC,CAAD,CAAN,CAAU,IAAV,KAAmB,IAA5C,EAAkD,OAAO,MAAM,CAAC,CAAC,EAAF,CAAN,CAAY,KAAnB;EACnD,GAFD;;EAIA,MAAM,WAAW,GAAG,UAAC,IAAD,EAAuB;EACzC,QAAM,KAAK,GAAG,UAAU,CAAC,IAAD,CAAxB;EACA,QAAI,KAAK,KAAK,SAAd,EAAyB,OAAO,KAAP;EACnB,QAAA,EAAA,GAAA,MAAA,CAAA,CAAA,CAAA;EAAA,QAAE,QAAA,GAAA,EAAA,CAAA,IAAF;EAAA,QAAkB,KAAA,GAAA,EAAA,CAAA,KAAlB;EACN,UAAM,IAAI,SAAJ,CAAc,gBAAc,QAAd,GAAsB,MAAtB,GAA6B,KAA7B,GAAkC,aAAlC,GAAgD,IAA9D,CAAN;EACD,GALD;;EAOA,MAAM,WAAW,GAAG,YAAA;EAClB,QAAI,MAAM,GAAG,EAAb;EACA,QAAI,KAAJ,CAFkB;;EAIlB,WAAQ,KAAK,GAAG,UAAU,CAAC,MAAD,CAAV,IAAsB,UAAU,CAAC,cAAD,CAAhD,EAAmE;EACjE,MAAA,MAAM,IAAI,KAAV;EACD;;EACD,WAAO,MAAP;EACD,GARD;;EAUA,SAAO,CAAC,GAAG,MAAM,CAAC,MAAlB,EAA0B;EACxB,QAAM,IAAI,GAAG,UAAU,CAAC,MAAD,CAAvB;EACA,QAAM,IAAI,GAAG,UAAU,CAAC,MAAD,CAAvB;EACA,QAAM,OAAO,GAAG,UAAU,CAAC,SAAD,CAA1B;;EAEA,QAAI,IAAI,IAAI,OAAZ,EAAqB;EACnB,UAAI,MAAM,GAAG,IAAI,IAAI,EAArB;;EAEA,UAAI,QAAQ,CAAC,OAAT,CAAiB,MAAjB,MAA6B,CAAC,CAAlC,EAAqC;EACnC,QAAA,IAAI,IAAI,MAAR;EACA,QAAA,MAAM,GAAG,EAAT;EACD;;EAED,UAAI,IAAJ,EAAU;EACR,QAAA,MAAM,CAAC,IAAP,CAAY,IAAZ;EACA,QAAA,IAAI,GAAG,EAAP;EACD;;EAED,MAAA,MAAM,CAAC,IAAP,CAAY;EACV,QAAA,IAAI,EAAE,IAAI,IAAI,GAAG,EADP;EAEV,QAAA,MAAM,EAAA,MAFI;EAGV,QAAA,MAAM,EAAE,EAHE;EAIV,QAAA,OAAO,EAAE,OAAO,IAAI,cAJV;EAKV,QAAA,QAAQ,EAAE,UAAU,CAAC,UAAD,CAAV,IAA0B;EAL1B,OAAZ;EAOA;EACD;;EAED,QAAM,KAAK,GAAG,IAAI,IAAI,UAAU,CAAC,cAAD,CAAhC;;EACA,QAAI,KAAJ,EAAW;EACT,MAAA,IAAI,IAAI,KAAR;EACA;EACD;;EAED,QAAI,IAAJ,EAAU;EACR,MAAA,MAAM,CAAC,IAAP,CAAY,IAAZ;EACA,MAAA,IAAI,GAAG,EAAP;EACD;;EAED,QAAM,IAAI,GAAG,UAAU,CAAC,MAAD,CAAvB;;EACA,QAAI,IAAJ,EAAU;EACR,UAAM,MAAM,GAAG,WAAW,EAA1B;EACA,UAAM,MAAI,GAAG,UAAU,CAAC,MAAD,CAAV,IAAsB,EAAnC;EACA,UAAM,SAAO,GAAG,UAAU,CAAC,SAAD,CAAV,IAAyB,EAAzC;EACA,UAAM,MAAM,GAAG,WAAW,EAA1B;EAEA,MAAA,WAAW,CAAC,OAAD,CAAX;EAEA,MAAA,MAAM,CAAC,IAAP,CAAY;EACV,QAAA,IAAI,EAAE,MAAI,KAAK,SAAO,GAAG,GAAG,EAAN,GAAW,EAAvB,CADA;EAEV,QAAA,OAAO,EAAE,MAAI,IAAI,CAAC,SAAT,GAAmB,cAAnB,GAAoC,SAFnC;EAGV,QAAA,MAAM,EAAA,MAHI;EAIV,QAAA,MAAM,EAAA,MAJI;EAKV,QAAA,QAAQ,EAAE,UAAU,CAAC,UAAD,CAAV,IAA0B;EAL1B,OAAZ;EAOA;EACD;;EAED,IAAA,WAAW,CAAC,KAAD,CAAX;EACD;;EAED,SAAO,MAAP;EACD;EAiBD;;;;AAGA,EAAM,SAAU,OAAV,CACJ,GADI,EAEJ,OAFI,EAE4C;EAEhD,SAAO,gBAAgB,CAAI,KAAK,CAAC,GAAD,EAAM,OAAN,CAAT,EAAyB,OAAzB,CAAvB;EACD;EAID;;;;AAGA,EAAM,SAAU,gBAAV,CACJ,MADI,EAEJ,OAFI,EAEiC;EAArC,MAAA,OAAA,KAAA,KAAA,CAAA,EAAA;EAAA,IAAA,OAAA,GAAA,EAAA;EAAqC;;EAErC,MAAM,OAAO,GAAG,KAAK,CAAC,OAAD,CAArB;EACQ,MAAA,EAAA,GAAA,OAAA,CAAA,MAAA;EAAA,MAAA,MAAA,GAAA,EAAA,KAAA,KAAA,CAAA,GAAA,UAAA,CAAA,EAAA;EAAA,WAAA,CAAA;EAAA,GAAA,GAAA,EAAA;EAAA,MAA2B,EAAA,GAAA,OAAA,CAAA,QAA3B;EAAA,MAA2B,QAAA,GAAA,EAAA,KAAA,KAAA,CAAA,GAAA,IAAA,GAAA,EAA3B,CAH6B;;EAMrC,MAAM,OAAO,GAAG,MAAM,CAAC,GAAP,CAAW,UAAA,KAAA,EAAK;EAC9B,QAAI,OAAO,KAAP,KAAiB,QAArB,EAA+B;EAC7B,aAAO,IAAI,MAAJ,CAAW,SAAO,KAAK,CAAC,OAAb,GAAoB,IAA/B,EAAqC,OAArC,CAAP;EACD;EACF,GAJe,CAAhB;EAMA,SAAO,UAAC,IAAD,EAA6C;EAClD,QAAI,IAAI,GAAG,EAAX;;EAEA,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,MAAM,CAAC,MAA3B,EAAmC,CAAC,EAApC,EAAwC;EACtC,UAAM,KAAK,GAAG,MAAM,CAAC,CAAD,CAApB;;EAEA,UAAI,OAAO,KAAP,KAAiB,QAArB,EAA+B;EAC7B,QAAA,IAAI,IAAI,KAAR;EACA;EACD;;EAED,UAAM,KAAK,GAAG,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAP,CAAP,GAAsB,SAAxC;EACA,UAAM,QAAQ,GAAG,KAAK,CAAC,QAAN,KAAmB,GAAnB,IAA0B,KAAK,CAAC,QAAN,KAAmB,GAA9D;EACA,UAAM,MAAM,GAAG,KAAK,CAAC,QAAN,KAAmB,GAAnB,IAA0B,KAAK,CAAC,QAAN,KAAmB,GAA5D;;EAEA,UAAI,KAAK,CAAC,OAAN,CAAc,KAAd,CAAJ,EAA0B;EACxB,YAAI,CAAC,MAAL,EAAa;EACX,gBAAM,IAAI,SAAJ,CACJ,gBAAa,KAAK,CAAC,IAAnB,GAAuB,oCADnB,CAAN;EAGD;;EAED,YAAI,KAAK,CAAC,MAAN,KAAiB,CAArB,EAAwB;EACtB,cAAI,QAAJ,EAAc;EAEd,gBAAM,IAAI,SAAJ,CAAc,gBAAa,KAAK,CAAC,IAAnB,GAAuB,oBAArC,CAAN;EACD;;EAED,aAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,CAAC,MAA1B,EAAkC,CAAC,EAAnC,EAAuC;EACrC,cAAM,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,CAAD,CAAN,EAAW,KAAX,CAAtB;;EAEA,cAAI,QAAQ,IAAI,CAAE,OAAO,CAAC,CAAD,CAAP,CAAsB,IAAtB,CAA2B,OAA3B,CAAlB,EAAuD;EACrD,kBAAM,IAAI,SAAJ,CACJ,oBAAiB,KAAK,CAAC,IAAvB,GAA2B,gBAA3B,GAA0C,KAAK,CAAC,OAAhD,GAAuD,gBAAvD,GAAsE,OAAtE,GAA6E,IADzE,CAAN;EAGD;;EAED,UAAA,IAAI,IAAI,KAAK,CAAC,MAAN,GAAe,OAAf,GAAyB,KAAK,CAAC,MAAvC;EACD;;EAED;EACD;;EAED,UAAI,OAAO,KAAP,KAAiB,QAAjB,IAA6B,OAAO,KAAP,KAAiB,QAAlD,EAA4D;EAC1D,YAAM,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,KAAD,CAAP,EAAgB,KAAhB,CAAtB;;EAEA,YAAI,QAAQ,IAAI,CAAE,OAAO,CAAC,CAAD,CAAP,CAAsB,IAAtB,CAA2B,OAA3B,CAAlB,EAAuD;EACrD,gBAAM,IAAI,SAAJ,CACJ,gBAAa,KAAK,CAAC,IAAnB,GAAuB,gBAAvB,GAAsC,KAAK,CAAC,OAA5C,GAAmD,gBAAnD,GAAkE,OAAlE,GAAyE,IADrE,CAAN;EAGD;;EAED,QAAA,IAAI,IAAI,KAAK,CAAC,MAAN,GAAe,OAAf,GAAyB,KAAK,CAAC,MAAvC;EACA;EACD;;EAED,UAAI,QAAJ,EAAc;EAEd,UAAM,aAAa,GAAG,MAAM,GAAG,UAAH,GAAgB,UAA5C;EACA,YAAM,IAAI,SAAJ,CAAc,gBAAa,KAAK,CAAC,IAAnB,GAAuB,WAAvB,GAAkC,aAAhD,CAAN;EACD;;EAED,WAAO,IAAP;EACD,GA/DD;EAgED;EA8BD;;;;AAGA,EAAM,SAAU,KAAV,CACJ,GADI,EAEJ,OAFI,EAEoE;EAExE,MAAM,IAAI,GAAU,EAApB;EACA,MAAM,EAAE,GAAG,YAAY,CAAC,GAAD,EAAM,IAAN,EAAY,OAAZ,CAAvB;EACA,SAAO,gBAAgB,CAAI,EAAJ,EAAQ,IAAR,EAAc,OAAd,CAAvB;EACD;EAED;;;;AAGA,EAAM,SAAU,gBAAV,CACJ,EADI,EAEJ,IAFI,EAGJ,OAHI,EAGiC;EAArC,MAAA,OAAA,KAAA,KAAA,CAAA,EAAA;EAAA,IAAA,OAAA,GAAA,EAAA;EAAqC;;EAE7B,MAAA,EAAA,GAAA,OAAA,CAAA,MAAA;EAAA,MAAA,MAAA,GAAA,EAAA,KAAA,KAAA,CAAA,GAAA,UAAA,CAAA,EAAA;EAAA,WAAA,CAAA;EAAA,GAAA,GAAA,EAAA;EAER,SAAO,UAAS,QAAT,EAAyB;EAC9B,QAAM,CAAC,GAAG,EAAE,CAAC,IAAH,CAAQ,QAAR,CAAV;EACA,QAAI,CAAC,CAAL,EAAQ,OAAO,KAAP;EAEA,QAAA,IAAA,GAAA,CAAA,CAAA,CAAA,CAAA;EAAA,QAAS,KAAA,GAAA,CAAA,CAAA,KAAT;EACR,QAAM,MAAM,GAAG,MAAM,CAAC,MAAP,CAAc,IAAd,CAAf;;8BAES,GAAC;EACR;EACA,UAAI,CAAC,CAAC,CAAD,CAAD,KAAS,SAAb,SAAiC;EAEjC,UAAM,GAAG,GAAG,IAAI,CAAC,CAAC,GAAG,CAAL,CAAhB;;EAEA,UAAI,GAAG,CAAC,QAAJ,KAAiB,GAAjB,IAAwB,GAAG,CAAC,QAAJ,KAAiB,GAA7C,EAAkD;EAChD,QAAA,MAAM,CAAC,GAAG,CAAC,IAAL,CAAN,GAAmB,CAAC,CAAC,CAAD,CAAD,CAAK,KAAL,CAAW,GAAG,CAAC,MAAJ,GAAa,GAAG,CAAC,MAA5B,EAAoC,GAApC,CAAwC,UAAA,KAAA,EAAK;EAC9D,iBAAO,MAAM,CAAC,KAAD,EAAQ,GAAR,CAAb;EACD,SAFkB,CAAnB;EAGD,OAJD,MAIO;EACL,QAAA,MAAM,CAAC,GAAG,CAAC,IAAL,CAAN,GAAmB,MAAM,CAAC,CAAC,CAAC,CAAD,CAAF,EAAO,GAAP,CAAzB;EACD;;;EAZH,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,CAAC,CAAC,MAAtB,EAA8B,CAAC,EAA/B,EAAiC;gBAAxB;EAaR;;EAED,WAAO;EAAE,MAAA,IAAI,EAAA,IAAN;EAAQ,MAAA,KAAK,EAAA,KAAb;EAAe,MAAA,MAAM,EAAA;EAArB,KAAP;EACD,GAvBD;EAwBD;EAED;;;;EAGA,SAAS,YAAT,CAAsB,GAAtB,EAAiC;EAC/B,SAAO,GAAG,CAAC,OAAJ,CAAY,2BAAZ,EAAyC,MAAzC,CAAP;EACD;EAED;;;;;EAGA,SAAS,KAAT,CAAe,OAAf,EAAgD;EAC9C,SAAO,OAAO,IAAI,OAAO,CAAC,SAAnB,GAA+B,EAA/B,GAAoC,GAA3C;EACD;EAkBD;;;;;EAGA,SAAS,cAAT,CAAwB,IAAxB,EAAsC,IAAtC,EAAkD;EAChD,MAAI,CAAC,IAAL,EAAW,OAAO,IAAP,CADqC;;EAIhD,MAAM,MAAM,GAAG,IAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,WAAlB,CAAf;;EAEA,MAAI,MAAJ,EAAY;EACV,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,MAAM,CAAC,MAA3B,EAAmC,CAAC,EAApC,EAAwC;EACtC,MAAA,IAAI,CAAC,IAAL,CAAU;EACR,QAAA,IAAI,EAAE,CADE;EAER,QAAA,MAAM,EAAE,EAFA;EAGR,QAAA,MAAM,EAAE,EAHA;EAIR,QAAA,QAAQ,EAAE,EAJF;EAKR,QAAA,OAAO,EAAE;EALD,OAAV;EAOD;EACF;;EAED,SAAO,IAAP;EACD;EAED;;;;;EAGA,SAAS,aAAT,CACE,KADF,EAEE,IAFF,EAGE,OAHF,EAGgD;EAE9C,MAAM,KAAK,GAAG,KAAK,CAAC,GAAN,CAAU,UAAA,IAAA,EAAI;EAAI,WAAA,YAAY,CAAC,IAAD,EAAO,IAAP,EAAa,OAAb,CAAZ,CAAA,MAAA;EAAwC,GAA1D,CAAd;EACA,SAAO,IAAI,MAAJ,CAAW,QAAM,KAAK,CAAC,IAAN,CAAW,GAAX,CAAN,GAAqB,GAAhC,EAAqC,KAAK,CAAC,OAAD,CAA1C,CAAP;EACD;EAED;;;;;EAGA,SAAS,cAAT,CACE,IADF,EAEE,IAFF,EAGE,OAHF,EAGgD;EAE9C,SAAO,cAAc,CAAC,KAAK,CAAC,IAAD,EAAO,OAAP,CAAN,EAAuB,IAAvB,EAA6B,OAA7B,CAArB;EACD;EAiCD;;;;;AAGA,EAAM,SAAU,cAAV,CACJ,MADI,EAEJ,IAFI,EAGJ,OAHI,EAG+B;EAAnC,MAAA,OAAA,KAAA,KAAA,CAAA,EAAA;EAAA,IAAA,OAAA,GAAA,EAAA;EAAmC;;EAGjC,MAAA,EAAA,GAAA,OAAA,CAAA,MAAA;EAAA,MAAA,MAAA,GAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,GAAA,EAAA;EAAA,MACA,EAAA,GAAA,OAAA,CAAA,KADA;EAAA,MACA,KAAA,GAAA,EAAA,KAAA,KAAA,CAAA,GAAA,IAAA,GAAA,EADA;EAAA,MAEA,EAAA,GAAA,OAAA,CAAA,GAFA;EAAA,MAEA,GAAA,GAAA,EAAA,KAAA,KAAA,CAAA,GAAA,IAAA,GAAA,EAFA;EAAA,MAGA,EAAA,GAAA,OAAA,CAAA,MAHA;EAAA,MAGA,MAAA,GAAA,EAAA,KAAA,KAAA,CAAA,GAAA,UAAA,CAAA,EAAA;EAAA,WAAA,CAAA;EAAA,GAAA,GAAA,EAHA;EAKF,MAAM,QAAQ,GAAG,MAAI,YAAY,CAAC,OAAO,CAAC,QAAR,IAAoB,EAArB,CAAhB,GAAwC,KAAzD;EACA,MAAM,SAAS,GAAG,MAAI,YAAY,CAAC,OAAO,CAAC,SAAR,IAAqB,KAAtB,CAAhB,GAA4C,GAA9D;EACA,MAAI,KAAK,GAAG,KAAK,GAAG,GAAH,GAAS,EAA1B,CAVmC;;EAanC,OAAoB,IAAA,EAAA,GAAA,CAAA,EAAA,QAAA,GAAA,MAApB,EAAoB,EAAA,GAAA,QAAA,CAAA,MAApB,EAAoB,EAAA,EAApB,EAA4B;EAAvB,QAAM,KAAK,GAAA,QAAA,CAAA,EAAA,CAAX;;EACH,QAAI,OAAO,KAAP,KAAiB,QAArB,EAA+B;EAC7B,MAAA,KAAK,IAAI,YAAY,CAAC,MAAM,CAAC,KAAD,CAAP,CAArB;EACD,KAFD,MAEO;EACL,UAAM,MAAM,GAAG,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,MAAP,CAAP,CAA3B;EACA,UAAM,MAAM,GAAG,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,MAAP,CAAP,CAA3B;;EAEA,UAAI,KAAK,CAAC,OAAV,EAAmB;EACjB,YAAI,IAAJ,EAAU,IAAI,CAAC,IAAL,CAAU,KAAV;;EAEV,YAAI,MAAM,IAAI,MAAd,EAAsB;EACpB,cAAI,KAAK,CAAC,QAAN,KAAmB,GAAnB,IAA0B,KAAK,CAAC,QAAN,KAAmB,GAAjD,EAAsD;EACpD,gBAAM,GAAG,GAAG,KAAK,CAAC,QAAN,KAAmB,GAAnB,GAAyB,GAAzB,GAA+B,EAA3C;EACA,YAAA,KAAK,IAAI,QAAM,MAAN,GAAY,MAAZ,GAAmB,KAAK,CAAC,OAAzB,GAAgC,MAAhC,GAAuC,MAAvC,GAAgD,MAAhD,GAAsD,KAAtD,GAA4D,KAAK,CAAC,OAAlE,GAAyE,MAAzE,GAAgF,MAAhF,GAAsF,GAAtF,GAA0F,GAAnG;EACD,WAHD,MAGO;EACL,YAAA,KAAK,IAAI,QAAM,MAAN,GAAY,GAAZ,GAAgB,KAAK,CAAC,OAAtB,GAA6B,GAA7B,GAAiC,MAAjC,GAAuC,GAAvC,GAA2C,KAAK,CAAC,QAA1D;EACD;EACF,SAPD,MAOO;EACL,UAAA,KAAK,IAAI,MAAI,KAAK,CAAC,OAAV,GAAiB,GAAjB,GAAqB,KAAK,CAAC,QAApC;EACD;EACF,OAbD,MAaO;EACL,QAAA,KAAK,IAAI,QAAM,MAAN,GAAe,MAAf,GAAqB,GAArB,GAAyB,KAAK,CAAC,QAAxC;EACD;EACF;EACF;;EAED,MAAI,GAAJ,EAAS;EACP,QAAI,CAAC,MAAL,EAAa,KAAK,IAAO,SAAS,GAAA,GAArB;EAEb,IAAA,KAAK,IAAI,CAAC,OAAO,CAAC,QAAT,GAAoB,GAApB,GAA0B,QAAM,QAAN,GAAc,GAAjD;EACD,GAJD,MAIO;EACL,QAAM,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,MAAP,GAAgB,CAAjB,CAAvB;EACA,QAAM,cAAc,GAClB,OAAO,QAAP,KAAoB,QAApB,GACI,SAAS,CAAC,OAAV,CAAkB,QAAQ,CAAC,QAAQ,CAAC,MAAT,GAAkB,CAAnB,CAA1B,IAAmD,CAAC,CADxD;EAGI,IAAA,QAAQ,KAAK,SAJnB;;EAMA,QAAI,CAAC,MAAL,EAAa;EACX,MAAA,KAAK,IAAI,QAAM,SAAN,GAAe,KAAf,GAAqB,QAArB,GAA6B,KAAtC;EACD;;EAED,QAAI,CAAC,cAAL,EAAqB;EACnB,MAAA,KAAK,IAAI,QAAM,SAAN,GAAe,GAAf,GAAmB,QAAnB,GAA2B,GAApC;EACD;EACF;;EAED,SAAO,IAAI,MAAJ,CAAW,KAAX,EAAkB,KAAK,CAAC,OAAD,CAAvB,CAAP;EACD;EAOD;;;;;;;;AAOA,EAAM,SAAU,YAAV,CACJ,IADI,EAEJ,IAFI,EAGJ,OAHI,EAG0C;EAE9C,MAAI,IAAI,YAAY,MAApB,EAA4B,OAAO,cAAc,CAAC,IAAD,EAAO,IAAP,CAArB;EAC5B,MAAI,KAAK,CAAC,OAAN,CAAc,IAAd,CAAJ,EAAyB,OAAO,aAAa,CAAC,IAAD,EAAO,IAAP,EAAa,OAAb,CAApB;EACzB,SAAO,cAAc,CAAC,IAAD,EAAO,IAAP,EAAa,OAAb,CAArB;EACD;;EClmBM,SAASc,QAAT,CACNhS,GADM,EAENiS,KAFM,EAGN/V,MAHM,EAIL;EACD,MAAI;EAAEgV,IAAAA,IAAF;EAAQ5Z,IAAAA,QAAR;EAAkBma,IAAAA,KAAlB;EAAyBS,IAAAA,IAAzB;EAA+B7X,IAAAA,SAA/B;EAA0CyD,IAAAA,UAA1C;EAAsD,OAAG9K;EAAzD,MAA+DgN,GAAnE;EACA,MAAImS,GAAG,GAAG,EAAEtf,KAAK,CAACC,OAAN,CAAcwE,QAAd,KAA2BA,QAAQ,CAAC7G,MAAtC,CAAV;;EACA,MAAI,CAACygB,IAAD,IAASA,IAAI,KAAK,GAAtB,EAA2B;EAC1BA,IAAAA,IAAI,GAAG,EAAP;EACAiB,IAAAA,GAAG,GAAG,KAAN;EACA;;EACD,MAAIjB,IAAI,CAAC,CAAD,CAAJ,KAAY,GAAhB,EAAqB;EACpBA,IAAAA,IAAI,GAAI,GAAE,CAAAhV,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEgV,IAAR,KAAgB,EAAG,IAAGA,IAAK,EAArC;EACA;;EACDA,EAAAA,IAAI,GAAGa,SAAS,CAACb,IAAD,CAAhB;;EACA,MAAI7W,SAAJ,EAAe;EACd,QAAI,CAACyD,UAAL,EAAiB;EAChBA,MAAAA,UAAU,GAAG,EAAb;EACA;;EACDA,IAAAA,UAAU,CAACrO,OAAX,GAAqB4K,SAArB;EACA;;EACD,QAAMa,IAAW,GAAG,EACnB,GAAGlI,CADgB;EAEnBke,IAAAA,IAFmB;EAGnBO,IAAAA,KAHmB;EAInBpX,IAAAA,SAJmB;EAKnByD,IAAAA,UALmB;EAMnBoU,IAAAA,IAAI,EAAEA,IAAI,IAAI,EANK;EAOnBE,IAAAA,MAAM,EAAEC,OAAO,CAACnB,IAAI,IAAI,EAAT,EAAa;EAAEoB,MAAAA,MAAM,EAAEC;EAAV,KAAb,CAPI;EAQnBvB,IAAAA,KAAK,EAAEA,KAAK,CAACE,IAAI,IAAI,EAAT,EAAa;EAACiB,MAAAA,GAAD;EAAMK,MAAAA,MAAM,EAAEC;EAAd,KAAb;EARO,GAApB;;EAUA,MAAIhB,KAAJ,EAAW;EAAEQ,IAAAA,KAAK,CAACR,KAAD,CAAL,GAAevW,IAAf;EAAsB;;EACnC,MAAIrI,KAAK,CAACC,OAAN,CAAcwE,QAAd,CAAJ,EAA6B;EAC5B4D,IAAAA,IAAI,CAAC5D,QAAL,GAAgBA,QAAQ,CAACzJ,GAAT,CAAa4U,CAAC,IAAIuP,QAAQ,CAACvP,CAAD,EAAIwP,KAAJ,EAAW/W,IAAX,CAA1B,CAAhB;EACA;;EACD,SAAOA,IAAP;EACA;AAED,EAAO,UAAUwX,WAAV,CAAsBxB,IAAtB,EAAoCyB,MAAe,GAAG,EAAtD,EAA0E;EAChF,OAAK,MAAM1B,KAAX,IAAoB0B,MAApB,EAA4B;EAC3B,UAAM5T,MAAM,GAAGkS,KAAK,CAACD,KAAN,CAAYE,IAAZ,CAAf;;EACA,QAAI,CAACnS,MAAL,EAAa;EAAE;EAAW;;EAC1B,QAAIkS,KAAK,CAACnT,UAAN,IAAoBmT,KAAK,CAAC2B,QAA9B,EAAwC;EACvC,YAAM,EAAE,GAAG7T,MAAL;EAAakS,QAAAA;EAAb,OAAN;EACA;;EACD,QAAI,CAACA,KAAK,CAAC2B,QAAX,EAAqB;EACpB,aAAOF,WAAW,CAACxB,IAAD,EAAOD,KAAK,CAAC3Z,QAAb,CAAlB;EACA;;EACD;EACA;EACD;;ECvDD,SAASsX,UAAT,CAAkB1f,CAAlB,EAAqD;EACpD,MAAIA,CAAC,KAAKoH,SAAV,EAAqB;EAAE,WAAOA,SAAP;EAAmB;;EAC1C,MAAIpH,CAAC,KAAK,IAAV,EAAgB;EAAE,WAAO,IAAP;EAAc;;EAChC,MAAIA,CAAC,KAAK,KAAV,EAAiB;EAAE,WAAOoH,SAAP;EAAmB;;EACtC,MAAI,OAAOpH,CAAP,KAAa,QAAb,IAAyB,CAAC0a,MAAM,CAACiJ,QAAP,CAAgB3jB,CAAhB,CAA9B,EAAkD;EAAE;EAAS;;EAC7D,MAAI,OAAOA,CAAP,KAAa,UAAjB,EAA6B;EAAE;EAAS;;EACxC,SAAOqjB,kBAAkB,CAAC3kB,MAAM,CAACsB,CAAD,CAAP,CAAzB;EACA;;AACD,EAAO,SAAS6a,WAAT,CAAmB+I,CAAnB,EAAmC;EACzC,QAAMjhB,IAAc,GAAG,EAAvB;;EACA,OAAK,MAAMvD,GAAX,IAAkBC,MAAM,CAAC0E,IAAP,CAAY6f,CAAZ,CAAlB,EAAkC;EACjC,UAAMhlB,KAAK,GAAGglB,CAAC,CAACxkB,GAAD,CAAf;EACA,UAAMgE,CAAC,GAAGigB,kBAAkB,CAACjkB,GAAD,CAA5B;;EACA,QAAI,CAACuE,KAAK,CAACC,OAAN,CAAchF,KAAd,CAAL,EAA2B;EAC1B,YAAMoB,CAAC,GAAG0f,UAAQ,CAAC9gB,KAAD,CAAlB;;EACA,UAAIoB,CAAC,KAAKoH,SAAV,EAAqB;EAAE;EAAW;;EAClCzE,MAAAA,IAAI,CAACV,IAAL,CAAUjC,CAAC,KAAK,IAAN,GAAaoD,CAAb,GAAkB,GAAEA,CAAE,IAAGpD,CAAE,EAArC;EACA;EACA;;EACD,SAAK,MAAM6jB,GAAX,IAAkBjlB,KAAlB,EAAyB;EACxB,YAAMoB,CAAC,GAAG0f,UAAQ,CAACmE,GAAD,CAAlB;;EACA,UAAI7jB,CAAC,KAAKoH,SAAV,EAAqB;EAAE;EAAW;;EAClCzE,MAAAA,IAAI,CAACV,IAAL,CAAUjC,CAAC,KAAK,IAAN,GAAaoD,CAAb,GAAkB,GAAEA,CAAE,IAAGpD,CAAE,EAArC;EACA;EACD;;EACD,SAAO2C,IAAI,CAACkW,IAAL,CAAU,GAAV,CAAP;EACA;AAED,EAAO,SAASiL,OAAT,CAAeF,CAAf,EAAkC;EACxC,QAAMtB,KAAK,GAAGjjB,MAAM,CAACe,MAAP,CAAc,IAAd,CAAd;;EACA,WAAS0G,GAAT,CAAa1D,CAAb,EAAwBpD,CAAgB,GAAG,IAA3C,EAAiD;EAChD,QAAI,EAAEoD,CAAC,IAAIkf,KAAP,CAAJ,EAAmB;EAClBA,MAAAA,KAAK,CAAClf,CAAD,CAAL,GAAWpD,CAAX;EACA;EACA;;EACD,UAAM4K,EAAE,GAAG0X,KAAK,CAAClf,CAAD,CAAhB;;EACA,QAAIO,KAAK,CAACC,OAAN,CAAcgH,EAAd,CAAJ,EAAuB;EACtBA,MAAAA,EAAE,CAAC3I,IAAH,CAAQjC,CAAR;EACA,KAFD,MAEO;EACNsiB,MAAAA,KAAK,CAAClf,CAAD,CAAL,GAAW,CAACwH,EAAD,EAAK5K,CAAL,CAAX;EACA;EAED;;EACD,OAAK,MAAM4K,EAAX,IAAiBgZ,CAAC,CAACrL,KAAF,CAAQ,GAAR,CAAjB,EAA+B;EAC9B,UAAMrR,KAAK,GAAG0D,EAAE,CAACmZ,OAAH,CAAW,GAAX,CAAd;;EACA,QAAI7c,KAAK,GAAG,CAAZ,EAAe;EACdJ,MAAAA,GAAG,CAACyc,kBAAkB,CAAC3Y,EAAD,CAAnB,CAAH;EACA;EACA;;EACD,UAAMxH,CAAC,GAAGmgB,kBAAkB,CAAC3Y,EAAE,CAACvH,MAAH,CAAU,CAAV,EAAa6D,KAAb,CAAD,CAA5B;EACA,UAAMlH,CAAC,GAAGujB,kBAAkB,CAAC3Y,EAAE,CAACvH,MAAH,CAAU6D,KAAK,GAAG,CAAlB,CAAD,CAA5B;EACAJ,IAAAA,GAAG,CAAC1D,CAAD,EAAIpD,CAAJ,CAAH;EACA;;EACD,SAAOsiB,KAAP;EACA;;EClDc,MAAM0B,YAAN,CAAuC;EAErDpkB,EAAAA,WAAW,CAAC0hB,MAAD,EAAiB;EAAA;;EAAA,qCAGpB,CAHoB;;EAAA,uCAIe,EAJf;;EAC3B,SAAKA,MAAL,GAAcA,MAAd;EACA;;EAGDrf,EAAAA,IAAI,CACH+f,IADG,EAEHI,MAFG,EAGHC,IAHG,EAIH4B,KAJG,EAKF;EACD,SAAKzB,OAAL,CAAajhB,MAAb,GAAsB,KAAK2F,KAAL,GAAa,CAAnC;EACA,SAAKA,KAAL;EACA,SAAKsb,OAAL,CAAavgB,IAAb,CAAkB,CAAC+f,IAAD,EAAOI,MAAP,EAAeC,IAAf,EAAqB4B,KAArB,CAAlB;EACA;;EACDrX,EAAAA,OAAO,CACNoV,IADM,EAENI,MAFM,EAGNC,IAHM,EAIN4B,KAJM,EAKL;EACD,SAAKzB,OAAL,CAAa,KAAKtb,KAAlB,IAA2B,CAAC8a,IAAD,EAAOI,MAAP,EAAeC,IAAf,EAAqB4B,KAArB,CAA3B;EACA;;EACDC,EAAAA,EAAE,CAAChd,KAAD,EAAgB;EACjB,QAAIid,QAAQ,GAAG,KAAKjd,KAAL,GAAaA,KAA5B;;EACA,QAAIid,QAAQ,IAAI,KAAK3B,OAAL,CAAajhB,MAA7B,EAAqC;EAAE;EAAS;;EAChD,QAAI4iB,QAAQ,GAAG,CAAf,EAAkB;EAAE;EAAS;;EAC7B,QAAIA,QAAQ,KAAK,KAAKjd,KAAtB,EAA6B;EAAE;EAAS;;EACxC,SAAKA,KAAL,GAAaid,QAAb;EACA,WAAO,KAAK3B,OAAL,CAAa2B,QAAb,CAAP;EACA;;EACDC,EAAAA,IAAI,GAAG;EACN,WAAO,KAAKF,EAAL,CAAQ,CAAC,CAAT,CAAP;EACA;;EACDG,EAAAA,OAAO,GAAG;EACT,WAAO,KAAKH,EAAL,CAAQ,CAAR,CAAP;EACA;;EACDzB,EAAAA,IAAI,CACH;EAAE9b,IAAAA,EAAF;EAAMoS,IAAAA,KAAK,EAAEoE,SAAb;EAAwBjE,IAAAA;EAAxB,GADG,EAEH;EAAEnP,IAAAA,UAAF;EAAclF,IAAAA;EAAd,GAFG,EAGHyf,OAHG,EAIF;EACD,WAAOpc,aAAa,CAAC,MAAD,EAAS;EAC5BvB,MAAAA,EAD4B;EACxBoS,MAAAA,KAAK,EAAEoE,SADiB;EACNjE,MAAAA,KADM;EAE5B,cAAQrU,IAAI,CAACG,IAAL,CAAU,OAAV,CAFoB;EAG5B,gBAAU,CAAC,GAAGuf,GAAJ,KAAiB;EAC1B,YAAI,CAAC1f,IAAI,CAAC,OAAD,EAAU,GAAG0f,GAAb,CAAT,EAA4B;EAAE;EAAS;;EACvCD,QAAAA,OAAO;EACP;EAN2B,KAAT,EAOjB,GAAGva,UAPc,CAApB;EAQA;;EApDoD;;ECCvC,MAAMya,cAAN,CAAyC;EAGvD5kB,EAAAA,WAAW,CAAC0hB,MAAD,EAAiBmD,GAAjB,EAER;EAAA;;EAAA;;EACF,SAAKnD,MAAL,GAAcA,MAAd;EACA,QAAIoD,IAAI,GAAG7B,SAAS,CAAC,CAAA4B,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEC,IAAL,KAAa,EAAd,CAApB;EACA,SAAKA,IAAL,GAAYA,IAAI,KAAK,GAAT,GAAe,EAAf,GAAoBA,IAAhC;;EACA,UAAMzhB,CAAC,GAAG,MAAM;EACf,WAAKqe,MAAL,CAAYtO,OAAZ,CACC,KAAK2R,OAAL,EADD,EAECC,QAAQ,CAACxC,MAFV,EAGCwC,QAAQ,CAACvC,IAHV,EAICG,OAAO,CAACyB,KAJT;EAMA,KAPD;;EAQA/H,IAAAA,MAAM,CAACL,gBAAP,CAAwB,UAAxB,EAAoC5Y,CAApC;;EACA,SAAKiQ,OAAL,GAAe,MAAM;EACpB,WAAKA,OAAL,GAAe,MAAM,EAArB;;EACAgJ,MAAAA,MAAM,CAACJ,mBAAP,CAA2B,UAA3B,EAAuC7Y,CAAvC;EACA,KAHD;EAIA;;EACD4hB,EAAAA,KAAK,GAAG;EACP,SAAKvD,MAAL,CAAYtO,OAAZ,CACC,KAAK2R,OAAL,EADD,EAECC,QAAQ,CAACxC,MAFV,EAGCwC,QAAQ,CAACvC,IAHV,EAICG,OAAO,CAACyB,KAJT;EAMA;;EACD/Q,EAAAA,OAAO,GAAG;;EACVjR,EAAAA,IAAI,CACH+f,IADG,EAEHI,MAFG,EAGHC,IAHG,EAIH4B,KAJG,EAKF;EACDzB,IAAAA,OAAO,CAACsC,SAAR,CAAkBb,KAAlB,EAAyB,EAAzB,EAA8B,GAAE,KAAKS,IAAK,GAAE1C,IAAK,GAAEI,MAAO,GAAEC,IAAK,EAAjE;EACA;;EACDzV,EAAAA,OAAO,CACNoV,IADM,EAENI,MAFM,EAGNC,IAHM,EAIN4B,KAJM,EAKL;EACDzB,IAAAA,OAAO,CAACuC,YAAR,CAAqBd,KAArB,EAA4B,EAA5B,EAAiC,GAAE,KAAKS,IAAK,GAAE1C,IAAK,GAAEI,MAAO,GAAEC,IAAK,EAApE;EACA;;EACOsC,EAAAA,OAAR,GAAkB;EACjB,UAAM3C,IAAI,GAAG4C,QAAQ,CAACI,QAAtB;EACA,UAAM;EAAEN,MAAAA;EAAF,QAAW,IAAjB;;EACA,QAAI,CAACA,IAAL,EAAW;EAAE,aAAO1C,IAAP;EAAc;;EAC3B,QAAIA,IAAI,CAAC+B,OAAL,CAAc,GAAEW,IAAK,GAArB,MAA6B,CAAjC,EAAoC;EAAE,aAAO1C,IAAP;EAAc;;EACpD,WAAOA,IAAI,CAAC3e,MAAL,CAAYqhB,IAAI,CAACnjB,MAAjB,CAAP;EACA;;EACD2iB,EAAAA,EAAE,CAAChd,KAAD,EAAgB;EACjB,UAAMqG,GAAG,GAAG;EACXyU,MAAAA,IAAI,EAAE,KAAK2C,OAAL,EADK;EAEXvC,MAAAA,MAAM,EAAEwC,QAAQ,CAACxC,MAFN;EAGXC,MAAAA,IAAI,EAAEuC,QAAQ,CAACvC,IAHJ;EAIX4B,MAAAA,KAAK,EAAEzB,OAAO,CAACyB;EAJJ,KAAZ;EAMAzB,IAAAA,OAAO,CAAC0B,EAAR,CAAWhd,KAAX;EACA,UAAM8a,IAAI,GAAG,KAAK2C,OAAL,EAAb;EACA,UAAMvC,MAAM,GAAGwC,QAAQ,CAACxC,MAAxB;EACA,UAAMC,IAAI,GAAGuC,QAAQ,CAACvC,IAAtB;EACA,UAAM4B,KAAK,GAAGzB,OAAO,CAACyB,KAAtB;;EACA,QACCjC,IAAI,KAAKzU,GAAG,CAACyU,IAAb,IACGI,MAAM,KAAK7U,GAAG,CAAC6U,MADlB,IAEGC,IAAI,KAAK9U,GAAG,CAAC8U,IAFhB,IAGG4B,KAAK,KAAK1W,GAAG,CAAC0W,KAJlB,EAKE;EACD,aAAO,CAACjC,IAAD,EAAOI,MAAP,EAAeC,IAAf,EAAqB4B,KAArB,CAAP;EACA;EACD;;EACDG,EAAAA,IAAI,GAAG;EACN,WAAO,KAAKF,EAAL,CAAQ,CAAC,CAAT,CAAP;EACA;;EACDG,EAAAA,OAAO,GAAG;EACT,WAAO,KAAKH,EAAL,CAAQ,CAAR,CAAP;EACA;;EACDzB,EAAAA,IAAI,CACH;EAAEP,IAAAA,EAAF;EAAM9B,IAAAA,OAAN;EAAezZ,IAAAA,EAAf;EAAmBoS,IAAAA,KAAK,EAAEoE,SAA1B;EAAqCjE,IAAAA;EAArC,GADG,EAEH;EAAEnP,IAAAA,UAAF;EAAclF,IAAAA;EAAd,GAFG,EAGHyf,OAHG,EAIF;EACD,WAAOpc,aAAa,CAAC,GAAD,EAAM;EACzBvB,MAAAA,EADyB;EACrBoS,MAAAA,KAAK,EAAEoE,SADc;EACHjE,MAAAA,KADG;EAEzB+L,MAAAA,IAAI,EAAG,GAAE,KAAKP,IAAK,GAAE,KAAKpD,MAAL,CAAY4D,MAAZ,CAAmBhD,EAAnB,CAAuB,EAFnB;EAGzB,cAAQrd,IAAI,CAACG,IAAL,CAAU,OAAV,CAHiB;EAIzB,gBAAWQ,CAAD,IAAmB;EAC5B,YAAI2f,MAAM,GAAG,CAACtgB,IAAI,CAAC,OAAD,EAAUW,CAAV,CAAlB;;EACA,YAAI,OAAO4a,OAAP,KAAmB,UAAvB,EAAmC;EAClCA,UAAAA,OAAO,CAAC5a,CAAD,CAAP;EACA;;EACD,YAAIA,CAAC,CAAC4f,gBAAN,EAAwB;EAAE;EAAS;;EACnC5f,QAAAA,CAAC,CAAC6f,cAAF;;EACA,YAAIF,MAAJ,EAAY;EAAE;EAAS;;EACvBb,QAAAA,OAAO;EACP;EAbwB,KAAN,EAcjB,GAAGva,UAdc,CAApB;EAeA;;EAtGsD;;ECDxD,SAAS+Z,OAAT,CAAehgB,CAAf,EAAoD;EACnD,QAAM+L,MAAM,GAAG,qCAAqCS,IAArC,CAA0CxM,CAA1C,CAAf;;EACA,MAAI,CAAC+L,MAAL,EAAa;EAAE,WAAO,CAAC,GAAD,EAAM,EAAN,EAAU,EAAV,CAAP;EAAuB;;EACtC,SAAO,CAACA,MAAM,CAAC,CAAD,CAAN,IAAa,GAAd,EAAmBA,MAAM,CAAC,CAAD,CAAzB,EAA8BA,MAAM,CAAC,CAAD,CAApC,CAAP;EACA;;AAED,EAAe,MAAM2U,gBAAN,CAAyC;EAEvD5kB,EAAAA,WAAW,CAAC0hB,MAAD,EAAiB;EAAA;;EAC3B,SAAKA,MAAL,GAAcA,MAAd;;EACA,UAAMre,CAAC,GAAG,MAAM;EACf,YAAM,CAAC+e,IAAD,EAAOI,MAAP,EAAeC,IAAf,IAAuByB,OAAK,CAACc,QAAQ,CAACvC,IAAT,CAAchf,MAAd,CAAqB,CAArB,CAAD,CAAlC;;EACA,WAAKie,MAAL,CAAYtO,OAAZ,CAAoBgP,IAApB,EAA0BI,MAA1B,EAAkCC,IAAlC;EACA,KAHD;;EAIAnG,IAAAA,MAAM,CAACL,gBAAP,CAAwB,YAAxB,EAAsC5Y,CAAtC;;EACA,SAAKiQ,OAAL,GAAe,MAAM;EACpB,WAAKA,OAAL,GAAe,MAAM,EAArB;;EACAgJ,MAAAA,MAAM,CAACJ,mBAAP,CAA2B,YAA3B,EAAyC7Y,CAAzC;EACA,KAHD;EAIA;;EACD4hB,EAAAA,KAAK,GAAG;EACP,UAAM,CAAC7C,IAAD,EAAOI,MAAP,EAAeC,IAAf,IAAuByB,OAAK,CAACc,QAAQ,CAACvC,IAAT,CAAchf,MAAd,CAAqB,CAArB,CAAD,CAAlC;;EACA,SAAKie,MAAL,CAAYtO,OAAZ,CAAoBgP,IAApB,EAA0BI,MAA1B,EAAkCC,IAAlC;EACA;;EACDnP,EAAAA,OAAO,GAAG;;EACVjR,EAAAA,IAAI,CAAC+f,IAAD,EAAeI,MAAf,EAA+BC,IAA/B,EAA6C;EAChDuC,IAAAA,QAAQ,CAACvC,IAAT,GAAiB,IAAGL,IAAK,GAAEI,MAAO,GAAEC,IAAK,EAAzC;EACA;;EACDzV,EAAAA,OAAO,CAACoV,IAAD,EAAeI,MAAf,EAA+BC,IAA/B,EAA6C;EACnDuC,IAAAA,QAAQ,CAAChY,OAAT,CAAkB,IAAGoV,IAAK,GAAEI,MAAO,GAAEC,IAAK,EAA1C;EACA;;EACD6B,EAAAA,EAAE,CAAChd,KAAD,EAAgB;EACjB,UAAMoe,OAAO,GAAGV,QAAQ,CAACvC,IAAzB;EACAG,IAAAA,OAAO,CAAC0B,EAAR,CAAWhd,KAAX;EACA,UAAMmb,IAAI,GAAGuC,QAAQ,CAACvC,IAAtB;;EACA,QAAIA,IAAI,KAAKiD,OAAb,EAAsB;EAAE;EAAS;;EACjC,WAAO,CAAC,GAAGxB,OAAK,CAACzB,IAAI,CAAChf,MAAL,CAAY,CAAZ,CAAD,CAAT,EAA2B+D,SAA3B,CAAP;EACA;;EACDgd,EAAAA,IAAI,GAAG;EACN,WAAO,KAAKF,EAAL,CAAQ,CAAC,CAAT,CAAP;EACA;;EACDG,EAAAA,OAAO,GAAG;EACT,WAAO,KAAKH,EAAL,CAAQ,CAAR,CAAP;EACA;;EACDzB,EAAAA,IAAI,CACH;EAAEP,IAAAA,EAAF;EAAM9B,IAAAA,OAAN;EAAezZ,IAAAA,EAAf;EAAmBoS,IAAAA,KAAK,EAAEoE,SAA1B;EAAqCjE,IAAAA;EAArC,GADG,EAEH;EAAEnP,IAAAA,UAAF;EAAclF,IAAAA;EAAd,GAFG,EAGHyf,OAHG,EAIF;EACD,WAAOpc,aAAa,CAAC,GAAD,EAAM;EACzBvB,MAAAA,EADyB;EACrBoS,MAAAA,KAAK,EAAEoE,SADc;EACHjE,MAAAA,KADG;EAEzB+L,MAAAA,IAAI,EAAG,IAAG,KAAK3D,MAAL,CAAY4D,MAAZ,CAAmBhD,EAAnB,CAAuB,EAFR;EAGzB,cAAQrd,IAAI,CAACG,IAAL,CAAU,OAAV,CAHiB;EAIzB,gBAAWQ,CAAD,IAAmB;EAC5B,YAAI2f,MAAM,GAAG,CAACtgB,IAAI,CAAC,OAAD,EAAUW,CAAV,CAAlB;;EACA,YAAI,OAAO4a,OAAP,KAAmB,UAAvB,EAAmC;EAClCA,UAAAA,OAAO,CAAC5a,CAAD,CAAP;EACA;;EACD,YAAIA,CAAC,CAAC4f,gBAAN,EAAwB;EAAE;EAAS;;EACnC5f,QAAAA,CAAC,CAAC6f,cAAF;;EACA,YAAIF,MAAJ,EAAY;EAAE;EAAS;;EACvBb,QAAAA,OAAO;EACP;EAbwB,KAAN,EAcjB,GAAGva,UAdc,CAApB;EAeA;;EA1DsD;;;;;;;;;;;ECCxD,SAAS7E,GAAT,CACC0f,QADD,EAECnB,MAFD,EAGC8B,QAHD,EAICC,cAAc,GAAG3K,WAJlB,EASE;EACD,MAAI,OAAO+J,QAAP,KAAoB,QAAxB,EAAkC;EAAEA,IAAAA,QAAQ,GAAG;EAAE5C,MAAAA,IAAI,EAAE4C;EAAR,KAAX;EAAgC;;EAEpE,QAAM7C,KAAK,GAAG6C,QAAQ,CAACrC,KAAT,IAAkBkB,MAAM,CAACmB,QAAQ,CAACrC,KAAV,CAAtC;EACA,QAAM1S,MAAM,GAAG+U,QAAQ,CAAC5C,IAAT,IAAiB,qCAC9B1R,IAD8B,CACzBsU,QAAQ,CAAC5C,IADgB,CAAhC;EAEA,MAAIA,IAAI,GAAG,CAAAnS,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAG,CAAH,CAAN,KAAe,EAA1B;;EACA,MAAI,CAACmS,IAAL,EAAW;EACVA,IAAAA,IAAI,GAAGD,KAAK,GAAGA,KAAK,CAACmB,MAAN,CAAa0B,QAAQ,CAACnN,MAAT,IAAmB,EAAhC,CAAH,GAAyC8N,QAArD;EACA,GAFD,MAEO,IAAIxD,KAAJ,EAAW;EACjB,QAAI0D,SAAS,GAAG1D,KAAK,CAACmB,MAAN,CAAa0B,QAAQ,CAACnN,MAAT,IAAmB,EAAhC,CAAhB;;EACA,QAAI,CAACmN,QAAQ,CAACzC,MAAd,EAAsB;EACrBsD,MAAAA,SAAS,GAAGA,SAAS,CAAC7Y,OAAV,CAAkB,aAAlB,EAAiC,EAAjC,CAAZ;EACA;;EACDoV,IAAAA,IAAI,GAAI,GAAED,KAAK,CAACmB,MAAN,CAAa0B,QAAQ,CAACnN,MAAT,IAAmB,EAAhC,CAAoC,IAAGuK,IAAK,EAAtD;EACA,GANM,MAMA,IAAI4C,QAAQ,CAACzC,MAAb,EAAqB;EAC3BH,IAAAA,IAAI,GAAI,GAAEuD,QAAS,IAAGvD,IAAK,EAA3B;EACA;;EAAC,MAAIA,IAAI,CAAC,CAAD,CAAJ,KAAY,GAAhB,EAAqB;EACtBA,IAAAA,IAAI,GAAI,GAAEuD,QAAQ,CAAC3Y,OAAT,CAAiB,aAAjB,EAAgC,EAAhC,CAAoC,IAAGoV,IAAK,EAAtD;EACA;;EACDA,EAAAA,IAAI,GAAGa,SAAS,CAACb,IAAD,CAAhB;EACA,QAAMI,MAAM,GAAGwC,QAAQ,CAACtC,KAAT,IAAmB,IAAIkD,cAAc,CAACZ,QAAQ,CAACtC,KAAV,CAAkB,EAAvD,IACXsC,QAAQ,CAACxC,MADE,KACQvS,MADR,aACQA,MADR,uBACQA,MAAM,CAAG,CAAH,CADd,KACuB,EADtC;EAEA,QAAMwS,IAAI,GAAGuC,QAAQ,CAACvC,IAAT,KAAiBxS,MAAjB,aAAiBA,MAAjB,uBAAiBA,MAAM,CAAG,CAAH,CAAvB,KAAgC,EAA7C;EACA,SAAO;EAAEmS,IAAAA,IAAF;EAAQI,IAAAA,MAAR;EAAgBC,IAAAA;EAAhB,GAAP;EACA;;EAED,SAASpe,QAAT,CACC9E,GADD,EAECmF,KAAU,GAAG,EAFd,EAGE;EACD,QAAMyP,OAAO,GAAG,IAAIxR,GAAJ,CAAQ0C,OAAO,CAAC4D,OAAR,CAAgBvE,KAAhB,CAAR,CAAhB;;EACA,OAAK,MAAMlB,CAAX,IAAgB6B,OAAO,CAAC4D,OAAR,CAAgB1J,GAAhB,CAAhB,EAAsC;EACrC,QAAI,CAAC4U,OAAO,CAAChL,GAAR,CAAY3F,CAAZ,CAAL,EAAqB;EACpB,aAAOjE,GAAG,CAACiE,CAAD,CAAV;EACA;EACD;;EACD,OAAK,MAAMA,CAAX,IAAgB2Q,OAAhB,EAAyB;EACxB5U,IAAAA,GAAG,CAACiE,CAAD,CAAH,GAASkB,KAAK,CAAClB,CAAD,CAAd;EACA;;EACD,SAAOjE,GAAP;EACA;;EACD,MAAMumB,SAAmB,GAAG,EAA5B;;EACA,MAAM9D,MAAN,CAAa;EACZ,aAAWY,OAAX,GAAqB;EAAE,WAAOA,SAAP;EAAiB;;EACxC,aAAW5hB,OAAX,GAAqB;EAAE,WAAOA,SAAP;EAAiB;;EACxC,aAAW+kB,IAAX,GAAkB;EAAE,WAAOjE,UAAP;EAAoB;;EACxC,aAAWkE,IAAX,GAAkB;EAAE,WAAO3D,UAAP;EAAoB;;EAcxC,MAAIxc,IAAJ,GAAW;EAAE,WAAO,KAAKogB,KAAL,EAAP;EAAsB;;EACnC,MAAIC,OAAJ,GAAc;EAAE,WAAO,KAAKC,QAAL,EAAP;EAAyB;;EACzC,MAAIxD,KAAJ,GAAY;EAAE,WAAO,KAAKyD,MAAL,EAAP;EAAuB;;EACrC,MAAIhE,IAAJ,GAAmB;EAAE,WAAO,KAAKiE,KAAL,EAAP;EAAsB;;EAC3C,MAAI7D,MAAJ,GAAa;EAAE,WAAO,KAAK8D,OAAL,EAAP;EAAwB;;EACvC,MAAI7D,IAAJ,GAAW;EAAE,WAAO,KAAK8D,KAAL,EAAP;EAAsB;;EACnC,MAAIlC,KAAJ,GAAY;EAAE,WAAO,KAAKmC,MAAL,EAAP;EAAuB;;EAIrCxmB,EAAAA,WAAW,CAAC;EAACymB,IAAAA,OAAD;EAAUC,IAAAA;EAAV,GAAD,EAGR;EAAA,4CAxB2CjnB,MAAM,CAACe,MAAP,CAAc,IAAd,CAwB3C;;EAAA,uCAvBwB,EAuBxB;;EAAA;;EAAA,qCArBsBxB,KAAK,CAAC,CAAD,CAqB3B;;EAAA,sCApBmD,EAoBnD;;EAAA,wCAnByBA,KAAK,CAAU,EAAV,CAmB9B;;EAAA,qCAlBsBA,KAAK,CAAC,EAAD,CAkB3B;;EAAA,uCAjBwBA,KAAK,CAAC,EAAD,CAiB7B;;EAAA,sCAhBuBA,KAAK,CAAC,EAAD,CAgB5B;;EAAA,qCAfsBA,KAAK,CAAC,GAAD,CAe3B;;EAAA,sCAduBA,KAAK,CAACwI,SAAD,CAc5B;;EAAA,sCANuCuN,MAAM,CAACtV,MAAM,CAACe,MAAP,CAAc,IAAd,CAAD,CAM7C;;EAAA,qCALmCuU,MAAM,CAACtV,MAAM,CAACe,MAAP,CAAc,IAAd,CAAD,CAKzC;;EAAA,oCAJkCuU,MAAM,CAACtV,MAAM,CAACe,MAAP,CAAc,IAAd,CAAD,CAIxC;;EACF,QAAIimB,OAAJ,EAAa;EAAA;;EACZ,YAAM7D,OAAO,GAAG,IAAI6D,OAAJ,CAAY,IAAZ,EAAkBC,aAAlB,CAAhB;EACA,WAAK9D,OAAL,GAAeA,OAAf;EACA,wBAAAA,OAAO,CAACqC,KAAR,uEAAArC,OAAO;EACP;EACD;;EACD+D,EAAAA,SAAS,CAAC9C,MAAD,EAAwB;EAChC,UAAMV,KAAK,GAAG1jB,MAAM,CAACe,MAAP,CAAc,IAAd,CAAd;EACA,SAAKomB,OAAL,GAAe/C,MAAM,CAAC9kB,GAAP,CAAW4U,CAAC,IAAIuP,QAAQ,CAACvP,CAAD,EAAIwP,KAAJ,CAAxB,CAAf;EACA,SAAK0D,YAAL,GAAoB1D,KAApB;;EACA,SAAK/P,OAAL,CACC,KAAKiT,KAAL,EADD,EAEC,KAAKC,OAAL,EAFD,EAGC,KAAKC,KAAL,EAHD,EAIC,KAAKC,MAAL,EAJD,EAKC,IALD;EAOA;;EACD5E,EAAAA,IAAI,CAACta,KAAD,EAAmC;EAAA;;EACtC,UAAM8E,IAAI,yBAAI,qBAAK8G,MAAL,EAAY5L,KAAZ,CAAJ,uDAAI,qCAAd;;EACA,QAAI,CAAC8E,IAAL,EAAW;EACV,WAAK6Z,KAAL;;EACA,aAAOze,SAAP;EACA;;EACD,WAAO4E,IAAP;EACA;;EACDgH,EAAAA,OAAO,CAACgP,IAAD,EAAeI,MAAf,EAA+BC,IAA/B,EAA6C4B,KAA7C,EAA0DyC,KAAK,GAAG,KAAlE,EAAyE;EAC/E,QAAI,KAAKT,KAAL,OAAiBjE,IAAjB,IAAyB0E,KAA7B,EAAoC;EAAA;;EACnC,YAAMZ,OAAO,GAAG,CAAC,GAAGtC,WAAW,CAACxB,IAAD,EAAO,KAAKwE,OAAZ,CAAf,CAAhB;EACA,YAAM9Y,IAAI,GAAGoY,OAAO,CAACA,OAAO,CAACvkB,MAAR,GAAiB,CAAlB,CAApB;;EACA,UAAImM,IAAI,IAAI,CAACA,IAAI,CAACqU,KAAL,CAAWnT,UAAxB,EAAoC;EACnC8W,QAAAA,SAAS,CAACzjB,IAAV,CAAe+f,IAAf;;EACA,YAAI0D,SAAS,CAACnkB,MAAV,IAAoB,EAAxB,EAA4B;EAC3B,gBAAM,IAAI5B,SAAJ,CACJ,0CACA+lB,SAAS,CAAC7M,IAAV,CAAe,IAAf,CACA,EAHI,EAIL,QAJK,CAAN;EAMA;;EACD,cAAM;EAAC6K,UAAAA,QAAD;EAAWvB,UAAAA;EAAX,YAAqBzU,IAAI,CAACqU,KAAhC;;EACA,YAAI;EACH,cAAII,MAAJ,EAAY;EACX,iBAAKvV,OAAL,CAAc,GAAEoV,IAAK,IAAG0B,QAAS,EAAjC,EAAoCO,KAApC;EACA,WAFD,MAEO,IAAIP,QAAQ,IAAIA,QAAQ,CAAC,CAAD,CAAR,KAAgB,GAAhC,EAAqC;EAC3C,iBAAK9W,OAAL,CAAa8W,QAAb,EAAuBO,KAAvB;EACA,WAFM,MAEA;EACN,iBAAKrX,OAAL,CAAc,GAAEoV,IAAK,OAAM0B,QAAS,EAApC,EAAuCO,KAAvC;EACA;;EACD;EACA,SATD,SASU;EACTyB,UAAAA,SAAS,CAACiB,GAAV;EACA;EACD;;EACD,YAAM7W,KAAK,GAAG,KAAKgD,MAAnB;EACA,YAAM8T,WAAW,GAAG9W,KAAK,CAACvO,MAA1B;EACA,YAAMslB,aAAa,GAAGf,OAAO,CAACvkB,MAA9B;EACA,YAAMuM,GAAG,GAAGD,IAAI,CAACC,GAAL,CAAS+Y,aAAT,EAAwBD,WAAxB,CAAZ;;EACA,WAAK,IAAI3d,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6E,GAApB,EAAyB7E,CAAC,EAA1B,EAA8B;EAAE6G,QAAAA,KAAK,CAAC7G,CAAD,CAAL,CAAS6c,OAAO,CAAC7c,CAAD,CAAhB;EAAuB;;EACvD,WAAK,IAAIA,CAAC,GAAG6E,GAAb,EAAkB7E,CAAC,GAAG2d,WAAtB,EAAmC3d,CAAC,EAApC,EAAwC;EACvC6G,QAAAA,KAAK,CAAC7G,CAAD,CAAL,CAAS7B,SAAT;EACA;;EACD,WAAK,IAAI6B,CAAC,GAAG6E,GAAb,EAAkB7E,CAAC,GAAG4d,aAAtB,EAAqC5d,CAAC,EAAtC,EAA0C;EACzC6G,QAAAA,KAAK,CAAC7G,CAAD,CAAL,GAAWrK,KAAK,CAACknB,OAAO,CAAC7c,CAAD,CAAR,CAAhB;EACA;;EACD6G,MAAAA,KAAK,CAACvO,MAAN,GAAeslB,aAAf;;EACA,WAAKhB,KAAL,CAAWgB,aAAX;;EACA,WAAKd,QAAL,CAAcD,OAAd;;EACA,WAAKG,KAAL,CAAWjE,IAAX;;EACA,WAAKgE,MAAL,CAAY,CAAAtY,IAAI,SAAJ,IAAAA,IAAI,WAAJ,2BAAAA,IAAI,CAAEqU,KAAN,4DAAaQ,KAAb,KAAsB,EAAlC;;EACAte,MAAAA,QAAM,CAAC,KAAKwT,MAAN,EAAc,CAAA/J,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAE+J,MAAN,KAAgB,EAA9B,CAAN;EACAxT,MAAAA,QAAM,CAAC,KAAK+e,IAAN,EAAY,CAAAtV,IAAI,SAAJ,IAAAA,IAAI,WAAJ,4BAAAA,IAAI,CAAEqU,KAAN,8DAAaiB,IAAb,KAAqB,EAAjC,CAAN;EACA;;EACD,QAAI,KAAKkD,OAAL,OAAmB9D,MAAvB,EAA+B;EAC9B,WAAK8D,OAAL,CAAa9D,MAAb;;EACAne,MAAAA,QAAM,CAAC,KAAKqe,KAAN,EAAa,CAAC,KAAKwB,KAAL,IAAcA,OAAf,EAAsB1B,MAAM,CAAC/e,MAAP,CAAc,CAAd,CAAtB,CAAb,CAAN;EACA;;EACD,SAAK8iB,KAAL,CAAW9D,IAAX;;EACA,SAAK+D,MAAL,CAAYnC,KAAZ;EACA;;EACDhiB,EAAAA,IAAI,CAAC2iB,QAAD,EAA8BX,KAA9B,EAA2C;EAAA;;EAC9C,UAAM;EAAEjC,MAAAA,IAAF;EAAQI,MAAAA,MAAR;EAAgBC,MAAAA;EAAhB,QAAyBnd,GAAG,CACjC0f,QADiC,EAEjC,KAAK6B,YAF4B,EAGjC,KAAKR,KAAL,EAHiC,EAIjC,KAAKpL,SAJ4B,CAAlC;EAMA,0BAAK2H,OAAL,gEAAcvgB,IAAd,CAAmB+f,IAAnB,EAAyBI,MAAzB,EAAiCC,IAAjC,EAAuC4B,KAAvC;;EACA,SAAKjR,OAAL,CAAagP,IAAb,EAAmBI,MAAnB,EAA2BC,IAA3B,EAAiC4B,KAAjC;EACA;;EACDrX,EAAAA,OAAO,CAACgY,QAAD,EAA8BX,KAA9B,EAA2C;EAAA;;EACjD,UAAM;EAACjC,MAAAA,IAAD;EAAOI,MAAAA,MAAP;EAAeC,MAAAA;EAAf,QAAuBnd,GAAG,CAC/B0f,QAD+B,EAE/B,KAAK6B,YAF0B,EAG/B,KAAKR,KAAL,EAH+B,EAI/B,KAAKpL,SAJ0B,CAAhC;EAMA,2BAAK2H,OAAL,kEAAc5V,OAAd,CAAsBoV,IAAtB,EAA4BI,MAA5B,EAAoCC,IAApC,EAA0C4B,KAA1C;;EACA,SAAKjR,OAAL,CAAagP,IAAb,EAAmBI,MAAnB,EAA2BC,IAA3B,EAAiC4B,KAAjC;EACA;;EACDiB,EAAAA,MAAM,CAACN,QAAD,EAA8B;EACnC,UAAM;EAAC5C,MAAAA,IAAD;EAAOI,MAAAA,MAAP;EAAeC,MAAAA;EAAf,QAAuBnd,GAAG,CAC/B0f,QAD+B,EAE/B,KAAK6B,YAF0B,EAG/B,KAAKR,KAAL,EAH+B,EAI/B,KAAKpL,SAJ0B,CAAhC;EAMA,WAAQ,GAAEmH,IAAK,GAAEI,MAAO,GAAEC,IAAK,EAA/B;EAEA;;EACD6B,EAAAA,EAAE,CAAChd,KAAD,EAAgB;EAAA;;EACjB,UAAM0D,EAAE,qBAAG,KAAK4X,OAAR,mDAAG,eAAc0B,EAAd,CAAiBhd,KAAjB,CAAX;;EACA,QAAI,CAAC0D,EAAL,EAAS;EAAE;EAAS;;EACpB,SAAKoI,OAAL,CAAa,GAAGpI,EAAhB;EACA;;EACDwZ,EAAAA,IAAI,GAAG;EAAA;;EACN,UAAMxZ,EAAE,qBAAG,KAAK4X,OAAR,mDAAG,eAAc4B,IAAd,EAAX;;EACA,QAAI,CAACxZ,EAAL,EAAS;EAAE;EAAS;;EACpB,SAAKoI,OAAL,CAAa,GAAGpI,EAAhB;EACA;;EACDyZ,EAAAA,OAAO,GAAG;EAAA;;EACT,UAAMzZ,EAAE,qBAAG,KAAK4X,OAAR,mDAAG,eAAc6B,OAAd,EAAX;;EACA,QAAI,CAACzZ,EAAL,EAAS;EAAE;EAAS;;EACpB,SAAKoI,OAAL,CAAa,GAAGpI,EAAhB;EACA;;EACD,MAAIkc,IAAJ,GAAW;EACV,UAAMA,IAAe,GAAG,CAACxiB,KAAD,EAAQ,GAAGR,CAAX,KACvB4d,UAAU,CAAC,EAAC,GAAGpd,KAAJ;EAAWgd,MAAAA,MAAM,EAAE;EAAnB,KAAD,EAA2B,GAAGxd,CAA9B,CADX;;EAEA8T,IAAAA,KAAK,CAAC,QAAD,EAAWkP,IAAX,CAAL;EACAjP,IAAAA,OAAO,CAACiP,IAAD,CAAP;EACA7hB,IAAAA,OAAO,CAAC3F,cAAR,CAAuB,IAAvB,EAA6B,MAA7B,EAAqC;EACpCV,MAAAA,KAAK,EAAEkoB,IAD6B;EAEpCvnB,MAAAA,UAAU,EAAE,IAFwB;EAGpCC,MAAAA,YAAY,EAAE;EAHsB,KAArC;EAKA,WAAOsnB,IAAP;EACA;;EAxKW;;EC7Db,MAAMC,IAAI,GAAG3mB,QAAM,CAAC,CACnBkE,KADmB,EAEnB;EAAEyd,EAAAA;EAAF,CAFmB,KAGf;EAAA;;EACJ,QAAM/hB,CAAC,GAAGiH,QAAQ,CAAC,MAAM4G,IAAI,CAACmZ,MAAL,EAAP,CAAlB;EACA,QAAMpD,CAAC,GAAG3c,QAAQ,CAAC,MAAMrI,KAAK,CAAC,CAAD,CAAZ,CAAlB;EACAglB,EAAAA,CAAC,CAAChlB,KAAF;EACA,SAAO,cAAC,QAAD,QACNglB,CAAC,CAAChlB,KADI,QACKoB,CADL,EAEN,sDAFM,EAGN,mCAAU+hB,KAAV,aAAUA,KAAV,wCAAUA,KAAK,CAAEtK,MAAjB,kDAAU,cAAgB,IAAhB,CAAV,CAHM,EAIN,yBAJM,EAKN,2BAAK,cAAC,MAAD,CAAQ,IAAR;EAAa,IAAA,IAAI,EAAC;EAAlB,oBAAL,CALM,EAMN,2BAAK,cAAC,MAAD,CAAQ,IAAR;EAAa,IAAA,IAAI,EAAC;EAAlB,qBAAL,CANM,EAON,2BAAK,cAAC,MAAD,CAAQ,IAAR;EAAa,IAAA,IAAI,EAAC;EAAlB,qBAAL,CAPM,EAQN,2BAAK,cAAC,MAAD,CAAQ,IAAR;EAAa,IAAA,IAAI,EAAC;EAAlB,iCAAL,CARM,EASN,2BAAK,cAAC,MAAD,CAAQ,IAAR;EAAa,IAAA,IAAI,EAAC;EAAlB,iCAAL,CATM,EAUN,yBAVM,EAWN,cAAC,MAAD,CAAQ,IAAR,OAXM,CAAP;EAaA,CApBkB,CAAnB;AAqBA,eAAeK,IAAI,CAACiP,IAAD,EAAOnP,KAAK,CAAC,MAAD,CAAZ,CAAnB;;ECtBA,MAAMqP,IAAI,GAAG7mB,QAAM,CAAC,CACnBkE,KADmB,EAEnB;EAAEyd,EAAAA;EAAF,CAFmB,KAGf;EAAA;;EACJ,QAAM/hB,CAAC,GAAGiH,QAAQ,CAAC,MAAM4G,IAAI,CAACmZ,MAAL,EAAP,CAAlB;EACA,SAAO,cAAC,QAAD,QACLhnB,CADK,EAEN,sDAFM,EAGN,mCAAU+hB,KAAV,aAAUA,KAAV,wCAAUA,KAAK,CAAEtK,MAAjB,kDAAU,cAAgB,IAAhB,CAAV,CAHM,CAAP;EAKA,CAVkB,CAAnB;AAWA,eAAeK,IAAI,CAACmP,IAAD,EAAOrP,KAAK,CAAC,UAAD,CAAZ,CAAnB;;ECXA,MAAMgJ,UAAQ,GAAGxgB,QAAM,CAAC,CACvBkE,KADuB,EAEvB;EAAEyd,EAAAA;EAAF,CAFuB,KAGnB;EAAA;;EACJ,SAAO,cAAC,QAAD,QACN,sDADM,EAEN,mCAAUA,KAAV,aAAUA,KAAV,wCAAUA,KAAK,CAAEtK,MAAjB,kDAAU,cAAgB,IAAhB,CAAV,CAFM,CAAP;EAIA,CARsB,CAAvB;AASA,mBAAeK,IAAI,CAAC8I,UAAD,EAAWhJ,KAAK,CAAC,cAAD,CAAhB,CAAnB;;ECRA,MAAMsP,IAAI,GAAG,MAAM;EAClB,SAAO,cAAC,QAAD,QACN,0CADM,EAEN,yBAFM,EAGN,2BAAK,cAAC,MAAD,CAAQ,IAAR;EAAa,IAAA,IAAI,EAAC;EAAlB,oBAAL,CAHM,EAIN,2BAAK,cAAC,MAAD,CAAQ,IAAR;EAAa,IAAA,IAAI,EAAC;EAAlB,qBAAL,CAJM,EAKN,2BAAK,cAAC,MAAD,CAAQ,IAAR;EAAa,IAAA,IAAI,EAAC;EAAlB,iCAAL,CALM,EAMN,yBANM,EAON,cAAC,MAAD,CAAQ,IAAR,OAPM,CAAP;EASA,CAVD;;AAWA,eAAepP,IAAI,CAACoP,IAAD,EAAOtP,KAAK,CAAC,MAAD,CAAZ,CAAnB;;ECTA,MAAM0J,MAAM,GAAG,IAAIM,MAAJ,CAAW;EACzByE,EAAAA,OAAO,EAAEzE,MAAM,CAACY,OAAP,CAAe2E;EADC,CAAX,CAAf;EAGA7F,MAAM,CAACiF,SAAP,CAAiB,CAChB;EAAEvE,EAAAA,IAAI,EAAE,GAAR;EAAa0B,EAAAA,QAAQ,EAAE;EAAvB,CADgB,EAEhB;EAAC1B,EAAAA,IAAI,EAAE,YAAP;EAAqB7W,EAAAA,SAAS,EAAE4b,MAAhC;EAAsC3e,EAAAA,QAAQ,EAAE,CAC/C;EAAC4Z,IAAAA,IAAI,EAAE,MAAP;EAAe7W,IAAAA,SAAS,EAAE8b;EAA1B,GAD+C,EAE/C;EAACjF,IAAAA,IAAI,EAAE,UAAP;EAAmB7W,IAAAA,SAAS,EAAEyV;EAA9B,GAF+C;EAAhD,CAFgB,EAMhB;EAACoB,EAAAA,IAAI,EAAE,OAAP;EAAgB7W,EAAAA,SAAS,EAAE+b;EAA3B,CANgB,EAOhB;EAAElF,EAAAA,IAAI,EAAE,GAAR;EAAa0B,EAAAA,QAAQ,EAAE;EAAvB,CAPgB,CAAjB;EASCxH,MAAD,CAAgBoF,MAAhB,GAAyBA,MAAzB;AACA,YAAeA,MAAM,CAACwF,IAAtB;;ECdArmB,MAAM,CAAC2mB,GAAD,CAAN,CAAYlG,MAAZ;;;;"}