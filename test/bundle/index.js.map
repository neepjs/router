{"version":3,"file":"index.js","sources":["../../node_modules/@neep/core/node_modules/monitorable/dist/monitorable.esm.js","../../node_modules/@neep/core/dist/neep.core.mjs","../../node_modules/@neep/web-render/dist/neep.web.render.mjs","../../node_modules/@neep/devtools/dist/neep.devtools.mjs","../../src/install/installContextConstructor.ts","../../src/View.ts","../../src/Link.ts","../../src/install/installComponents.ts","../../src/install/install.ts","../../src/util.ts","../../node_modules/path-to-regexp/dist.es2015/index.js","../../src/route.ts","../../src/query.ts","../../src/history/Memory.ts","../../src/history/WebPath.ts","../../src/history/WebHash.ts","../../src/Router.ts","../components/User/index.tsx","../components/User/Info.tsx","../components/User/Settings.tsx","../components/Home.tsx","../App.tsx","../index.tsx"],"sourcesContent":["\n/*!\n * monitorable v0.1.0-beta.0\n * (c) 2020 Fierflame\n * @license MIT\n */\n\nlet printErrorLog;\n/** 打印错误 */\n\nfunction printError(info) {\n  if (typeof printErrorLog === 'function') {\n    printErrorLog(info);\n    return;\n  }\n\n  console.error(info);\n}\nfunction setPrintError(p) {\n  printErrorLog = typeof p === 'function' ? p : undefined;\n}\n/**\n * 判断对象是否可被代理\n */\n\nfunction encashable(v) {\n  return Boolean(v && ['object', 'function'].includes(typeof v));\n}\n/** 回调函数安全化处理 */\n\nfunction safeify(fn) {\n  return (...p) => {\n    try {\n      fn(...p);\n    } catch (e) {\n      printError(e);\n    }\n  };\n}\nfunction getIndexes(target, prop) {\n  if (!target) {\n    return undefined;\n  }\n\n  if (typeof target !== 'function' && typeof target !== 'object') {\n    return undefined;\n  }\n\n  if (typeof prop === 'number') {\n    return [target, String(prop)];\n  }\n\n  if (typeof prop === 'symbol') {\n    return [target, prop];\n  }\n\n  if (typeof prop === 'string') {\n    return [target, prop];\n  }\n\n  if (typeof prop === 'boolean') {\n    return [target, prop];\n  }\n\n  return undefined;\n}\nfunction getMapValue(map, key, def) {\n  if (map.has(key)) {\n    return map.get(key);\n  }\n\n  const value = def();\n  map.set(key, value);\n  return value;\n}\n\n/** 已被读取的 */\nlet read;\n/**\n * 标记已读状态\n * @param obj  要标记的对象\n * @param prop 要标记的属性\n */\n\nfunction markRead(target, prop) {\n  if (!read) {\n    return;\n  }\n\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return;\n  }\n\n  [target, prop] = indexes;\n  const propMap = getMapValue(read, target, () => new Map());\n\n  if (propMap.has(prop)) {\n    return;\n  }\n\n  propMap.set(prop, false);\n}\n\n/**\n * 监听函数的执行，并将执行过程中读取的对象值设置到 map 中\n * @param fn 要执行的含糊\n * @param map 用于存储被读取对象的 map\n */\nfunction observeRun(map, fn, options) {\n  const oldRead = read;\n  read = map;\n\n  try {\n    if (!(options === null || options === void 0 ? void 0 : options.postpone)) {\n      return fn();\n    }\n\n    return postpone(fn, options.postpone === 'priority');\n  } finally {\n    read = oldRead;\n  }\n}\nfunction observe(map, fn, options) {\n  if (typeof fn === 'function') {\n    return observeRun(map, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return observeRun(map, options, fn);\n}\nconst watchList = new WeakMap();\n\nfunction execWatch(target, prop) {\n  var _watchList$get;\n\n  const watch = (_watchList$get = watchList.get(target)) === null || _watchList$get === void 0 ? void 0 : _watchList$get.get(prop);\n\n  if (!watch) {\n    return;\n  }\n\n  [...watch].forEach(w => w());\n}\n\nlet waitList;\n\nfunction run(list) {\n  for (const [target, set] of list.entries()) {\n    var _read;\n\n    const propMap = (_read = read) === null || _read === void 0 ? void 0 : _read.get(target);\n\n    for (const prop of set) {\n      execWatch(target, prop);\n\n      if (propMap === null || propMap === void 0 ? void 0 : propMap.has(prop)) {\n        propMap.set(prop, true);\n      }\n    }\n  }\n}\n\nfunction postponeRun(f, priority) {\n  const list = !priority && waitList || new Map();\n  const old = waitList;\n  waitList = list;\n\n  try {\n    return f();\n  } finally {\n    waitList = old;\n\n    if (list !== waitList) {\n      run(list);\n    }\n  }\n}\n\nfunction postpone(fn, priority) {\n  if (typeof fn === 'function') {\n    return postponeRun(fn, priority);\n  }\n\n  if (typeof priority !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return postponeRun(priority, fn);\n}\n\nfunction wait(target, prop) {\n  if (!waitList) {\n    return false;\n  }\n\n  getMapValue(waitList, target, () => new Set()).add(prop);\n  return true;\n}\n/**\n * 标记属性的修改，同时触发监听函数\n * @param target 要标记的对象\n * @param prop   要标记的属性 特别的，false 表示原型，true 表示成员\n */\n\n\nfunction markChange(target, prop) {\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return;\n  }\n\n  [target, prop] = indexes;\n\n  if (wait(target, prop)) {\n    return;\n  }\n\n  execWatch(target, prop);\n}\n/**\n * 观察对象属性的变化\n * @param target 要观察的对象\n * @param prop   要观察的属性名 特别的，false 表示原型，true 表示成员\n * @param fn     属性改变后触发的函数\n */\n\nfunction watchProp(target, prop, cb) {\n  if (typeof cb !== 'function') {\n    return () => {};\n  }\n\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return () => {};\n  }\n\n  [target, prop] = indexes;\n  const key = prop;\n  let map = watchList.get(target);\n\n  if (!map) {\n    map = new Map();\n    watchList.set(target, map);\n  }\n\n  const list = getMapValue(map, key, () => new Set());\n  cb = safeify(cb);\n  list.add(cb);\n  let removed = false;\n  return () => {\n    if (removed) {\n      return;\n    }\n\n    removed = true; // 从当前列表中移除\n\n    list.delete(cb); // 从属性关联中删除\n\n    if (list.size) {\n      return;\n    }\n\n    if (!map) {\n      return;\n    }\n\n    map.delete(key); // 映射列表中删除\n\n    if (map.size) {\n      return;\n    }\n\n    watchList.delete(target);\n  };\n}\n\n/**\n * 判断对象是否可被代理\n */\n\nfunction encashable$1(v) {\n  return Boolean(v && ['object', 'function'].includes(typeof v));\n}\n\nlet getValue;\n/**\n * 获取被代理对象\n * @param obj  要被代理的对象\n * @param nest 递归代理的层数\n */\n\nfunction encase(value, nest = 0) {\n  if (!encashable$1(value)) {\n    return value;\n  }\n\n  const original = recover(value);\n  const nestLayer = nest === true ? Infinity : nest || 0;\n  const proxy = new Proxy(original, {\n    set(target, prop, value, receiver) {\n      if (nest === false) {\n        return Reflect.set(target, prop, value, receiver);\n      }\n\n      const has = Reflect.has(target, prop);\n      const modified = Reflect.set(target, prop, value, encase(receiver));\n\n      if (!modified) {\n        return modified;\n      }\n\n      if (has !== Reflect.has(target, prop)) {\n        markChange(target, true);\n      }\n\n      return modified;\n    },\n\n    get(target, prop, receiver) {\n      if (getValue === proxy) {\n        if (prop === '__monitorable__recover__') {\n          getValue = original;\n          return;\n        }\n      }\n\n      if (nest === false) {\n        return Reflect.get(target, prop, receiver);\n      }\n\n      markRead(target, prop);\n      const value = Reflect.get(target, prop, encase(receiver));\n\n      if (nestLayer > 0) {\n        return encase(value, nestLayer - 1);\n      }\n\n      return value;\n    },\n\n    setPrototypeOf(target, proto) {\n      if (nest === false) {\n        return Reflect.setPrototypeOf(target, proto);\n      }\n\n      const oldProto = Reflect.getPrototypeOf(target);\n      const modified = Reflect.setPrototypeOf(target, proto);\n\n      if (modified && oldProto !== proto) {\n        markChange(target, false);\n      }\n\n      return modified;\n    },\n\n    getPrototypeOf(target) {\n      if (nest === false) {\n        return Reflect.getPrototypeOf(target);\n      }\n\n      markRead(target, false);\n      const value = Reflect.getPrototypeOf(target);\n\n      if (nestLayer > 0) {\n        return encase(value, nestLayer - 1);\n      }\n\n      return value;\n    },\n\n    defineProperty(target, prop, attr) {\n      if (nest === false) {\n        return Reflect.defineProperty(target, prop, attr);\n      }\n\n      let changed = true;\n\n      if ('value' in attr) {\n        const desc = Reflect.getOwnPropertyDescriptor(target, prop);\n\n        if (desc && 'value' in desc && recover(attr.value) === recover(desc.value)) {\n          changed = false;\n        }\n      }\n\n      const modified = Reflect.defineProperty(target, prop, attr);\n\n      if (changed && modified) {\n        markChange(target, prop);\n      }\n\n      return modified;\n    },\n\n    getOwnPropertyDescriptor(target, prop) {\n      if (nest === false) {\n        return Reflect.getOwnPropertyDescriptor(target, prop);\n      }\n\n      markRead(target, prop);\n      return Reflect.getOwnPropertyDescriptor(target, prop);\n    },\n\n    deleteProperty(target, prop) {\n      if (nest === false) {\n        return Reflect.deleteProperty(target, prop);\n      }\n\n      const has = Reflect.has(target, prop);\n      const deleted = Reflect.deleteProperty(target, prop);\n\n      if (has && !Reflect.has(target, prop)) {\n        markChange(target, prop);\n        markChange(target, true);\n      }\n\n      return deleted;\n    },\n\n    ownKeys(target) {\n      if (nest === false) {\n        return Reflect.ownKeys(target);\n      }\n\n      markRead(target, true);\n      return Reflect.ownKeys(target);\n    },\n\n    has(target, prop) {\n      if (nest === false) {\n        return Reflect.has(target, prop);\n      }\n\n      markRead(target, true);\n      return Reflect.has(target, prop);\n    }\n\n  });\n  return proxy;\n}\n/** 获取被代理的原始值 */\n\nfunction recover(v) {\n  if (!v) {\n    return v;\n  }\n\n  if (!encashable$1(v)) {\n    return v;\n  }\n\n  let value = v;\n\n  try {\n    getValue = v;\n    value = v.__monitorable__recover__;\n  } catch (_unused) {}\n\n  value = getValue;\n  getValue = false;\n\n  if (!value) {\n    return v;\n  }\n\n  if (typeof value === 'object') {\n    return value;\n  }\n\n  if (typeof value === 'function') {\n    return value;\n  }\n\n  return v;\n}\nfunction equal(a, b) {\n  return recover(a) === recover(b);\n}\n\nfunction run$1(cb, fn, options) {\n  cb = safeify(cb);\n  let cancelList;\n  const postpone = options === null || options === void 0 ? void 0 : options.postpone;\n  let end = false;\n  /** 取消监听 */\n\n  function cancel() {\n    if (end) {\n      return false;\n    }\n\n    end = true;\n\n    if (!cancelList) {\n      return true;\n    }\n\n    const list = cancelList;\n    cancelList = undefined;\n    list.forEach(f => f());\n    return true;\n  }\n\n  function trigger() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(true);\n  }\n\n  function run(thisRead) {\n    if (end) {\n      return false;\n    }\n\n    if (!thisRead.size) {\n      end = true;\n      return cb(false);\n    }\n\n    const list = [];\n\n    for (let [obj, props] of thisRead) {\n      for (const [p, m] of props) {\n        if (m) {\n          return cb(true);\n        }\n\n        list.push([obj, p]);\n      }\n    }\n\n    cancelList = list.map(([obj, p]) => watchProp(recover(obj), p, trigger));\n  }\n\n  function stop() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(false);\n  }\n  const thisRead = new Map();\n  const result = observe(thisRead, () => fn(stop), {\n    postpone\n  });\n  run(thisRead);\n\n  if (options === null || options === void 0 ? void 0 : options.resultOnly) {\n    return result;\n  }\n\n  return {\n    result,\n    stop\n  };\n}\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\n\n\nfunction exec(cb, fn, options) {\n  if (typeof cb !== 'function') {\n    throw new Error('cb needs to be a function');\n  }\n\n  if (typeof fn === 'function') {\n    return run$1(cb, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return run$1(cb, options, fn);\n}\n\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\nfunction create(cb, fn, options) {\n  cb = safeify(cb);\n  let cancelList;\n  /** 取消监听 */\n\n  function cancel() {\n    if (!cancelList) {\n      return false;\n    }\n\n    const list = cancelList;\n    cancelList = undefined;\n    list.forEach(f => f());\n    return true;\n  }\n\n  function trigger() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(true);\n  }\n\n  function run(thisRead) {\n    if (!thisRead.size) {\n      return cb(false);\n    }\n\n    const list = [];\n\n    for (let [obj, props] of thisRead) {\n      for (const [p, m] of props) {\n        if (m) {\n          return cb(true);\n        }\n\n        list.push([obj, p]);\n      }\n    }\n\n    cancelList = list.map(([obj, p]) => watchProp(recover(obj), p, trigger));\n  }\n\n  function exec(...p) {\n    cancel();\n    const thisRead = new Map();\n    const result = observe(thisRead, () => fn(...p), options);\n    run(thisRead);\n    return result;\n  }\n\n  exec.stop = () => {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(false);\n  };\n\n  return exec;\n}\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\n\n\nfunction monitor(cb, fn, options) {\n  if (typeof fn === 'function') {\n    return create(cb, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return create(cb, options, fn);\n}\n\n/** 取消监听的方法 */\n\nconst values = new WeakSet();\nfunction isValue(x) {\n  return values.has(x);\n}\n/** 触发监听 */\n\nfunction valueOf() {\n  const value = this();\n\n  if (value === undefined) {\n    return value;\n  }\n\n  if (value === null) {\n    return value;\n  }\n\n  return value.valueOf();\n}\n\nfunction toString(...p) {\n  const value = this();\n\n  if (value === undefined) {\n    return String(value);\n  }\n\n  if (value === null) {\n    return String(value);\n  }\n\n  if (typeof value.toString === 'function') {\n    return value.toString(...p);\n  }\n\n  return String(value);\n}\n\nfunction toPrimitive(hint) {\n  const value = this();\n\n  if (value === undefined) {\n    return String(value);\n  }\n\n  if (value === null) {\n    return String(value);\n  }\n\n  if (typeof value[Symbol.toPrimitive] === 'function') {\n    return value[Symbol.toPrimitive](hint);\n  }\n\n  if (hint === 'string') {\n    return String(value);\n  }\n\n  if (hint === 'number') {\n    return Number(value);\n  }\n\n  return value;\n}\n\nfunction createValue(recover, setValue, stop = () => {}, change = () => {}) {\n  function set(v, marked = false) {\n    if (!setValue) {\n      return;\n    }\n\n    try {\n      setValue(v, () => {\n        marked = true;\n      });\n    } finally {\n      if (marked) {\n        trigger();\n      }\n    }\n  }\n\n  function get() {\n    markRead(value, 'value');\n    return recover();\n  }\n\n  const value = (...v) => {\n    if (v.length) {\n      set(v[0], v[1]);\n      return v[0];\n    }\n\n    return get();\n  };\n\n  Reflect.defineProperty(value, 'value', {\n    get,\n    set,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, 'valueOf', {\n    value: valueOf,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, 'toString', {\n    value: toString,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, Symbol.toPrimitive, {\n    value: toPrimitive,\n    enumerable: true,\n    configurable: true\n  });\n\n  function watch(cb) {\n    if (!callbacks) {\n      return () => {};\n    }\n\n    cb = safeify(cb);\n    callbacks.push(cb);\n    change();\n    let cancelled = false;\n    return () => {\n      if (cancelled) {\n        return;\n      }\n\n      cancelled = true;\n\n      if (!callbacks) {\n        return;\n      }\n\n      const index = callbacks.findIndex(a => a === cb);\n\n      if (index < 0) {\n        return;\n      }\n\n      callbacks.splice(index, 1);\n      change();\n    };\n  }\n\n  let callbacks = [];\n  Reflect.defineProperty(value, 'watch', {\n    get() {\n      return watch;\n    },\n\n    set() {},\n\n    configurable: true\n  });\n\n  const trigger = () => {\n    if (!callbacks) {\n      return;\n    }\n\n    markChange(value, 'value');\n\n    for (const cb of [...callbacks]) {\n      cb(value, false);\n    }\n  };\n\n  trigger.has = () => {\n    var _callbacks;\n\n    return Boolean((_callbacks = callbacks) === null || _callbacks === void 0 ? void 0 : _callbacks.length);\n  };\n\n  trigger.stop = () => {\n    if (!callbacks) {\n      return;\n    }\n\n    const list = callbacks;\n    callbacks = undefined;\n\n    for (const cb of [...list]) {\n      cb(value, true);\n    }\n  };\n\n  values.add(value);\n  let stopped = false;\n\n  value.stop = () => {\n    if (stopped) {\n      return;\n    }\n\n    stopped = true;\n    stop();\n    trigger.stop();\n  };\n\n  return {\n    value,\n    trigger\n  };\n}\n/**\n * 创建引用值\n * @param value 初始值\n * @param options 选项\n */\n\n\nfunction value(def, options) {\n  const proxy = options === true || options && options.proxy;\n  let source;\n  let proxyValue;\n  const {\n    value\n  } = createValue(() => proxyValue, (v, mark) => {\n    if (proxy) {\n      v = recover(v);\n    }\n\n    if (v === source) {\n      return;\n    }\n\n    source = v;\n    proxyValue = proxy ? encase(source) : source;\n    mark();\n  });\n  value(def);\n  return value;\n}\nfunction computed(getter, setter, options) {\n  var _options;\n\n  if (typeof setter !== 'function') {\n    options = setter;\n    setter = undefined;\n  }\n\n  const setValue = setter;\n  const proxy = options === true || options && options.proxy;\n  const postpone = typeof options === 'object' && ((_options = options) === null || _options === void 0 ? void 0 : _options.postpone);\n  let source;\n  let proxyValue;\n  let stopped = false;\n  let computed = false;\n  let trigger;\n  const executable = monitor(changed => {\n    computed = !changed;\n\n    if (changed && trigger) {\n      trigger();\n    }\n  }, getter, {\n    postpone\n  });\n\n  function run() {\n    computed = true;\n\n    try {\n      source = executable();\n\n      if (proxy) {\n        source = recover(source);\n      }\n\n      proxyValue = proxy ? encase(source) : source;\n      return proxyValue;\n    } catch (e) {\n      if (!stopped) {\n        computed = false;\n      }\n\n      throw e;\n    }\n  }\n\n  let value;\n  ({\n    value,\n    trigger\n  } = createValue(() => computed || stopped ? proxyValue : run(), setValue && (v => setValue(proxy ? recover(v) : v)), () => {\n    if (stopped) {\n      return;\n    }\n\n    stopped = true;\n\n    if (computed) {\n      return;\n    }\n\n    run();\n  }));\n  return value;\n}\nfunction merge(cb) {\n  let oldValue;\n  let ran = false;\n  return (v, stopped) => {\n    if (stopped) {\n      return cb(v, stopped);\n    }\n\n    const newValue = recover(v());\n\n    if (newValue === oldValue && ran) {\n      return;\n    }\n\n    ran = true;\n    oldValue = newValue;\n    cb(v, stopped);\n  };\n}\nfunction mix(source) {\n  for (const k of Reflect.ownKeys(source)) {\n    const descriptor = Reflect.getOwnPropertyDescriptor(source, k);\n\n    if (!descriptor) {\n      continue;\n    }\n\n    if (!('value' in descriptor) || 'get' in descriptor || 'set' in descriptor) {\n      continue;\n    }\n\n    const value = descriptor.value;\n\n    if (!isValue(value)) {\n      continue;\n    }\n\n    descriptor.get = () => value.value;\n\n    if (descriptor.writable) {\n      descriptor.set = v => value.value = v;\n    }\n\n    delete descriptor.value;\n    delete descriptor.writable;\n    Reflect.defineProperty(source, k, descriptor);\n  }\n\n  return source;\n}\n\nfunction createValue$1(props, key, def = value(undefined), set) {\n  function setValue(value, setted) {\n    if (!set) {\n      return;\n    }\n\n    set(value, setted);\n  }\n\n  return computed(() => {\n    if (!(key in props)) {\n      return def();\n    }\n\n    const p = props[key];\n    return isValue(p) ? p() : p;\n  }, v => {\n    if (!(key in props)) {\n      def(v);\n      setValue(v, false);\n      return;\n    }\n\n    const p = props[key];\n\n    if (isValue(p)) {\n      p(v);\n      setValue(v, true);\n      return;\n    }\n\n    setValue(v, false);\n  });\n}\n\nfunction valueify(props, key, def, set) {\n  if (arguments.length >= 2) {\n    return createValue$1(props, key, def, set);\n  }\n\n  return (k, d, s) => createValue$1(props, k, d, s);\n}\n\nfunction createValue$2(props, key) {\n  return computed(() => {\n    const p = props[key];\n    return isValue(p) ? p() : p;\n  }, v => {\n    const p = props[key];\n\n    if (isValue(p)) {\n      p(v);\n    } else {\n      props[key] = v;\n    }\n  });\n}\n\nfunction asValue(props, key) {\n  if (arguments.length >= 2) {\n    return createValue$2(props, key);\n  }\n\n  return k => createValue$2(props, k);\n}\n\nexport { asValue, computed, encase, encashable, equal, exec, getIndexes, getMapValue, isValue, markChange, markRead, merge, mix, monitor, observe, observeRun, postpone, printError, recover, safeify, setPrintError, value, valueify, watchProp };\n//# sourceMappingURL=monitorable.esm.js.map\n","/*!\n * Neep v0.1.0-alpha.13\n * (c) 2019-2020 Fierflame\n * @license MIT\n */\nimport { markRead, markChange, safeify, isValue, computed, value, exec as exec$1, encase, monitor } from 'monitorable';\nexport { asValue, computed, encase, isValue, recover, value, valueify } from 'monitorable';\n\nconst version = '0.1.0-alpha.13';\nconst isProduction = process.env.NODE_ENV === 'production';\n\nconst devtools = {\n  renderHook() {}\n\n};\nfunction installDevtools(tools) {\n  if (!tools) {\n    return;\n  }\n\n  if (typeof tools !== 'object') {\n    return;\n  }\n\n  const {\n    renderHook\n  } = tools;\n\n  if (typeof renderHook === 'function') {\n    devtools.renderHook = renderHook;\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nclass NeepError extends Error {\n  constructor(message, tag = '') {\n    super(tag ? `[${tag}] ${message}` : message);\n\n    _defineProperty(this, \"tag\", void 0);\n\n    this.tag = tag;\n  }\n\n}\nfunction assert(v, message, tag) {\n  if (v) {\n    return;\n  }\n\n  throw new NeepError(message, tag);\n}\n\nlet nextFrameApi;\nfunction nextFrame(fn) {\n  assert(nextFrameApi, 'The basic renderer is not installed', 'install');\n\n  if (nextFrameApi) {\n    nextFrameApi(fn);\n  }\n}\nconst renders = Object.create(null);\nfunction getRender(type = '') {\n  if (typeof type === 'object') {\n    return type;\n  }\n\n  return renders[type] || renders.default;\n}\nfunction installRender(render) {\n  if (!render) {\n    return;\n  }\n\n  renders[render.type] = render;\n\n  if (nextFrameApi) {\n    return;\n  }\n\n  if (!renders.default) {\n    renders.default = render;\n  }\n\n  if (!nextFrameApi && render.nextFrame) {\n    renders.default = render;\n    nextFrameApi = render.nextFrame;\n  }\n}\n\nfunction installMonitorable(api) {}\n\nfunction install(apis) {\n  installMonitorable(apis.monitorable);\n  installRender(apis.render);\n\n  if (!isProduction) {\n    installDevtools(apis.devtools);\n  }\n}\n\nfunction getEventName(k) {\n  if (k[0] === '@') {\n    return k.substr(1);\n  }\n\n  if (/^on[:-]/.test(k)) {\n    return k.substr(3);\n  }\n\n  if (/^n([:-])on(\\1|:)/.test(k)) {\n    return k.substr(5);\n  }\n\n  return '';\n}\n\nfunction addEventFromCollection(addEvent, events) {\n  if (!events) {\n    return;\n  }\n\n  if (typeof events === 'function') {\n    const {\n      names\n    } = events;\n\n    if (!Array.isArray(names)) {\n      return;\n    }\n\n    for (const n of names) {\n      if (!n) {\n        continue;\n      }\n\n      addEvent(n, (...p) => events(n, ...p));\n    }\n\n    return;\n  }\n\n  if (typeof events !== 'object') {\n    return;\n  }\n\n  for (const k of Object.keys(events)) {\n    const f = events[k];\n\n    if (typeof f !== 'function') {\n      continue;\n    }\n\n    addEvent(k, f);\n  }\n}\n\nclass EventEmitter {\n  static update(emitter, events) {\n    if (!events) {\n      return [];\n    }\n\n    const newHandles = [];\n\n    if (events && typeof events === 'object') {\n      for (const n of Object.keys(events)) {\n        if (!n) {\n          continue;\n        }\n\n        const fn = events[n];\n\n        if (typeof fn !== 'function') {\n          continue;\n        }\n\n        newHandles.push(emitter.on(n, fn));\n      }\n    }\n\n    return newHandles;\n  }\n\n  static updateInProps(emitter, props, custom) {\n    if (!props) {\n      return [];\n    }\n\n    const newHandles = [];\n\n    function addEvent(entName, listener) {\n      newHandles.push(emitter.on(entName, listener));\n    }\n\n    for (const k of Object.keys(props)) {\n      const fn = props[k];\n\n      if (typeof fn !== 'function') {\n        continue;\n      }\n\n      const entName = getEventName(k);\n\n      if (!entName) {\n        continue;\n      }\n\n      addEvent(entName, fn);\n    }\n\n    addEventFromCollection(addEvent, props['@']);\n    addEventFromCollection(addEvent, props['n:on']);\n    addEventFromCollection(addEvent, props['n-on']);\n\n    if (typeof custom === 'function') {\n      custom(addEvent);\n    }\n\n    newHandles.push(...EventEmitter.update(emitter, props['@']));\n    return newHandles;\n  }\n\n  get names() {\n    return [...this._names];\n  }\n\n  constructor() {\n    _defineProperty(this, \"_names\", new Set());\n\n    _defineProperty(this, \"_cancelHandles\", new Set());\n\n    _defineProperty(this, \"emit\", void 0);\n\n    _defineProperty(this, \"on\", void 0);\n\n    const events = Object.create(null);\n    const names = this._names;\n\n    function createEmit(...omitNames) {\n      function emit(name, ...p) {\n        const event = events[name];\n\n        if (!event) {\n          return true;\n        }\n\n        let res = true;\n\n        for (const fn of [...event]) {\n          res = fn(...p) && res;\n        }\n\n        return res;\n      }\n\n      emit.omit = (...names) => createEmit(...omitNames, ...names);\n\n      Reflect.defineProperty(emit, 'names', {\n        get: () => {\n          markRead(createEmit, 'names');\n          return [...names].filter(t => !omitNames.includes(t));\n        },\n        configurable: true\n      });\n      return emit;\n    }\n\n    const on = (name, listener) => {\n      var _event;\n\n      function fn(...p) {\n        try {\n          return listener(...p) !== false;\n        } catch (e) {\n          console.error(e);\n          return false;\n        }\n      }\n\n      let event = events[name];\n\n      if (!((_event = event) === null || _event === void 0 ? void 0 : _event.size)) {\n        event = new Set();\n        events[name] = event;\n        markChange(createEmit, 'names');\n        names.add(name);\n      }\n\n      event.add(fn);\n      let removed = false;\n      return () => {\n        if (removed) {\n          return;\n        }\n\n        removed = true;\n        event.delete(fn);\n\n        if (event.size) {\n          return;\n        }\n\n        markChange(createEmit, 'names');\n        names.delete(name);\n      };\n    };\n\n    this.emit = createEmit();\n    this.on = on;\n  }\n\n  updateHandles(newHandles) {\n    const eventCancelHandles = this._cancelHandles;\n    const oldHandles = [...eventCancelHandles];\n    eventCancelHandles.clear();\n\n    for (const fn of oldHandles) {\n      fn();\n    }\n\n    newHandles.forEach(f => eventCancelHandles.add(f));\n    return newHandles;\n  }\n\n  update(list) {\n    const handles = EventEmitter.update(this, list);\n    return this.updateHandles(handles);\n  }\n\n  updateInProps(list, custom) {\n    const handles = EventEmitter.updateInProps(this, list, custom);\n    return this.updateHandles(handles);\n  }\n\n}\n\nconst ScopeSlot = 'Neep:ScopeSlot';\nconst SlotRender = 'Neep:SlotRender';\nconst Slot = 'Neep:Slot';\nconst Value = 'Neep:Value';\nconst Container = 'Neep:Container';\nconst Deliver = 'Neep:Deliver';\nconst Template = 'template';\nconst Fragment = Template;\n\nlet current;\nfunction setCurrent(fn, entity) {\n  const oldEntity = current;\n  current = entity;\n\n  try {\n    current.$_valueIndex = 0;\n    current.$_serviceIndex = 0;\n    const ret = fn();\n\n    if (current.$_valueIndex !== current.$_values.length) {\n      throw new NeepError('Inconsistent number of useValue executions', 'life');\n    }\n\n    if (current.$_serviceIndex && current.$_serviceIndex !== current.$_services.length) {\n      throw new NeepError('Inconsistent number of useService executions', 'life');\n    }\n\n    return ret;\n  } finally {\n    current = oldEntity;\n  }\n}\nfunction checkCurrent(name, initOnly = false) {\n  if (!current) {\n    throw new NeepError(`Function \\`${name}\\` can only be called within a cycle.`, 'life');\n  }\n\n  if (!initOnly) {\n    return current;\n  }\n\n  if (!current.created) {\n    return current;\n  }\n\n  throw new NeepError(`Function \\`${name}\\` can only be called at initialization time.`, 'life');\n}\n\nconst constructors = [];\nfunction initContext(context, entity) {\n  for (const constructor of constructors) {\n    constructor(context, entity);\n  }\n\n  return context;\n}\nfunction addContextConstructor(constructor) {\n  constructors.push(safeify(constructor));\n}\n\nconst constructors$1 = [];\nfunction initEntity(entity) {\n  for (const constructor of constructors$1) {\n    constructor(entity);\n  }\n\n  return entity;\n}\nfunction addEntityConstructor(constructor) {\n  constructors$1.push(safeify(constructor));\n}\n\nlet delayedRefresh = 0;\nconst objectSet = new Set();\nfunction wait(obj) {\n  if (delayedRefresh <= 0) {\n    return false;\n  }\n\n  objectSet.add(obj);\n  return true;\n}\n\nfunction run() {\n  if (delayedRefresh > 0) {\n    return;\n  }\n\n  const list = [...objectSet];\n  objectSet.clear();\n  list.forEach(o => o.refresh());\n}\n\nasync function asyncRefresh(f) {\n  try {\n    delayedRefresh++;\n    return await f();\n  } finally {\n    delayedRefresh--;\n    run();\n  }\n}\n\nfunction refresh(f, async) {\n  if (async) {\n    return asyncRefresh(f);\n  }\n\n  try {\n    delayedRefresh++;\n    return f();\n  } finally {\n    delayedRefresh--;\n    run();\n  }\n}\n\nconst hooks = Object.create(null);\nfunction setHook(id, hook, entity) {\n  let list = (entity === null || entity === void 0 ? void 0 : entity.$_hooks) || hooks;\n\n  if (!list) {\n    return () => {};\n  }\n\n  hook = safeify(hook);\n  let set = list[id];\n\n  if (!set) {\n    set = new Set();\n    list[id] = set;\n  }\n\n  set.add(hook);\n  return () => set.delete(hook);\n}\nfunction callHook(id, exposed) {\n  if (!exposed) {\n    return;\n  }\n\n  for (const hook of exposed.$_hooks[id] || []) {\n    hook(exposed);\n  }\n\n  for (const hook of hooks[id] || []) {\n    hook(exposed);\n  }\n}\n\nfunction watch(value, cb) {\n  const entity = checkCurrent('watch');\n\n  if (typeof value !== 'function') {\n    return () => {};\n  }\n\n  const stop = isValue(value) ? value.watch(cb) : computed(value).watch((v, s) => cb(v(), s));\n  setHook('beforeDestroy', () => stop(), entity);\n  return stop;\n}\nfunction useValue(fn) {\n  const entity = checkCurrent('useValue');\n  const index = entity.$_valueIndex++;\n  const values = entity.$_values;\n\n  if (!entity.created) {\n    values[index] = undefined;\n    const v = typeof fn === 'function' ? fn() : value(undefined);\n    return values[index] = v;\n  }\n\n  if (index >= values.length) {\n    throw new NeepError('Inconsistent number of useValue executions', 'life');\n  }\n\n  return values[index];\n}\nfunction useService(fn, ...p) {\n  const entity = checkCurrent('useService');\n  const index = entity.$_serviceIndex++;\n  const services = entity.$_services;\n\n  if (!entity.created) {\n    services[index] = undefined;\n    const v = fn(entity, ...p);\n    services[index] = v;\n    return v;\n  }\n\n  if (index >= services.length) {\n    throw new NeepError('Inconsistent number of useService executions', 'life');\n  }\n\n  return services[index];\n}\nfunction byService(fn, ...p) {\n  const entity = checkCurrent('byService');\n  return fn(entity, ...p);\n}\nfunction hook(name, hook, initOnly) {\n  const entity = checkCurrent('setHook');\n\n  if (initOnly && entity.created) {\n    return undefined;\n  }\n\n  return setHook(name, () => hook(), entity);\n}\n\nfunction setValue(obj, name, value, opt) {\n  if (typeof name === 'string' && ['$', '_'].includes(name[0])) {\n    return;\n  }\n\n  if (isValue(value) && opt) {\n    Reflect.defineProperty(obj, name, {\n      get() {\n        return value();\n      },\n\n      set(v) {\n        value(v);\n      },\n\n      configurable: true,\n      enumerable: true\n    });\n    return;\n  }\n\n  if (typeof value === 'function' && opt) {\n    Reflect.defineProperty(obj, name, {\n      get: value,\n      set: typeof opt === 'function' ? opt : undefined,\n      configurable: true,\n      enumerable: true\n    });\n    return;\n  }\n\n  Reflect.defineProperty(obj, name, {\n    get() {\n      return value;\n    },\n\n    configurable: true,\n    enumerable: true\n  });\n}\n\nfunction expose(name, value, opt) {\n  setValue(checkCurrent('expose', true).exposed, name, value, opt);\n}\nfunction deliver(name, value, opt) {\n  setValue(checkCurrent('deliver', true).delivered, name, value, opt);\n}\n\nconst isElementSymbol = Symbol.for('isNeepElement');\nconst typeSymbol = Symbol.for('type');\nconst nameSymbol = Symbol.for('name');\nconst renderSymbol = Symbol.for('render');\nconst componentsSymbol = Symbol.for('components');\nconst configSymbol = Symbol.for('config');\n\nfunction isElement(v) {\n  if (!v) {\n    return false;\n  }\n\n  if (typeof v !== 'object') {\n    return false;\n  }\n\n  return v[isElementSymbol] === true;\n}\nfunction createElement(tag, attrs, ...children) {\n  attrs = attrs ? { ...attrs\n  } : {};\n  const node = {\n    [isElementSymbol]: true,\n    tag,\n    key: undefined,\n    children: []\n  };\n\n  if ('n:key' in attrs) {\n    node.key = attrs.key;\n  } else if ('n-key' in attrs) {\n    node.key = attrs.key;\n  }\n\n  if ('slot' in attrs) {\n    node.slot = attrs.slot;\n  }\n\n  if (typeof attrs.ref === 'function') {\n    node.ref = attrs.ref;\n  }\n\n  if (tag === Value) {\n    node.value = attrs.value;\n    return node;\n  }\n\n  node.children = children;\n\n  if (tag === Template) {\n    return node;\n  }\n\n  if (tag === SlotRender) {\n    node.render = attrs.render;\n    return node;\n  }\n\n  if (tag === ScopeSlot || tag === Slot) {\n    const {\n      render,\n      argv,\n      args,\n      name\n    } = attrs;\n    node.render = render;\n    node.args = argv && [argv] || Array.isArray(args) && args.length && args || [{}];\n\n    if (tag === ScopeSlot) {\n      node.props = {\n        name\n      };\n      return node;\n    }\n  }\n\n  node.props = {};\n\n  for (let k in attrs) {\n    node.props[k] = attrs[k];\n  }\n\n  return node;\n}\nfunction elements(node, opt = {}) {\n  if (Array.isArray(node)) {\n    const list = [];\n\n    for (let n of node) {\n      list.push(elements(n, opt));\n    }\n\n    return [].concat(...list);\n  }\n\n  if (!isElement(node)) {\n    return [node];\n  }\n\n  let {\n    tag\n  } = node;\n\n  if (!tag) {\n    return [node];\n  }\n\n  if ([Template, ScopeSlot].includes(tag)) {\n    return elements(node.children, opt);\n  }\n\n  if (typeof tag !== 'function') {\n    return [node];\n  }\n\n  if (tag[typeSymbol] !== 'simple') {\n    return [node];\n  }\n\n  const {\n    simple = true\n  } = opt;\n\n  if (!simple) {\n    return [node];\n  }\n\n  if (Array.isArray(simple)) {\n    if (simple.includes(tag)) {\n      return [node];\n    }\n  } else if (typeof simple === 'function') {\n    if (!simple(tag)) {\n      return [node];\n    }\n  }\n\n  return elements(node.children, opt);\n}\n\nlet label;\nfunction setLabel(l) {\n  label = l;\n}\nfunction getLabel() {\n  const l = label;\n  label = undefined;\n  return l;\n}\n\nfunction label$1(text, color = '') {\n  if (!isProduction) {\n    if (!current) {\n      setLabel([text, color]);\n      return;\n    }\n\n    Reflect.defineProperty(current.exposed, '$label', {\n      value: [text, color],\n      configurable: true\n    });\n  }\n}\n\nfunction getRect(n) {\n  for (const t of Object.keys(renders)) {\n    const render = renders[t];\n\n    if (!render) {\n      continue;\n    }\n\n    if (!render.isNode(n)) {\n      continue;\n    }\n\n    const rect = render.getRect(n);\n\n    if (rect) {\n      return rect;\n    }\n  }\n\n  return null;\n}\n\nlet ids = 0;\nconst Nodes = {};\nlet IdMap;\n\nif (!isProduction) {\n  IdMap = new Map();\n}\n\nfunction createMountedNode(n, id) {\n  if (!isProduction) {\n    id = id || ++ids;\n    const {\n      node\n    } = n;\n\n    if (node && IdMap) {\n      IdMap.set(node, id);\n    }\n\n    return Nodes[id] = { ...n,\n      id\n    };\n  }\n\n  return { ...n,\n    id: 0\n  };\n}\nfunction recoveryMountedNode(node) {\n  if (!isProduction) {\n    delete Nodes[node.id];\n  }\n}\n\nfunction* recursive2iterable(list) {\n  if (!Array.isArray(list)) {\n    yield list;\n    return;\n  }\n\n  for (const it of list) {\n    yield* recursive2iterable(it);\n  }\n}\n\nlet refList;\nfunction setRefList(list) {\n  refList = list;\n}\nfunction setRef(ref, node, isRemove) {\n  if (typeof ref !== 'function') {\n    return;\n  }\n\n  if (!node) {\n    return;\n  }\n\n  if (!refList) {\n    ref(node, isRemove);\n  } else {\n    refList.push(() => ref(node, isRemove));\n  }\n}\nfunction* getNodes(tree) {\n  if (Array.isArray(tree)) {\n    for (const it of tree) {\n      yield* getNodes(it);\n    }\n\n    return;\n  }\n\n  const {\n    children,\n    node,\n    component\n  } = tree;\n\n  if (node) {\n    yield node;\n    return;\n  }\n\n  if (component) {\n    yield* getNodes(component.tree);\n    return;\n  }\n\n  yield* getNodes(children);\n}\nfunction unmount(iRender, tree) {\n  if (Array.isArray(tree)) {\n    tree.forEach(e => unmount(iRender, e));\n    return;\n  }\n\n  const {\n    component,\n    children,\n    node,\n    ref\n  } = tree;\n  recoveryMountedNode(tree);\n\n  if (component) {\n    setRef(ref, component.exposed, true);\n    component.unmount();\n    return;\n  }\n\n  if (node) {\n    setRef(ref, node, true);\n    iRender.removeNode(node);\n  }\n\n  unmount(iRender, children);\n}\n\nfunction createValue(iRender, source, value) {\n  let {\n    ref\n  } = source;\n\n  if (iRender.isNode(value)) {\n    setRef(ref, value);\n    return createMountedNode({ ...source,\n      value,\n      node: value,\n      children: [],\n      component: undefined\n    });\n  }\n\n  const type = typeof value;\n  let node;\n\n  if (type === 'bigint' || type === 'boolean' || type === 'number' || type === 'string' || type === 'symbol' || value instanceof RegExp) {\n    node = iRender.createText(String(value));\n  } else if (value instanceof Date) {\n    node = iRender.createText(value.toISOString());\n  } else if (type === 'object' && value) {\n    node = iRender.createText(String(value));\n  }\n\n  if (!node) {\n    node = iRender.createPlaceholder();\n  }\n\n  setRef(ref, node);\n  return createMountedNode({ ...source,\n    value,\n    node,\n    component: undefined,\n    children: []\n  });\n}\nfunction createAll(iRender, source) {\n  if (!source.length) {\n    return [createMountedNode({\n      tag: null,\n      node: iRender.createPlaceholder(),\n      component: undefined,\n      children: []\n    })];\n  }\n\n  return source.map(item => Array.isArray(item) ? createList(iRender, item) : createItem(iRender, item));\n}\nfunction createList(iRender, source) {\n  if (source.length) {\n    return source.map(it => createItem(iRender, it));\n  }\n\n  return [createMountedNode({\n    tag: null,\n    node: iRender.createPlaceholder(),\n    component: undefined,\n    children: []\n  })];\n}\nfunction createItem(iRender, source) {\n  var _source$children;\n\n  const {\n    tag,\n    ref,\n    component\n  } = source;\n\n  if (!tag) {\n    const node = iRender.createPlaceholder();\n    setRef(ref, node);\n    return createMountedNode({\n      tag: null,\n      node,\n      component: undefined,\n      children: []\n    });\n  }\n\n  const ltag = typeof tag !== 'string' ? '' : tag.toLowerCase();\n\n  if (typeof tag !== 'string' || ltag === 'neep:container') {\n    if (!component) {\n      return createMountedNode({ ...source,\n        node: undefined,\n        component: undefined,\n        children: createAll(iRender, source.children)\n      });\n    }\n\n    component.mount();\n    setRef(ref, component.exposed);\n    return createMountedNode({ ...source,\n      node: undefined,\n      component,\n      children: []\n    });\n  }\n\n  if (ltag === 'neep:value') {\n    let {\n      value\n    } = source;\n\n    if (isValue(value)) {\n      value = value();\n    }\n\n    return createValue(iRender, source, value);\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return createMountedNode({ ...source,\n      node: undefined,\n      component: undefined,\n      children: createAll(iRender, source.children)\n    });\n  }\n\n  const node = iRender.createElement(tag, source.props || {});\n  setRef(ref, node);\n  let children = [];\n\n  if ((_source$children = source.children) === null || _source$children === void 0 ? void 0 : _source$children.length) {\n    children = createAll(iRender, source.children);\n\n    for (const it of getNodes(children)) {\n      iRender.insertNode(node, it);\n    }\n  }\n\n  return createMountedNode({ ...source,\n    node,\n    component: undefined,\n    children\n  });\n}\n\nfunction getLastNode(tree) {\n  if (Array.isArray(tree)) {\n    return getLastNode(tree[tree.length - 1]);\n  }\n\n  const {\n    component,\n    children,\n    node\n  } = tree;\n\n  if (node) {\n    return node;\n  }\n\n  if (component) {\n    return getLastNode(component.tree);\n  }\n\n  return getLastNode(children);\n}\n\nfunction getFirstNode(tree) {\n  if (Array.isArray(tree)) {\n    return getFirstNode(tree[0]);\n  }\n\n  const {\n    component,\n    children,\n    node\n  } = tree;\n\n  if (node) {\n    return node;\n  }\n\n  if (component) {\n    return getFirstNode(component.tree);\n  }\n\n  return getFirstNode(children[0]);\n}\n\nfunction replace(iRender, newTree, oldTree) {\n  const next = getFirstNode(oldTree);\n\n  if (!next) {\n    return newTree;\n  }\n\n  const parent = iRender.getParent(next);\n\n  if (!parent) {\n    return newTree;\n  }\n\n  for (const it of getNodes(newTree)) {\n    iRender.insertNode(parent, it, next);\n  }\n\n  unmount(iRender, oldTree);\n  return newTree;\n}\n\nfunction updateList(iRender, source, tree) {\n  if (!source.length) {\n    const node = createItem(iRender, {\n      tag: null,\n      children: []\n    });\n    return [replace(iRender, node, tree)];\n  }\n\n  if (!Array.isArray(tree)) {\n    tree = [tree];\n  }\n\n  const newList = [];\n  const list = [...tree];\n  const mountedMap = new Map();\n\n  for (const src of source) {\n    const index = list.findIndex(it => it.tag === src.tag && it.key === src.key);\n\n    if (index >= 0) {\n      const old = list[index];\n      const item = updateItem(iRender, src, old);\n      mountedMap.set(old, item);\n      newList.push(item);\n      list.splice(index, 1);\n    } else {\n      const item = createItem(iRender, src);\n      newList.push(item);\n    }\n  }\n\n  if (!mountedMap.size) {\n    return replace(iRender, newList, list);\n  }\n\n  unmount(iRender, list);\n  tree = tree.filter(t => mountedMap.has(t));\n  const last = getLastNode(tree[tree.length - 1]);\n  const parent = iRender.getParent(last);\n\n  if (!parent) {\n    return newList;\n  }\n\n  let next = iRender.nextNode(last);\n\n  for (let i = newList.length - 1; i >= 0; i--) {\n    const item = newList[i];\n    const index = tree.findIndex(o => mountedMap.get(o) === item);\n\n    if (index >= 0) {\n      for (const it of tree.splice(index)) {\n        mountedMap.delete(it);\n      }\n    } else {\n      for (const it of getNodes(item)) {\n        iRender.insertNode(parent, it, next);\n      }\n    }\n\n    next = getFirstNode(item) || next;\n  }\n\n  return newList;\n}\n\nfunction updateAll(iRender, source, tree) {\n  let index = 0;\n  let length = Math.min(source.length, source.length || 1);\n  const list = [];\n\n  for (; index < length; index++) {\n    const src = source[index];\n\n    if (Array.isArray(src)) {\n      list.push(updateList(iRender, src, tree[index]));\n    } else {\n      list.push(updateItem(iRender, src, tree[index]));\n    }\n  }\n\n  length = Math.max(source.length, tree.length);\n\n  if (tree.length > length) {\n    for (; index < length; index++) {\n      unmount(iRender, tree[index]);\n    }\n  }\n\n  if (source.length > length) {\n    const last = getLastNode(list[list.length - 1]);\n    const parent = iRender.getParent(last);\n    const next = iRender.nextNode(last);\n\n    for (; index < length; index++) {\n      const src = source[index];\n      const item = Array.isArray(src) ? createList(iRender, src) : createItem(iRender, src);\n      list.push(item);\n\n      if (!parent) {\n        continue;\n      }\n\n      for (const it of getNodes(item)) {\n        iRender.insertNode(parent, it, next);\n      }\n    }\n  }\n\n  return list;\n}\n\nfunction updateItem(iRender, source, tree) {\n  if (Array.isArray(tree)) {\n    const index = tree.findIndex(it => it.tag === source.tag && it.component === source.component);\n\n    if (index < 0) {\n      return replace(iRender, createItem(iRender, source), tree);\n    }\n\n    const all = tree;\n    [tree] = tree.splice(index, 1);\n    unmount(iRender, all);\n  }\n\n  const {\n    tag,\n    component\n  } = source;\n  const ref = source.ref !== tree.ref && source.ref || undefined;\n\n  if (tag !== tree.tag || component !== tree.component) {\n    return replace(iRender, createItem(iRender, source), tree);\n  }\n\n  if (!tag) {\n    return tree;\n  }\n\n  const ltag = typeof tag !== 'string' ? '' : tag.toLowerCase();\n\n  if (typeof tag !== 'string' || ltag === 'neep:container') {\n    if (!component) {\n      return createMountedNode({ ...source,\n        node: undefined,\n        component: undefined,\n        children: updateAll(iRender, source.children, tree.children)\n      }, tree.id);\n    }\n\n    setRef(ref, component.exposed);\n    return createMountedNode({ ...source,\n      node: undefined,\n      component,\n      children: []\n    }, tree.id);\n  }\n\n  if (ltag === 'neep:value') {\n    let {\n      value\n    } = source;\n\n    if (isValue(value)) {\n      value = value();\n    }\n\n    if (tree.value === value) {\n      setRef(ref, tree.node);\n      return createMountedNode({ ...tree,\n        ...source,\n        value,\n        children: []\n      }, tree.id);\n    }\n\n    return replace(iRender, createValue(iRender, source, value), tree);\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return createMountedNode({ ...source,\n      node: undefined,\n      component: undefined,\n      children: updateAll(iRender, source.children, tree.children)\n    }, tree.id);\n  }\n\n  const {\n    node\n  } = tree;\n  iRender.updateProps(node, source.props || {});\n  setRef(ref, node);\n\n  if (!source.children.length && !tree.children.length) {\n    return createMountedNode({ ...tree,\n      ...source,\n      children: []\n    }, tree.id);\n  }\n\n  if (!source.children.length && tree.children.length) {\n    unmount(iRender, tree.children);\n  }\n\n  if (source.children.length && !tree.children.length) {\n    const children = createAll(iRender, source.children);\n\n    for (const it of getNodes(children)) {\n      iRender.insertNode(node, it);\n    }\n\n    return createMountedNode({ ...tree,\n      ...source,\n      children\n    }, tree.id);\n  }\n\n  return createMountedNode({ ...tree,\n    ...source,\n    children: updateAll(iRender, source.children, tree.children)\n  }, tree.id);\n}\n\nfunction draw(iRender, source, tree) {\n  if (tree) {\n    return updateAll(iRender, source, tree);\n  }\n\n  return createAll(iRender, source);\n}\n\nfunction getSlots(iRender, children, slots, native = false) {\n  const nativeList = [];\n\n  for (const it of children) {\n    if (Array.isArray(it)) {\n      const list = Object.create(null);\n      nativeList.push(getSlots(iRender, it, list, native));\n\n      for (const k of Reflect.ownKeys(list)) {\n        if (k in slots) {\n          slots[k].push(list[k]);\n        } else {\n          slots[k] = [list[k]];\n        }\n      }\n\n      continue;\n    }\n\n    if (native) {\n      if (iRender.isNode(it)) {\n        nativeList.push(it);\n        continue;\n      }\n\n      if (!isElement(it)) {\n        nativeList.push(it);\n        continue;\n      }\n\n      if (it.tag !== SlotRender) {\n        nativeList.push(it);\n        continue;\n      }\n    }\n\n    const slot = isElement(it) && it.slot || 'default';\n    const el = isElement(it) ? { ...it,\n      slot: undefined,\n      props: { ...it.props,\n        slot: undefined\n      }\n    } : it;\n\n    if (slot in slots) {\n      slots[slot].push(el);\n    } else {\n      slots[slot] = [el];\n    }\n  }\n\n  return nativeList;\n}\n\nfunction renderSlots(list, ...props) {\n  return list.map(it => {\n    if (Array.isArray(it)) {\n      return renderSlots(it, ...props);\n    }\n\n    if (!isElement(it)) {\n      return it;\n    }\n\n    if (it.tag !== SlotRender) {\n      return { ...it,\n        slot: undefined\n      };\n    }\n\n    if (typeof it.render === 'function') {\n      return it.render(...props);\n    }\n\n    return it.children;\n  });\n}\n\nfunction createSlots(name, list) {\n  const slot = (...props) => ({\n    [isElementSymbol]: true,\n    tag: ScopeSlot,\n    children: renderSlots(list, ...props),\n    inserted: true,\n    label: isProduction ? undefined : [`[${name}]`, '#00F']\n  });\n\n  slot.children = list;\n  return slot;\n}\n\nfunction setSlots(children, slots = Object.create(null)) {\n  for (const k of Reflect.ownKeys(slots)) {\n    if (!(k in children)) {\n      delete slots[k];\n    }\n  }\n\n  for (const k of Reflect.ownKeys(children)) {\n    slots[k] = createSlots(k, children[k]);\n  }\n\n  return slots;\n}\n\nconst disabledKey = new Set([':', '@', '#', '*', '!', '%', '^', '~', '&', '=', '+', '.', '(', ')', '[', ']', '{', '}', '<', '>']);\n\nfunction filter(k) {\n  if (typeof k !== 'string') {\n    return true;\n  }\n\n  if (disabledKey.has(k[0])) {\n    return false;\n  }\n\n  if (/^n[:-]/.test(k)) {\n    return false;\n  }\n\n  if (/^on[:-]/.test(k)) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction updateProps(obj, props, oldProps = {}, define = false, isProps = false) {\n  const keys = Reflect.ownKeys(props);\n  const newKeys = new Set(isProps ? keys.filter(filter) : keys);\n\n  for (const k of Reflect.ownKeys(obj)) {\n    if (!newKeys.has(k)) {\n      delete obj[k];\n    }\n  }\n\n  if (!define) {\n    for (const k of newKeys) {\n      obj[k] = props[k];\n    }\n\n    return obj;\n  }\n\n  for (const k of newKeys) {\n    const value = props[k];\n\n    if (k in oldProps && oldProps[k] === value) {\n      continue;\n    }\n\n    if (isValue(value)) {\n      Reflect.defineProperty(obj, k, {\n        configurable: true,\n        enumerable: true,\n\n        get() {\n          return value();\n        },\n\n        set(v) {\n          value(v);\n        }\n\n      });\n      continue;\n    }\n\n    Reflect.defineProperty(obj, k, {\n      configurable: true,\n      enumerable: true,\n      value\n    });\n  }\n\n  return obj;\n}\n\nconst components = Object.create(null);\nfunction register(name, component) {\n  components[name] = component;\n}\n\nfunction getComponents(...components) {\n  return components.filter(Boolean);\n}\n\nfunction execSimple(nObject, delivered, node, tag, components, children) {\n  if (node.execed) {\n    return node;\n  }\n\n  const {\n    iRender\n  } = nObject;\n  const slotMap = Object.create(null);\n  getSlots(iRender, children, slotMap);\n  const slots = setSlots(slotMap);\n  const event = new EventEmitter();\n  event.updateInProps(node.props);\n  const props = { ...node.props\n  };\n  const context = initContext({\n    slots,\n    created: false,\n    parent: nObject.exposed,\n    delivered,\n    children: new Set(),\n    childNodes: children,\n\n    refresh(f) {\n      nObject.refresh(f);\n    },\n\n    emit: event.emit\n  });\n\n  if (!isProduction) {\n    getLabel();\n  }\n\n  const result = tag(props, context);\n  let label;\n\n  if (!isProduction) {\n    label = getLabel();\n  }\n\n  const nodes = init(nObject, delivered, renderNode(nObject.iRender, result, context, tag[renderSymbol]), slots, getComponents(...components, tag[componentsSymbol]), false);\n  return { ...node,\n    tag,\n    execed: true,\n    children: Array.isArray(nodes) ? nodes : [nodes],\n    label\n  };\n}\n\nfunction exec(nObject, delivered, node, components) {\n  if (Array.isArray(node)) {\n    return node.map(n => exec(nObject, delivered, n, components));\n  }\n\n  if (!isElement(node)) {\n    return node;\n  }\n\n  let {\n    tag,\n    children\n  } = node;\n\n  if (tag === Deliver) {\n    const props = { ...node.props\n    };\n    delete props.ref;\n    delete props.slot;\n    delete props.key;\n    return { ...node,\n      tag,\n      children: children.map(n => exec(nObject, updateProps(Object.create(delivered), props || {}, {}, true), n, components))\n    };\n  }\n\n  if (typeof tag !== 'function' || tag[typeSymbol] !== 'simple') {\n    return { ...node,\n      tag,\n      children: children.map(n => exec(nObject, delivered, n, components))\n    };\n  }\n\n  return execSimple(nObject, delivered, node, tag, components, children);\n}\n\nfunction findComponent(tag, components$1) {\n  if (!tag) {\n    return null;\n  }\n\n  if (typeof tag !== 'string') {\n    return tag;\n  }\n\n  if (tag === 'template') {\n    return tag;\n  }\n\n  if (/^neep:.+/i.test(tag)) {\n    return tag;\n  }\n\n  for (const list of components$1) {\n    const component = list[tag];\n\n    if (component) {\n      return component;\n    }\n  }\n\n  return components[tag] || tag;\n}\n\nfunction replaceNode(node, slots, components, native) {\n  var _node$props;\n\n  if (Array.isArray(node)) {\n    return node.map(n => replaceNode(n, slots, components, native));\n  }\n\n  if (!isElement(node)) {\n    return node;\n  }\n\n  let {\n    children,\n    args = [{}]\n  } = node;\n  let tag = findComponent(node.tag, components);\n\n  if (tag === Slot) {\n    tag = native ? 'slot' : ScopeSlot;\n  }\n\n  if (tag !== ScopeSlot) {\n    return { ...node,\n      tag,\n      children: replaceNode(children, slots, components, native)\n    };\n  }\n\n  if (node.tag === ScopeSlot && node.inserted) {\n    return node;\n  }\n\n  const slotName = ((_node$props = node.props) === null || _node$props === void 0 ? void 0 : _node$props.name) || 'default';\n  const slot = slots[slotName];\n\n  if (typeof slot === 'function') {\n    return { ...node,\n      ...slot(...args)\n    };\n  }\n\n  const {\n    render\n  } = node;\n  const label = isProduction ? undefined : [`[${slotName}]`, '#00F'];\n  return { ...node,\n    tag: ScopeSlot,\n    label,\n    children: replaceNode(typeof render !== 'function' ? children : render(...args), slots, components, native)\n  };\n}\n\nfunction renderNode(iRender, node, context, render) {\n  if (Array.isArray(node)) {\n    return node;\n  }\n\n  if (isElement(node)) {\n    return [node];\n  }\n\n  if (node === undefined || node === null) {\n    return [{\n      [isElementSymbol]: true,\n      tag: null,\n      key: undefined,\n      children: []\n    }];\n  }\n\n  if (!iRender.isNode(node) && node && typeof node === 'object' && render) {\n    node = render(node, context);\n  }\n\n  if (isElement(node)) {\n    return [node];\n  }\n\n  if (node === undefined || node === null) {\n    return [{\n      [isElementSymbol]: true,\n      tag: null,\n      key: undefined,\n      children: []\n    }];\n  }\n\n  return [{\n    [isElementSymbol]: true,\n    key: undefined,\n    tag: Value,\n    value: node,\n    children: []\n  }];\n}\n\nfunction init(nObject, delivered, node, slots, components, native) {\n  return exec(nObject, delivered, replaceNode(node, slots, components, native), components);\n}\nfunction normalize(nObject, result) {\n  const {\n    component\n  } = nObject;\n  return init(nObject, nObject.delivered, renderNode(nObject.iRender, result, nObject.context, component[renderSymbol]), nObject.slots, getComponents(component[componentsSymbol]), Boolean(nObject.native));\n}\n\nfunction createExposed(obj) {\n  const cfg = {\n    $parent: {\n      configurable: true,\n      get: () => {\n        var _obj$parent;\n\n        return (_obj$parent = obj.parent) === null || _obj$parent === void 0 ? void 0 : _obj$parent.exposed;\n      }\n    },\n    $component: {\n      configurable: true,\n      value: null\n    },\n    $isContainer: {\n      configurable: true,\n      value: false\n    },\n    $created: {\n      configurable: true,\n      get: () => obj.created\n    },\n    $destroyed: {\n      configurable: true,\n      get: () => obj.destroyed\n    },\n    $mounted: {\n      configurable: true,\n      get: () => obj.mounted\n    },\n    $unmounted: {\n      configurable: true,\n      get: () => obj.unmounted\n    }\n  };\n  const exposed = Object.create(null, cfg);\n  return exposed;\n}\n\nlet completeList;\nfunction setCompleteList(list) {\n  completeList = list;\n}\nfunction complete(it) {\n  if (!completeList) {\n    it();\n  } else {\n    completeList.push(it);\n  }\n}\n\nfunction createEntity(obj) {\n  const cfg = {\n    exposed: {\n      configurable: true,\n      get: () => obj.exposed\n    },\n    delivered: {\n      configurable: true,\n      get: () => obj.delivered\n    },\n    parent: {\n      configurable: true,\n      get: () => {\n        var _obj$parent2;\n\n        return (_obj$parent2 = obj.parent) === null || _obj$parent2 === void 0 ? void 0 : _obj$parent2.entity;\n      }\n    },\n    component: {\n      configurable: true,\n      value: null\n    },\n    isContainer: {\n      configurable: true,\n      value: false\n    },\n    created: {\n      configurable: true,\n      get: () => obj.created\n    },\n    destroyed: {\n      configurable: true,\n      get: () => obj.destroyed\n    },\n    mounted: {\n      configurable: true,\n      get: () => obj.mounted\n    },\n    unmounted: {\n      configurable: true,\n      get: () => obj.unmounted\n    },\n    $_hooks: {\n      configurable: true,\n      value: Object.create(null)\n    },\n    $_valueIndex: {\n      configurable: true,\n      value: 0,\n      writable: true\n    },\n    $_values: {\n      configurable: true,\n      value: []\n    },\n    $_serviceIndex: {\n      configurable: true,\n      value: 0,\n      writable: true\n    },\n    $_services: {\n      configurable: true,\n      value: []\n    },\n    callHook: {\n      configurable: true,\n\n      value(h) {\n        callHook(h, entity);\n      }\n\n    },\n    setHook: {\n      configurable: true,\n\n      value(id, hook) {\n        return setHook(id, hook, entity);\n      }\n\n    },\n    refresh: {\n      configurable: true,\n      value: obj.refresh.bind(obj)\n    },\n    on: {\n      configurable: true,\n      value: obj.on\n    },\n    emit: {\n      configurable: true,\n      value: obj.emit\n    },\n    config: {\n      configurable: true,\n      value: obj.config\n    }\n  };\n  const entity = Object.create(null, cfg);\n  return initEntity(entity);\n}\n\nclass EntityObject {\n  constructor(iRender, parent, delivered = (parent === null || parent === void 0 ? void 0 : parent.delivered) || Object.create(null), container) {\n    _defineProperty(this, \"events\", new EventEmitter());\n\n    _defineProperty(this, \"emit\", this.events.emit);\n\n    _defineProperty(this, \"on\", this.events.on);\n\n    _defineProperty(this, \"eventCancelHandles\", new Set());\n\n    _defineProperty(this, \"iRender\", void 0);\n\n    _defineProperty(this, \"components\", Object.create(null));\n\n    _defineProperty(this, \"config\", Object.create(null));\n\n    _defineProperty(this, \"parentDelivered\", void 0);\n\n    _defineProperty(this, \"delivered\", void 0);\n\n    _defineProperty(this, \"exposed\", createExposed(this));\n\n    _defineProperty(this, \"entity\", createEntity(this));\n\n    _defineProperty(this, \"parent\", void 0);\n\n    _defineProperty(this, \"native\", void 0);\n\n    _defineProperty(this, \"created\", false);\n\n    _defineProperty(this, \"destroyed\", false);\n\n    _defineProperty(this, \"mounted\", false);\n\n    _defineProperty(this, \"unmounted\", false);\n\n    _defineProperty(this, \"children\", new Set());\n\n    _defineProperty(this, \"tree\", []);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"_render\", () => []);\n\n    _defineProperty(this, \"_needRefresh\", false);\n\n    _defineProperty(this, \"_delayedRefresh\", 0);\n\n    _defineProperty(this, \"_refreshing\", false);\n\n    _defineProperty(this, \"_nodes\", []);\n\n    _defineProperty(this, \"childNodes\", []);\n\n    _defineProperty(this, \"__executed_destroy\", false);\n\n    _defineProperty(this, \"__executed_mount\", false);\n\n    _defineProperty(this, \"__executed_mounted\", false);\n\n    _defineProperty(this, \"_cancelDrawMonitor\", void 0);\n\n    this.iRender = iRender;\n    this.parentDelivered = delivered;\n    this.delivered = Object.create(delivered);\n\n    if (parent) {\n      this.parent = parent;\n    }\n\n    this.container = container || this;\n  }\n\n  get canRefresh() {\n    if (wait(this)) {\n      return false;\n    }\n\n    return !this._delayedRefresh;\n  }\n\n  get needRefresh() {\n    if (wait(this)) {\n      return false;\n    }\n\n    if (this._delayedRefresh) {\n      return false;\n    }\n\n    const needRefresh = this._needRefresh;\n    this._needRefresh = false;\n    return needRefresh;\n  }\n\n  requestDraw() {}\n\n  async asyncRefresh(f) {\n    try {\n      this._delayedRefresh++;\n      return await f();\n    } finally {\n      this._delayedRefresh--;\n      this.refresh();\n    }\n  }\n\n  refresh(f, async) {\n    if (typeof f === 'function') {\n      if (async) {\n        return this.asyncRefresh(f);\n      }\n\n      try {\n        this._delayedRefresh++;\n        return f();\n      } finally {\n        this._delayedRefresh--;\n\n        if (this._delayedRefresh <= 0) {\n          this.refresh();\n        }\n      }\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this._needRefresh = true;\n\n    if (!this.created) {\n      return;\n    }\n\n    if (this._refreshing) {\n      return;\n    }\n\n    this._refreshing = true;\n    let nodes;\n\n    while (this.needRefresh) {\n      nodes = this._render();\n\n      if (this.destroyed) {\n        return;\n      }\n    }\n\n    this._refreshing = false;\n\n    if (!this.canRefresh) {\n      return;\n    }\n\n    if (!nodes) {\n      return;\n    }\n\n    this._nodes = convert(this, nodes, this._nodes);\n\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    if (this.unmounted) {\n      return;\n    }\n\n    this.requestDraw();\n  }\n\n  callHook(id) {\n    callHook(id, this.entity);\n  }\n\n  _update(props, children) {\n    this.childNodes = children;\n  }\n\n  update(props, children) {\n    this._update(props, children);\n  }\n\n  _destroy() {}\n\n  destroy() {\n    if (this.__executed_destroy) {\n      return;\n    }\n\n    this.__executed_destroy = true;\n    this.callHook('beforeDestroy');\n\n    this._destroy();\n\n    this.callHook('destroyed');\n    this.destroyed = true;\n  }\n\n  _mount() {}\n\n  mount() {\n    if (this.__executed_destroy) {\n      return;\n    }\n\n    if (this.__executed_mount) {\n      return;\n    }\n\n    this.__executed_mount = true;\n    this.callHook('beforeMount');\n    const result = exec$1(c => c && this.requestDraw(), () => {\n      this._mount();\n\n      this.mounted = true;\n    });\n    this._cancelDrawMonitor = result.stop;\n    complete(() => this.callHook('mounted'));\n  }\n\n  _unmount() {}\n\n  unmount() {\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.__executed_mounted) {\n      return;\n    }\n\n    this.__executed_mounted = true;\n    this.callHook('beforeUnmount');\n\n    this._unmount();\n\n    this.callHook('unmounted');\n    this.unmounted = true;\n  }\n\n  _draw() {}\n\n  draw() {\n    if (this.__executed_destroy) {\n      return;\n    }\n\n    if (this._cancelDrawMonitor) {\n      this._cancelDrawMonitor();\n    }\n\n    this.callHook('beforeDraw');\n    const result = exec$1(c => c && this.requestDraw(), () => this._draw());\n    this._cancelDrawMonitor = result.stop;\n    complete(() => this.callHook('drawn'));\n  }\n\n}\n\nfunction update(nObject, props, children) {\n  updateProps(nObject.props, props, {}, false, true);\n  nObject.events.updateInProps(props);\n  const slots = Object.create(null);\n  const {\n    native\n  } = nObject;\n  const childNodes = getSlots(nObject.iRender, children, slots, Boolean(native));\n  setSlots(slots, nObject.slots);\n\n  if (!native) {\n    return;\n  }\n\n  nObject.nativeNodes = convert(nObject, childNodes, nObject.nativeNodes);\n\n  if (!nObject.mounted) {\n    return;\n  }\n\n  nObject.requestDraw();\n}\n\nfunction createContext(nObject) {\n  return initContext({\n    slots: nObject.slots,\n\n    get created() {\n      return nObject.created;\n    },\n\n    get parent() {\n      return nObject.parent.exposed;\n    },\n\n    get delivered() {\n      return nObject.parentDelivered;\n    },\n\n    get children() {\n      return nObject.children;\n    },\n\n    get childNodes() {\n      return nObject.childNodes;\n    },\n\n    get emit() {\n      return nObject.emit;\n    },\n\n    refresh(f) {\n      nObject.refresh(f);\n    }\n\n  }, nObject.entity);\n}\n\nfunction initRender(nObject) {\n  const {\n    component,\n    props,\n    context,\n    entity\n  } = nObject;\n\n  function refresh(changed) {\n    if (!changed) {\n      return;\n    }\n\n    nObject.refresh();\n  }\n\n  const result = exec$1(refresh, () => setCurrent(() => component(props, context), entity), {\n    resultOnly: true\n  });\n\n  if (typeof result === 'function') {\n    const render = monitor(refresh, () => normalize(nObject, result()));\n    return {\n      nodes: render(),\n      render,\n      stopRender: () => render.stop()\n    };\n  }\n\n  const render = monitor(refresh, () => normalize(nObject, setCurrent(() => component(props, context), entity)));\n  return {\n    nodes: exec$1(refresh, () => normalize(nObject, result), {\n      resultOnly: true\n    }),\n    render,\n    stopRender: () => render.stop()\n  };\n}\n\nclass ComponentEntity extends EntityObject {\n  constructor(component, props, children, parent, delivered) {\n    var _this$iRender$createC, _this$iRender;\n\n    super(parent.iRender, parent, delivered, parent.container);\n\n    _defineProperty(this, \"component\", void 0);\n\n    _defineProperty(this, \"props\", encase(Object.create(null)));\n\n    _defineProperty(this, \"slots\", encase(Object.create(null)));\n\n    _defineProperty(this, \"_stopRender\", void 0);\n\n    _defineProperty(this, \"nativeNodes\", void 0);\n\n    _defineProperty(this, \"shadowTree\", []);\n\n    _defineProperty(this, \"nativeTree\", []);\n\n    _defineProperty(this, \"_shadow\", void 0);\n\n    _defineProperty(this, \"context\", void 0);\n\n    _defineProperty(this, \"parent\", void 0);\n\n    this.component = component;\n    Object.assign(this.config, component[configSymbol]);\n    Object.assign(this.components, component[componentsSymbol]);\n    Reflect.defineProperty(this.exposed, '$component', {\n      value: component,\n      enumerable: true,\n      configurable: true\n    });\n    [this.native, this._shadow] = component[typeSymbol] === 'native' && ((_this$iRender$createC = (_this$iRender = this.iRender).createComponent) === null || _this$iRender$createC === void 0 ? void 0 : _this$iRender$createC.call(_this$iRender)) || [];\n    this.parent = parent;\n    parent.children.add(this.exposed);\n    const context = createContext(this);\n    this.context = context;\n    this.callHook('beforeCreate');\n    this.childNodes = children;\n    refresh(() => update(this, props, children));\n    const {\n      render,\n      nodes,\n      stopRender\n    } = initRender(this);\n    this._render = render;\n    this._stopRender = stopRender;\n    this._nodes = convert(this, nodes);\n    this.callHook('created');\n    this.created = true;\n\n    if (this._needRefresh) {\n      this.refresh();\n    }\n  }\n\n  _update(props, children) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.childNodes = children;\n    refresh(() => update(this, props, children));\n  }\n\n  _destroy() {\n    if (this._stopRender) {\n      this._stopRender();\n    }\n\n    this.parent.children.delete(this.exposed);\n    destroy(this._nodes);\n  }\n\n  requestDraw() {\n    this.container.markDraw(this);\n  }\n\n  _draw() {\n    const {\n      nativeNodes,\n      iRender,\n      _shadow,\n      native\n    } = this;\n\n    if (!native || !nativeNodes || !_shadow) {\n      this.tree = draw(iRender, this._nodes, this.tree);\n      return;\n    }\n\n    this.shadowTree = draw(iRender, this._nodes, this.shadowTree);\n    this.nativeTree = draw(iRender, nativeNodes, this.nativeTree);\n  }\n\n  _mount() {\n    const {\n      nativeNodes,\n      iRender,\n      _shadow,\n      native,\n      _nodes\n    } = this;\n\n    if (!native || !nativeNodes || !_shadow) {\n      this.tree = draw(iRender, _nodes);\n      return;\n    }\n\n    this.tree = draw(iRender, convert(this, native));\n    this.shadowTree = draw(iRender, _nodes);\n\n    for (const it of getNodes(this.shadowTree)) {\n      iRender.insertNode(_shadow, it);\n    }\n\n    this.nativeTree = draw(iRender, nativeNodes);\n\n    for (const it of getNodes(this.nativeTree)) {\n      iRender.insertNode(native, it);\n    }\n  }\n\n  _unmount() {\n    const {\n      iRender,\n      nativeTree\n    } = this;\n    unmount(iRender, this.tree);\n\n    if (!nativeTree) {\n      return;\n    }\n\n    unmount(iRender, nativeTree);\n  }\n\n}\n\nfunction toElement(t) {\n  if (t === false || t === null || t === undefined) {\n    return null;\n  }\n\n  if (isElement(t)) {\n    return t;\n  }\n\n  return {\n    [isElementSymbol]: true,\n    tag: 'Neep:Value',\n    key: t,\n    value: t,\n    children: []\n  };\n}\n\nfunction destroy(tree) {\n  if (Array.isArray(tree)) {\n    tree.forEach(t => destroy(t));\n    return;\n  }\n\n  const {\n    component\n  } = tree;\n\n  if (component) {\n    component.destroy();\n  }\n}\n\nfunction createItem$1(nObject, delivered, source) {\n  if (!source) {\n    return {\n      tag: null,\n      key: undefined,\n      children: []\n    };\n  }\n\n  const {\n    tag\n  } = source;\n\n  if (!tag) {\n    return {\n      tag: null,\n      key: undefined,\n      children: []\n    };\n  }\n\n  if (typeof tag !== 'string') {\n    if (tag[typeSymbol] === 'simple') {\n      return { ...source,\n        children: createAll$1(nObject, delivered, source.children),\n        component: undefined\n      };\n    }\n\n    return { ...source,\n      children: [],\n      component: new ComponentEntity(tag, source.props || {}, source.children, nObject, delivered)\n    };\n  }\n\n  const ltag = tag.toLowerCase();\n\n  if (ltag === 'neep:container') {\n    var _source$props;\n\n    const type = source === null || source === void 0 ? void 0 : (_source$props = source.props) === null || _source$props === void 0 ? void 0 : _source$props.type;\n    const iRender = type ? getRender(type) : nObject.iRender;\n    return { ...source,\n      children: [],\n      component: new ContainerEntity(iRender, source.props || {}, source.children, nObject, delivered)\n    };\n  }\n\n  if (ltag === 'neep:value') {\n    return { ...source,\n      children: []\n    };\n  }\n\n  if (ltag === 'neep:deliver') {\n    const props = { ...source.props\n    };\n    delete props.ref;\n    delete props.slot;\n    delete props.key;\n    const newDelivered = updateProps(Object.create(delivered), props, {}, true);\n    return { ...source,\n      delivered: newDelivered,\n      children: createAll$1(nObject, newDelivered, source.children)\n    };\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return { ...source,\n      children: createAll$1(nObject, delivered, source.children)\n    };\n  }\n\n  return { ...source,\n    children: createAll$1(nObject, delivered, source.children)\n  };\n}\n\nfunction updateList$1(nObject, delivered, source, tree) {\n  if (!Array.isArray(tree)) {\n    tree = [tree];\n  }\n\n  const newList = [];\n\n  for (const src of recursive2iterable(source)) {\n    const node = toElement(src);\n\n    if (!node) {\n      continue;\n    }\n\n    const index = tree.findIndex(it => it.tag === node.tag && it.key === node.key);\n\n    if (index >= 0) {\n      newList.push(updateItem$1(nObject, delivered, node, tree[index]));\n      tree.splice(index, 1);\n    } else {\n      newList.push(createItem$1(nObject, delivered, node));\n    }\n  }\n\n  destroy(tree);\n  return newList;\n}\n\nfunction updateItem$1(nObject, delivered, source, tree) {\n  if (!tree) {\n    return createItem$1(nObject, delivered, source);\n  }\n\n  if (!source) {\n    destroy(tree);\n    return {\n      tag: null,\n      key: undefined,\n      children: []\n    };\n  }\n\n  if (Array.isArray(tree)) {\n    if (!tree.length) {\n      return createItem$1(nObject, delivered, source);\n    }\n\n    const index = tree.findIndex(it => it.tag === source.tag);\n\n    if (index < 0) {\n      destroy(tree);\n      return createItem$1(nObject, delivered, source);\n    }\n\n    const all = tree;\n    [tree] = tree.splice(index, 1);\n    destroy(all);\n  }\n\n  const {\n    tag\n  } = source;\n\n  if (tag !== tree.tag) {\n    destroy(tree);\n    return createItem$1(nObject, delivered, source);\n  }\n\n  if (!tag) {\n    return {\n      tag: null,\n      key: undefined,\n      children: []\n    };\n  }\n\n  if (typeof tag !== 'string') {\n    if (tag[typeSymbol] === 'simple') {\n      return { ...source,\n        children: [...updateAll$1(nObject, delivered, source.children, tree.children)],\n        component: undefined\n      };\n    }\n\n    const {\n      component\n    } = tree;\n\n    if (!component) {\n      return createItem$1(nObject, delivered, source);\n    }\n\n    component.update(source.props || {}, source.children);\n    return { ...source,\n      children: [],\n      component\n    };\n  }\n\n  const ltag = tag.toLowerCase();\n\n  if (ltag === 'neep:container') {\n    var _source$props2;\n\n    const {\n      component\n    } = tree;\n\n    if (!component) {\n      return createItem$1(nObject, delivered, source);\n    }\n\n    const type = source === null || source === void 0 ? void 0 : (_source$props2 = source.props) === null || _source$props2 === void 0 ? void 0 : _source$props2.type;\n    const iRender = type ? getRender(type) : nObject.iRender;\n\n    if (iRender !== component.iRender) {\n      return createItem$1(nObject, delivered, source);\n    }\n\n    component.update(source.props || {}, source.children);\n    return { ...source,\n      children: [],\n      component\n    };\n  }\n\n  if (ltag === 'neep:value') {\n    return { ...source,\n      children: []\n    };\n  }\n\n  if (ltag === 'neep:deliver') {\n    const props = { ...source.props\n    };\n    delete props.ref;\n    delete props.slot;\n    delete props.key;\n    const newDelivered = updateProps(tree.delivered || Object.create(delivered), props, tree.props, true);\n    return { ...source,\n      delivered: newDelivered,\n      children: [...updateAll$1(nObject, newDelivered, source.children, tree.children)]\n    };\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return { ...source,\n      children: [...updateAll$1(nObject, delivered, source.children, tree.children)]\n    };\n  }\n\n  return { ...source,\n    children: [...updateAll$1(nObject, delivered, source.children, tree.children)]\n  };\n}\n\nfunction createAll$1(nObject, delivered, source) {\n  if (!Array.isArray(source)) {\n    source = [source];\n  }\n\n  if (!source.length) {\n    return [];\n  }\n\n  return source.map(item => {\n    if (!Array.isArray(item)) {\n      return createItem$1(nObject, delivered, toElement(item));\n    }\n\n    return [...recursive2iterable(item)].map(it => createItem$1(nObject, delivered, toElement(it)));\n  });\n}\n\nfunction* updateAll$1(nObject, delivered, source, tree) {\n  if (!Array.isArray(source)) {\n    source = [source];\n  }\n\n  let index = 0;\n  let length = Math.min(source.length, source.length);\n\n  for (; index < length; index++) {\n    const src = source[index];\n\n    if (Array.isArray(src)) {\n      yield updateList$1(nObject, delivered, src, tree[index]);\n    } else {\n      yield updateItem$1(nObject, delivered, toElement(src), tree[index]);\n    }\n  }\n\n  length = Math.max(source.length, source.length);\n\n  if (tree.length > length) {\n    for (; index < length; index++) {\n      destroy(tree[index]);\n    }\n  }\n\n  if (source.length > length) {\n    for (; index < length; index++) {\n      const src = toElement(source[index]);\n\n      if (Array.isArray(src)) {\n        yield [...recursive2iterable(src)].map(it => createItem$1(nObject, delivered, it));\n      } else {\n        yield createItem$1(nObject, delivered, src);\n      }\n    }\n  }\n}\n\nfunction convert(nObject, source, tree) {\n  if (!tree) {\n    return createAll$1(nObject, nObject.delivered, source);\n  }\n\n  return [...updateAll$1(nObject, nObject.delivered, source, tree)];\n}\n\nlet awaitDraw = new Set();\nlet requested = false;\n\nfunction markDraw(c) {\n  awaitDraw.add(c);\n\n  if (requested) {\n    return;\n  }\n\n  requested = true;\n  nextFrame(() => {\n    requested = false;\n    const list = [...awaitDraw];\n    awaitDraw.clear();\n    list.map(c => c.drawAll());\n  });\n}\n\nclass ContainerEntity extends EntityObject {\n  constructor(iRender, props, children, parent, delivered) {\n    super(iRender, parent, delivered);\n\n    _defineProperty(this, \"props\", void 0);\n\n    _defineProperty(this, \"content\", []);\n\n    _defineProperty(this, \"_node\", null);\n\n    _defineProperty(this, \"_container\", null);\n\n    _defineProperty(this, \"rootContainer\", this);\n\n    _defineProperty(this, \"_drawChildren\", false);\n\n    _defineProperty(this, \"_drawContainer\", false);\n\n    _defineProperty(this, \"_awaitDraw\", new Set());\n\n    _defineProperty(this, \"_needDraw\", false);\n\n    _defineProperty(this, \"_containers\", new Set());\n\n    this.props = props;\n    this.parent = parent;\n\n    if (parent) {\n      this.rootContainer = parent.container.rootContainer;\n    }\n\n    this.callHook('beforeCreate');\n    this.childNodes = children;\n\n    const refresh = changed => {\n      if (!changed) {\n        return;\n      }\n\n      this._drawChildren = true;\n      this.refresh();\n    };\n\n    const slots = Object.create(null);\n    this._render = monitor(refresh, () => init(this, this.delivered, this.childNodes, slots, [], false));\n    this._nodes = convert(this, this._render());\n    this.callHook('created');\n    this.created = true;\n  }\n\n  setChildren(children) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.childNodes = children;\n    this._drawChildren = true;\n    this.refresh();\n  }\n\n  setProps(props) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.props = props;\n    this._drawContainer = true;\n    this.refresh();\n  }\n\n  update(props, children) {\n    this.refresh(() => {\n      this.setProps(props);\n      this.setChildren(children);\n    });\n  }\n\n  requestDraw() {\n    this.markDraw(this);\n  }\n\n  _mount() {\n    const {\n      props,\n      parent,\n      iRender\n    } = this;\n    const content = draw(this.container.iRender, this._nodes);\n    this.content = content;\n    const [container, node] = iRender.mount(props, parent === null || parent === void 0 ? void 0 : parent.iRender);\n\n    for (const it of getNodes(content)) {\n      iRender.insertNode(container, it);\n    }\n\n    this.tree = [createMountedNode({\n      tag: Value,\n      key: undefined,\n      component: undefined,\n      node,\n      value: node,\n      children: []\n    })];\n    this._node = node;\n    this._container = container;\n  }\n\n  _destroy() {\n    destroy(this.content);\n  }\n\n  _unmount() {\n    const {\n      parent,\n      iRender\n    } = this;\n\n    if (parent) {\n      unmount(parent.iRender, this.tree);\n    }\n\n    iRender.unmount(this._container, this._node, Boolean(parent));\n    unmount(this.iRender, this.content);\n  }\n\n  _draw() {\n    const {\n      _drawChildren: drawChildren,\n      _drawContainer: drawContainer\n    } = this;\n    this._drawContainer = false;\n\n    if (drawContainer) {\n      var _this$parent;\n\n      this.iRender.drawContainer(this._container, this._node, this.props, (_this$parent = this.parent) === null || _this$parent === void 0 ? void 0 : _this$parent.iRender);\n    }\n\n    if (this.parent && this.parent.iRender !== this.iRender) {\n      return;\n    }\n\n    this._drawChildren = false;\n\n    if (drawChildren) {\n      this.content = draw(this.iRender, this._nodes, this.content);\n    }\n  }\n\n  _drawSelf() {\n    const {\n      _drawChildren: drawChildren,\n      _drawContainer: drawContainer\n    } = this;\n    this._needDraw = false;\n    this._drawChildren = false;\n    this._drawContainer = false;\n\n    if (drawContainer) {\n      var _this$parent2;\n\n      this.iRender.drawContainer(this._container, this._node, this.props, (_this$parent2 = this.parent) === null || _this$parent2 === void 0 ? void 0 : _this$parent2.iRender, true);\n    }\n\n    if (drawChildren) {\n      this.content = draw(this.iRender, this._nodes, this.content);\n    }\n  }\n\n  drawSelf() {\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this.callHook('beforeDraw');\n    exec$1(c => c && this.markDraw(this), () => this._drawSelf());\n    complete(() => this.callHook('drawn'));\n  }\n\n  markDraw(nObject, remove = false) {\n    var _this$parent3;\n\n    if (((_this$parent3 = this.parent) === null || _this$parent3 === void 0 ? void 0 : _this$parent3.iRender) === this.iRender) {\n      this.parent.container.markDraw(nObject, remove);\n      return;\n    }\n\n    if (nObject === this && this.parent) {\n      this.parent.container.markDraw(this, remove);\n      this._needDraw = !remove;\n    } else if (remove) {\n      this._awaitDraw.delete(nObject);\n    } else {\n      this._awaitDraw.add(nObject);\n    }\n\n    this.rootContainer.markDrawContainer(this, !this._needDraw && !this._awaitDraw.size || this.destroyed);\n  }\n\n  drawContainer() {\n    const {\n      _node: node,\n      _container: container,\n      _awaitDraw: awaitDraw\n    } = this;\n\n    if (!node || !container) {\n      return;\n    }\n\n    this.callHook('beforeDraw');\n    const needDraw = this._needDraw;\n    this._needDraw = false;\n    const list = [...awaitDraw];\n    awaitDraw.clear();\n\n    if (needDraw) {\n      this.drawSelf();\n    }\n\n    list.map(c => c.draw());\n    this.iRender.drawNode(container, node);\n    complete(() => this.callHook('drawn'));\n  }\n\n  markDrawContainer(container, remove = false) {\n    if (remove) {\n      this._containers.delete(container);\n    } else {\n      this._containers.add(container);\n    }\n\n    markDraw(this);\n  }\n\n  drawAll() {\n    const containers = this._containers;\n\n    if (!containers.size) {\n      return;\n    }\n\n    this.callHook('beforeDrawAll');\n    const refs = [];\n    const completeList = [];\n    setCompleteList(completeList);\n    setRefList(refs);\n    const list = [...containers];\n    containers.clear();\n    list.forEach(c => c.drawContainer());\n    setRefList();\n    refs.forEach(r => r());\n    completeList.forEach(r => r());\n    this.callHook('drawnAll');\n  }\n\n}\n\nfunction render(e, p = {}) {\n  let params = { ...p\n  };\n  const container = new ContainerEntity(getRender(p.type), params, e === undefined ? [] : isElement(e) ? [e] : [createElement(e)]);\n\n  if (!isProduction) {\n    devtools.renderHook(container);\n  }\n\n  const {\n    exposed\n  } = container;\n  Reflect.defineProperty(exposed, '$update', {\n    value(c) {\n      container.setChildren(c === undefined ? [] : isElement(c) ? [c] : [createElement(c)]);\n      return exposed;\n    },\n\n    configurable: true\n  });\n  Reflect.defineProperty(exposed, '$mount', {\n    value(target) {\n      if (exposed.$mounted) {\n        return exposed;\n      }\n\n      if (target) {\n        params.target = target;\n        container.setProps(params);\n      }\n\n      container.mount();\n      return exposed;\n    },\n\n    configurable: true\n  });\n  Reflect.defineProperty(exposed, '$unmount', {\n    value() {\n      if (!exposed.$mounted) {\n        return;\n      }\n\n      if (exposed.$unmounted) {\n        return;\n      }\n\n      if (exposed.$destroyed) {\n        return container.destroy();\n      }\n\n      container.unmount();\n    },\n\n    configurable: true\n  });\n\n  if (params.target) {\n    container.mount();\n  }\n\n  return exposed;\n}\n\nfunction Mark(symbol, value) {\n  return component => {\n    component[symbol] = value;\n    return component;\n  };\n}\n\nfunction MarkValue(symbol, key, value) {\n  return component => {\n    let obj = component[symbol];\n\n    if (!obj) {\n      obj = Object.create(null);\n      component[symbol] = obj;\n    }\n\n    obj[key] = value;\n    return component;\n  };\n}\n\nfunction mName(name, component) {\n  if (!component) {\n    return Mark(nameSymbol, name);\n  }\n\n  component[nameSymbol] = name;\n  return component;\n}\nfunction mType(type, component) {\n  if (!component) {\n    return Mark(typeSymbol, type);\n  }\n\n  component[typeSymbol] = type;\n  return component;\n}\nfunction mSimple(component) {\n  if (!component) {\n    return Mark(typeSymbol, 'simple');\n  }\n\n  component[typeSymbol] = 'simple';\n  return component;\n}\nfunction mNative(component) {\n  if (!component) {\n    return Mark(typeSymbol, 'native');\n  }\n\n  component[typeSymbol] = 'native';\n  return component;\n}\nfunction mRender(fn, component) {\n  if (!component) {\n    return Mark(renderSymbol, fn);\n  }\n\n  component[renderSymbol] = fn;\n  return component;\n}\nfunction mConfig(name, config, component) {\n  const mark = MarkValue(configSymbol, name, config);\n\n  if (!component) {\n    return mark;\n  }\n\n  return mark(component);\n}\nfunction mComponent(name, item, component) {\n  const mark = MarkValue(componentsSymbol, name, item);\n\n  if (!component) {\n    return mark;\n  }\n\n  return mark(component);\n}\nfunction create(c, r) {\n  if (typeof r === 'function') {\n    c[renderSymbol] = r;\n  }\n\n  return c;\n}\nfunction mark(component, ...marks) {\n  for (const m of marks) {\n    m(component);\n  }\n\n  return component;\n}\n\nfunction lazy(component, Placeholder) {\n  const reslut = value(0);\n  const ComponentValue = value(undefined);\n\n  async function load() {\n    if (reslut()) {\n      return;\n    }\n\n    reslut(1);\n\n    try {\n      const c = await component();\n\n      if (typeof c === 'function') {\n        ComponentValue(c);\n        return;\n      }\n\n      if (!c) {\n        reslut(-1);\n        return;\n      }\n\n      if (typeof c.default === 'function') {\n        ComponentValue(c.default);\n        return;\n      }\n\n      reslut(-1);\n    } catch (_unused) {\n      reslut(-1);\n    }\n  }\n\n  function Lazy(props, {\n    childNodes\n  }) {\n    const com = ComponentValue();\n\n    if (com) {\n      return createElement(com, props, ...childNodes);\n    }\n\n    load();\n\n    if (!Placeholder) {\n      return null;\n    }\n\n    return createElement(Placeholder, {\n      loading: reslut() > 0\n    });\n  }\n\n  return mark(Lazy, mSimple, mName('Lazy'));\n}\n\nexport { Container, Deliver, NeepError as Error, EventEmitter, Fragment, ScopeSlot, Slot, SlotRender, Template, Value, addContextConstructor, addEntityConstructor, byService, callHook, checkCurrent, componentsSymbol, configSymbol, create, createElement, current, deliver, elements, expose, getRect, hook, install, isElement, isElementSymbol, isProduction, label$1 as label, lazy, mComponent, mConfig, mName, mNative, mRender, mSimple, mType, mark, nameSymbol, refresh, register, render, renderSymbol, setHook, typeSymbol, useService, useValue, version, watch };\n","/*!\n * NeepWebRender v0.1.0-alpha.12\n * (c) 2019-2020 Fierflame\n * @license MIT\n */\nimport { install as install$1, isValue, EventEmitter } from '@neep/core';\n\nfunction installNeep() {\n  return install$1;\n}\n\nfunction getId(v) {\n  if (typeof v === 'string') {\n    return v;\n  }\n\n  if (typeof v === 'number') {\n    return String(v);\n  }\n\n  return undefined;\n}\n\nfunction updateId(props, el, old) {\n  const id = getId(isValue(props.id) ? props.id() : props.id);\n\n  if (id !== old) {\n    if (typeof id === 'string') {\n      el.id = props.id;\n    } else {\n      el.removeAttribute('id');\n    }\n  }\n\n  return id;\n}\n\nfunction* recursive2iterable(list) {\n  if (isValue(list)) {\n    yield* recursive2iterable(list());\n    return;\n  }\n\n  if (!Array.isArray(list)) {\n    yield list;\n    return;\n  }\n\n  for (const it of list) {\n    yield* recursive2iterable(it);\n  }\n}\n\nfunction getClass(list) {\n  const set = new Set();\n\n  for (const v of recursive2iterable(list)) {\n    if (!v) {\n      continue;\n    }\n\n    if (typeof v === 'string') {\n      for (let k of v.split(' ').filter(Boolean)) {\n        set.add(k);\n      }\n    } else if (typeof v === 'object') {\n      for (const k in v) {\n        const add = v[k];\n\n        for (let it of k.split(' ').filter(Boolean)) {\n          set[add ? 'add' : 'delete'](it);\n        }\n      }\n    }\n  }\n\n  if (!set.size) {\n    return undefined;\n  }\n\n  return set;\n}\n\nfunction update(el, classes, oClasses) {\n  if (classes && oClasses) {\n    const list = el.getAttribute('class') || '';\n    const classList = new Set(list.split(' ').filter(Boolean));\n    oClasses.forEach(c => classList.delete(c));\n    classes.forEach(c => classList.add(c));\n    el.setAttribute('class', [...classList].join(' '));\n  } else if (classes) {\n    el.setAttribute('class', [...classes].join(' '));\n  } else if (oClasses) {\n    el.removeAttribute('class');\n  }\n}\n\nfunction updateClass(props, el, old) {\n  const classes = getClass(isValue(props.class) ? props.class() : props.class);\n  update(el, classes, old);\n  return classes;\n}\n\nfunction getStyle(style) {\n  if (typeof style === 'string') {\n    return style;\n  }\n\n  if (!style) {\n    return undefined;\n  }\n\n  if (typeof style !== 'object') {\n    return undefined;\n  }\n\n  const css = Object.create(null);\n\n  for (let k in style) {\n    let value = style[k];\n    const key = k.substr(0, 2) === '--' ? k : k.replace(/[A-Z]/g, '-$1').replace(/-+/g, '-').toLowerCase();\n\n    if (typeof value === 'number') {\n      css[key] = [value === 0 ? '0' : `${value}px`, null];\n    } else if (value && typeof value === 'string') {\n      const v = value.replace(/!important\\s*$/, '');\n      css[key] = [v, v === value ? null : 'important'];\n    }\n  }\n\n  return css;\n}\n\nfunction update$1(css, style, oStyle) {\n  if (!style) {\n    if (!oStyle) {\n      return;\n    }\n\n    if (typeof oStyle === 'string') {\n      css.cssText = '';\n      return;\n    }\n\n    for (const k of Object.keys(oStyle)) {\n      css.removeProperty(k);\n    }\n\n    return;\n  }\n\n  if (typeof style === 'string') {\n    if (style !== typeof oStyle) {\n      css.cssText = style;\n    }\n\n    return;\n  }\n\n  if (!oStyle || typeof oStyle === 'string') {\n    if (typeof oStyle === 'string') {\n      css.cssText = '';\n    }\n\n    for (const k of Object.keys(style)) {\n      css.setProperty(k, ...style[k]);\n    }\n\n    return;\n  }\n\n  for (const k of Object.keys(style)) {\n    const v = style[k];\n\n    if (!oStyle[k] || oStyle[k][0] !== v[0] || oStyle[k][1] !== v[1]) {\n      css.setProperty(k, ...v);\n    }\n  }\n\n  for (const k of Object.keys(oStyle)) {\n    if (!style[k]) {\n      css.removeProperty(k);\n    }\n  }\n}\n\nfunction updateStyle(props, css, old, hasStyle) {\n  if (!hasStyle) {\n    return undefined;\n  }\n\n  const style = getStyle(isValue(props.style) ? props.style() : props.style);\n  update$1(css, style, old);\n  return style;\n}\n\nfunction setAttrs(el, attrs) {\n  if (el instanceof HTMLInputElement && 'checked' in attrs) {\n    switch (el.type.toLowerCase()) {\n      case 'checkbox':\n      case 'radio':\n        if (attrs.checked !== null !== el.checked) {\n          el.checked = attrs.checked !== null;\n        }\n\n    }\n  }\n\n  if ((el instanceof HTMLSelectElement || el instanceof HTMLInputElement) && 'value' in attrs) {\n    const value = attrs.value || '';\n\n    if (el.value !== value) {\n      el.value = value;\n    }\n  }\n}\n\nfunction stringify(data, isOn = false) {\n  if (data === undefined || data === null) {\n    return data;\n  }\n\n  if (isOn && typeof data === 'function') {\n    return undefined;\n  }\n\n  if (typeof data === 'boolean') {\n    return data ? '' : null;\n  }\n\n  if (typeof data !== 'object') {\n    return String(data);\n  }\n\n  if (data instanceof Date) {\n    return data.toISOString();\n  }\n\n  if (data instanceof RegExp) {\n    return data.toString();\n  }\n\n  return JSON.stringify(data);\n}\n\nfunction getAttrs(props, hasStyle) {\n  const attrs = Object.create(null);\n\n  for (const k in props) {\n    if (/^(n|on|bind|slot)[:-]/.test(k)) {\n      continue;\n    }\n\n    if (!/^[a-zA-Z:_][a-zA-Z0-9:_-]*$/.test(k)) {\n      continue;\n    }\n\n    const name = k.toLowerCase();\n\n    switch (name) {\n      case 'style':\n        if (!hasStyle) {\n          break;\n        }\n\n      case 'ref':\n      case 'is':\n      case 'id':\n      case 'class':\n        continue;\n    }\n\n    let data = props[k];\n\n    if (isValue(data)) {\n      data = data();\n    }\n\n    const value = stringify(data, name.substr(0, 2) === 'on');\n\n    if (value !== undefined) {\n      attrs[name] = value;\n    }\n  }\n\n  return attrs;\n}\n\nfunction update$2(el, attrs, old) {\n  for (const k of Object.keys(attrs)) {\n    const v = attrs[k];\n\n    if (!(k in old) || old[k] !== v) {\n      if (v === null) {\n        el.removeAttribute(k);\n      } else {\n        el.setAttribute(k, v);\n      }\n    }\n  }\n\n  for (const k of Object.keys(old)) {\n    if (!(k in attrs)) {\n      el.removeAttribute(k);\n    }\n  }\n}\n\nfunction updateAttrs(props, el, old, hasStyle) {\n  const attrs = getAttrs(props, hasStyle);\n  update$2(el, attrs, old);\n  setAttrs(el, attrs);\n  return attrs;\n}\n\nfunction createEventEmitter() {\n  const events = new EventEmitter();\n  events.__eventBind = Object.create(null);\n  return events;\n}\n\nfunction* getElementModel(el) {\n  if (el instanceof HTMLInputElement) {\n    switch (el.type.toLowerCase()) {\n      case 'checkbox':\n      case 'radio':\n        return yield ['checked', 'change', e => e.currentTarget.checked];\n    }\n\n    return yield ['value', 'input', e => e.currentTarget.value];\n  }\n\n  if (el instanceof HTMLSelectElement) {\n    return yield ['value', 'select', e => e.currentTarget.value];\n  }\n}\n\nfunction getEventName(k) {\n  if (k.substr(0, 2) !== 'on') {\n    return '';\n  }\n\n  let n = k.substr(2);\n\n  if (n[0] === ':' || n[0] === '-') {\n    return '';\n  }\n\n  return n;\n}\n\nfunction updateEvent(props, el, event = createEventEmitter()) {\n  event.updateInProps(props, addEvent => {\n    for (const k in props) {\n      const f = props[k];\n\n      if (typeof f !== 'function') {\n        continue;\n      }\n\n      const name = getEventName(k);\n\n      if (!name) {\n        continue;\n      }\n\n      addEvent(name, f);\n    }\n\n    for (const [prop, name, t] of getElementModel(el)) {\n      const value = props[prop];\n\n      if (isValue(value)) {\n        addEvent(name, e => value(t(e)));\n      }\n    }\n  });\n  const names = new Set(event.names.map(String));\n  const eventBind = event.__eventBind;\n\n  for (const k of Object.keys(eventBind)) {\n    if (names.has(k)) {\n      continue;\n    }\n\n    eventBind[k]();\n    delete eventBind[k];\n  }\n\n  const {\n    emit\n  } = event;\n\n  for (const k of names) {\n    if (k in eventBind) {\n      continue;\n    }\n\n    const f = (...p) => emit(k, ...p);\n\n    el.addEventListener(k, f);\n\n    eventBind[k] = () => {\n      el.removeEventListener(k, f);\n    };\n  }\n\n  return event;\n}\n\nconst PropsMap = new WeakMap();\nfunction update$3(el, props) {\n  const css = el.style;\n  const hasStyle = css instanceof CSSStyleDeclaration;\n  const old = PropsMap.get(el) || {\n    attrs: {}\n  };\n  const id = updateId(props, el, old.id);\n  const classes = updateClass(props, el, old.classes);\n  const style = updateStyle(props, css, old.style, hasStyle);\n  const attrs = updateAttrs(props, el, old.attrs, hasStyle);\n  const event = updateEvent(props, el, old.event);\n  PropsMap.set(el, {\n    id,\n    classes,\n    style,\n    attrs,\n    event\n  });\n  return el;\n}\n\nlet list;\nfunction nextFrame(f) {\n  if (list) {\n    list.push(f);\n    return;\n  }\n\n  list = [f];\n  window.requestAnimationFrame(() => {\n    const fs = list;\n    list = undefined;\n\n    if (!fs) {\n      return;\n    }\n\n    fs.forEach(f => f());\n  });\n}\n\nconst xmlnsMap = {\n  svg: 'http://www.w3.org/2000/svg',\n  html: 'http://www.w3.org/1999/xhtml',\n  mathml: 'http://www.w3.org/1998/Math/MathML'\n};\nconst SVGTags = new Set(['altGlyph', 'altGlyphDef', 'altGlyphItem', 'animate', 'animateColor', 'animateMotion', 'animateTransform', 'circle', 'clipPath', 'color-profile', 'cursor', 'defs', 'desc', 'ellipse', 'feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence', 'filter', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignObject', 'g', 'glyph', 'glyphRef', 'hkern', 'image', 'line', 'linearGradient', 'marker', 'mask', 'metadata', 'missing-glyph', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'script', 'set', 'stop', 'style', 'svg', 'switch', 'symbol', 'text', 'textPath', 'title', 'tref', 'tspan', 'use', 'view', 'vkern']);\nconst MathMLTags = new Set(['maction', 'math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msubsup', 'msup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'semantics']);\nfunction createElement(tagname, namespace) {\n  const res = /^([a-z][a-z0-9-]*):([a-z0-9-]+)$/i.exec(tagname);\n  const tag = res ? res[2] : tagname;\n  const ns = (namespace || (res === null || res === void 0 ? void 0 : res[1]) || SVGTags.has(tag.toLowerCase()) && 'svg' || MathMLTags.has(tag.toLowerCase()) && 'mathml' || '').toLowerCase();\n\n  if (!ns) {\n    return document.createElement(tag);\n  }\n\n  return document.createElementNS(ns in xmlnsMap && xmlnsMap[ns] || ns, tag);\n}\n\nconst tagRegex = /^[a-z][a-z0-9]*(?:-[a-z0-9]+)?(?::[a-z0-9]+(?:-[a-z0-9]+)?)?$/i;\nfunction isTagName(tag) {\n  if (typeof tag !== 'string') {\n    return false;\n  }\n\n  return tagRegex.test(tag);\n}\n\nconst render = {\n  type: 'web',\n  nextFrame,\n\n  isNode(v) {\n    return v instanceof Node;\n  },\n\n  mount({\n    target,\n    class: className,\n    style,\n    tag\n  }, parent) {\n    if (!isTagName(tag)) {\n      tag = 'div';\n    }\n\n    const container = render.createElement(tag, {\n      class: className,\n      style\n    });\n\n    if (typeof target === 'string') {\n      target = document.querySelector(target);\n    }\n\n    if (target instanceof Element) {\n      target.appendChild(container);\n\n      if (parent) {\n        return [container, parent.createPlaceholder()];\n      }\n\n      return [container, container];\n    }\n\n    if (parent !== render) {\n      document.body.appendChild(container);\n      return [container, container];\n    }\n\n    return [container, container];\n  },\n\n  unmount(container, node, removed) {\n    if (container === node && removed) {\n      return;\n    }\n\n    container.remove();\n  },\n\n  drawContainer(container, node, {\n    target,\n    class: className,\n    style,\n    tag\n  }, parent) {\n    render.updateProps(container, {\n      class: className,\n      style\n    });\n\n    if (typeof target === 'string') {\n      target = document.querySelector(target);\n    }\n\n    if (parent !== render && !(target instanceof Element)) {\n      target = document.body;\n    }\n\n    const oldTarget = parent === render && container === node ? undefined : render.getParent(node);\n\n    if (oldTarget === target) {\n      return [container, node];\n    }\n\n    if (parent !== render) {\n      target.appendChild(container);\n      return [container, node];\n    }\n\n    if (!oldTarget) {\n      const newNode = parent.createPlaceholder();\n      const pNode = parent.getParent(node);\n\n      if (pNode) {\n        render.insertNode(pNode, newNode, node);\n        render.removeNode(node);\n      }\n\n      return [container, newNode];\n    }\n\n    if (!target) {\n      const pNode = parent.getParent(node);\n\n      if (pNode) {\n        render.insertNode(pNode, container, node);\n        render.removeNode(node);\n      }\n\n      return [container, container];\n    }\n\n    target.appendChild(node);\n    return [container, node];\n  },\n\n  drawNode() {},\n\n  createElement(tag, props) {\n    return update$3(createElement(tag), props);\n  },\n\n  createText(text) {\n    return document.createTextNode(text);\n  },\n\n  createPlaceholder() {\n    return document.createComment('');\n  },\n\n  createComponent() {\n    const node = createElement('neep-component');\n    return [node, node.attachShadow({\n      mode: 'open'\n    })];\n  },\n\n  getParent(node) {\n    return node.parentNode;\n  },\n\n  nextNode(node) {\n    return node.nextSibling;\n  },\n\n  updateProps(node, props) {\n    update$3(node, props);\n  },\n\n  insertNode(parent, node, next = null) {\n    parent.insertBefore(node, next);\n  },\n\n  removeNode(node) {\n    const p = render.getParent(node);\n\n    if (!p) {\n      return;\n    }\n\n    p.removeChild(node);\n  },\n\n  getRect(node) {\n    if (node instanceof Element) {\n      const {\n        top,\n        right,\n        bottom,\n        left,\n        width,\n        height\n      } = node.getBoundingClientRect();\n      return {\n        top,\n        right,\n        bottom,\n        left,\n        width,\n        height\n      };\n    }\n\n    if (node instanceof ShadowRoot) {\n      const {\n        top,\n        right,\n        bottom,\n        left,\n        width,\n        height\n      } = node.host.getBoundingClientRect();\n      return {\n        top,\n        right,\n        bottom,\n        left,\n        width,\n        height\n      };\n    }\n\n    return null;\n  }\n\n};\n\ninstallNeep()({\n  render\n});\nfunction install(Neep) {}\n\nvar index = { ...render,\n  install\n};\n\nexport default index;\n","/*!\n * NeepDevtools v0.1.0-alpha.7\n * (c) 2019-2020 Fierflame\n * @license MIT\n */\nimport { install as install$2, nameSymbol, typeSymbol, createElement, isValue, Slot, encase, asValue, setHook, render } from '@neep/core';\n\nfunction install() {\n  return install$2;\n}\n\nlet Type;\n\n(function (Type) {\n  Type[\"tag\"] = \"tag\";\n  Type[\"placeholder\"] = \"placeholder\";\n  Type[\"standard\"] = \"standard\";\n  Type[\"simple\"] = \"simple\";\n  Type[\"native\"] = \"native\";\n  Type[\"container\"] = \"container\";\n  Type[\"special\"] = \"special\";\n})(Type || (Type = {}));\n\nfunction* getTree(tree, parent = 0) {\n  var _component$exposed;\n\n  if (Array.isArray(tree)) {\n    for (const it of tree) {\n      yield* getTree(it);\n    }\n\n    return;\n  }\n\n  const {\n    id: tagId,\n    tag,\n    props,\n    children,\n    key,\n    component,\n    label = component === null || component === void 0 ? void 0 : (_component$exposed = component.exposed) === null || _component$exposed === void 0 ? void 0 : _component$exposed.$label\n  } = tree;\n\n  if (!tag) {\n    return yield {\n      tagId,\n      parent,\n      type: Type.placeholder,\n      tag: 'placeholder',\n      children: []\n    };\n  }\n\n  if (typeof tag !== 'string') {\n    const name = tag[nameSymbol] || tag.name;\n\n    if (!component) {\n      return yield {\n        tagId,\n        parent,\n        type: Type.simple,\n        tag: name,\n        children: [...getTree(children)],\n        props,\n        key,\n        label\n      };\n    }\n\n    const isNative = tag[typeSymbol] === 'native';\n    return yield {\n      tagId,\n      parent,\n      type: isNative ? Type.native : Type.standard,\n      tag: name,\n      children: [...getTree(isNative ? component.nativeTree : component.tree)],\n      props,\n      key,\n      label\n    };\n  }\n\n  const ltag = tag.toLowerCase();\n\n  if (ltag === 'neep:container') {\n    return yield {\n      tagId,\n      parent,\n      type: Type.container,\n      tag: ltag,\n      children: [...getTree(component ? component.content : children)],\n      props,\n      key,\n      label\n    };\n  }\n\n  if (ltag === 'neep:value') {\n    const treeValue = tree.value;\n    return yield {\n      tagId,\n      parent,\n      type: Type.special,\n      tag: ltag,\n      children: [],\n      isNative: treeValue === tree.node,\n      value: treeValue,\n      props,\n      key,\n      label\n    };\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return yield {\n      tagId,\n      parent,\n      type: Type.special,\n      tag: ltag,\n      children: [...getTree(children)],\n      props,\n      key,\n      label\n    };\n  }\n\n  yield {\n    tagId,\n    parent,\n    type: Type.tag,\n    tag,\n    children: [...getTree(children)],\n    props,\n    key,\n    label\n  };\n}\n\nfunction getValue(value) {\n  const type = typeof value;\n\n  if (type === 'function') {\n    return createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, \"[Function]\");\n  }\n\n  if (type === 'string') {\n    return createElement(\"span\", null, value);\n  }\n\n  if (type === 'bigint' || type === 'boolean' || type === 'number' || type === 'symbol' || type === 'undefined' || value === null) {\n    return createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, String(value));\n  } else if (value instanceof RegExp) {\n    return createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, String(value));\n  } else if (value instanceof Date) {\n    return createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, value.toISOString());\n  } else if (type === 'object') {\n    return createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, String(value));\n  }\n\n  return null;\n}\nfunction TextNode({\n  isNative,\n  value\n}) {\n  if (isNative) {\n    return createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, \"[Native]\");\n  }\n\n  if (!isValue(value)) {\n    return getValue(value);\n  }\n\n  return createElement(\"template\", null, createElement(\"span\", {\n    style: \"font-weight: bold;\"\n  }, \"[Value:\\xA0\"), getValue(value()), createElement(\"span\", {\n    style: \"font-weight: bold;\"\n  }, \"\\xA0]\"));\n}\n\nfunction getKey(key) {\n  if (typeof key === 'string') {\n    return ` key=${JSON.stringify(key)}`;\n  }\n\n  if (typeof key === 'number') {\n    return ` key=${key}`;\n  }\n\n  if (typeof key === 'boolean') {\n    return ` key=${key}`;\n  }\n\n  if (typeof key === 'bigint') {\n    return ` key=${key}`;\n  }\n\n  if (typeof key === 'symbol') {\n    return ` key=${String(key)}`;\n  }\n\n  if (key === null) {\n    return ` key=${key}`;\n  }\n\n  if (key !== undefined) {\n    return ` key=${String(key)}`;\n  }\n}\nfunction getLabels(labels) {\n  return labels.filter(Boolean).map(([v, color]) => createElement(\"span\", {\n    style: `color: ${color || '#000'}`\n  }, v));\n}\n\nfunction Tag({\n  keys,\n  tagId,\n  key,\n  labels,\n  options,\n  children\n}) {\n  const opened = keys[tagId];\n  const childNodes = opened ? [...getList(children, keys, options)] : [];\n  const hasChildNodes = Boolean(opened && childNodes.length);\n  return createElement(\"div\", {\n    key: tagId,\n    style: \" position: relative; min-height: 20px; font-size: 14px; line-height: 20px; \"\n  }, createElement(\"div\", {\n    style: \" position: absolute; left: -20px; top: 0; width: 20px; height: 20px; text-align: center; cursor: pointer; background: #DDD;; \",\n    onclick: () => keys[tagId] = !opened\n  }, opened ? '-' : '+'), createElement(\"div\", null, '<', createElement(Slot, null), getKey(key), '>', !hasChildNodes && createElement(\"template\", null, opened ? createElement(\"span\", null) : createElement(\"span\", {\n    onclick: () => keys[tagId] = true,\n    style: \"cursor: pointer;\"\n  }, \"...\"), '</', createElement(Slot, null), '>'), getLabels(labels)), hasChildNodes && createElement(\"template\", null, createElement(\"div\", {\n    style: \"padding-left: 20px\"\n  }, childNodes), createElement(\"div\", null, '</', createElement(Slot, null), '>')));\n}\n\nfunction PlaceholderTag({\n  name = 'placeholder',\n  tagId,\n  key,\n  labels\n}) {\n  return createElement(\"div\", {\n    key: tagId,\n    style: \" position: relative; min-height: 20px; font-size: 14px; line-height: 20px; \"\n  }, '<', createElement(\"span\", {\n    style: \"font-style: italic;\"\n  }, name), getKey(key), '/>', getLabels(labels));\n}\n\nfunction* getList(list, keys, options, labels = []) {\n  if (Array.isArray(list)) {\n    for (const it of list) {\n      yield* getList(it, keys, options, labels);\n    }\n\n    return;\n  }\n\n  const {\n    tagId,\n    type,\n    tag,\n    children,\n    props,\n    key,\n    label,\n    value,\n    isNative\n  } = list;\n  const labelList = [label, ...labels];\n\n  if (type === Type.standard || type === Type.native) {\n    return yield createElement(Tag, {\n      keys: keys,\n      tagId: tagId,\n      key: key,\n      labels: labelList,\n      options: options,\n      children: children\n    }, createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, tag));\n  }\n\n  if (type === Type.tag) {\n    if (!options.tag) {\n      return yield* getList(children, keys, options, labelList);\n    }\n\n    return yield createElement(Tag, {\n      keys: keys,\n      tagId: tagId,\n      key: key,\n      labels: labelList,\n      options: options,\n      children: children\n    }, tag);\n  }\n\n  if (type === Type.simple) {\n    if (!options.simple) {\n      return yield* getList(children, keys, options, labelList);\n    }\n\n    return yield createElement(Tag, {\n      keys: keys,\n      tagId: tagId,\n      key: key,\n      labels: labelList,\n      options: options,\n      children: children\n    }, createElement(\"span\", {\n      style: \" font-style: italic; font-weight: bold; \"\n    }, tag));\n  }\n\n  if (type === Type.placeholder) {\n    if (!options.placeholder) {\n      return;\n    }\n\n    return yield createElement(PlaceholderTag, {\n      tagId: tagId,\n      key: key,\n      labels: labelList\n    });\n  }\n\n  if (type === Type.container) {\n    if (!options.container) {\n      return yield* getList(children, keys, options, labelList);\n    }\n\n    return yield createElement(Tag, {\n      keys: keys,\n      tagId: tagId,\n      key: key,\n      labels: labelList,\n      options: options,\n      children: children\n    }, createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"container\"));\n  }\n\n  if (tag === 'neep:deliver') {\n    if (!options.deliver) {\n      return yield* getList(children, keys, options, labelList);\n    }\n\n    return yield createElement(Tag, {\n      keys: keys,\n      tagId: tagId,\n      key: key,\n      labels: labelList,\n      options: options,\n      children: children\n    }, createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"Deliver\"));\n  }\n\n  if (tag === 'template') {\n    if (!options.template) {\n      return yield* getList(children, keys, options, labelList);\n    }\n\n    return yield createElement(Tag, {\n      keys: keys,\n      tagId: tagId,\n      key: key,\n      labels: labelList,\n      options: options,\n      children: children\n    }, createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"Template\"));\n  }\n\n  if (tag === 'neep:scopeslot' || tag === 'neep:scope-slot') {\n    if (!options.scopeSlot) {\n      return yield* getList(children, keys, options, labelList);\n    }\n\n    return yield createElement(Tag, {\n      keys: keys,\n      tagId: tagId,\n      key: key,\n      labels: labelList,\n      options: options,\n      children: children\n    }, createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"ScopeSlot\"));\n  }\n\n  if (tag === 'neep:value') {\n    if (!options.tag) {\n      return;\n    }\n\n    if (!options.value) {\n      return;\n    }\n\n    return yield createElement(TextNode, {\n      isNative: isNative,\n      value: value\n    });\n  }\n\n  if (tag === 'neep:slotrender' || tag === 'neep:slot-render') {\n    if (options.slotRender) {\n      return yield createElement(PlaceholderTag, {\n        tagId: tagId,\n        key: key,\n        labels: labelList,\n        name: \"SlotRender\"\n      });\n    }\n\n    return;\n  }\n}\n\nvar Tree = (props => {\n  const keys = encase({});\n  return () => createElement(\"div\", {\n    style: \"padding-left: 20px;\"\n  }, [...getList(props.tree, keys, props.options)]);\n});\n\nfunction Devtools (props, {}) {\n  return createElement(\"div\", null, createElement(Slot, {\n    name: \"settings\"\n  }), createElement(Slot, {\n    name: \"tree\"\n  }));\n}\n\nfunction Settings (props) {\n  const options = asValue(props.options);\n  const value = options('value');\n  const tag = options('tag');\n  const placeholder = options('placeholder');\n  const simple = options('simple');\n  const container = options('container');\n  const template = options('template');\n  const scopeSlot = options('scopeSlot');\n  const slotRender = options('slotRender');\n  const deliver = options('deliver');\n  return createElement(\"div\", null, createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: value\n  }), \"value\"), createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: tag\n  }), \"tag\"), createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: placeholder\n  }), \"placeholder\"), createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: simple\n  }), \"simple\"), createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: container\n  }), \"container\"), createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: template\n  }), \"template\"), createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: scopeSlot\n  }), \"scopeSlot\"), createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: slotRender\n  }), \"slotRender\"), createElement(\"label\", null, createElement(\"input\", {\n    type: \"checkbox\",\n    checked: deliver\n  }), \"deliver\"));\n}\n\nlet creating = false;\n\nfunction create() {\n  creating = true;\n\n  try {\n    return {\n      options: encase({\n        value: false,\n        tag: false,\n        placeholder: false,\n        simple: false,\n        container: false,\n        template: false,\n        scopeSlot: false,\n        slotRender: false,\n        deliver: false\n      }),\n      exposed: render()\n    };\n  } finally {\n    creating = false;\n  }\n}\n\nfunction renderHook(container) {\n  if (creating) {\n    return;\n  }\n\n  let app;\n\n  const getData = () => {\n    if (!app) {\n      app = create();\n    }\n\n    const tree = [...getTree(container.content)];\n    app.exposed.$update(createElement(Devtools, null, createElement(Tree, {\n      slot: \"tree\",\n      tree: tree,\n      options: app.options\n    }), createElement(Settings, {\n      slot: \"settings\",\n      options: app.options\n    })));\n  };\n\n  setHook('drawnAll', getData, container.entity);\n  setHook('mounted', () => {\n    if (!app) {\n      app = create();\n    }\n\n    getData();\n    app.exposed.$mount();\n  }, container.entity);\n}\n\nconst devtools = {\n  renderHook\n};\n\ninstall()({\n  devtools\n});\nfunction install$1(Neep) {}\n\nexport { install$1 as install };\n","import { Context } from '@neep/core';\nimport { addContextConstructor } from './neep';\n\nexport function contextConstructor(context: Context) {\n\tconst router = context.delivered.__NeepRouter__;\n\tconst depth = context.delivered.__RouteDepth__ || 0;\n\tReflect.defineProperty(context, 'route', {\n\t\tvalue: router,\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n\tReflect.defineProperty(context, 'match', {\n\t\tget: () => router?._get(depth),\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n}\n\nexport default function installContextConstructor() {\n\taddContextConstructor(contextConstructor);\n}\n","import { Context, mName, mSimple } from '@neep/core';\nimport { createElement, Deliver, label } from './install';\nimport Router from './Router';\n\nexport interface ViewProps {\n\tname?: string;\n\tdepth?: number;\n\trouter?: Router;\n}\nexport default function RouterView(\n\tprops: ViewProps,\n\t{ delivered }: Context,\n) {\n\tconst isNew = props.router instanceof Router;\n\tconst router = isNew ? props.router : delivered.__NeepRouter__;\n\tif (!(router instanceof Router)) { return; }\n\tlet depth = props.depth;\n\tif (typeof depth === 'number' && Number.isInteger(depth)) {\n\t\tif (depth < 0) { depth = router.size - depth; }\n\t} else {\n\t\tdepth = isNew ? 0 : (delivered.__RouteDepth__ || 0) + 1;\n\t}\n\tif (depth < 0) { return null; }\n\tconst match = router._get(depth);\n\tif (!match) { return; }\n\tconst { route: { components } } = match;\n\tif (!components) { return null; }\n\tconst name = props.name || 'default';\n\tconst component = name in components ? components[name] : undefined;\n\tif (!component) { return null; }\n\tlabel(`[path=${match.path}]`, '#987654');\n\treturn createElement(Deliver, {\n\t\t__RouteDepth__: depth,\n\t\t__NeepRouter__: router,\n\t}, createElement(component, props));\n}\nmSimple(RouterView);\nmName('RouterView', RouterView);\n","import { Context, mName, mSimple } from '@neep/core';\nimport { Location } from './type';\nimport { createElement } from './install';\n\nexport interface LinkProps extends Location {\n\tto?: Location | string;\n\treplace?: boolean;\n}\nexport default function RouterLink(\n\tprops: LinkProps,\n\tcontext: Context,\n) {\n\tconst { route, childNodes } = context;\n\tif (!route) { return createElement('template', {}, ...childNodes); }\n\tlet {to, append, replace, path, search, hash, query, alias, params} = props;\n\tif (!to) {\n\t\tto = { path, search, hash, query, alias, params };\n\t} else if (typeof to === 'string') {\n\t\tto = { path: to };\n\t}\n\tif (append) {\n\t\tto.append = true;\n\t}\n\tfunction onclick() {\n\t\tif (!route || !to) { return; }\n\t\tif (replace) {\n\t\t\troute.replace(to);\n\t\t} else {\n\t\t\troute.push(to);\n\t\t}\n\t}\n\treturn route\n\t\t.history?.link({...props, to}, context, onclick)\n\t\t|| createElement('span', {'@click': onclick}, ...childNodes);\n\n}\nmSimple(RouterLink);\nmName('RouterLink', RouterLink);\n","import RouterView from '../View';\nimport RouterLink from '../Link';\nimport { register } from './neep';\n\nexport default function installComponents() {\n\tregister('RouterView', RouterView);\n\tregister('router-view', RouterView);\n\tregister('RouterLink', RouterLink);\n\tregister('router-link', RouterLink);\n}\n","import installContextConstructor from './installContextConstructor';\nimport installComponents from './installComponents';\n\nexport default function install(Neep: typeof import ('@neep/core')) {\n}\ninstallComponents();\ninstallContextConstructor();\n","export function cleanPath(path: string) {\n\tpath = `/${path}`.replace(/\\/+(\\/|$)/g, '$1');\n\twhile(/[^/]+\\/\\.{2,}(\\/|$)/.test(path)) {\n\t\tpath = path.replace(/\\/[^/]+\\/\\.(\\.+(?:\\/|$))/g, '/$1');\n\t}\n\tpath = path.replace(/\\/\\.+(\\/|$)/g, '$1');\n\treturn path || '/';\n}\n","/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n    var tokens = [];\n    var i = 0;\n    while (i < str.length) {\n        var char = str[i];\n        if (char === \"*\" || char === \"+\" || char === \"?\") {\n            tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"\\\\\") {\n            tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n            continue;\n        }\n        if (char === \"{\") {\n            tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"}\") {\n            tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \":\") {\n            var name = \"\";\n            var j = i + 1;\n            while (j < str.length) {\n                var code = str.charCodeAt(j);\n                if (\n                // `0-9`\n                (code >= 48 && code <= 57) ||\n                    // `A-Z`\n                    (code >= 65 && code <= 90) ||\n                    // `a-z`\n                    (code >= 97 && code <= 122) ||\n                    // `_`\n                    code === 95) {\n                    name += str[j++];\n                    continue;\n                }\n                break;\n            }\n            if (!name)\n                throw new TypeError(\"Missing parameter name at \" + i);\n            tokens.push({ type: \"NAME\", index: i, value: name });\n            i = j;\n            continue;\n        }\n        if (char === \"(\") {\n            var count = 1;\n            var pattern = \"\";\n            var j = i + 1;\n            if (str[j] === \"?\") {\n                throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \" + j);\n            }\n            while (j < str.length) {\n                if (str[j] === \"\\\\\") {\n                    pattern += str[j++] + str[j++];\n                    continue;\n                }\n                if (str[j] === \")\") {\n                    count--;\n                    if (count === 0) {\n                        j++;\n                        break;\n                    }\n                }\n                else if (str[j] === \"(\") {\n                    count++;\n                    if (str[j + 1] !== \"?\") {\n                        throw new TypeError(\"Capturing groups are not allowed at \" + j);\n                    }\n                }\n                pattern += str[j++];\n            }\n            if (count)\n                throw new TypeError(\"Unbalanced pattern at \" + i);\n            if (!pattern)\n                throw new TypeError(\"Missing pattern at \" + i);\n            tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n            i = j;\n            continue;\n        }\n        tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n    }\n    tokens.push({ type: \"END\", index: i, value: \"\" });\n    return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str, options) {\n    if (options === void 0) { options = {}; }\n    var tokens = lexer(str);\n    var _a = options.prefixes, prefixes = _a === void 0 ? \"./\" : _a;\n    var defaultPattern = \"[^\" + escapeString(options.delimiter || \"/#?\") + \"]+?\";\n    var result = [];\n    var key = 0;\n    var i = 0;\n    var path = \"\";\n    var tryConsume = function (type) {\n        if (i < tokens.length && tokens[i].type === type)\n            return tokens[i++].value;\n    };\n    var mustConsume = function (type) {\n        var value = tryConsume(type);\n        if (value !== undefined)\n            return value;\n        var _a = tokens[i], nextType = _a.type, index = _a.index;\n        throw new TypeError(\"Unexpected \" + nextType + \" at \" + index + \", expected \" + type);\n    };\n    var consumeText = function () {\n        var result = \"\";\n        var value;\n        // tslint:disable-next-line\n        while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n            result += value;\n        }\n        return result;\n    };\n    while (i < tokens.length) {\n        var char = tryConsume(\"CHAR\");\n        var name = tryConsume(\"NAME\");\n        var pattern = tryConsume(\"PATTERN\");\n        if (name || pattern) {\n            var prefix = char || \"\";\n            if (prefixes.indexOf(prefix) === -1) {\n                path += prefix;\n                prefix = \"\";\n            }\n            if (path) {\n                result.push(path);\n                path = \"\";\n            }\n            result.push({\n                name: name || key++,\n                prefix: prefix,\n                suffix: \"\",\n                pattern: pattern || defaultPattern,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        var value = char || tryConsume(\"ESCAPED_CHAR\");\n        if (value) {\n            path += value;\n            continue;\n        }\n        if (path) {\n            result.push(path);\n            path = \"\";\n        }\n        var open = tryConsume(\"OPEN\");\n        if (open) {\n            var prefix = consumeText();\n            var name_1 = tryConsume(\"NAME\") || \"\";\n            var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n            var suffix = consumeText();\n            mustConsume(\"CLOSE\");\n            result.push({\n                name: name_1 || (pattern_1 ? key++ : \"\"),\n                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n                prefix: prefix,\n                suffix: suffix,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        mustConsume(\"END\");\n    }\n    return result;\n}\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile(str, options) {\n    return tokensToFunction(parse(str, options), options);\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction(tokens, options) {\n    if (options === void 0) { options = {}; }\n    var reFlags = flags(options);\n    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;\n    // Compile all the tokens into regexps.\n    var matches = tokens.map(function (token) {\n        if (typeof token === \"object\") {\n            return new RegExp(\"^(?:\" + token.pattern + \")$\", reFlags);\n        }\n    });\n    return function (data) {\n        var path = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (typeof token === \"string\") {\n                path += token;\n                continue;\n            }\n            var value = data ? data[token.name] : undefined;\n            var optional = token.modifier === \"?\" || token.modifier === \"*\";\n            var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n            if (Array.isArray(value)) {\n                if (!repeat) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not repeat, but got an array\");\n                }\n                if (value.length === 0) {\n                    if (optional)\n                        continue;\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not be empty\");\n                }\n                for (var j = 0; j < value.length; j++) {\n                    var segment = encode(value[j], token);\n                    if (validate && !matches[i].test(segment)) {\n                        throw new TypeError(\"Expected all \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                    }\n                    path += token.prefix + segment + token.suffix;\n                }\n                continue;\n            }\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                var segment = encode(String(value), token);\n                if (validate && !matches[i].test(segment)) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                }\n                path += token.prefix + segment + token.suffix;\n                continue;\n            }\n            if (optional)\n                continue;\n            var typeOfMessage = repeat ? \"an array\" : \"a string\";\n            throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to be \" + typeOfMessage);\n        }\n        return path;\n    };\n}\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match(str, options) {\n    var keys = [];\n    var re = pathToRegexp(str, keys, options);\n    return regexpToFunction(re, keys, options);\n}\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction(re, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.decode, decode = _a === void 0 ? function (x) { return x; } : _a;\n    return function (pathname) {\n        var m = re.exec(pathname);\n        if (!m)\n            return false;\n        var path = m[0], index = m.index;\n        var params = Object.create(null);\n        var _loop_1 = function (i) {\n            // tslint:disable-next-line\n            if (m[i] === undefined)\n                return \"continue\";\n            var key = keys[i - 1];\n            if (key.modifier === \"*\" || key.modifier === \"+\") {\n                params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {\n                    return decode(value, key);\n                });\n            }\n            else {\n                params[key.name] = decode(m[i], key);\n            }\n        };\n        for (var i = 1; i < m.length; i++) {\n            _loop_1(i);\n        }\n        return { path: path, index: index, params: params };\n    };\n}\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options) {\n    return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path, keys) {\n    if (!keys)\n        return path;\n    // Use a negative lookahead to match only capturing groups.\n    var groups = path.source.match(/\\((?!\\?)/g);\n    if (groups) {\n        for (var i = 0; i < groups.length; i++) {\n            keys.push({\n                name: i,\n                prefix: \"\",\n                suffix: \"\",\n                modifier: \"\",\n                pattern: \"\"\n            });\n        }\n    }\n    return path;\n}\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(paths, keys, options) {\n    var parts = paths.map(function (path) { return pathToRegexp(path, keys, options).source; });\n    return new RegExp(\"(?:\" + parts.join(\"|\") + \")\", flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(path, keys, options) {\n    return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(tokens, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function (x) { return x; } : _d;\n    var endsWith = \"[\" + escapeString(options.endsWith || \"\") + \"]|$\";\n    var delimiter = \"[\" + escapeString(options.delimiter || \"/#?\") + \"]\";\n    var route = start ? \"^\" : \"\";\n    // Iterate over the tokens and create our regexp string.\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        if (typeof token === \"string\") {\n            route += escapeString(encode(token));\n        }\n        else {\n            var prefix = escapeString(encode(token.prefix));\n            var suffix = escapeString(encode(token.suffix));\n            if (token.pattern) {\n                if (keys)\n                    keys.push(token);\n                if (prefix || suffix) {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        var mod = token.modifier === \"*\" ? \"?\" : \"\";\n                        route += \"(?:\" + prefix + \"((?:\" + token.pattern + \")(?:\" + suffix + prefix + \"(?:\" + token.pattern + \"))*)\" + suffix + \")\" + mod;\n                    }\n                    else {\n                        route += \"(?:\" + prefix + \"(\" + token.pattern + \")\" + suffix + \")\" + token.modifier;\n                    }\n                }\n                else {\n                    route += \"(\" + token.pattern + \")\" + token.modifier;\n                }\n            }\n            else {\n                route += \"(?:\" + prefix + suffix + \")\" + token.modifier;\n            }\n        }\n    }\n    if (end) {\n        if (!strict)\n            route += delimiter + \"?\";\n        route += !options.endsWith ? \"$\" : \"(?=\" + endsWith + \")\";\n    }\n    else {\n        var endToken = tokens[tokens.length - 1];\n        var isEndDelimited = typeof endToken === \"string\"\n            ? delimiter.indexOf(endToken[endToken.length - 1]) > -1\n            : // tslint:disable-next-line\n                endToken === undefined;\n        if (!strict) {\n            route += \"(?:\" + delimiter + \"(?=\" + endsWith + \"))?\";\n        }\n        if (!isEndDelimited) {\n            route += \"(?=\" + delimiter + \"|\" + endsWith + \")\";\n        }\n    }\n    return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(path, keys, options) {\n    if (path instanceof RegExp)\n        return regexpToRegexp(path, keys);\n    if (Array.isArray(path))\n        return arrayToRegexp(path, keys, options);\n    return stringToRegexp(path, keys, options);\n}\n//# sourceMappingURL=index.js.map","\nimport { match, compile } from 'path-to-regexp';\nimport { RouteConfig, Route, Match } from './type';\nimport { cleanPath } from './util';\n\n\nexport function addRoute(\n\tcfg: RouteConfig,\n\tnamed: Record<string, Route>,\n\tparent?: Route,\n) {\n\tlet { path, children, alias, meta, component, components, ...p } = cfg;\n\tlet end = !(Array.isArray(children) && children.length);\n\tif (!path || path === '*') {\n\t\tpath = '';\n\t\tend = false;\n\t}\n\tif (path[0] !== '/') {\n\t\tpath = `${parent?.path || ''}/${path}`;\n\t}\n\tpath = cleanPath(path);\n\tif (component) {\n\t\tif (!components) {\n\t\t\tcomponents = {};\n\t\t}\n\t\tcomponents.default = component;\n\t}\n\tconst item: Route = {\n\t\t...p,\n\t\tpath,\n\t\talias,\n\t\tcomponent,\n\t\tcomponents,\n\t\tmeta: meta || {},\n\t\ttoPath: compile(path || '', { encode: encodeURIComponent }),\n\t\tmatch: match(path || '', {end, decode: decodeURIComponent}),\n\t};\n\tif (alias) { named[alias] = item; }\n\tif (Array.isArray(children)) {\n\t\titem.children = children.map(c => addRoute(c, named, item));\n\t}\n\treturn item;\n}\n\nexport function *matchRoutes(path: string, routes: Route[] = []): Iterable<Match>{\n\tfor (const route of routes) {\n\t\tconst result = route.match(path);\n\t\tif (!result) { continue; }\n\t\tif (route.components || route.redirect) {\n\t\t\tyield { ...result, route };\n\t\t}\n\t\tif (!route.redirect) {\n\t\t\tyield* matchRoutes(path, route.children);\n\t\t}\n\t\treturn;\n\t}\n}\n","\nfunction getValue(v: any): string | undefined | null {\n\tif (v === undefined) { return undefined; }\n\tif (v === null) { return null; }\n\tif (v === false) { return undefined; }\n\tif (typeof v === 'number' && !Number.isFinite(v)) { return; }\n\tif (typeof v === 'function') { return; }\n\treturn encodeURIComponent(String(v));\n}\nexport function stringify(s: any): string {\n\tconst list: string[] = [];\n\tfor (const key of Object.keys(s)) {\n\t\tconst value = s[key];\n\t\tconst k = encodeURIComponent(key);\n\t\tif (!Array.isArray(value)) {\n\t\t\tconst v = getValue(value);\n\t\t\tif (v === undefined) { continue; }\n\t\t\tlist.push(v === null ? k : `${k}=${v}`);\n\t\t\tcontinue;\n\t\t}\n\t\tfor (const val of value) {\n\t\t\tconst v = getValue(val);\n\t\t\tif (v === undefined) { continue; }\n\t\t\tlist.push(v === null ? k : `${k}=${v}`);\n\t\t}\n\t}\n\treturn list.join('&');\n}\n\nexport function parse(s: string): object {\n\tconst query = Object.create(null);\n\tfunction set(k: string, v: null | string = null) {\n\t\tif (!(k in query)) {\n\t\t\tquery[k] = v;\n\t\t\treturn;\n\t\t}\n\t\tconst it = query[k];\n\t\tif (Array.isArray(it)) {\n\t\t\tit.push(v);\n\t\t} else {\n\t\t\tquery[k] = [it, v];\n\t\t}\n\n\t}\n\tfor (const it of s.split('&')) {\n\t\tconst index = it.indexOf('=');\n\t\tif (index < 0) {\n\t\t\tset(decodeURIComponent(it));\n\t\t\tcontinue;\n\t\t}\n\t\tconst k = decodeURIComponent(it.substr(0, index));\n\t\tconst v = decodeURIComponent(it.substr(index + 1));\n\t\tset(k, v);\n\t}\n\treturn query;\n}\n","import { IHistory } from '../type';\nimport Router from '../Router';\nimport { Context } from '@neep/core';\nimport { createElement } from '../install';\n\nexport default class StoreHistory implements IHistory {\n\trouter: Router;\n\tconstructor(router: Router) {\n\t\tthis.router = router;\n\t}\n\tindex = 0;\n\thistory: [string, string, string, any][] = [];\n\tpush(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\tthis.history.length = this.index + 1;\n\t\tthis.index++;\n\t\tthis.history.push([path, search, hash, state]);\n\t}\n\treplace(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\tthis.history[this.index] = [path, search, hash, state];\n\t}\n\tgo(index: number) {\n\t\tlet newIndex = this.index + index;\n\t\tif (newIndex >= this.history.length) { return; }\n\t\tif (newIndex < 0) { return; }\n\t\tif (newIndex === this.index) { return; }\n\t\tthis.index = newIndex;\n\t\treturn this.history[newIndex];\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\t{ id, class: className, style }: any,\n\t\t{ childNodes, emit }: Context,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElement('span', {\n\t\t\tid, class: className, style,\n\t\t\t'n-on': emit.omit('click'),\n\t\t\t'@click': (...any: any) => {\n\t\t\t\tif (!emit('click', ...any)) { return; }\n\t\t\t\tonClick();\n\t\t\t},\n\t\t}, ...childNodes);\n\t}\n}\n","import { IHistory, Location } from '../type';\nimport Router from '../Router';\nimport { cleanPath } from '../util';\nimport { Context } from '@neep/core';\nimport { createElement } from '../install';\n\nexport default class WebPathHistory implements IHistory {\n\treadonly router: Router;\n\treadonly base: string;\n\tconstructor(router: Router, opt?: {\n\t\tbase?: string;\n\t}) {\n\t\tthis.router = router;\n\t\tlet base = cleanPath(opt?.base || '');\n\t\tthis.base = base === '/' ? '' : base;\n\t\tconst f = () => {\n\t\t\tthis.router._update(\n\t\t\t\tthis.getPath(),\n\t\t\t\tlocation.search,\n\t\t\t\tlocation.hash,\n\t\t\t\thistory.state,\n\t\t\t);\n\t\t};\n\t\twindow.addEventListener('popstate', f);\n\t\tthis.destroy = () => {\n\t\t\tthis.destroy = () => {};\n\t\t\twindow.removeEventListener('popstate', f);\n\t\t};\n\t}\n\tstart() {\n\t\tthis.router._update(\n\t\t\tthis.getPath(),\n\t\t\tlocation.search,\n\t\t\tlocation.hash,\n\t\t\thistory.state,\n\t\t);\n\t}\n\tdestroy() {}\n\tpush(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\thistory.pushState(state, '', `${this.base}${path}${search}${hash}`);\n\t}\n\treplace(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\thistory.replaceState(state, '', `${this.base}${path}${search}${hash}`);\n\t}\n\tprivate getPath() {\n\t\tconst path = location.pathname;\n\t\tconst { base } = this;\n\t\tif (!base) { return path; }\n\t\tif (path.indexOf(`${base}/`) !== 0) { return path; }\n\t\treturn path.substr(base.length);\n\t}\n\tgo(index: number) {\n\t\tconst old = {\n\t\t\tpath: this.getPath(),\n\t\t\tsearch: location.search,\n\t\t\thash: location.hash,\n\t\t\tstate: history.state,\n\t\t};\n\t\thistory.go(index);\n\t\tconst path = this.getPath();\n\t\tconst search = location.search;\n\t\tconst hash = location.hash;\n\t\tconst state = history.state;\n\t\tif (\n\t\t\tpath !== old.path\n\t\t\t|| search !== old.search\n\t\t\t|| hash !== old.hash\n\t\t\t|| state !== old.state\n\t\t) {\n\t\t\treturn [path, search, hash, state] as [string, string, string, any];\n\t\t}\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\t{ to, onclick, id, class: className, style }: { to: Location; [any: string]: any },\n\t\t{ childNodes, emit }: Context,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElement('a', {\n\t\t\tid, class: className, style,\n\t\t\thref: `${this.base}${this.router.getUrl(to)}`,\n\t\t\t'n-on': emit.omit('click'),\n\t\t\t'@click': (e: MouseEvent) => {\n\t\t\t\tlet cancel = !emit('click', e);\n\t\t\t\tif (typeof onclick === 'function') {\n\t\t\t\t\tonclick(e);\n\t\t\t\t}\n\t\t\t\tif (e.defaultPrevented) { return; }\n\t\t\t\te.preventDefault();\n\t\t\t\tif (cancel) { return; }\n\t\t\t\tonClick();\n\t\t\t},\n\t\t}, ...childNodes);\n\t}\n}\n","import { IHistory, Location } from '../type';\nimport Router from '../Router';\nimport { Context } from '@neep/core';\nimport { createElement } from '../install';\n\nfunction parse(p: string): [string, string, string] {\n\tconst result = /^([^?#]*)((?:\\?[^#]*)?)((?:#.*)?)$/.exec(p);\n\tif (!result) { return ['/', '', '']; }\n\treturn [result[1] || '/', result[2], result[3]];\n}\n\nexport default class WebPathHistory implements IHistory {\n\trouter: Router;\n\tconstructor(router: Router) {\n\t\tthis.router = router;\n\t\tconst f = () => {\n\t\t\tconst [path, search, hash] = parse(location.hash.substr(1));\n\t\t\tthis.router._update(path, search, hash);\n\t\t};\n\t\twindow.addEventListener('hashchange', f);\n\t\tthis.destroy = () => {\n\t\t\tthis.destroy = () => {};\n\t\t\twindow.removeEventListener('hashchange', f);\n\t\t};\n\t}\n\tstart() {\n\t\tconst [path, search, hash] = parse(location.hash.substr(1));\n\t\tthis.router._update(path, search, hash);\n\t}\n\tdestroy() {}\n\tpush(path: string, search: string, hash: string) {\n\t\tlocation.hash = `#${path}${search}${hash}`;\n\t}\n\treplace(path: string, search: string, hash: string) {\n\t\tlocation.replace(`#${path}${search}${hash}`);\n\t}\n\tgo(index: number) {\n\t\tconst oldHash = location.hash;\n\t\thistory.go(index);\n\t\tconst hash = location.hash;\n\t\tif (hash === oldHash) { return; }\n\t\treturn [...parse(hash.substr(1)), undefined] as [string, string, string, any];\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\t{ to, onclick, id, class: className, style }: { to: Location; [any: string]: any },\n\t\t{ childNodes, emit }: Context,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElement('a', {\n\t\t\tid, class: className, style,\n\t\t\thref: `#${this.router.getUrl(to)}`,\n\t\t\t'n-on': emit.omit('click'),\n\t\t\t'@click': (e: MouseEvent) => {\n\t\t\t\tlet cancel = !emit('click', e);\n\t\t\t\tif (typeof onclick === 'function') {\n\t\t\t\t\tonclick(e);\n\t\t\t\t}\n\t\t\t\tif (e.defaultPrevented) { return; }\n\t\t\t\te.preventDefault();\n\t\t\t\tif (cancel) { return; }\n\t\t\t\tonClick();\n\t\t\t},\n\t\t}, ...childNodes);\n\t}\n}\n","import install from './install';\nimport { Error, value, encase } from './install/neep';\nimport { Value } from 'monitorable';\nimport RouterView from './View';\nimport RouterLink from './Link';\nimport { Route, Location, IHistory, Match, RouteConfig } from './type';\nimport { cleanPath } from './util';\nimport { addRoute, matchRoutes } from './route';\nimport { stringify, parse } from './query';\nimport * as history from './history';\nimport { Component, mName, mSimple } from '@neep/core';\n\nfunction get(\n\tlocation: Location | string,\n\troutes: Record<string, Route>,\n\tbasePath: string,\n\tstringifyQuery = stringify,\n): {\n\tpath: string;\n\tsearch: string;\n\thash: string;\n} {\n\tif (typeof location === 'string') { location = { path: location }; }\n\n\tconst route = location.alias && routes[location.alias];\n\tconst result = location.path && /^([^?#]*)((?:\\?[^#]*)?)((?:#.*)?)$/\n\t\t.exec(location.path);\n\tlet path = result?.[1] || '';\n\tif (!path) {\n\t\tpath = route ? route.toPath(location.params || {}) : basePath;\n\t} else if (route) {\n\t\tlet routePath = route.toPath(location.params || {});\n\t\tif (!location.append) {\n\t\t\troutePath = routePath.replace(/\\/[^/]*\\/?$/, '');\n\t\t}\n\t\tpath = `${route.toPath(location.params || {})}/${path}`;\n\t} else if (location.append) {\n\t\tpath = `${basePath}/${path}`;\n\t} if (path[0] !== '/') {\n\t\tpath = `${basePath.replace(/\\/[^/]*\\/?$/, '')}/${path}`;\n\t}\n\tpath = cleanPath(path);\n\tconst search = location.query && `?${ stringifyQuery(location.query) }`\n\t\t|| location.search || result?.[2] || '';\n\tconst hash = location.hash || result?.[3] || '';\n\treturn { path, search, hash };\n}\n\nfunction update(\n\tobj: any,\n\tprops: any = {},\n) {\n\tconst newKeys = new Set(Reflect.ownKeys(props));\n\tfor (const k of Reflect.ownKeys(obj)) {\n\t\tif (!newKeys.has(k)) {\n\t\t\tdelete obj[k];\n\t\t}\n\t}\n\tfor (const k of newKeys) {\n\t\tobj[k] = props[k];\n\t}\n\treturn obj;\n}\nconst redirects: string[] = [];\nclass Router {\n\tstatic get history() { return history; }\n\tstatic get install() { return install; }\n\tstatic get View() { return RouterView; }\n\tstatic get Link() { return RouterLink; }\n\tstringify?(query: Record<any, any>): string;\n\tparse?(search: string): Record<any, any>;\n\tprivate _namedRoutes: Record<string, Route> = Object.create(null);\n\tprivate _routes: Route[] = [];\n\thistory?: IHistory;\n\tprivate readonly _size = value(0);\n\tprivate readonly _nodes: Value<Match | undefined>[] = [];\n\tprivate readonly _matches = value<Match[]>([]);\n\tprivate readonly _hash = value('');\n\tprivate readonly _search = value('');\n\tprivate readonly _alias = value('');\n\tprivate readonly _path = value('/');\n\tprivate readonly _state = value(undefined as any);\n\tget size() { return this._size(); }\n\tget matches() { return this._matches(); }\n\tget alias() { return this._alias(); }\n\tget path(): string { return this._path(); }\n\tget search() { return this._search(); }\n\tget hash() { return this._hash(); }\n\tget state() { return this._state(); }\n\treadonly params: Record<string, string> = encase(Object.create(null));\n\treadonly query: Record<string, any> = encase(Object.create(null));\n\treadonly meta: Record<string, any> = encase(Object.create(null));\n\tconstructor({History, historyOption}: {\n\t\tHistory?: {new(router: Router, opt?: any): IHistory }\n\t\thistoryOption?: any;\n\t}) {\n\t\tif (History) {\n\t\t\tconst history = new History(this, historyOption);\n\t\t\tthis.history = history;\n\t\t\thistory.start?.();\n\t\t}\n\t}\n\tsetRoutes(routes: RouteConfig[]) {\n\t\tconst named = Object.create(null);\n\t\tthis._routes = routes.map(c => addRoute(c, named));\n\t\tthis._namedRoutes = named;\n\t\tthis._update(\n\t\t\tthis._path(),\n\t\t\tthis._search(),\n\t\t\tthis._hash(),\n\t\t\tthis._state(),\n\t\t\ttrue,\n\t\t);\n\t}\n\t_get(index: number): Match | undefined {\n\t\tconst item =  this._nodes[index]?.();\n\t\tif (!item) {\n\t\t\tthis._size();\n\t\t\treturn undefined;\n\t\t}\n\t\treturn item;\n\t}\n\t_update(path: string, search: string, hash: string, state?: any, force = false) {\n\t\tif (this._path() !== path || force) {\n\t\t\tconst matches = [...matchRoutes(path, this._routes)];\n\t\t\tconst last = matches[matches.length - 1] as Match | undefined;\n\t\t\tif (last && !last.route.components) {\n\t\t\t\tredirects.push(path);\n\t\t\t\tif (redirects.length >= 10) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Too many consecutive redirect jumps: \\n${\n\t\t\t\t\t\t\tredirects.join('\\n')\n\t\t\t\t\t\t}`,\n\t\t\t\t\t\t'router',\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst {redirect, append} = last.route;\n\t\t\t\ttry {\n\t\t\t\t\tif (append) {\n\t\t\t\t\t\tthis.replace(`${path}/${redirect}`, state);\n\t\t\t\t\t} else if (redirect && redirect[0] === '/') {\n\t\t\t\t\t\tthis.replace(redirect, state);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.replace(`${path}/../${redirect}`, state);\n\t\t\t\t\t}\n\t\t\t\t\treturn ;\n\t\t\t\t} finally {\n\t\t\t\t\tredirects.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst nodes = this._nodes;\n\t\t\tconst nodesLength = nodes.length;\n\t\t\tconst matchesLength = matches.length;\n\t\t\tconst min = Math.min(matchesLength, nodesLength);\n\t\t\tfor (let i = 0; i < min; i++) { nodes[i](matches[i]); }\n\t\t\tfor (let i = min; i < nodesLength; i++) {\n\t\t\t\tnodes[i](undefined);\n\t\t\t}\n\t\t\tfor (let i = min; i < matchesLength; i++) {\n\t\t\t\tnodes[i] = value(matches[i]);\n\t\t\t}\n\t\t\tnodes.length = matchesLength;\n\t\t\tthis._size(matchesLength);\n\t\t\tthis._matches(matches);\n\t\t\tthis._path(path);\n\t\t\tthis._alias(last?.route?.alias || '');\n\t\t\tupdate(this.params, last?.params || {});\n\t\t\tupdate(this.meta, last?.route?.meta || {});\n\t\t}\n\t\tif (this._search() !== search) {\n\t\t\tthis._search(search);\n\t\t\tupdate(this.query, (this.parse || parse)(search.substr(1)));\n\t\t}\n\t\tthis._hash(hash);\n\t\tthis._state(state);\n\t}\n\tpush(location: Location | string, state?: any) {\n\t\tconst { path, search, hash } = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\tthis.history?.push(path, search, hash, state);\n\t\tthis._update(path, search, hash, state);\n\t}\n\treplace(location: Location | string, state?: any) {\n\t\tconst {path, search, hash} = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\tthis.history?.replace(path, search, hash, state);\n\t\tthis._update(path, search, hash, state);\n\t}\n\tgetUrl(location: Location | string) {\n\t\tconst {path, search, hash} = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\treturn `${path}${search}${hash}`;\n\n\t}\n\tgo(index: number) {\n\t\tconst it = this.history?.go(index);\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tback() {\n\t\tconst it = this.history?.back();\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tforward() {\n\t\tconst it = this.history?.forward();\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tget view() {\n\t\tconst view: Component = (props, ...p) =>\n\t\t\tRouterView({...props, router: this}, ...p);\n\t\tmName('Router', view);\n\t\tmSimple(view);\n\t\tReflect.defineProperty(this, 'view', {\n\t\t\tvalue: view,\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t});\n\t\treturn view;\n\t}\n}\n\nexport default Router;\n","import { create, mark, mName, createElement, Template } from '@neep/core';\nimport Router from '@neep/router';\n\nconst User = create((\n\tprops: { a?: any,  set?: () => void},\n\t{ route },\n) => {\n\treturn <Template>\n\t\t<div>用户首页</div>\n\t\t<div>Id: {route?.params?.['id']}</div>\n\t\t<hr />\n\t\t<div><Router.Link path=\"/\">首页</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1\">用户1</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/2\">用户2</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1/info\">用户1信息</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1/settings\">用户1设置</Router.Link></div>\n\t\t<hr />\n\t\t<Router.View />\n\t</Template>;\n});\nexport default mark(User, mName('User'));\n","import { create, mark, mName, createElement, Template, useValue } from '@neep/core';\n\nconst Info = create((\n\tprops: { a?: any,  set?: () => void},\n\t{ route },\n) => {\n\tconst v = useValue(() => Math.random());\n\treturn <Template>\n\t\t<div>用户信息</div>\n\t\t<div>Id: {route?.params?.['id']}</div>\n\t</Template>;\n});\nexport default mark(Info, mName('UserInfo'));\n","import { create, mark, mName, createElement, Template } from '@neep/core';\n\nconst Settings = create((\n\tprops: { a?: any,  set?: () => void},\n\t{ route },\n) => {\n\treturn <Template>\n\t\t<div>用户设置</div>\n\t\t<div>Id: {route?.params?.['id']}</div>\n\t</Template>;\n});\nexport default mark(Settings, mName('UserSettings'));\n","import { create, mark, mName, createElement, Template } from '@neep/core';\nimport Router from '@neep/router';\n\nconst Home = () => {\n\treturn <Template>\n\t\t<div>首页</div>\n\t\t<hr />\n\t\t<div><Router.Link path=\"/\">首页</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1\">用户1</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1/settings\">用户1设置</Router.Link></div>\n\t\t<hr />\n\t\t<Router.View />\n\t</Template>;\n};\nexport default mark(Home, mName('Home'));\n","import Router from '@neep/router';\nimport User from './components/User';\nimport Info from './components/User/Info';\nimport Settings from './components/User/Settings';\nimport Home from './components/Home';\nconst router = new Router({\n\tHistory: Router.history.WebHash,\n});\nrouter.setRoutes([\n\t{ path: '/', redirect: '/home' },\n\t{path: '/users/:id', component: User, children: [\n\t\t{path: 'info', component: Info},\n\t\t{path: 'settings', component: Settings},\n\t]},\n\t{path: '/home', component: Home},\n\t{ path: '*', redirect: '/home' },\n]);\n(window as any).router = router;\nexport default router.view;\n","import { render } from '@neep/core';\nimport '@neep/web-render';\nimport '@neep/devtools';\nimport App from './App';\nrender(App).$mount();\n"],"names":["console","fn","printError","String","map","value","def","devtools","renderHook","installDevtools","tools","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","NeepError","Error","constructor","message","tag","assert","v","nextFrameApi","nextFrame","renders","create","getRender","type","default","installRender","render","installMonitorable","api","install","apis","monitorable","getEventName","k","substr","test","addEventFromCollection","addEvent","events","names","Array","isArray","n","p","keys","f","EventEmitter","update","emitter","newHandles","push","on","updateInProps","props","custom","entName","listener","_names","Set","createEmit","omitNames","emit","name","event","res","omit","Reflect","get","markRead","filter","t","includes","_event","e","error","size","markChange","add","removed","delete","updateHandles","eventCancelHandles","_cancelHandles","oldHandles","clear","forEach","list","handles","ScopeSlot","SlotRender","Slot","Value","Deliver","Template","current","setCurrent","entity","oldEntity","$_valueIndex","$_serviceIndex","ret","$_values","length","$_services","checkCurrent","initOnly","created","constructors","initContext","context","addContextConstructor","safeify","constructors$1","initEntity","delayedRefresh","objectSet","wait","run","o","refresh","asyncRefresh","async","hooks","setHook","id","hook","$_hooks","set","callHook","exposed","useValue","index","values","undefined","isElementSymbol","Symbol","for","typeSymbol","nameSymbol","renderSymbol","componentsSymbol","configSymbol","isElement","createElement","attrs","children","node","slot","ref","argv","args","label","setLabel","l","getLabel","label$1","text","color","ids","Nodes","IdMap","Map","createMountedNode","recoveryMountedNode","recursive2iterable","it","refList","setRefList","setRef","isRemove","getNodes","tree","component","unmount","iRender","removeNode","createValue","source","isNode","RegExp","createText","Date","toISOString","createPlaceholder","createAll","item","createList","createItem","_source$children","ltag","toLowerCase","mount","isValue","insertNode","getLastNode","getFirstNode","replace","newTree","oldTree","next","parent","getParent","updateList","newList","mountedMap","src","findIndex","old","updateItem","splice","has","last","nextNode","i","updateAll","Math","min","max","all","updateProps","draw","getSlots","slots","native","nativeList","ownKeys","el","renderSlots","createSlots","inserted","isProduction","setSlots","disabledKey","oldProps","define","isProps","newKeys","components","register","getComponents","Boolean","execSimple","nObject","delivered","execed","slotMap","childNodes","result","nodes","init","renderNode","exec","findComponent","components$1","replaceNode","_node$props","slotName","normalize","createExposed","cfg","$parent","_obj$parent","$component","$isContainer","$created","$destroyed","destroyed","$mounted","mounted","$unmounted","unmounted","completeList","setCompleteList","complete","createEntity","_obj$parent2","isContainer","h","bind","config","EntityObject","container","parentDelivered","canRefresh","_delayedRefresh","needRefresh","_needRefresh","requestDraw","_refreshing","_render","_nodes","convert","_update","_destroy","destroy","__executed_destroy","_mount","__executed_mount","exec$1","c","_cancelDrawMonitor","stop","_unmount","__executed_mounted","_draw","nativeNodes","createContext","initRender","changed","resultOnly","monitor","stopRender","ComponentEntity","_this$iRender$createC","_this$iRender","encase","assign","_shadow","createComponent","call","_stopRender","markDraw","shadowTree","nativeTree","toElement","createItem$1","createAll$1","_source$props","ContainerEntity","newDelivered","updateList$1","updateItem$1","updateAll$1","_source$props2","awaitDraw","requested","drawAll","rootContainer","_drawChildren","setChildren","setProps","_drawContainer","content","_node","_container","drawChildren","drawContainer","_this$parent","_drawSelf","_needDraw","_this$parent2","drawSelf","remove","_this$parent3","_awaitDraw","markDrawContainer","needDraw","drawNode","_containers","containers","refs","r","params","target","Mark","symbol","mName","mSimple","mark","marks","m","installNeep","install$1","getId","updateId","removeAttribute","getClass","split","classes","oClasses","getAttribute","classList","setAttribute","join","updateClass","class","getStyle","style","css","update$1","oStyle","cssText","removeProperty","setProperty","updateStyle","hasStyle","setAttrs","HTMLInputElement","checked","HTMLSelectElement","stringify","data","isOn","toString","JSON","getAttrs","update$2","updateAttrs","createEventEmitter","__eventBind","getElementModel","currentTarget","updateEvent","prop","eventBind","addEventListener","removeEventListener","PropsMap","WeakMap","update$3","CSSStyleDeclaration","window","requestAnimationFrame","fs","xmlnsMap","svg","html","mathml","SVGTags","MathMLTags","tagname","namespace","ns","document","createElementNS","tagRegex","isTagName","Node","className","querySelector","Element","appendChild","body","oldTarget","newNode","pNode","createTextNode","createComment","attachShadow","mode","parentNode","nextSibling","insertBefore","removeChild","getRect","top","right","bottom","left","width","height","getBoundingClientRect","ShadowRoot","host","install$2","Type","getTree","_component$exposed","tagId","$label","placeholder","simple","isNative","standard","treeValue","special","getValue","TextNode","getKey","getLabels","labels","Tag","options","opened","getList","hasChildNodes","onclick","PlaceholderTag","labelList","deliver","template","scopeSlot","slotRender","Tree","Devtools","Settings","asValue","creating","app","getData","$update","$mount","contextConstructor","router","__NeepRouter__","depth","__RouteDepth__","_get","installContextConstructor","RouterView","isNew","Router","Number","isInteger","match","route","path","RouterLink","to","append","search","hash","query","alias","history","link","installComponents","Neep","cleanPath","addRoute","named","meta","end","toPath","compile","encode","encodeURIComponent","decode","decodeURIComponent","matchRoutes","routes","redirect","isFinite","s","val","parse","indexOf","StoreHistory","state","go","newIndex","back","forward","onClick","any","WebPathHistory","opt","base","getPath","location","start","pushState","replaceState","pathname","href","getUrl","cancel","defaultPrevented","preventDefault","oldHash","basePath","stringifyQuery","routePath","redirects","View","Link","_size","matches","_matches","_alias","_path","_search","_hash","_state","History","historyOption","setRoutes","_routes","_namedRoutes","force","pop","nodesLength","matchesLength","view","User","Info","random","Home","WebHash","App"],"mappings":"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"}