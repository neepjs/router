{"version":3,"file":"index.js","sources":["../../node_modules/monitorable/dist/monitorable.esm.js","../../node_modules/@neep/core/dist/neep.core.mjs","../../node_modules/@neep/renderer-html/dist/neep.renderer.html.mjs","../../node_modules/@neep/devtools/dist/neep.devtools.mjs","../../src/install/neep.ts","../../src/install/initDelivers.ts","../../src/View.ts","../../src/install/installComponents.ts","../../src/install/initWith.ts","../../src/install/moduleList.ts","../../src/install/install.ts","../../src/Link.ts","../../src/util.ts","../../node_modules/path-to-regexp/dist.es2015/index.js","../../src/route.ts","../../src/query.ts","../../src/history/Memory.ts","../../src/history/WebPath.ts","../../src/history/WebHash.ts","../../src/Router.ts","../components/User/index.tsx","../components/User/Info.tsx","../components/User/Settings.tsx","../components/Home.tsx","../App.tsx","../index.tsx"],"sourcesContent":["\n/*!\n * monitorable v0.1.0-beta.2\n * (c) 2020-2021 Fierflame\n * @license MIT\n */\n\nlet printErrorLog;\n/** 打印错误 */\n\nfunction printError(info) {\n  if (typeof printErrorLog === 'function') {\n    printErrorLog(info);\n    return;\n  }\n\n  console.error(info);\n}\nfunction setPrintError(p) {\n  printErrorLog = typeof p === 'function' ? p : undefined;\n}\n/**\n * 判断对象是否可被代理\n */\n\nfunction encashable(v) {\n  return Boolean(v && ['object', 'function'].includes(typeof v));\n}\n/** 回调函数安全化处理 */\n\nfunction safeify(fn) {\n  return (...p) => {\n    try {\n      fn(...p);\n    } catch (e) {\n      printError(e);\n    }\n  };\n}\n/** 回调函数安全化处理 */\n\nfunction safeCall(fn) {\n  try {\n    fn();\n  } catch (e) {\n    printError(e);\n  }\n}\nfunction getIndexes(target, prop) {\n  if (!target) {\n    return undefined;\n  }\n\n  if (typeof target !== 'function' && typeof target !== 'object') {\n    return undefined;\n  }\n\n  if (typeof prop === 'number') {\n    return [target, String(prop)];\n  }\n\n  if (typeof prop === 'symbol') {\n    return [target, prop];\n  }\n\n  if (typeof prop === 'string') {\n    return [target, prop];\n  }\n\n  if (typeof prop === 'boolean') {\n    return [target, prop];\n  }\n\n  return undefined;\n}\nfunction getMapValue(map, key, def) {\n  if (map.has(key)) {\n    return map.get(key);\n  }\n\n  const value = def();\n  map.set(key, value);\n  return value;\n}\n\n/** 已被读取的 */\nlet read;\n/**\n * 标记已读状态\n * @param obj  要标记的对象\n * @param prop 要标记的属性\n */\n\nfunction markRead(target, prop) {\n  if (!read) {\n    return;\n  }\n\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return;\n  }\n\n  [target, prop] = indexes;\n  const propMap = getMapValue(read, target, () => new Map());\n\n  if (propMap.has(prop)) {\n    return;\n  }\n\n  propMap.set(prop, false);\n}\n\n/**\n * 监听函数的执行，并将执行过程中读取的对象值设置到 map 中\n * @param fn 要执行的含糊\n * @param map 用于存储被读取对象的 map\n */\nfunction observeRun(map, fn, options) {\n  const oldRead = read;\n  read = map;\n\n  try {\n    if (!(options === null || options === void 0 ? void 0 : options.postpone)) {\n      return fn();\n    }\n\n    return postpone(fn, options.postpone === 'priority');\n  } finally {\n    read = oldRead;\n  }\n}\n\nfunction observe(map, fn, options) {\n  if (typeof fn === 'function') {\n    return observeRun(map, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return observeRun(map, options, fn);\n}\nconst watchList = new WeakMap();\n\nfunction execWatch(target, prop, filter) {\n  var _watchList$get;\n\n  const watch = (_watchList$get = watchList.get(target)) === null || _watchList$get === void 0 ? void 0 : _watchList$get.get(prop);\n\n  if (!watch) {\n    return;\n  }\n\n  let list = [...watch];\n\n  if (filter) {\n    list = list.filter(([, t]) => filter(t));\n  }\n\n  list.forEach(([w]) => w());\n}\n\nlet waitList;\n\nfunction runDeferred(list) {\n  for (const [target, set] of list.entries()) {\n    var _read;\n\n    const propMap = (_read = read) === null || _read === void 0 ? void 0 : _read.get(target);\n\n    for (const prop of set) {\n      execWatch(target, prop, t => !t);\n\n      if (propMap === null || propMap === void 0 ? void 0 : propMap.has(prop)) {\n        propMap.set(prop, true);\n      }\n    }\n  }\n}\n\nfunction postponeRun(f, priority) {\n  const list = !priority && waitList || new Map();\n  const old = waitList;\n  waitList = list;\n\n  try {\n    return f();\n  } finally {\n    waitList = old;\n\n    if (list !== waitList) {\n      runDeferred(list);\n    }\n  }\n}\n\nfunction postpone(fn, priority) {\n  if (typeof fn === 'function') {\n    return postponeRun(fn, priority);\n  }\n\n  if (typeof priority !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return postponeRun(priority, fn);\n}\n\nfunction wait(target, prop) {\n  if (!waitList) {\n    return false;\n  }\n\n  getMapValue(waitList, target, () => new Set()).add(prop);\n  return true;\n}\n/**\n * 标记属性的修改，同时触发监听函数\n * @param target 要标记的对象\n * @param prop   要标记的属性 特别的，false 表示原型，true 表示成员\n */\n\n\nfunction markChange(target, prop) {\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return;\n  }\n\n  [target, prop] = indexes;\n\n  if (wait(target, prop)) {\n    execWatch(target, prop, Boolean);\n    return;\n  }\n\n  execWatch(target, prop);\n}\n/**\n * 观察对象属性的变化\n * @param target 要观察的对象\n * @param prop   要观察的属性名 特别的，false 表示原型，true 表示成员\n * @param fn     属性改变后触发的函数\n */\n\nfunction watchProp(target, prop, cb, disdeferable = false) {\n  if (typeof cb !== 'function') {\n    return () => {};\n  }\n\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return () => {};\n  }\n\n  [target, prop] = indexes;\n  const key = prop;\n  let map = watchList.get(target);\n\n  if (!map) {\n    map = new Map();\n    watchList.set(target, map);\n  }\n\n  const list = getMapValue(map, key, () => new Set());\n  const item = [safeify(cb), disdeferable];\n  list.add(item);\n  let removed = false;\n  return () => {\n    if (removed) {\n      return;\n    }\n\n    removed = true; // 从当前列表中移除\n\n    list.delete(item); // 从属性关联中删除\n\n    if (list.size) {\n      return;\n    }\n\n    if (!map) {\n      return;\n    }\n\n    map.delete(key); // 映射列表中删除\n\n    if (map.size) {\n      return;\n    }\n\n    watchList.delete(target);\n  };\n}\n\nfunction run(cb, fn, options) {\n  cb = safeify(cb);\n  let cancelList;\n  const postpone = options === null || options === void 0 ? void 0 : options.postpone;\n  let end = false;\n  /** 取消监听 */\n\n  function cancel() {\n    if (end) {\n      return false;\n    }\n\n    end = true;\n\n    if (!cancelList) {\n      return true;\n    }\n\n    const list = cancelList;\n    cancelList = undefined;\n    list.forEach(f => f());\n    return true;\n  }\n\n  function trigger() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(true);\n  }\n\n  function run(thisRead) {\n    if (end) {\n      return false;\n    }\n\n    if (!thisRead.size) {\n      end = true;\n      return cb(false);\n    }\n\n    const list = [];\n\n    for (let [obj, props] of thisRead) {\n      for (const [p, m] of props) {\n        if (m) {\n          return cb(true);\n        }\n\n        list.push([obj, p]);\n      }\n    }\n\n    cancelList = list.map(([obj, p]) => watchProp(obj, p, trigger, options === null || options === void 0 ? void 0 : options.disdeferable));\n  }\n\n  function stop() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(false);\n  }\n  const thisRead = new Map();\n  const result = observe(thisRead, () => fn(stop), {\n    postpone\n  });\n  run(thisRead);\n\n  if (options === null || options === void 0 ? void 0 : options.resultOnly) {\n    return result;\n  }\n\n  return {\n    result,\n    stop\n  };\n}\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\n\n\nfunction exec(cb, fn, options) {\n  if (typeof cb !== 'function') {\n    throw new Error('cb needs to be a function');\n  }\n\n  if (typeof fn === 'function') {\n    return run(cb, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return run(cb, options, fn);\n}\n\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\nfunction create(cb, fn, options) {\n  cb = safeify(cb);\n  let cancelList;\n  /** 取消监听 */\n\n  function cancel() {\n    if (!cancelList) {\n      return false;\n    }\n\n    const list = cancelList;\n    cancelList = undefined;\n    list.forEach(f => f());\n    return true;\n  }\n\n  function trigger() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(true);\n  }\n\n  function run(thisRead) {\n    if (!thisRead.size) {\n      return cb(false);\n    }\n\n    const list = [];\n\n    for (let [obj, props] of thisRead) {\n      for (const [p, m] of props) {\n        if (m) {\n          return cb(true);\n        }\n\n        list.push([obj, p]);\n      }\n    }\n\n    cancelList = list.map(([obj, p]) => watchProp(obj, p, trigger, options === null || options === void 0 ? void 0 : options.disdeferable));\n  }\n\n  function exec(...p) {\n    cancel();\n    const thisRead = new Map();\n    const result = observe(thisRead, () => fn(...p), options);\n    run(thisRead);\n    return result;\n  }\n\n  exec.stop = () => {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(false);\n  };\n\n  return exec;\n}\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\n\n\nfunction monitor(cb, fn, options) {\n  if (typeof fn === 'function') {\n    return create(cb, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return create(cb, options, fn);\n}\n\n/** 取消监听的方法 */\n\nconst valueSignKey = '__$$__monitorable_value__$$__';\nfunction isValue(x) {\n  return Boolean(typeof x === 'function' && x[valueSignKey]);\n}\n/** 触发监听 */\n\nfunction valueOf() {\n  const value = this();\n\n  if (value === undefined) {\n    return value;\n  }\n\n  if (value === null) {\n    return value;\n  }\n\n  return value.valueOf();\n}\n\nfunction toString(...p) {\n  const value = this();\n\n  if (value === undefined) {\n    return String(value);\n  }\n\n  if (value === null) {\n    return String(value);\n  }\n\n  if (typeof value.toString === 'function') {\n    return value.toString(...p);\n  }\n\n  return String(value);\n}\n\nfunction toPrimitive(hint) {\n  const value = this();\n\n  if (value === undefined) {\n    return String(value);\n  }\n\n  if (value === null) {\n    return String(value);\n  }\n\n  if (typeof value[Symbol.toPrimitive] === 'function') {\n    return value[Symbol.toPrimitive](hint);\n  }\n\n  if (hint === 'string') {\n    return String(value);\n  }\n\n  if (hint === 'number') {\n    return Number(value);\n  }\n\n  return value;\n}\n\nfunction createValue(recover, setValue, stop = () => {}, change = () => {}) {\n  function set(v, marked = false) {\n    if (!setValue) {\n      return;\n    }\n\n    try {\n      setValue(v, () => {\n        marked = true;\n      });\n    } finally {\n      if (marked) {\n        trigger();\n      }\n    }\n  }\n\n  function get() {\n    markRead(value, 'value');\n    return recover();\n  }\n\n  const value = (...v) => {\n    if (v.length) {\n      set(v[0], v[1]);\n      return v[0];\n    }\n\n    return get();\n  };\n\n  Reflect.defineProperty(value, 'value', {\n    get,\n    set,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, 'valueOf', {\n    value: valueOf,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, 'toString', {\n    value: toString,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, Symbol.toPrimitive, {\n    value: toPrimitive,\n    enumerable: true,\n    configurable: true\n  });\n  let stopList = new Set();\n\n  function watch(cb, disdeferable) {\n    if (!stopList) {\n      return () => {};\n    }\n\n    const cancel = watchProp(value, 'value', () => cb(value, false), disdeferable);\n    let cancelled = false;\n\n    const stop = () => {\n      if (cancelled) {\n        return;\n      }\n\n      cancelled = true;\n\n      if (stopList) {\n        stopList.delete(stop);\n      }\n\n      cancel();\n      safeCall(() => cb(value, true));\n    };\n\n    stopList.add(stop);\n    change();\n    return () => {\n      if (cancelled) {\n        return;\n      }\n\n      cancelled = true;\n\n      if (stopList) {\n        stopList.delete(stop);\n      }\n\n      cancel();\n      change();\n    };\n  }\n\n  Reflect.defineProperty(value, 'watch', {\n    get() {\n      return watch;\n    },\n\n    set() {},\n\n    configurable: true\n  });\n\n  const trigger = () => markChange(value, 'value');\n\n  trigger.has = () => {\n    var _stopList;\n\n    return Boolean((_stopList = stopList) === null || _stopList === void 0 ? void 0 : _stopList.size);\n  };\n\n  trigger.stop = () => {\n    if (!stopList) {\n      return;\n    }\n\n    const list = stopList;\n    stopList = undefined;\n\n    for (const stop of [...list]) {\n      stop();\n    }\n  };\n\n  Reflect.defineProperty(value, valueSignKey, {\n    value: true,\n    configurable: true\n  });\n  let stopped = false;\n\n  value.stop = () => {\n    if (stopped) {\n      return;\n    }\n\n    stopped = true;\n    stop();\n    trigger.stop();\n  };\n\n  return {\n    value,\n    trigger\n  };\n}\n/**\n * 创建引用值\n * @param value 初始值\n * @param options 选项\n */\n\n\nfunction value(def) {\n  let source;\n  let proxyValue;\n  const {\n    value\n  } = createValue(() => proxyValue, (v, mark) => {\n    if (v === source) {\n      return;\n    }\n\n    source = v;\n    proxyValue = source;\n    mark();\n  });\n  value(def);\n  return value;\n}\nfunction computed(getter, setter, options) {\n  var _options, _options2;\n\n  if (typeof setter !== 'function') {\n    options = setter;\n    setter = undefined;\n  }\n\n  const setValue = setter;\n  const postpone = (_options = options) === null || _options === void 0 ? void 0 : _options.postpone;\n  const deferable = (_options2 = options) === null || _options2 === void 0 ? void 0 : _options2.deferable;\n  let source;\n  let proxyValue;\n  let stopped = false;\n  let computed = false;\n  let trigger;\n  const executable = monitor(changed => {\n    computed = !changed;\n\n    if (changed && trigger) {\n      trigger();\n    }\n  }, getter, {\n    postpone,\n    disdeferable: !deferable\n  });\n\n  function run() {\n    computed = true;\n\n    try {\n      source = executable();\n      proxyValue = source;\n      return proxyValue;\n    } catch (e) {\n      if (!stopped) {\n        computed = false;\n      }\n\n      throw e;\n    }\n  }\n\n  let value;\n  ({\n    value,\n    trigger\n  } = createValue(() => computed || stopped ? proxyValue : run(), setValue && (v => setValue(v)), () => {\n    if (stopped) {\n      return;\n    }\n\n    stopped = true;\n\n    if (computed) {\n      return;\n    }\n\n    run();\n  }));\n  return value;\n}\n\nfunction createValue$1(props, key, def, set) {\n  function setValue(value, setted) {\n    if (!set) {\n      return;\n    }\n\n    set(value, setted);\n  }\n\n  return computed(() => {\n    const p = props[key];\n\n    if (p === undefined && def) {\n      return def();\n    }\n\n    return isValue(p) ? p() : p;\n  }, v => {\n    const p = props[key];\n\n    if (isValue(p)) {\n      p(v);\n      setValue(v, true);\n      return;\n    }\n\n    if (p === undefined && def) {\n      def(v);\n    }\n\n    setValue(v, false);\n  });\n}\n\nfunction valueify(props, key, def, set) {\n  if (!key) {\n    return (k, d, s) => createValue$1(props, k, d, s);\n  }\n\n  if (!Array.isArray(key)) {\n    return createValue$1(props, key, def, set);\n  }\n\n  const r = Object.create(null);\n\n  for (const k of key) {\n    const value = createValue$1(props, k, def && def(k), set && ((v, s) => set(v, s, k)));\n    Reflect.defineProperty(props, k, {\n      get() {\n        return value();\n      },\n\n      set(v) {\n        value.value = v;\n      },\n\n      configurable: true,\n      enumerable: true\n    });\n  }\n\n  return r;\n}\nfunction mixValue(source, props = Reflect.ownKeys(source), set) {\n  const p = Object.create(source);\n\n  function setValue(value, key) {\n    if (!set) {\n      return;\n    }\n\n    set(value, key);\n  }\n\n  const keys = Array.isArray(props) ? props : Reflect.ownKeys(props);\n  const values = Array.isArray(props) ? source : props;\n\n  for (const key of keys) {\n    const value = values[key];\n\n    if (!isValue(value)) {\n      continue;\n    }\n\n    Reflect.defineProperty(p, key, {\n      get() {\n        return value();\n      },\n\n      set(v) {\n        value.value = v;\n        setValue(v, key);\n      },\n\n      configurable: true,\n      enumerable: true\n    });\n  }\n\n  return p;\n}\n\nfunction createAsValue(props, key) {\n  return computed(() => {\n    const p = props[key];\n    return isValue(p) ? p() : p;\n  }, v => {\n    const p = props[key];\n\n    if (isValue(p)) {\n      p(v);\n    } else {\n      props[key] = v;\n    }\n  });\n}\n\nfunction asValue(props, key) {\n  if (arguments.length >= 2) {\n    return createAsValue(props, key);\n  }\n\n  return k => createAsValue(props, k);\n}\n\nfunction merge(cb) {\n  let oldValue;\n  let ran = false;\n  return (v, stopped) => {\n    if (stopped) {\n      return cb(v, stopped);\n    }\n\n    const newValue = v();\n\n    if (newValue === oldValue && ran) {\n      return;\n    }\n\n    ran = true;\n    oldValue = newValue;\n    cb(v, stopped);\n  };\n}\n\nfunction defineProperty(obj, key, val) {\n  return Reflect.defineProperty(obj, key, {\n    get() {\n      markRead(obj, key);\n      return val;\n    },\n\n    set(v) {\n      if (v === val) {\n        return;\n      }\n\n      val = v;\n      markChange(obj, key);\n    },\n\n    configurable: true,\n    enumerable: true\n  });\n}\nfunction createObject(keys, base = {}, create) {\n  const obj = create || base === null ? Object.create(base) : base;\n\n  for (const key of keys) {\n    let val = obj[key];\n    Reflect.defineProperty(obj, key, {\n      get() {\n        markRead(obj, key);\n        return val;\n      },\n\n      set(v) {\n        if (v === val) {\n          return;\n        }\n\n        val = v;\n        markChange(obj, key);\n      },\n\n      configurable: true,\n      enumerable: true\n    });\n  }\n\n  return obj;\n}\nfunction get(obj, key) {\n  markRead(obj, key);\n  return obj[key];\n}\nfunction set(obj, key, v) {\n  if (v === obj[key]) {\n    return v;\n  }\n\n  obj[key] = v;\n  markChange(obj, key);\n  return v;\n}\n\n/**\n * 判断对象是否可被代理\n */\n\nfunction encashable$1(v) {\n  return Boolean(v && ['object', 'function'].includes(typeof v));\n}\n\nlet getValue;\n/**\n * 获取被代理对象\n * @param obj  要被代理的对象\n * @param nest 递归代理的层数\n */\n\nfunction encase(value, nest = 0) {\n  if (!encashable$1(value)) {\n    return value;\n  }\n\n  const original = recover(value);\n  const nestLayer = nest === true ? Infinity : nest || 0;\n  const proxy = new Proxy(original, {\n    set(target, prop, value, receiver) {\n      if (nest === false) {\n        return Reflect.set(target, prop, value, receiver);\n      }\n\n      const has = Reflect.has(target, prop);\n      const old = Reflect.get(target, prop, receiver);\n      const modified = Reflect.set(target, prop, value, encase(receiver));\n\n      if (!modified) {\n        return modified;\n      }\n\n      if (has !== Reflect.has(target, prop)) {\n        markChange(receiver, true);\n      }\n\n      if (old !== Reflect.get(target, prop, receiver)) {\n        markChange(receiver, prop);\n      }\n\n      return modified;\n    },\n\n    get(target, prop, receiver) {\n      if (getValue === proxy) {\n        if (prop === '__monitorable__recover__') {\n          getValue = original;\n          return;\n        }\n      }\n\n      if (nest === false) {\n        return Reflect.get(target, prop, receiver);\n      }\n\n      markRead(receiver, prop);\n      const value = Reflect.get(target, prop, encase(receiver));\n\n      if (nestLayer > 0) {\n        return encase(value, nestLayer - 1);\n      }\n\n      return value;\n    },\n\n    setPrototypeOf(target, proto) {\n      if (nest === false) {\n        return Reflect.setPrototypeOf(target, proto);\n      }\n\n      const oldProto = Reflect.getPrototypeOf(target);\n      const modified = Reflect.setPrototypeOf(target, proto);\n\n      if (modified && oldProto !== proto) {\n        markChange(target, false);\n        markChange(proxy, false);\n      }\n\n      return modified;\n    },\n\n    getPrototypeOf(target) {\n      if (nest === false) {\n        return Reflect.getPrototypeOf(target);\n      }\n\n      markRead(target, false);\n      markRead(proxy, false);\n      const value = Reflect.getPrototypeOf(target);\n\n      if (nestLayer > 0) {\n        return encase(value, nestLayer - 1);\n      }\n\n      return value;\n    },\n\n    defineProperty(target, prop, attr) {\n      if (nest === false) {\n        return Reflect.defineProperty(target, prop, attr);\n      }\n\n      let changed = true;\n\n      if ('value' in attr) {\n        const desc = Reflect.getOwnPropertyDescriptor(target, prop);\n\n        if (desc && 'value' in desc && recover(attr.value) === recover(desc.value)) {\n          changed = false;\n        }\n      }\n\n      const modified = Reflect.defineProperty(target, prop, attr);\n\n      if (changed && modified) {\n        markChange(target, prop);\n        markChange(proxy, prop);\n      }\n\n      return modified;\n    },\n\n    getOwnPropertyDescriptor(target, prop) {\n      if (nest === false) {\n        return Reflect.getOwnPropertyDescriptor(target, prop);\n      }\n\n      markRead(target, prop);\n      markRead(proxy, prop);\n      return Reflect.getOwnPropertyDescriptor(target, prop);\n    },\n\n    deleteProperty(target, prop) {\n      if (nest === false) {\n        return Reflect.deleteProperty(target, prop);\n      }\n\n      const has = Reflect.has(target, prop);\n      const deleted = Reflect.deleteProperty(target, prop);\n\n      if (has && !Reflect.has(target, prop)) {\n        markChange(target, prop);\n        markChange(target, true);\n        markChange(proxy, prop);\n        markChange(proxy, true);\n      }\n\n      return deleted;\n    },\n\n    ownKeys(target) {\n      if (nest === false) {\n        return Reflect.ownKeys(target);\n      }\n\n      markRead(target, true);\n      markRead(proxy, true);\n      return Reflect.ownKeys(target);\n    },\n\n    has(target, prop) {\n      if (nest === false) {\n        return Reflect.has(target, prop);\n      }\n\n      markRead(target, true);\n      markRead(proxy, true);\n      return Reflect.has(target, prop);\n    }\n\n  });\n  return proxy;\n}\n/** 获取被代理的原始值 */\n\nfunction recover(v) {\n  if (!v) {\n    return v;\n  }\n\n  if (!encashable$1(v)) {\n    return v;\n  }\n\n  let value = v;\n\n  try {\n    getValue = v;\n    value = v.__monitorable__recover__;\n  } catch (_unused) {}\n\n  value = getValue;\n  getValue = false;\n\n  if (!value) {\n    return v;\n  }\n\n  if (typeof value === 'object') {\n    return value;\n  }\n\n  if (typeof value === 'function') {\n    return value;\n  }\n\n  return v;\n}\nfunction equal(a, b) {\n  return recover(a) === recover(b);\n}\n\n\n\nvar Monitorable = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tprintError: printError,\n\tsetPrintError: setPrintError,\n\tencashable: encashable,\n\tsafeify: safeify,\n\tsafeCall: safeCall,\n\tgetIndexes: getIndexes,\n\tgetMapValue: getMapValue,\n\tmarkRead: markRead,\n\tobserve: observe,\n\tpostpone: postpone,\n\tmarkChange: markChange,\n\twatchProp: watchProp,\n\texec: exec,\n\tmonitor: monitor,\n\tisValue: isValue,\n\tvalue: value,\n\tcomputed: computed,\n\tvalueify: valueify,\n\tmixValue: mixValue,\n\tasValue: asValue,\n\tmerge: merge,\n\tdefineProperty: defineProperty,\n\tcreateObject: createObject,\n\tget: get,\n\tset: set,\n\tencase: encase,\n\trecover: recover,\n\tequal: equal\n});\n\nexport default Monitorable;\nexport { asValue, computed, createObject, defineProperty, encase, encashable, equal, exec, get, getIndexes, getMapValue, isValue, markChange, markRead, merge, mixValue, monitor, observe, postpone, printError, recover, safeCall, safeify, set, setPrintError, value, valueify, watchProp };\n//# sourceMappingURL=monitorable.esm.js.map\n","/*!\n * Neep v0.1.0-alpha.18\n * (c) 2019-2021 Fierflame\n * @license MIT\n */\nimport { safeify, isValue, computed, markRead, markChange, defineProperty, exec as exec$1, printError as printError$1, postpone, monitor, createObject, value, encase, valueify, asValue, mixValue } from 'monitorable';\nexport { asValue, computed, defineProperty, encase, isValue, mixValue, value, valueify } from 'monitorable';\n\nconst version = '0.1.0-alpha.18';\nconst isProduction = process.env.NODE_ENV === 'production';\n\nconst devtools = {\n  renderHook() {}\n\n};\nfunction installDevtools(tools) {\n  if (!tools) {\n    return;\n  }\n\n  if (typeof tools !== 'object') {\n    return;\n  }\n\n  const {\n    renderHook\n  } = tools;\n\n  if (typeof renderHook === 'function') {\n    devtools.renderHook = renderHook;\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nclass NeepError extends Error {\n  constructor(message, tag = '') {\n    super(tag ? `[${tag}] ${message}` : message);\n\n    _defineProperty(this, \"tag\", void 0);\n\n    this.tag = tag;\n  }\n\n}\nfunction assert(v, message, tag) {\n  if (v) {\n    return;\n  }\n\n  if (typeof message === 'function') {\n    message = message();\n  }\n\n  throw new NeepError(message, tag);\n}\n\nlet nextFrameApi;\nfunction nextFrame(fn) {\n  assert(nextFrameApi, 'The basic renderer is not installed', 'install');\n  nextFrameApi(fn);\n}\nconst renderers = Object.create(null);\nfunction getRender(type = '', def = renderers.default) {\n  if (typeof type === 'object') {\n    return type;\n  }\n\n  return renderers[type] || def;\n}\nfunction installRender(renderer) {\n  if (!renderer) {\n    return;\n  }\n\n  renderers[renderer.type] = renderer;\n\n  if (nextFrameApi) {\n    return;\n  }\n\n  if (!renderers.default) {\n    renderers.default = renderer;\n  }\n\n  if (!nextFrameApi && renderer.nextFrame) {\n    renderers.default = renderer;\n    nextFrameApi = renderer.nextFrame.bind(renderer);\n  }\n}\n\nfunction installMonitorable(api) {}\n\nfunction install(apis) {\n  installMonitorable(apis.monitorable);\n  installRender(apis.renderer);\n\n  if (!isProduction) {\n    installDevtools(apis.devtools);\n  }\n}\n\nconst destroyFns = Object.create(null);\nlet nextId = 1;\nlet isInit = false;\nlet hookList;\nlet root;\nlet runs;\nfunction hookSafe() {\n  assert(isInit || !hookList || !hookList.length, 'Inconsistent number of useService executions', 'life');\n}\nfunction initHook(init, useData) {\n  const state = isProduction ? {\n    list: hookList,\n    isInit\n  } : {\n    list: hookList,\n    isInit,\n    root,\n    runs\n  };\n\n  if (!useData) {\n    isInit = false;\n    hookList = undefined;\n\n    if (!isProduction) {\n      root = [];\n      runs = [];\n    }\n\n    return state;\n  }\n\n  isInit = init;\n  hookList = init ? useData : [...useData];\n\n  if (!isProduction) {\n    root = useData;\n    runs = [];\n  }\n\n  return state;\n}\nfunction restoreHookState(state) {\n  if (isProduction) {\n    ({\n      list: hookList,\n      isInit\n    } = state);\n  } else {\n    ({\n      list: hookList,\n      isInit,\n      root,\n      runs\n    } = state);\n  }\n}\n\nfunction printError(item, isEnd) {\n\n  return '';\n}\n\nfunction createUse({\n  name,\n  create = () => ({}),\n  destroy,\n  exec = v => v\n}) {\n  const id = nextId++;\n\n  if (typeof destroy === 'function') {\n    destroyFns[id] = destroy;\n  }\n\n  return (...p) => {\n    assert(hookList, `Function \\`${name}\\` can only be called within a cycle.`, 'life');\n\n    if (isInit) {\n      const list = [];\n      const item = {\n        id,\n        value: create(...p)\n      };\n      const parent = hookList;\n      hookList = list;\n\n      try {\n        return exec(item.value, ...p);\n      } finally {\n        if (list.length) {\n          item.list = list;\n        }\n\n        hookList = parent;\n      }\n    }\n\n    const item = hookList.shift();\n    assert(item && item.id === id && item.list, () => printError(), 'life');\n    const {\n      value\n    } = item;\n    const list = [...item.list];\n    const parent = hookList;\n    hookList = list;\n\n    if (isProduction) {\n      try {\n        const ret = exec(value, ...p);\n        assert(!list.length, '');\n        return ret;\n      } finally {\n        hookList = parent;\n      }\n    } else {\n      const runList = [];\n\n      if (runs) {\n        runs.push({\n          id,\n          list: runList,\n          value\n        });\n      }\n\n      const runParent = runs;\n      runs = runList;\n\n      try {\n        const ret = exec(value, ...p);\n        assert(!list.length, () => printError(item, true), 'life');\n        return ret;\n      } finally {\n        hookList = parent;\n        runs = runParent;\n      }\n    }\n  };\n}\nfunction destroyUseData(data) {\n  if (!data) {\n    return;\n  }\n\n  for (const {\n    id,\n    value,\n    list\n  } of data) {\n    destroyUseData(list);\n\n    if (!(id in destroyFns)) {\n      continue;\n    }\n\n    const destroy = destroyFns[id];\n    destroy(value);\n  }\n}\n\nlet setLabels;\nlet current;\nfunction runCurrent(newContextData, entity, fn, ...p) {\n  const oldCurrent = current;\n  current = newContextData;\n  const hookState = entity ? initHook(!newContextData.created, newContextData.useData) : initHook(false);\n\n  try {\n    const ret = fn(...p);\n\n    if (entity) {\n      hookSafe();\n    }\n\n    return ret;\n  } finally {\n    current = oldCurrent;\n    restoreHookState(hookState);\n  }\n}\nfunction runCurrentWithLabel(newContextData, entity, setLabel, fn, ...p) {\n  const oldCurrent = current;\n  current = newContextData;\n  const hookState = entity ? initHook(!newContextData.created, newContextData.useData) : initHook(false);\n  const oldSetLabel = setLabels;\n  setLabels = setLabel;\n\n  try {\n    const ret = fn(...p);\n\n    if (entity) {\n      hookSafe();\n    }\n\n    return ret;\n  } finally {\n    current = oldCurrent;\n    restoreHookState(hookState);\n    setLabels = oldSetLabel;\n  }\n}\nfunction checkCurrent(name) {\n  assert(current, `Function \\`${name}\\` can only be called within a cycle.`, 'life');\n  return current;\n}\n\nfunction setHook(id, hook, contextData) {\n  let {\n    hooks\n  } = contextData;\n\n  if (!hooks) {\n    return () => {};\n  }\n\n  hook = safeify(hook);\n  let set = hooks[id];\n\n  if (!set) {\n    set = new Set();\n    hooks[id] = set;\n  }\n\n  set.add(hook);\n  return () => set.delete(hook);\n}\nfunction callHook(id, {\n  hooks\n}) {\n  if (!hooks) {\n    return;\n  }\n\n  for (const hook of hooks[id] || []) {\n    hook();\n  }\n}\n\nfunction withWatch(value, cb, run) {\n  const contextData = checkCurrent('withWatch');\n\n  if (typeof value !== 'function') {\n    return () => {};\n  }\n\n  let stop;\n\n  if (isValue(value)) {\n    stop = value.watch(cb);\n\n    if (run) {\n      cb(value, false);\n    }\n  } else {\n    const v = computed(value);\n    stop = v.watch((v, s) => cb(v(), s));\n\n    if (run) {\n      cb(v(), false);\n    }\n  }\n\n  setHook('beforeDestroy', () => stop(), contextData);\n  return stop;\n}\n\nfunction withHook(name, hook, initOnly) {\n  const contextData = checkCurrent('withHook');\n\n  if (initOnly && contextData.created) {\n    return undefined;\n  }\n\n  return setHook(name, () => hook(), contextData);\n}\n\nconst rendererSymbol = Symbol.for('renderer');\nconst nameSymbol = Symbol.for('name');\nconst componentsSymbol = Symbol.for('components');\nconst propsSymbol = Symbol.for('props');\nconst componentValueSymbol = Symbol.for('$$$componentValue$$$');\nconst objectTypeSymbol = Symbol.for('$$$objectType$$$');\nconst objectTypeSymbolElement = '$$$objectType$$$Element';\nconst objectTypeSymbolDeliverComponent = '$$$objectType$$$DeliverComponent';\nconst objectTypeSymbolNativeComponent = '$$$objectType$$$NativeComponentNode';\nconst objectTypeSymbolSimpleComponent = '$$$objectType$$$SimpleComponent';\nconst objectTypeSymbolShellComponent = '$$$objectType$$$ShellComponent';\nconst objectTypeSymbolRenderComponent = '$$$objectType$$$RenderComponent';\nconst objectTypeSymbolContainerComponent = '$$$objectType$$$ContainerComponent';\nconst objectTypeSymbolElementComponent = '$$$objectType$$$ElementComponent';\nconst objectTypeSymbolRootEntity = '$$$objectType$$$RootEntity';\nconst deliverKeySymbol = Symbol.for('$$$deliverKey$$$');\nconst deliverDefaultSymbol = Symbol.for('$$$deliverDefault$$$');\n\nfunction isSimpleComponent(v) {\n  if (typeof v !== 'function') {\n    return false;\n  }\n\n  return v[objectTypeSymbol] === objectTypeSymbolSimpleComponent;\n}\nfunction isShellComponent(v) {\n  if (typeof v !== 'function') {\n    return false;\n  }\n\n  return v[objectTypeSymbol] === objectTypeSymbolShellComponent;\n}\nfunction isNativeComponent(v) {\n  if (typeof v !== 'function') {\n    return false;\n  }\n\n  return v[objectTypeSymbol] === objectTypeSymbolNativeComponent;\n}\nfunction isRenderComponent(v) {\n  if (typeof v !== 'function') {\n    return false;\n  }\n\n  return v[objectTypeSymbol] === objectTypeSymbolRenderComponent;\n}\nfunction isContainerComponent(v) {\n  if (typeof v !== 'function') {\n    return false;\n  }\n\n  return v[objectTypeSymbol] === objectTypeSymbolContainerComponent;\n}\nfunction isElementComponent(v) {\n  if (typeof v !== 'function') {\n    return false;\n  }\n\n  return v[objectTypeSymbol] === objectTypeSymbolElementComponent;\n}\nfunction isDeliverComponent(v) {\n  if (typeof v !== 'function') {\n    return false;\n  }\n\n  return v[objectTypeSymbol] === objectTypeSymbolDeliverComponent;\n}\n\nfunction withDelivered(deliver) {\n  assert(isDeliverComponent(deliver), 'The `deliver` is not a DeliverComponent.', 'deliver');\n  const {\n    delivered\n  } = checkCurrent('withDelivered');\n  const value = delivered[deliver[deliverKeySymbol]];\n  return value === undefined ? deliver[deliverDefaultSymbol] : value;\n}\n\nfunction withRefresh(f) {\n  return checkCurrent('withRefresh').refresh(f);\n}\n\nfunction withParent() {\n  return checkCurrent('withParent').parent;\n}\n\nfunction withChildren() {\n  return checkCurrent('withChildren').getChildren();\n}\n\nfunction withCallback(fn) {\n  const current = checkCurrent('withCallback');\n  return (...p) => runCurrent(current, undefined, fn, ...p);\n}\n\nfunction createElementBase(tag, attrs, ...children) {\n  const props = typeof attrs === 'object' && attrs || {};\n  const node = {\n    [objectTypeSymbol]: objectTypeSymbolElement,\n    tag,\n    props,\n    children,\n    key: undefined\n  };\n\n  if ('n:key' in props) {\n    node.key = props['n:key'];\n  }\n\n  if ('n:slot' in props) {\n    node.slot = props['n:slot'];\n  }\n\n  return node;\n}\n\nconst ScopeSlot = 'core:scopeslot';\nconst Render = 'core:render';\nconst Slot = 'core:slot';\nconst Container = 'core:container';\nconst Template = 'template';\nconst Fragment = Template;\n\nfunction createTemplateElement(...children) {\n  return {\n    [objectTypeSymbol]: objectTypeSymbolElement,\n    tag: Template,\n    children\n  };\n}\n\nfunction isElement(v) {\n  if (!v) {\n    return false;\n  }\n\n  if (typeof v !== 'object') {\n    return false;\n  }\n\n  return v[objectTypeSymbol] === objectTypeSymbolElement;\n}\n\nfunction equal(a, b) {\n  if (Object.is(a, b)) {\n    return true;\n  }\n\n  if (!a) {\n    return false;\n  }\n\n  if (!b) {\n    return false;\n  }\n\n  if (typeof a !== 'object') {\n    return false;\n  }\n\n  if (typeof b !== 'object') {\n    return false;\n  }\n\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b)) {\n      return false;\n    }\n\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (let i = a.length - 1; i >= 0; i--) {\n      if (!equal(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  if (Array.isArray(b)) {\n    return false;\n  }\n\n  if (!isElement(a)) {\n    return false;\n  }\n\n  if (!isElement(b)) {\n    return false;\n  }\n\n  if (a.tag !== b.tag) {\n    return false;\n  }\n\n  if (a.execed !== b.execed) {\n    return false;\n  }\n\n  if (a.inserted !== b.inserted) {\n    return false;\n  }\n\n  if (a.isDefault !== b.isDefault) {\n    return false;\n  }\n\n  if (a.key !== b.key) {\n    return false;\n  }\n\n  if (a.slot !== b.slot) {\n    return false;\n  }\n\n  const aprops = a.props;\n  const bprops = b.props;\n\n  if (Object.is(aprops, bprops)) {\n    return equal(a.children, b.children);\n  }\n\n  if (!aprops) {\n    return false;\n  }\n\n  if (!bprops) {\n    return false;\n  }\n\n  if (typeof aprops !== 'object') {\n    return false;\n  }\n\n  if (typeof bprops !== 'object') {\n    return false;\n  }\n\n  const aKeys = new Set(Object.keys(aprops));\n  const bKeys = Object.keys(bprops);\n\n  if (aKeys.size !== bKeys.length) {\n    return false;\n  }\n\n  for (const k of bKeys) {\n    if (!aKeys.has(k)) {\n      return false;\n    }\n\n    if (aprops[k] !== bprops[k]) {\n      return false;\n    }\n  }\n\n  return equal(a.children, b.children);\n}\n\nfunction isRenderElement(v) {\n  if (!isElement(v)) {\n    return false;\n  }\n\n  const {\n    tag\n  } = v;\n\n  if (typeof tag !== 'string') {\n    return false;\n  }\n\n  return tag.toLowerCase() === Render;\n}\n\nfunction withLabel(...label) {\n  if (!isProduction) {\n    const labels = label.filter(Boolean).map(t => typeof t === 'string' ? {\n      text: t\n    } : t);\n\n    if (!setLabels) {\n      return;\n    }\n\n    setLabels(labels);\n  }\n}\n\nlet ids = 0;\nconst Nodes = {};\nconst IdMap = isProduction ? undefined : new WeakMap();\nfunction createMountedNode(n, id) {\n  if (!isProduction) {\n    id = id || ++ids;\n    const {\n      node\n    } = n;\n\n    if (node && IdMap) {\n      IdMap.set(node, id);\n    }\n\n    const newNode = { ...n,\n      id\n    };\n    Nodes[id] = newNode;\n    markChange(Nodes, id);\n    return newNode;\n  }\n\n  return { ...n,\n    id: 0\n  };\n}\nfunction recoveryMountedNode(node) {\n  if (!isProduction) {\n    delete Nodes[node.id];\n  }\n}\nfunction getNode(id) {\n  if (!isProduction) {\n    if (typeof id !== 'number') {\n      id = (IdMap === null || IdMap === void 0 ? void 0 : IdMap.get(id)) || -1;\n    }\n\n    markRead(Nodes, id);\n    return Nodes[id];\n  }\n\n  return undefined;\n}\n\nfunction toElement(t) {\n  if (t === false || t === null || t === undefined) {\n    return null;\n  }\n\n  if (isElement(t)) {\n    return t;\n  }\n\n  return {\n    key: t,\n    props: {\n      value: t\n    },\n    children: []\n  };\n}\n\nfunction drawPlaceholder(renderer) {\n  const node = renderer.createPlaceholder();\n  return createMountedNode({\n    tag: null,\n    node\n  });\n}\n\nfunction createItem(renderer, mountOptions, source) {\n  if (!source) {\n    return drawPlaceholder(renderer);\n  }\n\n  const {\n    proxy\n  } = source;\n  proxy.mount(mountOptions);\n  return createMountedNode({ ...source,\n    node: undefined,\n    proxy\n  });\n}\n\nfunction createList(renderer, mountOptions, source) {\n  if (source.length) {\n    return source.map(it => createItem(renderer, mountOptions, it));\n  }\n\n  return [drawPlaceholder(renderer)];\n}\n\nfunction createAll(renderer, mountOptions, source) {\n  if (!source.length) {\n    return [drawPlaceholder(renderer)];\n  }\n\n  return source.map(item => Array.isArray(item) ? createList(renderer, mountOptions, item) : createItem(renderer, mountOptions, item));\n}\n\nfunction unmount(renderer, tree) {\n  if (!tree) {\n    return;\n  }\n\n  if (Array.isArray(tree)) {\n    tree.forEach(e => unmount(renderer, e));\n    return;\n  }\n\n  recoveryMountedNode(tree);\n\n  if (tree.proxy) {\n    const {\n      proxy\n    } = tree;\n    proxy.unmount();\n    return;\n  }\n\n  if (tree.node) {\n    const {\n      node\n    } = tree;\n    renderer.removeNode(node);\n  }\n\n  unmount(renderer, tree.children);\n}\n\nfunction* getNodes(tree) {\n  if (Array.isArray(tree)) {\n    for (const it of tree) {\n      yield* getNodes(it);\n    }\n\n    return;\n  }\n\n  const {\n    node,\n    proxy\n  } = tree;\n\n  if (node) {\n    yield node;\n    return;\n  }\n\n  if (proxy) {\n    yield* getNodes(proxy.tree);\n  }\n}\n\nfunction getFirstNode(tree) {\n  if (Array.isArray(tree)) {\n    return getFirstNode(tree[0]);\n  }\n\n  if (tree.node) {\n    return tree.node;\n  }\n\n  return getFirstNode(tree.proxy.tree);\n}\n\nfunction drawReplace(renderer, newTree, oldTree) {\n  const next = getFirstNode(oldTree);\n\n  if (!next) {\n    return newTree;\n  }\n\n  const parentNode = renderer.getParent(next);\n\n  if (!parentNode) {\n    return newTree;\n  }\n\n  for (const it of getNodes(newTree)) {\n    renderer.insertNode(parentNode, it, next);\n  }\n\n  unmount(renderer, oldTree);\n  return newTree;\n}\n\nfunction getLastNode(tree) {\n  if (Array.isArray(tree)) {\n    return getLastNode(tree[tree.length - 1]);\n  }\n\n  if (tree.node) {\n    return tree.node;\n  }\n\n  return getLastNode(tree.proxy.tree);\n}\n\nfunction updateItem(renderer, mountOptions, source, tree) {\n  if (!source) {\n    if (Array.isArray(tree)) {\n      if (tree.length === 1 && tree[0].tag === null) {\n        return tree[0];\n      }\n    } else if (tree.tag === null) {\n      return tree;\n    }\n\n    return drawReplace(renderer, drawPlaceholder(renderer), tree);\n  }\n\n  if (Array.isArray(tree)) {\n    const index = tree.findIndex(it => it.tag === source.tag && it.proxy === source.proxy);\n\n    if (index < 0) {\n      return drawReplace(renderer, createItem(renderer, mountOptions, source), tree);\n    }\n\n    const all = tree;\n    [tree] = tree.splice(index, 1);\n    unmount(renderer, all);\n  }\n\n  if (source.proxy) {\n    const {\n      proxy\n    } = source;\n\n    if (proxy !== tree.proxy) {\n      return drawReplace(renderer, createItem(renderer, mountOptions, source), tree);\n    }\n\n    return createMountedNode({ ...source,\n      node: undefined,\n      proxy\n    }, tree.id);\n  }\n\n  if (tree.proxy || source.tag !== tree.tag) {\n    return drawReplace(renderer, createItem(renderer, mountOptions, source), tree);\n  }\n\n  if (source.tag === undefined) {\n    return tree;\n  }\n\n  return drawReplace(renderer, createItem(renderer, mountOptions, source), tree);\n}\n\nfunction updateList(renderer, mountOptions, source, tree) {\n  if (!source.length) {\n    const node = drawPlaceholder(renderer);\n    return [drawReplace(renderer, node, tree)];\n  }\n\n  if (!Array.isArray(tree)) {\n    tree = [tree];\n  }\n\n  const newList = [];\n  const list = [...tree];\n  const mountedMap = new Map();\n\n  for (const src of source) {\n    const index = list.findIndex(it => it.tag === src.tag && it.key === src.key && it.proxy === src.proxy);\n\n    if (index >= 0) {\n      const old = list[index];\n      const item = updateItem(renderer, mountOptions, src, old);\n      mountedMap.set(old, item);\n      newList.push(item);\n      list.splice(index, 1);\n    } else {\n      const item = createItem(renderer, mountOptions, src);\n      newList.push(item);\n    }\n  }\n\n  if (!mountedMap.size) {\n    return drawReplace(renderer, newList, list);\n  }\n\n  unmount(renderer, list);\n  tree = tree.filter(t => mountedMap.has(t));\n  const last = getLastNode(tree.map(t => mountedMap.get(t)).filter(Boolean));\n  const parentNode = renderer.getParent(last);\n\n  if (!parentNode) {\n    return newList;\n  }\n\n  let next = renderer.nextNode(last);\n\n  for (let i = newList.length - 1; i >= 0; i--) {\n    const item = newList[i];\n    const index = tree.findIndex(o => mountedMap.get(o) === item);\n\n    if (index >= 0) {\n      for (const it of tree.splice(index)) {\n        mountedMap.delete(it);\n      }\n    } else {\n      for (const it of getNodes(item)) {\n        renderer.insertNode(parentNode, it, next);\n      }\n    }\n\n    next = getFirstNode(item) || next;\n  }\n\n  return newList;\n}\n\nfunction updateAll(renderer, mountOptions, source, tree) {\n  if (source.length === 0) {\n    return drawReplace(renderer, createAll(renderer, mountOptions, []), tree);\n  }\n\n  let index = 0;\n  let length = Math.min(source.length, tree.length);\n  const list = [];\n\n  for (; index < length; index++) {\n    const src = source[index];\n\n    if (Array.isArray(src)) {\n      list.push(updateList(renderer, mountOptions, src, tree[index]));\n    } else {\n      list.push(updateItem(renderer, mountOptions, src, tree[index]));\n    }\n  }\n\n  length = Math.max(source.length, tree.length);\n\n  if (tree.length > index) {\n    for (; index < length; index++) {\n      unmount(renderer, tree[index]);\n    }\n  }\n\n  if (source.length > index) {\n    const last = getLastNode(list[list.length - 1]);\n    const parentNode = renderer.getParent(last);\n    const next = renderer.nextNode(last);\n\n    for (; index < length; index++) {\n      const src = source[index];\n      const item = Array.isArray(src) ? createList(renderer, mountOptions, src) : createItem(renderer, mountOptions, src);\n      list.push(item);\n\n      if (!parentNode) {\n        continue;\n      }\n\n      for (const it of getNodes(item)) {\n        renderer.insertNode(parentNode, it, next);\n      }\n    }\n  }\n\n  return list;\n}\n\nfunction draw(renderer, mountOptions, source, tree) {\n  if (!tree) {\n    return createAll(renderer, mountOptions, source);\n  }\n\n  return updateAll(renderer, mountOptions, source, tree);\n}\n\nlet completeList;\nfunction setCompleteList(list) {\n  completeList = list;\n}\nfunction complete(it) {\n  if (!completeList) {\n    it();\n  } else {\n    completeList.push(it);\n  }\n}\nclass BaseProxy {\n  constructor(renderer, originalTag, tag, attrs, parent, delivered) {\n    _defineProperty(this, \"tag\", void 0);\n\n    _defineProperty(this, \"attrs\", void 0);\n\n    _defineProperty(this, \"renderer\", void 0);\n\n    _defineProperty(this, \"labels\", void 0);\n\n    _defineProperty(this, \"parentProxy\", void 0);\n\n    _defineProperty(this, \"delivered\", void 0);\n\n    _defineProperty(this, \"created\", false);\n\n    _defineProperty(this, \"destroyed\", false);\n\n    _defineProperty(this, \"mounted\", false);\n\n    _defineProperty(this, \"unmounted\", false);\n\n    _defineProperty(this, \"tree\", []);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"componentRoot\", void 0);\n\n    _defineProperty(this, \"originalTag\", void 0);\n\n    _defineProperty(this, \"__executed_destroy\", false);\n\n    _defineProperty(this, \"__mountOptions\", null);\n\n    _defineProperty(this, \"__cancelDrawMonitor\", void 0);\n\n    _defineProperty(this, \"__executed_unmounted\", false);\n\n    this.originalTag = originalTag;\n    this.tag = tag;\n    this.renderer = renderer;\n    this.attrs = attrs;\n    this.parentProxy = parent;\n    this.delivered = delivered || (parent === null || parent === void 0 ? void 0 : parent.delivered) || Object.create(null);\n\n    if (!isProduction) {\n      defineProperty(this, 'tree', []);\n    }\n  }\n\n  update(attrs, children) {\n    this.attrs = attrs;\n\n    this._update(attrs, children);\n  }\n\n  destroy() {\n    if (this.__executed_destroy) {\n      return false;\n    }\n\n    this.__executed_destroy = true;\n    this.callHook('beforeDestroy');\n\n    this._destroy();\n\n    this.callHook('destroyed');\n    this.destroyed = true;\n    return true;\n  }\n\n  mount(mountOptions) {\n    if (this.__executed_destroy) {\n      return false;\n    }\n\n    if (!mountOptions) {\n      return false;\n    }\n\n    if (this.__mountOptions) {\n      return false;\n    }\n\n    this.__mountOptions = mountOptions;\n    this.callHook('beforeMount');\n    const result = exec$1(c => c && this.requestDraw(), () => {\n      const newMountOptions = this._mount(mountOptions);\n\n      this.__mountOptions = newMountOptions || mountOptions;\n      this.mounted = true;\n    });\n    this.__cancelDrawMonitor = result.stop;\n    complete(() => this.callHook('mounted'));\n    return true;\n  }\n\n  unmount() {\n    if (!this.mounted) {\n      return false;\n    }\n\n    if (this.__executed_unmounted) {\n      return false;\n    }\n\n    this.__executed_unmounted = true;\n    this.callHook('beforeUnmount');\n\n    this._unmount();\n\n    this.callHook('unmounted');\n    this.unmounted = true;\n    return true;\n  }\n\n  redraw() {\n    if (this.__executed_destroy) {\n      return;\n    }\n\n    if (!this.mounted) {\n      return;\n    }\n\n    const mountOptions = this.__mountOptions;\n\n    if (!mountOptions) {\n      return;\n    }\n\n    if (this.__cancelDrawMonitor) {\n      this.__cancelDrawMonitor();\n    }\n\n    this.callHook('beforeDraw');\n    const result = exec$1(c => c && this.requestDraw(), () => this._redraw(mountOptions));\n    this.__cancelDrawMonitor = result.stop;\n    complete(() => this.callHook('drawn'));\n  }\n\n}\n\nclass NodeProxy extends BaseProxy {\n  constructor(originalTag, tag, attrs, children, parent, delivered) {\n    super(parent.renderer, originalTag, tag, attrs, parent, delivered);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"componentRoot\", void 0);\n\n    this.container = parent.container;\n    this.componentRoot = parent.componentRoot;\n  }\n\n  requestDraw() {\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this.container.markDraw(this);\n  }\n\n  callHook(id) {}\n\n}\n\nlet delayedRefresh = 0;\nconst objectSet = new Set();\nfunction wait(obj) {\n  if (delayedRefresh <= 0) {\n    return false;\n  }\n\n  objectSet.add(obj);\n  return true;\n}\n\nfunction run() {\n  if (delayedRefresh > 0) {\n    return;\n  }\n\n  const list = [...objectSet];\n  objectSet.clear();\n  list.forEach(o => o.refresh());\n}\n\nasync function asyncRefresh(f) {\n  try {\n    delayedRefresh++;\n    return await f();\n  } finally {\n    delayedRefresh--;\n    run();\n  }\n}\n\nfunction delayRefresh(f, async) {\n  if (async) {\n    return asyncRefresh(f);\n  }\n\n  try {\n    delayedRefresh++;\n    return f();\n  } finally {\n    delayedRefresh--;\n    run();\n  }\n}\n\nconst destroyFns$1 = Object.create(null);\nlet nextId$1 = 0;\nfunction createWith({\n  name,\n  create = () => ({}),\n  destroy,\n  exec\n}) {\n  const id = nextId$1++;\n\n  if (typeof destroy === 'function') {\n    destroyFns$1[id] = destroy;\n  }\n\n  if (typeof exec === 'function') {\n    return (...p) => {\n      const current = checkCurrent(name);\n      const {\n        withData,\n        destroyed,\n        isSimple,\n        isShell\n      } = current;\n\n      if (!(id in withData)) {\n        withData[id] = create({\n          destroyed,\n          isSimple,\n          isShell\n        });\n      }\n\n      return exec(withData[id], {\n        destroyed,\n        isSimple,\n        isShell\n      }, ...p);\n    };\n  }\n\n  return () => {\n    const current = checkCurrent(name);\n    const {\n      withData\n    } = current;\n\n    if (!(id in withData)) {\n      const {\n        destroyed,\n        isSimple,\n        isShell\n      } = current;\n      withData[id] = create({\n        destroyed,\n        isSimple,\n        isShell\n      });\n    }\n\n    return withData[id];\n  };\n}\nfunction destroyContextData(contextData) {\n  const keys = Object.keys(contextData);\n\n  for (const id of keys) {\n    if (!(id in destroyFns$1)) {\n      continue;\n    }\n\n    const destroy = destroyFns$1[id];\n    destroy(contextData[id]);\n  }\n}\nfunction createBy(contextData) {\n  return function by(fn, ...p) {\n    return runCurrent(contextData, undefined, fn, ...p);\n  };\n}\n\nfunction getSlots(renderer, children, slots, native = false) {\n  const nativeList = [];\n\n  for (const it of children) {\n    if (Array.isArray(it)) {\n      const list = Object.create(null);\n      nativeList.push(getSlots(renderer, it, list, native));\n\n      for (const k of Reflect.ownKeys(list)) {\n        if (k in slots) {\n          slots[k].push(list[k]);\n        } else {\n          slots[k] = [list[k]];\n        }\n      }\n\n      continue;\n    }\n\n    if (isElement(it) && it.slot === undefined) {\n      if (isSimpleComponent(it.tag) && it.execed || it.tag === Template) {\n        const list = Object.create(null);\n        nativeList.push(getSlots(renderer, it.children, list, native));\n\n        for (const k of Reflect.ownKeys(list)) {\n          const node = { ...it,\n            children: list[k]\n          };\n\n          if (k in slots) {\n            slots[k].push(node);\n          } else {\n            slots[k] = [node];\n          }\n        }\n\n        continue;\n      }\n    }\n\n    if (native) {\n      if (renderer.isNode(it)) {\n        nativeList.push(it);\n        continue;\n      }\n\n      if (!isElement(it)) {\n        nativeList.push(it);\n        continue;\n      }\n\n      if (it.tag !== Render && it.tag !== Template) {\n        nativeList.push(it);\n        continue;\n      }\n    }\n\n    const slot = isElement(it) && it.slot || 'default';\n    const el = isElement(it) ? { ...it,\n      slot: undefined,\n      props: { ...it.props,\n        'n:slot': undefined\n      }\n    } : it;\n\n    if (slot in slots) {\n      slots[slot].push(el);\n    } else {\n      slots[slot] = [el];\n    }\n  }\n\n  return nativeList;\n}\nfunction setSlot(slots, name, list) {\n  Reflect.defineProperty(slots, name, {\n    get() {\n      markRead(slots, name);\n      return list;\n    },\n\n    enumerable: true,\n    configurable: true\n  });\n  markChange(slots, name);\n  return list;\n}\nfunction setSlots(children, slots, oldChildren) {\n  if (!slots) {\n    const slots = Object.create(null);\n\n    for (const k of Reflect.ownKeys(children)) {\n      slots[k] = children[k];\n    }\n\n    return slots;\n  }\n\n  for (const name of Reflect.ownKeys(slots)) {\n    if (name in children) {\n      continue;\n    }\n\n    setSlot(slots, name);\n  }\n\n  if (!oldChildren) {\n    for (const name of Reflect.ownKeys(children)) {\n      const list = children[name];\n      setSlot(slots, name, list);\n    }\n\n    return slots;\n  }\n\n  for (const name of Reflect.ownKeys(children)) {\n    const list = children[name];\n\n    if (equal(list, oldChildren[name])) {\n      continue;\n    }\n\n    setSlot(slots, name, list);\n  }\n\n  return slots;\n}\nfunction renderSlot(list, argv) {\n  return list.map(it => {\n    if (Array.isArray(it)) {\n      return renderSlot(it, argv);\n    }\n\n    if (!isElement(it)) {\n      return it;\n    }\n\n    if (it.tag !== Render) {\n      return { ...it,\n        slot: undefined\n      };\n    }\n\n    const {\n      children\n    } = it;\n\n    if ((children === null || children === void 0 ? void 0 : children.length) !== 1) {\n      return children;\n    }\n\n    const [render] = children;\n\n    if (isValue(render) || typeof render !== 'function') {\n      return children;\n    }\n\n    return render(argv);\n  });\n}\n\nfunction getSlot(slots, name, isSimple) {\n  return isSimple || name in slots ? slots[name] : setSlot(slots, name);\n}\n\nfunction createSlotApi(slots, isSimple = false) {\n  function slotApi(name = 'default', argv = {}) {\n    const list = getSlot(slots, name, isSimple);\n    return {\n      [objectTypeSymbol]: objectTypeSymbolElement,\n      tag: ScopeSlot,\n      children: list ? renderSlot(list, argv) : [],\n      inserted: true,\n      slot: name,\n      isDefault: !list\n    };\n  }\n\n  slotApi.has = (name = 'default') => Boolean(getSlot(slots, name, isSimple));\n\n  return slotApi;\n}\n\nfunction createEmit(emitter, omitNames = []) {\n  const emit = (name, p, options) => delayRefresh(() => {\n    const cancelable = Boolean(options === null || options === void 0 ? void 0 : options.cancelable);\n    const {\n      target\n    } = emitter;\n    let defaultPrevented = true;\n    const eventInfo = {\n      get target() {\n        return target;\n      },\n\n      get cancelable() {\n        return cancelable;\n      },\n\n      get defaultPrevented() {\n        return defaultPrevented;\n      },\n\n      get prevented() {\n        return defaultPrevented;\n      },\n\n      preventDefault() {\n        defaultPrevented = false;\n      },\n\n      prevent() {\n        defaultPrevented = false;\n      }\n\n    };\n    const events = emitter.events[name];\n\n    if (!events) {\n      return defaultPrevented;\n    }\n\n    for (const event of events) {\n      event(p, eventInfo);\n    }\n\n    return defaultPrevented;\n  });\n\n  emit.omit = (...names) => createEmit(emitter, [...omitNames, ...names]);\n\n  Reflect.defineProperty(emit, 'names', {\n    get: () => {\n      markRead(createEmit, 'names');\n      return [...emitter.names].filter(t => !omitNames.includes(t));\n    },\n    configurable: true\n  });\n  return emit;\n}\n\nclass EventEmitter {\n  get names() {\n    markRead(this, 'names');\n    return [...this._names];\n  }\n\n  constructor() {\n    _defineProperty(this, \"_names\", new Set());\n\n    _defineProperty(this, \"events\", Object.create(null));\n\n    _defineProperty(this, \"emit\", createEmit(this));\n\n    _defineProperty(this, \"on\", void 0);\n\n    _defineProperty(this, \"target\", void 0);\n\n    _defineProperty(this, \"__propsEvents\", Object.create(null));\n\n    _defineProperty(this, \"__eventMap\", Object.create(null));\n\n    _defineProperty(this, \"__propsEmitEvents\", Object.create(null));\n\n    _defineProperty(this, \"__propsEmitEvent\", void 0);\n\n    const names = this._names;\n    const eventSet = this.events;\n\n    const on = (name, listener) => {\n      var _event;\n\n      function fn(p, event) {\n        try {\n          listener(p, event);\n        } catch (e) {\n          printError$1(e);\n        }\n      }\n\n      let event = eventSet[name];\n\n      if (!((_event = event) === null || _event === void 0 ? void 0 : _event.size)) {\n        event = new Set();\n        event.add(fn);\n        eventSet[name] = event;\n        names.add(name);\n        markChange(this, 'names');\n      } else {\n        event.add(fn);\n      }\n\n      let removed = false;\n      return () => {\n        if (removed) {\n          return;\n        }\n\n        removed = true;\n\n        if (!event) {\n          return;\n        }\n\n        event.delete(fn);\n\n        if (event.size) {\n          return;\n        }\n\n        names.delete(name);\n        markChange(this, 'names');\n      };\n    };\n\n    this.on = on;\n  }\n\n  updateInProps(props) {\n    const oldPropsEvents = this.__propsEvents;\n    const oldEventNames = new Set(Object.keys(oldPropsEvents));\n\n    for (const [entName, fn] of getEvents(props)) {\n      if (oldEventNames.has(entName)) {\n        oldEventNames.delete(entName);\n        const [olfFn, cl] = oldPropsEvents[entName] || [];\n\n        if (olfFn === fn) {\n          continue;\n        }\n\n        if (cl) {\n          cl();\n        }\n      }\n\n      oldPropsEvents[entName] = [fn, this.on(entName, fn)];\n    }\n\n    for (const entName of oldEventNames) {\n      const e = oldPropsEvents[entName];\n\n      if (!e) {\n        continue;\n      }\n\n      e[1]();\n      delete oldPropsEvents[entName];\n    }\n\n    const eventMap = this.__eventMap;\n    const oldEventMapNames = new Set(Object.keys(eventMap));\n\n    for (const [entName, fn] of getEventsMap(props)) {\n      if (oldEventMapNames.has(entName)) {\n        oldEventMapNames.delete(entName);\n        const [olfFn, cl] = eventMap[entName] || [];\n\n        if (olfFn === fn) {\n          continue;\n        }\n\n        if (cl) {\n          cl();\n        }\n      }\n\n      eventMap[entName] = [fn, this.on(entName, fn)];\n    }\n\n    for (const entName of oldEventMapNames) {\n      const e = eventMap[entName];\n\n      if (!e) {\n        continue;\n      }\n\n      e[1]();\n      delete eventMap[entName];\n    }\n\n    const oldEmitEvents = this.__propsEmitEvents;\n    const eventsFn = getEmitFn(props);\n\n    if (eventsFn !== this.__propsEmitEvent) {\n      this.__propsEmitEvent = eventsFn;\n\n      for (const entName of [...Object.keys(oldEmitEvents)]) {\n        const e = oldEmitEvents[entName];\n\n        if (!e) {\n          continue;\n        }\n\n        e();\n        delete oldEmitEvents[entName];\n      }\n\n      if (!eventsFn) {\n        return;\n      }\n\n      const {\n        names\n      } = eventsFn;\n\n      if (!Array.isArray(names)) {\n        return;\n      }\n\n      for (const n of names) {\n        oldEmitEvents[n] = this.on(n, p => eventsFn(n, p));\n      }\n\n      return;\n    }\n\n    if (!eventsFn) {\n      return;\n    }\n\n    const oldNames = new Set(Object.keys(oldEmitEvents));\n    const names = eventsFn.names || [];\n\n    for (const n of names) {\n      if (!n) {\n        continue;\n      }\n\n      oldNames.delete(n);\n\n      if (oldNames.has(n)) {\n        continue;\n      }\n\n      oldEmitEvents[n] = this.on(n, p => eventsFn(n, p));\n    }\n\n    for (const entName of oldNames) {\n      const e = oldEmitEvents[entName];\n\n      if (!e) {\n        continue;\n      }\n\n      e();\n      delete oldEmitEvents[entName];\n    }\n  }\n\n}\n\nfunction* getEvents(p) {\n  if (!p) {\n    return;\n  }\n\n  for (const k of Object.keys(p)) {\n    const fn = p[k];\n\n    if (typeof fn !== 'function') {\n      continue;\n    }\n\n    if (k.substr(0, 3) !== 'on:') {\n      continue;\n    }\n\n    const entName = k.substr(3);\n\n    if (!entName) {\n      continue;\n    }\n\n    yield [entName, fn];\n  }\n}\n\nfunction* getEventsMap(p) {\n  if (!p) {\n    return;\n  }\n\n  const events = p['n:on'];\n\n  if (!events) {\n    return;\n  }\n\n  if (typeof events === 'object') {\n    return;\n  }\n\n  for (const k of Object.keys(p)) {\n    const fn = p[k];\n\n    if (typeof fn !== 'function') {\n      continue;\n    }\n\n    yield [k, fn];\n  }\n}\n\nfunction getEmitFn(p) {\n  if (!p) {\n    return;\n  }\n\n  let eventsFn = p === null || p === void 0 ? void 0 : p['n:on'];\n\n  if (typeof eventsFn !== 'function') {\n    return;\n  }\n\n  return eventsFn;\n}\n\nfunction createSimpleEmit(props) {\n  const event = new EventEmitter();\n  event.updateInProps(props);\n  return event.emit;\n}\n\nfunction getComponents(...components) {\n  return components.filter(Boolean);\n}\n\nfunction getNodeArray(result) {\n  if (Array.isArray(result)) {\n    return result;\n  }\n\n  if (!isElement(result)) {\n    return [result];\n  }\n\n  if (result.tag !== Fragment) {\n    return [result];\n  }\n\n  return result.children;\n}\n\nconst components = Object.create(null);\nfunction register(name, component) {\n  components[name] = component;\n}\n\nfunction findComponent(tag, components$1, native) {\n  if (!tag) {\n    return null;\n  }\n\n  if (typeof tag !== 'string') {\n    return tag;\n  }\n\n  if (/^core:/i.test(tag)) {\n    let ltag = tag.toLowerCase();\n\n    if (ltag === Container) {\n      return ltag;\n    }\n\n    if (ltag === ScopeSlot) {\n      return ltag;\n    }\n\n    if (ltag === Render) {\n      return ltag;\n    }\n\n    if (ltag === Slot) {\n      return native ? 'slot' : ScopeSlot;\n    }\n\n    return Fragment;\n  }\n\n  if (tag === Fragment) {\n    return tag;\n  }\n\n  if (tag === 'slot') {\n    return tag;\n  }\n\n  for (const list of components$1) {\n    const component = list[tag];\n\n    if (component) {\n      return component;\n    }\n  }\n\n  return components[tag] || tag;\n}\n\nfunction getChildren(children, args) {\n  if (children.length !== 1) {\n    return children;\n  }\n\n  const [fn] = children;\n\n  if (typeof fn !== 'function') {\n    return children;\n  }\n\n  return getNodeArray(fn(args));\n}\n\nfunction createSimpleSlots(normalizeAuxiliaryObject, children) {\n  const slotMap = Object.create(null);\n  getSlots(normalizeAuxiliaryObject.renderer, children, slotMap);\n  return setSlots(slotMap);\n}\n\nfunction createSimpleContextData(normalizeAuxiliaryObject) {\n  return {\n    isShell: false,\n    isSimple: true,\n    created: false,\n    destroyed: true,\n    delivered: normalizeAuxiliaryObject.delivered,\n    withData: {},\n    refresh: normalizeAuxiliaryObject.refresh,\n    parent: normalizeAuxiliaryObject.simpleParent,\n    getChildren: () => []\n  };\n}\n\nfunction execSimple(normalizeAuxiliaryObject, node, tag, components, children) {\n  const slots = createSimpleSlots(normalizeAuxiliaryObject, children);\n  const contextData = createSimpleContextData(normalizeAuxiliaryObject);\n  const result = runCurrent(contextData, undefined, tag, { ...node.props\n  }, {\n    by: createBy(contextData),\n    slot: createSlotApi(slots, true),\n    childNodes: () => children,\n    emit: createSimpleEmit(node.props)\n  });\n  const nodes = init(normalizeAuxiliaryObject, getNodeArray(result), slots, getComponents(...components, tag[componentsSymbol]), false, true);\n  return { ...node,\n    tag,\n    execed: true,\n    children: Array.isArray(nodes) ? nodes : [nodes]\n  };\n}\n\nfunction getSlotRenderFn(normalizeAuxiliaryObject, children, slots, components, native) {\n  if (children.length !== 1) {\n    return null;\n  }\n\n  const [renderFn] = children;\n\n  if (isValue(renderFn) || typeof renderFn !== 'function') {\n    return null;\n  }\n\n  const {\n    slotRenderFnList\n  } = normalizeAuxiliaryObject;\n  const fn = slotRenderFnList.get(renderFn);\n\n  if (fn) {\n    return fn;\n  }\n\n  const newFn = function (...p) {\n    return init(normalizeAuxiliaryObject, renderFn.call(this, ...p), slots, components, native, false);\n  };\n\n  slotRenderFnList.set(renderFn, newFn);\n  return newFn;\n}\n\nfunction exec(node, normalizeAuxiliaryObject, slots, components, native, simpleSlot) {\n  var _node$props;\n\n  if (Array.isArray(node)) {\n    return node.map(n => exec(n, normalizeAuxiliaryObject, slots, components, native, simpleSlot));\n  }\n\n  if (!isElement(node)) {\n    return node;\n  }\n\n  if (node.tag === ScopeSlot && node.inserted) {\n    return node;\n  }\n\n  const {\n    children\n  } = node;\n  const tag = findComponent(node.tag, components, native);\n\n  if (isSimpleComponent(tag)) {\n    if (node.execed) {\n      return node;\n    }\n\n    return execSimple(normalizeAuxiliaryObject, node, tag, components, children.map(n => exec(n, normalizeAuxiliaryObject, slots, components, native, simpleSlot)));\n  }\n\n  if (tag === Render) {\n    const slotRenderFn = getSlotRenderFn(normalizeAuxiliaryObject, children, slots, components, native);\n\n    if (slotRenderFn) {\n      return { ...node,\n        children: [slotRenderFn]\n      };\n    }\n  }\n\n  if (tag !== ScopeSlot) {\n    return { ...node,\n      tag,\n      children: children.map(n => exec(n, normalizeAuxiliaryObject, slots, components, native, simpleSlot))\n    };\n  }\n\n  const {\n    props\n  } = node;\n  const args = (props === null || props === void 0 ? void 0 : props.argv) || {};\n  const slotName = ((_node$props = node.props) === null || _node$props === void 0 ? void 0 : _node$props.name) || 'default';\n  const slot = simpleSlot || slotName in slots ? slots[slotName] : setSlot(slots, slotName);\n  const el = {\n    [objectTypeSymbol]: objectTypeSymbolElement,\n    props,\n    key: node.key,\n    tag: ScopeSlot,\n    inserted: true,\n    slot: slotName,\n    isDefault: !slot,\n    children: slot ? renderSlot(slot, args) : getChildren(children, args).map(n => exec(n, normalizeAuxiliaryObject, slots, components, native, simpleSlot))\n  };\n  return el;\n}\n\nfunction init(normalizeAuxiliaryObject, node, slots, components, native, simpleSlot) {\n  return delayRefresh(() => postpone(() => exec(node, normalizeAuxiliaryObject, slots, components, native, simpleSlot)));\n}\nfunction normalize(proxy, slotRenderFnList, refresh, result, components = proxy.tag[componentsSymbol] || null) {\n  return init({\n    renderer: proxy.renderer,\n    refresh,\n    slotRenderFnList,\n    delivered: proxy.delivered,\n    simpleParent: proxy.entity\n  }, getNodeArray(result), proxy.slots, getComponents(components), Boolean(proxy.isNative), false);\n}\n\nfunction getText(value) {\n  if (value === undefined || value === null) {\n    return null;\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (value instanceof RegExp) {\n    return String(value);\n  }\n\n  return String(value);\n}\n\nfunction getNodeArray$1(result) {\n  if (!isElement(result)) {\n    return [result];\n  }\n\n  if (result.tag !== Fragment) {\n    return [result];\n  }\n\n  return result.children;\n}\n\nclass ValueProxy extends NodeProxy {\n  get content() {\n    return this.tree;\n  }\n\n  set value(v) {\n    const k = v !== this.__value;\n    this.__value = v;\n\n    if (k) {\n      markChange(this, 'value');\n    }\n  }\n\n  get value() {\n    markRead(this, 'value');\n    let v = this.__value;\n\n    while (isValue(v)) {\n      v = v();\n    }\n\n    return v;\n  }\n\n  constructor(attrs, parent) {\n    super(null, null, attrs, [], parent);\n\n    _defineProperty(this, \"__value\", void 0);\n\n    _defineProperty(this, \"text\", void 0);\n\n    _defineProperty(this, \"isValue\", void 0);\n\n    _defineProperty(this, \"__nodes\", void 0);\n\n    _defineProperty(this, \"src\", void 0);\n\n    _defineProperty(this, \"__render\", void 0);\n\n    _defineProperty(this, \"__refreshing\", false);\n\n    _defineProperty(this, \"__needRefresh\", false);\n\n    const {\n      value\n    } = attrs;\n    this.__value = value;\n\n    if (!isProduction) {\n      defineProperty(this, 'text', undefined);\n      defineProperty(this, 'isValue', isValue(value));\n    }\n\n    const slots = Object.create(null);\n    const normalizeAuxiliaryObject = {\n      renderer: this.renderer,\n      refresh: () => this.refresh(),\n      slotRenderFnList: new WeakMap(),\n      delivered: this.delivered,\n      simpleParent: undefined\n    };\n    this.__render = monitor(changed => changed && this.refresh(), () => {\n      let {\n        value\n      } = this;\n\n      if (isElement(value) || Array.isArray(value)) {\n        this.__nodes = convert(this, init(normalizeAuxiliaryObject, getNodeArray$1(value), slots, [], false, false), this.__nodes);\n        return true;\n      }\n\n      if (this.__nodes) {\n        destroy(this.__nodes);\n        this.__nodes = undefined;\n      } else if (this.src === value) {\n        return false;\n      }\n\n      this.src = value;\n      return true;\n    });\n    this.created = true;\n    this.refresh();\n  }\n\n  refresh() {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.__needRefresh = true;\n\n    if (!this.created) {\n      return;\n    }\n\n    if (this.__refreshing) {\n      return;\n    }\n\n    this.__refreshing = true;\n    let needDraw = false;\n\n    while (this.__needRefresh && !wait(this)) {\n      this.__needRefresh = false;\n      needDraw = this.__render() || needDraw;\n\n      if (this.destroyed) {\n        return;\n      }\n    }\n\n    this.__refreshing = false;\n\n    if (!needDraw) {\n      return;\n    }\n\n    if (wait(this)) {\n      return;\n    }\n\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    if (this.unmounted) {\n      return;\n    }\n\n    this.requestDraw();\n  }\n\n  _update({\n    value\n  }) {\n    this.value = value;\n\n    if (!isProduction) {\n      this.isValue = isValue(value);\n    }\n  }\n\n  _destroy() {\n    this.__render.stop();\n\n    const {\n      __nodes\n    } = this;\n\n    if (!__nodes) {\n      return;\n    }\n\n    destroy(__nodes);\n  }\n\n  _mount(mountOptions) {\n    const {\n      renderer,\n      __nodes,\n      src\n    } = this;\n\n    if (__nodes) {\n      this.tree = draw(renderer, mountOptions, __nodes);\n      return;\n    }\n\n    if (renderer.isNode(src)) {\n      this.tree = [createMountedNode({\n        node: src\n      })];\n      return;\n    }\n\n    const text = getText(src);\n\n    if (!isProduction) {\n      this.text = text;\n    }\n\n    const node = typeof text === 'string' ? createMountedNode({\n      node: renderer.createText(text)\n    }) : drawPlaceholder(renderer);\n    this.tree = [node];\n  }\n\n  _redraw(mountOptions) {\n    const {\n      renderer,\n      __nodes,\n      src\n    } = this;\n\n    if (__nodes) {\n      this.tree = draw(renderer, mountOptions, __nodes, this.tree);\n      return;\n    }\n\n    if (renderer.isNode(src)) {\n      this.tree = [createMountedNode({\n        node: src\n      })];\n\n      if (!isProduction) {\n        this.text = undefined;\n      }\n\n      return;\n    }\n\n    const text = getText(src);\n\n    if (!isProduction) {\n      this.text = text;\n    }\n\n    const node = typeof text === 'string' ? createMountedNode({\n      node: renderer.createText(text)\n    }) : drawPlaceholder(renderer);\n    this.tree = drawReplace(renderer, [node], this.tree);\n  }\n\n  _unmount() {\n    const {\n      renderer,\n      tree\n    } = this;\n    unmount(renderer, tree);\n  }\n\n}\n\nclass DeliverProxy extends NodeProxy {\n  get content() {\n    return this.tree;\n  }\n\n  constructor(originalTag, tag, props, children, parent) {\n    super(originalTag, tag, props, children, parent, Object.create(parent.delivered));\n\n    _defineProperty(this, \"__valueObject\", void 0);\n\n    _defineProperty(this, \"__nodes\", void 0);\n\n    const {\n      value\n    } = props;\n    this.__valueObject = value;\n    Reflect.defineProperty(this.delivered, tag[deliverKeySymbol], {\n      configurable: true,\n      enumerable: true,\n      get: () => {\n        markRead(this, 'value');\n        return this.__valueObject;\n      }\n    });\n    this.__nodes = convert(this, children);\n    this.created = true;\n  }\n\n  _update({\n    value\n  }, children) {\n    if (this.__valueObject !== value) {\n      this.__valueObject = value;\n      markChange(this, 'value');\n    }\n\n    this.__nodes = convert(this, children, this.__nodes);\n    this.requestDraw();\n  }\n\n  _destroy() {\n    destroy(this.__nodes);\n  }\n\n  _mount(mountOptions) {\n    this.tree = draw(this.renderer, mountOptions, this.__nodes);\n  }\n\n  _redraw(mountOptions) {\n    const {\n      renderer,\n      __nodes,\n      tree\n    } = this;\n    this.tree = draw(renderer, mountOptions, __nodes, tree);\n  }\n\n  _unmount() {\n    unmount(this.renderer, this.tree);\n  }\n\n}\n\nclass GroupProxy extends NodeProxy {\n  get content() {\n    return this.tree;\n  }\n\n  constructor(tag, children, parent) {\n    super(tag, tag, {}, children, parent);\n\n    _defineProperty(this, \"__nodes\", void 0);\n\n    this.__nodes = convert(this, children);\n  }\n\n  _update(props, children) {\n    this.__nodes = convert(this, children, this.__nodes);\n    this.requestDraw();\n  }\n\n  _destroy() {\n    destroy(this.__nodes);\n  }\n\n  _mount(mountOptions) {\n    this.tree = draw(this.renderer, mountOptions, this.__nodes);\n  }\n\n  _redraw(mountOptions) {\n    this.tree = draw(this.renderer, mountOptions, this.__nodes, this.tree);\n  }\n\n  _unmount() {\n    unmount(this.renderer, this.tree);\n  }\n\n}\n\nfunction updateData(props, data) {\n  const oldKeys = new Set(Object.keys(data));\n\n  for (const k in props) {\n    if (k.substr(0, 5) !== 'data:') {\n      continue;\n    }\n\n    const key = k.substr(5);\n\n    if (!key) {\n      continue;\n    }\n\n    oldKeys.delete(key);\n    data[key] = props[key];\n  }\n\n  const dataset = props['n:data'];\n\n  if (dataset && typeof dataset === 'object') {\n    for (const key in dataset) {\n      if (!key) {\n        continue;\n      }\n\n      oldKeys.delete(key);\n      data[key] = dataset[key];\n    }\n  }\n\n  for (const key of oldKeys) {\n    delete data[key];\n  }\n}\n\nclass RefProxy extends BaseProxy {\n  get exposed() {\n    return this.__exposed;\n  }\n\n  setExposed(t) {\n    if (this.destroyed) {\n      return;\n    }\n\n    const ref = this.__ref;\n\n    if (typeof ref !== 'function') {\n      this.__exposed = t;\n      return;\n    }\n\n    const old = this.__exposed;\n    this.__exposed = t;\n    ref(t, old, this.entity);\n  }\n\n  constructor(renderer, originalTag, tag, attrs, parent, delivered) {\n    super(renderer, originalTag, tag, attrs, parent, delivered);\n\n    _defineProperty(this, \"__exposed\", void 0);\n\n    _defineProperty(this, \"__ref\", void 0);\n\n    _defineProperty(this, \"events\", void 0);\n\n    _defineProperty(this, \"entity\", void 0);\n\n    _defineProperty(this, \"data\", Object.create(null));\n\n    updateData(attrs, this.data);\n    const events = new EventEmitter();\n    const entity = this.createEntity(events);\n    events.target = entity;\n    this.entity = entity;\n    this.events = events;\n    const ref = attrs['n:ref'];\n\n    if (typeof ref === 'function') {\n      this.__ref = ref;\n      ref(undefined, undefined, entity, true);\n    }\n  }\n\n  update(attrs, children) {\n    updateData(attrs, this.data);\n    const ref = attrs['n:ref'];\n    const oldRef = this.__ref;\n\n    if (ref !== oldRef) {\n      if (typeof ref === 'function') {\n        ref(this.__exposed);\n      } else if (oldRef) {\n        this.__ref = undefined;\n      }\n    }\n\n    super.update(attrs, children);\n  }\n\n  destroy() {\n    if (!super.destroy()) {\n      return false;\n    }\n\n    const ref = this.__ref;\n\n    if (typeof ref !== 'function') {\n      return true;\n    }\n\n    ref(undefined, this.__exposed, this.entity, false);\n    return true;\n  }\n\n}\n\nclass ElementProxy extends RefProxy {\n  constructor(originalTag, tag, props, children, parent) {\n    super(parent.renderer, originalTag, tag, props, parent);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"componentRoot\", void 0);\n\n    _defineProperty(this, \"props\", void 0);\n\n    _defineProperty(this, \"__nodes\", void 0);\n\n    _defineProperty(this, \"node\", void 0);\n\n    _defineProperty(this, \"content\", []);\n\n    _defineProperty(this, \"__elementTagData\", void 0);\n\n    this.container = parent.container;\n    this.componentRoot = parent.componentRoot;\n\n    if (!isProduction) {\n      defineProperty(this, 'content', []);\n    }\n\n    this.props = props;\n    this.events.updateInProps(props);\n    this.__nodes = convert(this, children);\n\n    if (typeof tag === 'string') {\n      this.__elementTagData = tag;\n    } else {\n      this.__elementTagData = tag[componentValueSymbol];\n    }\n  }\n\n  requestDraw() {\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this.container.markDraw(this);\n  }\n\n  callHook(id) {}\n\n  createEntity(events) {\n    const cfg = {\n      data: {\n        configurable: true,\n        value: this.data\n      },\n      exposed: {\n        configurable: true,\n        get: () => this.exposed\n      },\n      on: {\n        configurable: true,\n        value: events.on\n      },\n      emit: {\n        configurable: true,\n        value: events.emit\n      }\n    };\n    const entity = Object.create(null, cfg);\n    return entity;\n  }\n\n  _update(props, children) {\n    this.props = props;\n    this.events.updateInProps(props);\n    this.__nodes = convert(this, children, this.__nodes);\n    this.requestDraw();\n  }\n\n  _destroy() {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.destroyed = true;\n    destroy(this.__nodes);\n  }\n\n  _mount(mountOptions) {\n    if (this.node) {\n      return;\n    }\n\n    const {\n      renderer,\n      __elementTagData: tag,\n      props,\n      __nodes\n    } = this;\n    const node = renderer.createElement(tag, props, mountOptions);\n\n    if (!node) {\n      return;\n    }\n\n    this.node = node;\n    this.setExposed(node);\n    const subMountOptions = renderer.getMountOptions(node, mountOptions) || mountOptions;\n\n    if (__nodes) {\n      const content = draw(renderer, subMountOptions, __nodes);\n      this.content = content;\n\n      for (const it of getNodes(content)) {\n        renderer.insertNode(node, it);\n      }\n    }\n\n    this.tree = [createMountedNode({\n      node\n    })];\n    renderer.updateProps(node, tag, props, this.events.emit, subMountOptions);\n    return subMountOptions;\n  }\n\n  _redrawChildren(mountOptions) {\n    const {\n      renderer,\n      __nodes,\n      content,\n      node\n    } = this;\n\n    if (!node) {\n      return;\n    }\n\n    if (!__nodes.length && content.length) {\n      unmount(renderer, content);\n      this.content = [];\n    } else if (__nodes.length && content.length) {\n      this.content = draw(renderer, mountOptions, __nodes, content);\n    } else if (__nodes.length && !content.length) {\n      const newTree = draw(renderer, mountOptions, __nodes);\n      this.content = newTree;\n\n      for (const it of getNodes(newTree)) {\n        renderer.insertNode(node, it);\n      }\n    }\n  }\n\n  _redraw(mountOptions) {\n    this._redrawChildren(mountOptions);\n\n    const {\n      renderer,\n      __elementTagData: tag,\n      node,\n      props\n    } = this;\n\n    if (!node) {\n      return;\n    }\n\n    renderer.updateProps(node, tag, props || {}, this.events.emit, mountOptions);\n  }\n\n  _unmount() {\n    const {\n      renderer,\n      tree,\n      node\n    } = this;\n\n    if (!node) {\n      return;\n    }\n\n    renderer.removeNode(node);\n    unmount(renderer, tree);\n  }\n\n}\n\nfunction createInfo(obj) {\n  const cfg = {\n    created: {\n      configurable: true,\n      get: () => obj.created\n    },\n    destroyed: {\n      configurable: true,\n      get: () => obj.destroyed\n    },\n    mounted: {\n      configurable: true,\n      get: () => obj.mounted\n    },\n    unmounted: {\n      configurable: true,\n      get: () => obj.unmounted\n    }\n  };\n  return Object.create(null, cfg);\n}\n\nclass CustomComponentProxy extends RefProxy {\n  constructor(originalTag, tag, attrs, parent, isShell) {\n    var _parent$componentRoot;\n\n    super(parent.renderer, originalTag, tag, attrs, parent);\n\n    _defineProperty(this, \"contextData\", void 0);\n\n    _defineProperty(this, \"parentComponentProxy\", void 0);\n\n    _defineProperty(this, \"children\", new Set());\n\n    _defineProperty(this, \"__refreshing\", false);\n\n    _defineProperty(this, \"__needRefresh\", false);\n\n    _defineProperty(this, \"__delayedRefresh\", 0);\n\n    _defineProperty(this, \"_nodes\", []);\n\n    const _this = this;\n\n    this.parentComponentProxy = parent.componentRoot;\n    const parentEntity = (_parent$componentRoot = parent.componentRoot) === null || _parent$componentRoot === void 0 ? void 0 : _parent$componentRoot.entity;\n    this.contextData = {\n      isShell,\n      isSimple: false,\n\n      get created() {\n        return _this.created;\n      },\n\n      get destroyed() {\n        return _this.destroyed;\n      },\n\n      delivered: this.delivered,\n      withData: {},\n      info: isShell ? undefined : createInfo(this),\n      hooks: isShell ? undefined : {},\n      useData: isShell ? undefined : [],\n      refresh: this.refresh.bind(this),\n      parent: parentEntity,\n      getChildren: () => [...this.children].map(t => t.exposed)\n    };\n  }\n\n  get needRefresh() {\n    return this.__needRefresh;\n  }\n\n  refresh(f) {\n    if (typeof f === 'function') {\n      try {\n        this.__delayedRefresh++;\n        return f();\n      } finally {\n        this.__delayedRefresh--;\n\n        if (this.__delayedRefresh <= 0) {\n          this.refresh();\n        }\n      }\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this.__needRefresh = true;\n\n    if (!this.created) {\n      return;\n    }\n\n    if (this.__refreshing) {\n      return;\n    }\n\n    this.__refreshing = true;\n    let nodes;\n\n    for (;;) {\n      if (wait(this)) {\n        break;\n      }\n\n      if (this.__delayedRefresh) {\n        break;\n      }\n\n      if (!this.__needRefresh) {\n        break;\n      }\n\n      this.__needRefresh = false;\n      nodes = this._render();\n\n      if (this.destroyed) {\n        return;\n      }\n    }\n\n    this.__refreshing = false;\n\n    if (this.destroyed) {\n      return;\n    }\n\n    if (this.__delayedRefresh) {\n      return;\n    }\n\n    if (!nodes) {\n      return;\n    }\n\n    if (wait(this)) {\n      return;\n    }\n\n    this._nodes = convert(this, nodes, this._nodes);\n\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.unmounted) {\n      return;\n    }\n\n    this.requestDraw();\n  }\n\n  _destroy() {\n    this._stopRender();\n\n    const {\n      contextData\n    } = this;\n    destroyContextData(contextData.withData);\n    destroyUseData(contextData.useData);\n    destroy(this._nodes);\n  }\n\n}\n\nfunction getNodeArray$2(result) {\n  if (Array.isArray(result)) {\n    return result;\n  }\n\n  if (!isElement(result)) {\n    return [result];\n  }\n\n  if (result.tag !== Fragment) {\n    return [result];\n  }\n\n  return result.children;\n}\n\nclass ShellProxy extends CustomComponentProxy {\n  get content() {\n    return this.tree;\n  }\n\n  requestDraw() {\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this.container.markDraw(this);\n  }\n\n  callHook(id) {}\n\n  createEntity(events) {\n    const cfg = {\n      data: {\n        configurable: true,\n        value: this.data\n      },\n      exposed: {\n        configurable: true,\n        value: undefined\n      },\n      on: {\n        configurable: true,\n        value: events.on\n      },\n      emit: {\n        configurable: true,\n        value: events.emit\n      }\n    };\n    const entity = Object.create(null, cfg);\n    return entity;\n  }\n\n  constructor(originalTag, tag, props, children, parent) {\n    super(originalTag, tag, props, parent, true);\n\n    _defineProperty(this, \"props\", void 0);\n\n    _defineProperty(this, \"childNodes\", void 0);\n\n    _defineProperty(this, \"src\", void 0);\n\n    _defineProperty(this, \"slots\", Object.create(null));\n\n    _defineProperty(this, \"lastSlots\", void 0);\n\n    _defineProperty(this, \"_render\", void 0);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"componentRoot\", void 0);\n\n    _defineProperty(this, \"_stopRender\", void 0);\n\n    this.container = parent.container;\n    this.componentRoot = parent.componentRoot;\n    this.props = props;\n    this.childNodes = children;\n    const {\n      slots\n    } = this;\n    const {\n      delivered\n    } = this;\n\n    const refresh = f => {\n      this.refresh(f);\n    };\n\n    const event = this.events;\n    const {\n      contextData\n    } = this;\n    const context = {\n      by: createBy(this.contextData),\n      slot: createSlotApi(slots),\n      childNodes: () => this.childNodes,\n      emit: event.emit\n    };\n    const normalizeAuxiliaryObject = {\n      renderer: this.renderer,\n      refresh,\n      slotRenderFnList: new WeakMap(),\n      delivered,\n      simpleParent: undefined\n    };\n    const render = monitor(changed => changed && this.refresh(), () => {\n      const props = { ...this.props\n      };\n      event.updateInProps(props);\n      const result = isProduction ? tag(props, context) : isProduction ? runCurrent(contextData, undefined, tag, props, context) : runCurrentWithLabel(contextData, undefined, l => this.labels = l, tag, props, context);\n      return init(normalizeAuxiliaryObject, getNodeArray$2(result), slots, [], false, false);\n    });\n    this._stopRender = render.stop;\n    this._render = render;\n    this.created = true;\n    this.refresh();\n    this._nodes = convert(this, this._render());\n  }\n\n  _update(props, children) {\n    this.props = props;\n    const slots = Object.create(null);\n    getSlots(this.renderer, children, slots);\n    setSlots(slots, this.slots, this.lastSlots);\n    this.lastSlots = slots;\n    this.childNodes = children;\n    this.refresh();\n  }\n\n  _mount(mountOptions) {\n    this.tree = draw(this.renderer, mountOptions, this._nodes);\n  }\n\n  _redraw(mountOptions) {\n    this.tree = draw(this.renderer, mountOptions, this._nodes, this.tree);\n  }\n\n  _unmount() {\n    unmount(this.renderer, this.tree);\n  }\n\n}\n\nclass SlotProxy extends NodeProxy {\n  get content() {\n    return this.tree;\n  }\n\n  constructor(children, parent, isDefault) {\n    super(ScopeSlot, ScopeSlot, {}, [], parent);\n\n    _defineProperty(this, \"__nodes\", void 0);\n\n    this.__nodes = convert(this, children);\n  }\n\n  _update(props, children) {\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this.__nodes = convert(this, children, this.__nodes);\n    this.requestDraw();\n  }\n\n  _destroy() {\n    destroy(this.__nodes);\n  }\n\n  _mount(mountOptions) {\n    this.tree = draw(this.renderer, mountOptions, this.__nodes);\n  }\n\n  _redraw(mountOptions) {\n    this.tree = draw(this.renderer, mountOptions, this.__nodes, this.tree);\n  }\n\n  _unmount() {\n    unmount(this.renderer, this.tree);\n  }\n\n}\n\nfunction createEntity(obj, events) {\n  var _obj$parentComponentP;\n\n  const cfg = {\n    data: {\n      configurable: true,\n      value: obj.data\n    },\n    exposed: {\n      configurable: true,\n      get: () => obj.exposed\n    },\n    parent: {\n      configurable: true,\n      value: (_obj$parentComponentP = obj.parentComponentProxy) === null || _obj$parentComponentP === void 0 ? void 0 : _obj$parentComponentP.entity\n    },\n    component: {\n      configurable: true,\n      value: obj.tag\n    },\n    created: {\n      configurable: true,\n      get: () => obj.created\n    },\n    destroyed: {\n      configurable: true,\n      get: () => obj.destroyed\n    },\n    mounted: {\n      configurable: true,\n      get: () => obj.mounted\n    },\n    unmounted: {\n      configurable: true,\n      get: () => obj.unmounted\n    },\n    callHook: {\n      configurable: true,\n\n      value(h) {\n        callHook(h, obj.contextData);\n      }\n\n    },\n    setHook: {\n      configurable: true,\n\n      value(id, hook) {\n        return setHook(id, hook, obj.contextData);\n      }\n\n    },\n    on: {\n      configurable: true,\n      value: events.on\n    },\n    emit: {\n      configurable: true,\n      value: events.emit\n    }\n  };\n  const entity = Object.create(null, cfg);\n  return entity;\n}\n\nconst disabledKey = new Set([':', '@', '#', '*', '!', '%', '^', '~', '&', '?', '+', '.', '(', ')', '[', ']', '{', '}', '<', '>']);\n\nfunction filter(k) {\n  if (typeof k !== 'string') {\n    return true;\n  }\n\n  if (disabledKey.has(k[0])) {\n    return false;\n  }\n\n  if (k.substr(0, 2) === 'n:') {\n    return false;\n  }\n\n  if (k.substr(0, 3) === 'on:') {\n    return false;\n  }\n\n  return true;\n}\n\nfunction update(proxy, props, children) {\n  const {\n    props: propsObj,\n    isNative\n  } = proxy;\n  const newKeys = new Set(Object.keys(props).filter(filter));\n\n  if (proxy.propsDefined) {\n    proxy.propsDefined.forEach(k => newKeys.add(k));\n\n    for (const k of Object.keys(propsObj)) {\n      if (filter(k) && !newKeys.has(k)) {\n        delete propsObj[k];\n      }\n    }\n\n    for (const k of newKeys) {\n      propsObj[k] = props[k];\n    }\n  } else {\n    let needRefresh = false;\n\n    for (const k of Object.keys(propsObj)) {\n      if (filter(k) && !newKeys.has(k)) {\n        needRefresh = true;\n        delete propsObj[k];\n      }\n    }\n\n    for (const k of newKeys) {\n      if (k in propsObj && [k] === props[k]) {\n        continue;\n      }\n\n      propsObj[k] = props[k];\n      needRefresh = true;\n    }\n\n    if (needRefresh) {\n      proxy.refresh();\n    }\n  }\n\n  proxy.events.updateInProps(props);\n  const slots = Object.create(null);\n  const childNodes = getSlots(proxy.renderer, children, slots, isNative);\n  setSlots(slots, proxy.slots, proxy.lastSlots);\n  proxy.lastSlots = slots;\n\n  if (!isNative) {\n    return;\n  }\n\n  proxy.nativeNodes = convert(proxy, childNodes, proxy.nativeNodes);\n\n  if (!proxy.mounted) {\n    return;\n  }\n\n  proxy.requestDraw();\n}\n\nclass ComponentProxy extends CustomComponentProxy {\n  callHook(id) {\n    callHook(id, this.contextData);\n  }\n\n  constructor(originalTag, component, props, children, parent) {\n    super(originalTag, component, props, parent, false);\n\n    _defineProperty(this, \"isNative\", false);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"componentRoot\", void 0);\n\n    _defineProperty(this, \"emit\", void 0);\n\n    _defineProperty(this, \"on\", void 0);\n\n    _defineProperty(this, \"components\", Object.create(null));\n\n    _defineProperty(this, \"props\", void 0);\n\n    _defineProperty(this, \"propsDefined\", void 0);\n\n    _defineProperty(this, \"slots\", Object.create(null));\n\n    _defineProperty(this, \"lastSlots\", void 0);\n\n    _defineProperty(this, \"nativeNodes\", void 0);\n\n    _defineProperty(this, \"_render\", void 0);\n\n    _defineProperty(this, \"_stopRender\", void 0);\n\n    _defineProperty(this, \"childNodes\", []);\n\n    this.container = parent.container;\n    this.componentRoot = this;\n    const {\n      events\n    } = this;\n    this.emit = events.emit;\n    this.on = events.on;\n    Object.assign(this.components, component[componentsSymbol]);\n    const propsDefined = component[propsSymbol];\n\n    if (Array.isArray(propsDefined)) {\n      this.propsDefined = propsDefined;\n      this.props = createObject(propsDefined, null);\n    } else {\n      this.props = Object.create(null);\n    }\n\n    this._init();\n\n    this.callHook('beforeCreate');\n\n    this._update(props, children);\n\n    const context = {\n      by: createBy(this.contextData),\n      slot: createSlotApi(this.slots),\n      expose: t => this.setExposed(t),\n      childNodes: () => this.childNodes,\n      emit: this.emit\n    };\n\n    const {\n      render,\n      nodes,\n      stopRender\n    } = this._initRender(context);\n\n    this._render = render;\n    this._stopRender = stopRender;\n    this._nodes = convert(this, nodes);\n    this.callHook('created');\n    this.created = true;\n\n    if (this.needRefresh) {\n      this.refresh();\n    }\n  }\n\n  createEntity(events) {\n    return createEntity(this, events);\n  }\n\n  _update(props, children) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.childNodes = children;\n    delayRefresh(() => postpone(() => update(this, props, children)));\n  }\n\n  requestDraw() {\n    this.container.markDraw(this);\n  }\n\n}\n\nfunction getNodeArray$3(result) {\n  if (Array.isArray(result)) {\n    return result;\n  }\n\n  if (!isElement(result)) {\n    return [result];\n  }\n\n  if (result.tag !== Fragment) {\n    return [result];\n  }\n\n  return result.children;\n}\n\nfunction initRender(proxy, context) {\n  const {\n    tag,\n    props,\n    entity,\n    contextData\n  } = proxy;\n  const renderFn = tag[componentValueSymbol];\n  const renderNode = typeof renderFn !== 'function' ? () => createTemplateElement(...proxy.childNodes) : isProduction ? () => runCurrent(contextData, entity, renderFn, props || {}, context) : () => runCurrentWithLabel(contextData, entity, l => proxy.labels = l, renderFn, props || {}, context);\n  const normalizeAuxiliaryObject = {\n    renderer: proxy.renderer,\n    refresh: f => proxy.refresh(f),\n    slotRenderFnList: new WeakMap(),\n    delivered: proxy.delivered,\n    simpleParent: proxy.entity\n  };\n  const components = proxy.tag[componentsSymbol];\n  const componentsList = components ? [components] : [];\n  const render = monitor(c => c && proxy.refresh(), () => init(normalizeAuxiliaryObject, getNodeArray$3(renderNode()), proxy.slots, componentsList, false, false));\n  return {\n    nodes: render(),\n    render,\n    stopRender: () => render.stop()\n  };\n}\n\nclass RenderComponentProxy extends ComponentProxy {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"nativeNodes\", void 0);\n\n    _defineProperty(this, \"childNodes\", []);\n  }\n\n  get content() {\n    return this.tree;\n  }\n\n  _init() {}\n\n  _initRender(context) {\n    return initRender(this, context);\n  }\n\n  requestDraw() {\n    this.container.markDraw(this);\n  }\n\n  _redraw(mountOptions) {\n    const {\n      renderer,\n      _nodes\n    } = this;\n    this.tree = draw(renderer, mountOptions, _nodes, this.tree);\n  }\n\n  _mount(mountOptions) {\n    const {\n      renderer,\n      _nodes\n    } = this;\n    this.tree = draw(renderer, mountOptions, _nodes);\n  }\n\n  _unmount() {\n    const {\n      renderer\n    } = this;\n    unmount(renderer, this.tree);\n  }\n\n}\n\nfunction createResponsiveRender(proxy, func, components) {\n  const slotRenderFns = new WeakMap();\n  const render = monitor(c => c && proxy.refresh(), () => normalize(proxy, slotRenderFns, f => proxy.refresh(f), func(), components));\n  return {\n    nodes: render(),\n    render,\n    stopRender: () => render.stop()\n  };\n}\n\nfunction initRender$1(proxy, context) {\n  const {\n    tag,\n    props,\n    entity,\n    contextData\n  } = proxy;\n  const run = isProduction ? () => runCurrent(contextData, entity, tag, props, context) : () => runCurrentWithLabel(contextData, entity, l => proxy.labels = l, tag, props, context);\n\n  const refresh = changed => {\n    if (!changed) {\n      return;\n    }\n\n    proxy.refresh();\n  };\n\n  const result = exec$1(refresh, {\n    resultOnly: true\n  }, run);\n\n  if (typeof result === 'function') {\n    return createResponsiveRender(proxy, result);\n  }\n\n  if (isRenderElement(result)) {\n    const {\n      children\n    } = result;\n\n    if ((children === null || children === void 0 ? void 0 : children.length) === 1 && typeof children[0] === 'function') {\n      return createResponsiveRender(proxy, children[0]);\n    }\n  }\n\n  if (isElement(result) && isRenderComponent(result.tag)) {\n    const {\n      tag\n    } = result;\n    const render = tag[componentValueSymbol];\n\n    if (typeof render === 'function') {\n      return createResponsiveRender(proxy, () => render(result.props || {}, context), result.tag[componentsSymbol] || null);\n    }\n  }\n\n  const normalizeRefresh = f => {\n    proxy.refresh(f);\n  };\n\n  const slotRenderFns = new WeakMap();\n  const render = monitor(refresh, () => normalize(proxy, slotRenderFns, normalizeRefresh, run()));\n  return {\n    nodes: exec$1(refresh, () => normalize(proxy, slotRenderFns, normalizeRefresh, result), {\n      resultOnly: true\n    }),\n    render,\n    stopRender: () => render.stop()\n  };\n}\n\nclass StandardComponentProxy extends ComponentProxy {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"content\", []);\n\n    _defineProperty(this, \"native\", void 0);\n\n    _defineProperty(this, \"shadowTree\", []);\n\n    _defineProperty(this, \"nativeTree\", []);\n\n    _defineProperty(this, \"_shadow\", void 0);\n\n    _defineProperty(this, \"childNodes\", []);\n\n    _defineProperty(this, \"__nativeTreeNountOptions\", void 0);\n  }\n\n  _init() {\n    var _this$renderer$create, _this$renderer;\n\n    if (!isProduction) {\n      defineProperty(this, 'content', []);\n    }\n\n    if (!isNativeComponent(this.tag)) {\n      return;\n    }\n\n    const value = (_this$renderer$create = (_this$renderer = this.renderer).createComponent) === null || _this$renderer$create === void 0 ? void 0 : _this$renderer$create.call(_this$renderer);\n\n    if (!value) {\n      return;\n    }\n\n    [this.native, this._shadow] = value;\n  }\n\n  _initRender(context) {\n    return initRender$1(this, context);\n  }\n\n  requestDraw() {\n    this.container.markDraw(this);\n  }\n\n  _mount(mountOptions) {\n    const {\n      nativeNodes,\n      renderer,\n      _shadow,\n      native,\n      _nodes\n    } = this;\n\n    if (!native || !nativeNodes || !_shadow) {\n      this.tree = this.content = draw(renderer, mountOptions, _nodes);\n      return;\n    }\n\n    this.tree = [createMountedNode({\n      node: native\n    })];\n    const subMountOptions = renderer.getMountOptions(_shadow, mountOptions) || mountOptions;\n    this.content = draw(renderer, subMountOptions, _nodes);\n\n    for (const it of getNodes(this.content)) {\n      renderer.insertNode(_shadow, it);\n    }\n\n    const nativeTreeNountOptions = renderer.getMountOptions(native, mountOptions) || mountOptions;\n    this.nativeTree = draw(renderer, nativeTreeNountOptions, nativeNodes);\n\n    for (const it of getNodes(this.nativeTree)) {\n      renderer.insertNode(native, it);\n    }\n\n    this.__nativeTreeNountOptions = nativeTreeNountOptions;\n    return subMountOptions;\n  }\n\n  _redraw(mountOptions) {\n    const {\n      nativeNodes,\n      renderer,\n      __nativeTreeNountOptions,\n      _nodes\n    } = this;\n    this.content = draw(renderer, mountOptions, _nodes, this.content);\n\n    if (!nativeNodes || !__nativeTreeNountOptions) {\n      this.tree = this.content;\n      return;\n    }\n\n    this.nativeTree = draw(renderer, __nativeTreeNountOptions, nativeNodes, this.nativeTree);\n  }\n\n  _unmount() {\n    const {\n      renderer,\n      nativeTree\n    } = this;\n    unmount(renderer, this.tree);\n\n    if (!nativeTree) {\n      return;\n    }\n\n    unmount(renderer, nativeTree);\n  }\n\n}\n\nconst recognizers = [];\nfunction recognize(any) {\n  for (const recognizer of recognizers) {\n    const res = recognizer(any);\n\n    if (typeof res === 'function') {\n      return res;\n    }\n  }\n\n  return typeof any === 'function' ? any : null;\n}\nfunction addRecognizer(recognizer) {\n  recognizers.push(recognizer);\n}\n\nfunction createProxy(proxy, {\n  tag,\n  props,\n  children,\n  isDefault\n}) {\n  if (tag === Container) {\n    return new ContainerProxy(tag, null, props, children, proxy);\n  }\n\n  if (tag === ScopeSlot) {\n    return new SlotProxy(children, proxy, isDefault);\n  }\n\n  if (tag === Fragment) {\n    return new GroupProxy(tag, children, proxy);\n  }\n\n  if (typeof tag === 'string') {\n    if (tag.substr(0, 5) === 'core:') {\n      return new GroupProxy(tag, children, proxy);\n    }\n\n    return new ElementProxy(tag, tag, props || {}, children, proxy);\n  }\n\n  const componentTag = recognize(tag);\n\n  if (typeof componentTag !== 'function') {\n    return new GroupProxy(tag, children, proxy);\n  }\n\n  if (isShellComponent(componentTag)) {\n    return new ShellProxy(tag, componentTag, props || {}, children, proxy);\n  }\n\n  if (isDeliverComponent(componentTag)) {\n    return new DeliverProxy(tag, componentTag, props || {}, children, proxy);\n  }\n\n  if (isContainerComponent(componentTag)) {\n    return new ContainerProxy(tag, componentTag, props, children, proxy);\n  }\n\n  if (isElementComponent(componentTag)) {\n    return new ElementProxy(tag, componentTag, props || {}, children, proxy);\n  }\n\n  if (isSimpleComponent(componentTag)) {\n    return new GroupProxy(tag, children, proxy);\n  }\n\n  if (isRenderComponent(componentTag)) {\n    return new RenderComponentProxy(tag, componentTag, props || {}, children, proxy);\n  }\n\n  return new StandardComponentProxy(tag, componentTag, props || {}, children, proxy);\n}\n\nfunction createItem$1(proxy, source) {\n  if (!source) {\n    return null;\n  }\n\n  if (!source.tag) {\n    const {\n      key,\n      props\n    } = source;\n    return {\n      key,\n      props,\n      proxy: new ValueProxy(source.props || {}, proxy)\n    };\n  }\n\n  const {\n    tag,\n    key,\n    props\n  } = source;\n  return {\n    tag,\n    key,\n    props,\n    proxy: createProxy(proxy, source)\n  };\n}\n\nfunction createAll$1(proxy, source) {\n  if (!Array.isArray(source)) {\n    source = [source];\n  }\n\n  if (!source.length) {\n    return [];\n  }\n\n  return source.map(item => {\n    if (!Array.isArray(item)) {\n      return createItem$1(proxy, toElement(item));\n    }\n\n    return item.flat(Infinity).map(it => createItem$1(proxy, toElement(it))).filter(Boolean);\n  });\n}\n\nfunction destroy(tree) {\n  if (!tree) {\n    return;\n  }\n\n  if (Array.isArray(tree)) {\n    tree.forEach(t => destroy(t));\n    return;\n  }\n\n  const {\n    proxy\n  } = tree;\n\n  if (proxy) {\n    proxy.destroy();\n  }\n}\n\nfunction updateItem$1(proxy, source, tree) {\n  if (!tree) {\n    return createItem$1(proxy, source);\n  }\n\n  if (!source) {\n    destroy(tree);\n    return null;\n  }\n\n  if (Array.isArray(tree)) {\n    if (!tree.length) {\n      return createItem$1(proxy, source);\n    }\n\n    const index = tree.findIndex(it => it.tag === source.tag);\n\n    if (index < 0) {\n      destroy(tree);\n      return createItem$1(proxy, source);\n    }\n\n    const all = tree;\n    [tree] = tree.splice(index, 1);\n    destroy(all);\n  }\n\n  if (source.tag !== tree.tag) {\n    destroy(tree);\n    return createItem$1(proxy, source);\n  }\n\n  if (tree.proxy) {\n    const {\n      proxy\n    } = tree;\n    const {\n      props = {},\n      key\n    } = source;\n    proxy.update(source.props || {}, source.children || []);\n    return {\n      tag: tree.tag,\n      props,\n      key,\n      proxy\n    };\n  }\n\n  destroy(tree);\n  return createItem$1(proxy, source);\n}\n\nfunction* recursive2iterable(list) {\n  if (!Array.isArray(list)) {\n    yield list;\n    return;\n  }\n\n  for (const it of list) {\n    yield* recursive2iterable(it);\n  }\n}\n\nfunction updateList$1(proxy, source, tree) {\n  if (!tree) {\n    tree = [];\n  }\n\n  if (!Array.isArray(tree)) {\n    tree = [tree];\n  }\n\n  const newList = [];\n\n  for (const src of recursive2iterable(source)) {\n    const node = toElement(src);\n\n    if (!node) {\n      continue;\n    }\n\n    const index = tree.findIndex(it => it.tag === node.tag && it.key === node.key);\n\n    if (index >= 0) {\n      const newNode = updateItem$1(proxy, node, tree[index]);\n\n      if (newNode) {\n        newList.push(newNode);\n      }\n\n      tree.splice(index, 1);\n    } else {\n      const newNode = createItem$1(proxy, node);\n\n      if (newNode) {\n        newList.push(newNode);\n      }\n    }\n  }\n\n  destroy(tree);\n  return newList;\n}\n\nfunction* updateAll$1(proxy, source, tree) {\n  if (!Array.isArray(source)) {\n    source = [source];\n  }\n\n  let index = 0;\n  let length = Math.min(source.length || 1, tree.length);\n\n  for (; index < length; index++) {\n    const src = source[index];\n\n    if (Array.isArray(src)) {\n      yield updateList$1(proxy, src, tree[index]);\n    } else {\n      yield updateItem$1(proxy, toElement(src), tree[index]);\n    }\n  }\n\n  length = Math.max(source.length, source.length);\n\n  if (tree.length > index) {\n    for (; index < length; index++) {\n      destroy(tree[index]);\n    }\n  }\n\n  if (source.length > index) {\n    for (; index < length; index++) {\n      const src = toElement(source[index]);\n\n      if (Array.isArray(src)) {\n        yield src.flat(Infinity).map(it => createItem$1(proxy, it)).filter(Boolean);\n      } else {\n        yield createItem$1(proxy, src);\n      }\n    }\n  }\n}\n\nfunction convert(proxy, source, tree) {\n  if (!tree) {\n    return delayRefresh(() => postpone(() => createAll$1(proxy, source)));\n  }\n\n  return delayRefresh(() => postpone(() => [...updateAll$1(proxy, source, tree)]));\n}\n\nlet awaitDraw = new Set();\nconst rendererDraw = new Set();\nconst baseTick = [];\nconst middleTick = [];\nconst endTick = [];\n\nfunction execTickList(list) {\n  const execList = [...list].sort(([a], [b]) => b - a);\n  list.length = 0;\n\n  try {\n    execList.forEach(([, f]) => f());\n  } catch (e) {\n    printError$1(e);\n  }\n}\n\nfunction execContainerList() {\n  const list = [...awaitDraw];\n  awaitDraw.clear();\n  list.map(c => c.drawAll());\n}\n\nfunction execRendererDrawList() {\n  const rendererDrawList = [...rendererDraw];\n  rendererDraw.clear();\n\n  for (const f of rendererDrawList) {\n    try {\n      f();\n    } catch (e) {\n      printError$1(e);\n    }\n  }\n}\n\nlet requested = false;\n\nfunction request() {\n  if (requested) {\n    return;\n  }\n\n  requested = true;\n  nextFrame(() => {\n    requested = false;\n    execTickList(baseTick);\n    execContainerList();\n    execTickList(middleTick);\n    execRendererDrawList();\n    execTickList(endTick);\n  });\n}\n\nfunction nextTick(fn, level = 0, type) {\n  const list = type === 'middle' ? middleTick : type === 'end' ? endTick : baseTick;\n  list.push([level, fn]);\n  request();\n}\nfunction markDraw(c) {\n  awaitDraw.add(c);\n  request();\n}\nfunction addRendererDraw(fn) {\n  rendererDraw.add(fn);\n  request();\n}\n\nfunction createEntity$1(obj, events) {\n  const cfg = {\n    data: {\n      configurable: true,\n      value: obj.data\n    },\n    exposed: {\n      configurable: true,\n      get: () => obj.exposed\n    },\n    created: {\n      configurable: true,\n      get: () => obj.created\n    },\n    destroyed: {\n      configurable: true,\n      get: () => obj.destroyed\n    },\n    mounted: {\n      configurable: true,\n      get: () => obj.mounted\n    },\n    unmounted: {\n      configurable: true,\n      get: () => obj.unmounted\n    },\n    callHook: {\n      configurable: true,\n\n      value(h) {\n        callHook(h, obj.contextData);\n      }\n\n    },\n    setHook: {\n      configurable: true,\n\n      value(id, hook) {\n        return setHook(id, hook, obj.contextData);\n      }\n\n    },\n    on: {\n      configurable: true,\n      value: events.on\n    },\n    emit: {\n      configurable: true,\n      value: events.emit\n    }\n  };\n  const entity = Object.create(null, cfg);\n  return entity;\n}\n\nclass ContainerProxy extends RefProxy {\n  setmountedRoot(target, next) {\n    if (this.parentProxy) {\n      return;\n    }\n\n    const container = this.__container;\n\n    if (!container) {\n      return;\n    }\n\n    const {\n      renderer\n    } = this;\n    const [r, n] = renderer.getContainer(container, target, next);\n\n    if (!r) {\n      return;\n    }\n\n    for (const it of getNodes(this.tree)) {\n      renderer.insertNode(r, it, n);\n    }\n  }\n\n  constructor(originalTag, component = null, props = {}, children, parent) {\n    super(component ? getRender(component[rendererSymbol], parent === null || parent === void 0 ? void 0 : parent.renderer) : getRender(parent === null || parent === void 0 ? void 0 : parent.renderer), originalTag, component, props, parent);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"componentRoot\", void 0);\n\n    _defineProperty(this, \"__containerData\", void 0);\n\n    _defineProperty(this, \"content\", []);\n\n    _defineProperty(this, \"rootContainer\", this);\n\n    _defineProperty(this, \"contextData\", void 0);\n\n    _defineProperty(this, \"__nodes\", []);\n\n    _defineProperty(this, \"__container\", null);\n\n    _defineProperty(this, \"__placeholder\", void 0);\n\n    _defineProperty(this, \"__placeholderNode\", void 0);\n\n    _defineProperty(this, \"__targetNode\", null);\n\n    _defineProperty(this, \"__insertNode\", null);\n\n    _defineProperty(this, \"__nextNode\", null);\n\n    _defineProperty(this, \"__awaitDraw\", new Set());\n\n    _defineProperty(this, \"__containers\", new Set());\n\n    this.container = this;\n    this.componentRoot = parent === null || parent === void 0 ? void 0 : parent.componentRoot;\n    this.contextData = {\n      hooks: {}\n    };\n\n    if (component) {\n      this.__containerData = component[componentValueSymbol];\n    }\n\n    if (!isProduction) {\n      defineProperty(this, 'content', []);\n    }\n\n    this.events.updateInProps(props);\n\n    if (parent) {\n      this.rootContainer = parent.container.rootContainer;\n    }\n\n    this.__nodes = convert(this, children);\n    this.created = true;\n  }\n\n  createEntity(events) {\n    return createEntity$1(this, events);\n  }\n\n  setChildren(children) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.__nodes = convert(this, children, this.__nodes);\n    this.requestDraw();\n  }\n\n  _update(props, children) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.__nodes = convert(this, children, this.__nodes);\n    this.events.updateInProps(props);\n    this.requestDraw();\n  }\n\n  _destroy() {\n    destroy(this.__nodes);\n  }\n\n  callHook(id) {\n    callHook(id, this.contextData);\n  }\n\n  requestDraw() {\n    this.markDraw(this);\n  }\n\n  _mount(opt) {\n    const {\n      parentProxy,\n      renderer\n    } = this;\n    const parentRenderer = (parentProxy === null || parentProxy === void 0 ? void 0 : parentProxy.renderer) || renderer;\n    const {\n      container,\n      target: targetNode,\n      insert,\n      next,\n      exposed\n    } = renderer.mountContainer(this.__containerData, this.attrs, this.events.emit, parentProxy === null || parentProxy === void 0 ? void 0 : parentProxy.renderer);\n    this.setExposed(exposed);\n    const subOpt = renderer.getMountOptions(container, opt) || opt;\n    const placeholder = drawPlaceholder(parentRenderer);\n    this.__placeholder = placeholder;\n    const placeholderNode = placeholder.node;\n    this.__placeholderNode = placeholderNode;\n    this.__container = container;\n    const content = draw(renderer, subOpt, this.__nodes);\n    this.content = content;\n    this.__insertNode = insert;\n    this.__nextNode = next;\n\n    if (!targetNode && parentRenderer === renderer) {\n      this.tree = insert ? [...content, createMountedNode({\n        node: insert\n      }), placeholder] : [...content, placeholder];\n      return subOpt;\n    }\n\n    const target = targetNode || container;\n    this.__targetNode = target;\n\n    for (const it of getNodes(content)) {\n      renderer.insertNode(target, it, next);\n    }\n\n    this.tree = insert ? [createMountedNode({\n      node: insert\n    }), placeholder] : [placeholder];\n    return subOpt;\n  }\n\n  _redrawSelf() {\n    const {\n      __targetNode,\n      __insertNode,\n      __nextNode\n    } = this;\n    const {\n      attrs,\n      parentProxy,\n      renderer\n    } = this;\n    const placeholder = this.__placeholder;\n    const placeholderNode = this.__placeholderNode;\n    const container = this.__container;\n    const parentRenderer = (parentProxy === null || parentProxy === void 0 ? void 0 : parentProxy.renderer) || renderer;\n    const {\n      target: targetNode,\n      insert,\n      next\n    } = renderer.updateContainer(container, __targetNode, __insertNode, __nextNode, this.__containerData, attrs, this.events.emit, parentProxy === null || parentProxy === void 0 ? void 0 : parentProxy.renderer);\n    this.__insertNode = insert;\n    this.__nextNode = next;\n    const parentNode = parentRenderer.getParent(placeholderNode);\n\n    if (insert !== __insertNode) {\n      if (__insertNode) {\n        renderer.removeNode(__insertNode);\n      }\n\n      if (insert && parentNode) {\n        renderer.insertNode(parentNode, insert, placeholderNode);\n      }\n    }\n\n    if (!targetNode && parentRenderer === renderer) {\n      const {\n        content\n      } = this;\n\n      if (__targetNode && parentNode) {\n        const nextNode = insert || placeholderNode;\n\n        for (const it of getNodes(content)) {\n          parentRenderer.insertNode(parentNode, it, nextNode);\n        }\n\n        this.__targetNode = null;\n      }\n\n      this.tree = insert ? [...content, createMountedNode({\n        node: insert\n      }), placeholder] : [...content, placeholder];\n    } else {\n      const target = targetNode || container;\n      this.__targetNode = target;\n\n      if (target !== __targetNode || next !== __nextNode) {\n        for (const it of getNodes(this.content)) {\n          renderer.insertNode(target, it, next);\n        }\n      }\n\n      this.tree = insert ? [createMountedNode({\n        node: insert\n      }), placeholder] : [placeholder];\n    }\n\n    renderer.recoveryContainer(container, __targetNode, __insertNode, __nextNode, targetNode, insert, next, this.__containerData, attrs, parentProxy === null || parentProxy === void 0 ? void 0 : parentProxy.renderer);\n  }\n\n  _redrawChildren(opts) {\n    const content = draw(this.renderer, opts, this.__nodes, this.content);\n    this.content = content;\n\n    if (!this.__targetNode) {\n      return;\n    }\n\n    const placeholder = this.__placeholder;\n    const insertNode = this.__insertNode;\n    this.tree = insertNode ? [...content, createMountedNode({\n      node: insertNode\n    }), placeholder] : [...content, placeholder];\n  }\n\n  _redraw(opt) {\n    this._redrawChildren(opt);\n\n    this._redrawSelf();\n  }\n\n  _unmount() {\n    const {\n      parentProxy,\n      renderer,\n      __insertNode\n    } = this;\n    const parentRenderer = (parentProxy === null || parentProxy === void 0 ? void 0 : parentProxy.renderer) || renderer;\n    unmount(this.renderer, this.content);\n\n    if (__insertNode) {\n      parentRenderer.removeNode(__insertNode);\n    }\n\n    parentRenderer.removeNode(this.__placeholderNode);\n    renderer.unmountContainer(this.__container, this.__targetNode, __insertNode, this.__nextNode, this.__containerData, this.attrs, parentProxy === null || parentProxy === void 0 ? void 0 : parentProxy.renderer);\n  }\n\n  markDraw(proxy) {\n    var _this$parentProxy;\n\n    if (((_this$parentProxy = this.parentProxy) === null || _this$parentProxy === void 0 ? void 0 : _this$parentProxy.renderer) === this.renderer) {\n      this.parentProxy.container.markDraw(proxy);\n      return;\n    }\n\n    if (proxy === this && this.parentProxy) {\n      this.parentProxy.container.markDraw(this);\n    } else {\n      this.__awaitDraw.add(proxy);\n    }\n\n    this.rootContainer.markDrawContainer(this);\n  }\n\n  drawContainer() {\n    if (this.destroyed || !this.__container) {\n      return;\n    }\n\n    const {\n      __awaitDraw\n    } = this;\n    const list = [...__awaitDraw];\n\n    __awaitDraw.clear();\n\n    list.map(c => c.redraw());\n  }\n\n  markDrawContainer(container) {\n    this.__containers.add(container);\n\n    markDraw(this);\n  }\n\n  drawAll() {\n    const containers = this.__containers;\n\n    if (!containers.size) {\n      return;\n    }\n\n    const list = [...containers];\n    containers.clear();\n    const completeList = [];\n    setCompleteList(completeList);\n    list.forEach(c => c.drawContainer());\n    completeList.forEach(r => r());\n  }\n\n}\n\nfunction createContainerEntity(e, p) {\n  if (e === undefined) {\n    return createRender(null, p);\n  }\n\n  if (isContainerComponent(e)) {\n    return createRender(e, p);\n  }\n\n  if (!isElement(e)) {\n    return createRender(null, p, [createElementBase(e)]);\n  }\n\n  if (isContainerComponent(e.tag)) {\n    const params = { ...e.props,\n      ...p\n    };\n    return createRender(e.tag, params);\n  }\n\n  return createRender(null, p, [e]);\n}\n\nfunction createRender(tag, props, childNodes = []) {\n  const children = value(childNodes);\n  const normalizeAuxiliaryObject = {\n    renderer: tag ? getRender(tag[rendererSymbol]) : getRender(),\n    refresh,\n    slotRenderFnList: new WeakMap(),\n    delivered: Object.create(null),\n    simpleParent: undefined\n  };\n  let __needRefresh = false;\n  let __refreshing = false;\n  let container;\n\n  function refresh() {\n    if (!container) {\n      __needRefresh = true;\n      return;\n    }\n\n    if (container.destroyed) {\n      return;\n    }\n\n    __needRefresh = true;\n\n    if (!container.created) {\n      return;\n    }\n\n    if (__refreshing) {\n      return;\n    }\n\n    __refreshing = true;\n    let nodes;\n\n    for (;;) {\n      if (wait(refreshObj)) {\n        break;\n      }\n\n      if (!__needRefresh) {\n        break;\n      }\n\n      __needRefresh = false;\n      nodes = _render();\n\n      if (container.destroyed) {\n        return;\n      }\n    }\n\n    __refreshing = false;\n\n    if (wait(refreshObj)) {\n      return;\n    }\n\n    if (!nodes) {\n      return;\n    }\n\n    if (!container.mounted) {\n      return;\n    }\n\n    if (container.destroyed) {\n      return;\n    }\n\n    if (container.unmounted) {\n      return;\n    }\n\n    container.setChildren(nodes);\n  }\n\n  const refreshObj = {\n    refresh\n  };\n  const slots = Object.create(null);\n\n  const _render = monitor(c => c && refresh(), () => init(normalizeAuxiliaryObject, children.value, slots, [], false, false));\n\n  container = new ContainerProxy(tag, tag, props, _render());\n\n  if (__needRefresh) {\n    refresh();\n  }\n\n  return [container, children];\n}\n\nfunction render(e, p = {}) {\n  const [container, children] = createContainerEntity(e, p);\n  const entity = Object.create(container.entity, {\n    update: {\n      configurable: true,\n\n      value(c) {\n        if (container.destroyed) {\n          return entity;\n        }\n\n        children(c === undefined ? [] : isElement(c) ? [c] : [createElementBase(c)]);\n        return entity;\n      }\n\n    },\n    mount: {\n      configurable: true,\n\n      value(target, next) {\n        if (container.destroyed) {\n          return entity;\n        }\n\n        if (container.mounted) {\n          return entity;\n        }\n\n        container.mount({});\n        container.setmountedRoot(target, next);\n        return entity;\n      }\n\n    },\n    unmount: {\n      configurable: true,\n\n      value() {\n        if (!container.mounted) {\n          return;\n        }\n\n        if (container.unmounted) {\n          return;\n        }\n\n        if (!container.destroyed) {\n          container.destroy();\n        }\n\n        container.unmount();\n        return entity;\n      }\n\n    }\n  });\n\n  if (!isProduction) {\n    devtools.renderHook(entity, container);\n  }\n\n  return entity;\n}\n\nfunction setObjectType(component, type) {\n  Reflect.defineProperty(component, objectTypeSymbol, {\n    value: type\n  });\n  return component;\n}\n\nfunction setName(component, name) {\n  if (!name || typeof name !== 'string') {\n    return component;\n  }\n\n  Reflect.defineProperty(component, nameSymbol, {\n    value: name\n  });\n  return component;\n}\n\nfunction setValue(component, value) {\n  Reflect.defineProperty(component, componentValueSymbol, {\n    value\n  });\n  return component;\n}\n\nfunction setComponents(component, components) {\n  if (!components || typeof components !== 'object') {\n    return component;\n  }\n\n  Reflect.defineProperty(component, componentsSymbol, {\n    value: components\n  });\n  return component;\n}\n\nfunction createSelfComponent() {\n  const component = function component(params) {\n    return createElementBase(component, params);\n  };\n\n  return component;\n}\n\nfunction createDeliverComponent(def) {\n  const component = createSelfComponent();\n  setObjectType(component, objectTypeSymbolDeliverComponent);\n  Reflect.defineProperty(component, deliverKeySymbol, {\n    value: Symbol()\n  });\n  Reflect.defineProperty(component, deliverDefaultSymbol, {\n    value: def\n  });\n  return component;\n}\nfunction createRenderComponent(f, {\n  name,\n  components\n} = {}) {\n  const component = createSelfComponent();\n  setObjectType(component, objectTypeSymbolRenderComponent);\n  setName(component, name);\n  setValue(component, f);\n  setComponents(component, components);\n  return component;\n}\nfunction createContainerComponent(value, {\n  name,\n  renderer\n} = {}) {\n  const component = createSelfComponent();\n  setObjectType(component, objectTypeSymbolContainerComponent);\n  setName(component, name);\n  setValue(component, value);\n\n  if (typeof renderer === 'string' || typeof renderer === 'object') {\n    Reflect.defineProperty(component, rendererSymbol, {\n      value: renderer\n    });\n  }\n\n  return component;\n}\nfunction createElementComponent(value, {\n  name\n} = {}) {\n  const component = createSelfComponent();\n  setObjectType(component, objectTypeSymbolElementComponent);\n  setName(component, name);\n  setValue(component, value);\n  return component;\n}\nfunction createStandardComponent(f, {\n  name,\n  components,\n  render,\n  props\n} = {}) {\n  const component = createComponentFunc(f, render);\n  setName(component, name);\n  setComponents(component, components);\n\n  if (Array.isArray(props)) {\n    Reflect.defineProperty(component, propsSymbol, {\n      value: [...props]\n    });\n  }\n\n  return component;\n}\n\nfunction createComponentFunc(f, render) {\n  if (typeof render !== 'function') {\n    return f;\n  }\n\n  const renderComponent = isRenderComponent(render) ? render : createRenderComponent(render);\n  return function StandardComponent(props, context) {\n    return createElementBase(renderComponent, f(props, context));\n  };\n}\n\nfunction createNativeComponent(f, {\n  name,\n  components,\n  render,\n  props\n} = {}) {\n  const component = createComponentFunc(f, render);\n  setObjectType(component, objectTypeSymbolNativeComponent);\n  setName(component, name);\n  setComponents(component, components);\n\n  if (Array.isArray(props)) {\n    Reflect.defineProperty(component, propsSymbol, {\n      value: [...props]\n    });\n  }\n\n  return component;\n}\nfunction createSimpleComponent(f, {\n  name,\n  components\n} = {}) {\n  const component = f;\n  setObjectType(component, objectTypeSymbolSimpleComponent);\n  setName(component, name);\n  setComponents(component, components);\n  return component;\n}\nfunction createShellComponent(f, {\n  name\n} = {}) {\n  const component = f;\n  setObjectType(component, objectTypeSymbolShellComponent);\n  setName(component, name);\n  return component;\n}\n\nfunction isProxy(v, type) {\n  switch (type) {\n    case 'standardComponent':\n      return v instanceof StandardComponentProxy;\n\n    case 'renderComponent':\n      return v instanceof RenderComponentProxy;\n\n    case 'component':\n      return v instanceof ComponentProxy;\n\n    case 'container':\n      return v instanceof ContainerProxy;\n\n    case 'deliver':\n      return v instanceof DeliverProxy;\n\n    case 'element':\n      return v instanceof ElementProxy;\n\n    case 'group':\n      return v instanceof GroupProxy;\n\n    case 'shell':\n      return v instanceof ShellProxy;\n\n    case 'value':\n      return v instanceof ValueProxy;\n\n    case 'slot':\n      return v instanceof SlotProxy;\n\n    case 'node':\n      return v instanceof NodeProxy;\n\n    case 'ref':\n      return v instanceof RefProxy;\n  }\n\n  return v instanceof BaseProxy;\n}\n\nfunction createElement(tag, attrs, ...children) {\n  const attrProps = attrs ? { ...attrs\n  } : {};\n  const props = {};\n\n  for (const n of Object.keys(attrProps)) {\n    if (n === '@') {\n      props['n:on'] = attrProps[n];\n      continue;\n    }\n\n    if (n[0] === '!') {\n      props[`n:${n.substr(1)}`] = attrProps[n];\n      continue;\n    }\n\n    if (n[0] === '@') {\n      props[`on:${n.substr(1)}`] = attrProps[n];\n      continue;\n    }\n\n    if (n.substr(0, 2) === 'n-') {\n      props[`n:${n.substr(2)}`] = attrProps[n];\n      continue;\n    }\n\n    if (n.substr(0, 3) === 'on-') {\n      const fn = attrProps[n];\n\n      if (typeof fn === 'function' || fn === null || fn === undefined) {\n        props[`on:${n.substr(3)}`] = fn;\n      }\n\n      continue;\n    }\n\n    if (n.substr(0, 5) === 'hook-') {\n      const fn = attrProps[n];\n\n      if (typeof fn === 'function' || fn === null || fn === undefined) {\n        props[`hook:${n.substr(5)}`] = fn;\n      }\n\n      continue;\n    }\n\n    if (n.substr(0, 5) === 'data-') {\n      props[`data:${n.substr(5)}`] = attrProps[n];\n    }\n\n    props[n] = attrProps[n];\n  }\n\n  return createElementBase(tag, props, ...children);\n}\n\nconst useValue = createUse({\n  name: 'useValue',\n  create: fn => typeof fn === 'function' ? fn() : value(undefined)\n});\n\nfunction createEntitySetRef(set) {\n  return function refValue(_0, _1, entity, state) {\n    if (state === true) {\n      set.add(entity);\n      return;\n    }\n\n    if (state === false) {\n      set.delete(entity);\n    }\n  };\n}\n\nfunction createExposedSetRef(set) {\n  return function refValue(newNode, oldNode) {\n    if (newNode === undefined) {\n      if (oldNode !== undefined) {\n        set.delete(oldNode);\n      }\n\n      return;\n    }\n\n    if (oldNode === undefined) {\n      set.add(newNode);\n      return;\n    }\n\n    if (typeof set.replace === 'function') {\n      set.replace(newNode, oldNode);\n      return;\n    }\n\n    set.delete(oldNode);\n    set.add(newNode);\n  };\n}\n\nfunction createEntityRefValue(watch) {\n  const obj = watch ? value(undefined) : {\n    value: undefined\n  };\n\n  function refValue(_1, _2, entity, state) {\n    obj.value = state === false ? entity : undefined;\n  }\n\n  Reflect.defineProperty(refValue, 'value', {\n    get() {\n      return obj.value;\n    },\n\n    enumerable: true,\n    configurable: true\n  });\n  return refValue;\n}\n\nfunction createExposedRefValue(watch) {\n  const obj = watch ? value(undefined) : {\n    value: undefined\n  };\n\n  function refValue(newNode) {\n    obj.value = newNode;\n  }\n\n  Reflect.defineProperty(refValue, 'value', {\n    get() {\n      return obj.value;\n    },\n\n    enumerable: true,\n    configurable: true\n  });\n  return refValue;\n}\n\nfunction ref(set, isEntity) {\n  if (set && (typeof set === 'function' || typeof set === 'object')) {\n    return isEntity ? createEntitySetRef(set) : createExposedSetRef(set);\n  }\n\n  return isEntity ? createEntityRefValue(set) : createExposedRefValue(set);\n}\n\nconst LOADING = 0;\nconst FAILING = -1;\nconst COMPLETE = 1;\nfunction lazy(component, Placeholder) {\n  const reslut = value(LOADING);\n  let isLoad = false;\n  const ComponentValue = value(undefined);\n\n  async function load() {\n    if (isLoad) {\n      return;\n    }\n\n    isLoad = true;\n\n    if (reslut()) {\n      return;\n    }\n\n    reslut(COMPLETE);\n\n    try {\n      const c = await component();\n\n      if (typeof c === 'function') {\n        ComponentValue(c);\n        return;\n      }\n\n      if (!c) {\n        reslut(FAILING);\n        return;\n      }\n\n      if (typeof c.default === 'function') {\n        ComponentValue(c.default);\n        return;\n      }\n\n      reslut(FAILING);\n    } catch (e) {\n      console.error(e);\n      reslut(FAILING);\n    }\n  }\n\n  return createSimpleComponent((props, {\n    childNodes\n  }) => {\n    const com = ComponentValue();\n\n    if (com) {\n      return createElement(com, props, ...childNodes());\n    }\n\n    load();\n\n    if (!Placeholder) {\n      return null;\n    }\n\n    return createElement(Placeholder, {\n      loading: reslut() === LOADING\n    });\n  }, {\n    name: 'Lazy'\n  });\n}\n\nfunction createRenderElement(render, {\n  slot,\n  key\n} = {}) {\n  const node = {\n    [objectTypeSymbol]: objectTypeSymbolElement,\n    tag: Render,\n    props: {\n      'n:key': key,\n      'n:slot': slot\n    },\n    children: [render],\n    key,\n    slot\n  };\n  return node;\n}\n\nfunction elements(node, opt = {}) {\n  if (Array.isArray(node)) {\n    const list = [];\n\n    for (let n of node) {\n      list.push(elements(n, opt));\n    }\n\n    return [].concat(...list);\n  }\n\n  if (!isElement(node)) {\n    return [node];\n  }\n\n  let {\n    tag\n  } = node;\n\n  if (!tag) {\n    return [node];\n  }\n\n  if (tag === Template) {\n    return elements(node.children, opt);\n  }\n\n  if (!isSimpleComponent(tag)) {\n    return [node];\n  }\n\n  const {\n    simple\n  } = opt;\n\n  if (Array.isArray(simple)) {\n    if (simple.includes(tag)) {\n      return [node];\n    }\n  } else if (typeof simple === 'function') {\n    if (simple(tag)) {\n      return [node];\n    }\n  } else if (simple) {\n    return [node];\n  }\n\n  return elements(node.children, opt);\n}\n\nfunction isFragmentElement(v) {\n  if (!isElement(v)) {\n    return false;\n  }\n\n  const {\n    tag\n  } = v;\n\n  if (typeof tag !== 'string') {\n    return false;\n  }\n\n  return tag.toLowerCase() === 'template';\n}\n\nfunction isSimpleElement(v) {\n  return isElement(v) && isSimpleComponent(v.tag);\n}\n\nconst withAncestor = createWith({\n  name: 'withAncestor',\n  create: () => withParent(),\n\n  exec(entity, _, component, depth = 0) {\n    for (let d = depth + 1; entity && d > 0; d--) {\n      if (entity.component === component) {\n        return entity;\n      }\n\n      entity = entity.parent;\n    }\n  }\n\n});\n\n\n\nvar Neep = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tinstall: install,\n\tError: NeepError,\n\trender: render,\n\tregister: register,\n\tgetNode: getNode,\n\tcreateDeliverComponent: createDeliverComponent,\n\tcreateRenderComponent: createRenderComponent,\n\tcreateContainerComponent: createContainerComponent,\n\tcreateElementComponent: createElementComponent,\n\tcreateStandardComponent: createStandardComponent,\n\tcreateNativeComponent: createNativeComponent,\n\tcreateSimpleComponent: createSimpleComponent,\n\tcreateShellComponent: createShellComponent,\n\tcreateComponent: createStandardComponent,\n\tisSimpleComponent: isSimpleComponent,\n\tisShellComponent: isShellComponent,\n\tisNativeComponent: isNativeComponent,\n\tisRenderComponent: isRenderComponent,\n\tisContainerComponent: isContainerComponent,\n\tisElementComponent: isElementComponent,\n\tisDeliverComponent: isDeliverComponent,\n\tisDeliver: isDeliverComponent,\n\tversion: version,\n\tisProduction: isProduction,\n\tScopeSlot: ScopeSlot,\n\tRender: Render,\n\tSlot: Slot,\n\tContainer: Container,\n\tTemplate: Template,\n\tFragment: Fragment,\n\trendererSymbol: rendererSymbol,\n\tnameSymbol: nameSymbol,\n\tcomponentsSymbol: componentsSymbol,\n\tpropsSymbol: propsSymbol,\n\tcomponentValueSymbol: componentValueSymbol,\n\tobjectTypeSymbol: objectTypeSymbol,\n\tobjectTypeSymbolElement: objectTypeSymbolElement,\n\tobjectTypeSymbolDeliverComponent: objectTypeSymbolDeliverComponent,\n\tobjectTypeSymbolNativeComponent: objectTypeSymbolNativeComponent,\n\tobjectTypeSymbolSimpleComponent: objectTypeSymbolSimpleComponent,\n\tobjectTypeSymbolShellComponent: objectTypeSymbolShellComponent,\n\tobjectTypeSymbolRenderComponent: objectTypeSymbolRenderComponent,\n\tobjectTypeSymbolContainerComponent: objectTypeSymbolContainerComponent,\n\tobjectTypeSymbolElementComponent: objectTypeSymbolElementComponent,\n\tobjectTypeSymbolRootEntity: objectTypeSymbolRootEntity,\n\tdeliverKeySymbol: deliverKeySymbol,\n\tdeliverDefaultSymbol: deliverDefaultSymbol,\n\tvalue: value,\n\tcomputed: computed,\n\tisValue: isValue,\n\tencase: encase,\n\tvalueify: valueify,\n\tasValue: asValue,\n\tmixValue: mixValue,\n\tdefineProperty: defineProperty,\n\twithWatch: withWatch,\n\twithHook: withHook,\n\twithDelivered: withDelivered,\n\twithRefresh: withRefresh,\n\twithParent: withParent,\n\twithChildren: withChildren,\n\twithCallback: withCallback,\n\tcreateElementBase: createElementBase,\n\tcreateTemplateElement: createTemplateElement,\n\tequal: equal,\n\tisElement: isElement,\n\tisRenderElement: isRenderElement,\n\twithLabel: withLabel,\n\tdelayRefresh: delayRefresh,\n\tnextTick: nextTick,\n\taddRendererDraw: addRendererDraw,\n\taddRecognizer: addRecognizer,\n\tisProxy: isProxy,\n\tcreateUse: createUse,\n\tcreateWith: createWith,\n\tcreateElement: createElement,\n\tuseValue: useValue,\n\tref: ref,\n\tlazy: lazy,\n\tcreateRenderElement: createRenderElement,\n\telements: elements,\n\tisFragmentElement: isFragmentElement,\n\tisSimpleElement: isSimpleElement,\n\twithAncestor: withAncestor\n});\n\nexport default Neep;\nexport { Container, NeepError as Error, Fragment, Render, ScopeSlot, Slot, Template, addRecognizer, addRendererDraw, componentValueSymbol, componentsSymbol, createStandardComponent as createComponent, createContainerComponent, createDeliverComponent, createElement, createElementBase, createElementComponent, createNativeComponent, createRenderComponent, createRenderElement, createShellComponent, createSimpleComponent, createStandardComponent, createTemplateElement, createUse, createWith, delayRefresh, deliverDefaultSymbol, deliverKeySymbol, elements, equal, getNode, install, isContainerComponent, isDeliverComponent as isDeliver, isDeliverComponent, isElement, isElementComponent, isFragmentElement, isNativeComponent, isProduction, isProxy, isRenderComponent, isRenderElement, isShellComponent, isSimpleComponent, isSimpleElement, lazy, nameSymbol, nextTick, objectTypeSymbol, objectTypeSymbolContainerComponent, objectTypeSymbolDeliverComponent, objectTypeSymbolElement, objectTypeSymbolElementComponent, objectTypeSymbolNativeComponent, objectTypeSymbolRenderComponent, objectTypeSymbolRootEntity, objectTypeSymbolShellComponent, objectTypeSymbolSimpleComponent, propsSymbol, ref, register, render, rendererSymbol, useValue, version, withAncestor, withCallback, withChildren, withDelivered, withHook, withLabel, withParent, withRefresh, withWatch };\n","/*!\n * NeepRendererHtml v0.1.0-alpha.18\n * (c) 2019-2021 Fierflame\n * @license MIT\n */\nimport { install as install$1, isValue, createContainerComponent, createElement as createElement$1 } from '@neep/core';\n\nconst xmlnsMap = {\n  svg: 'http://www.w3.org/2000/svg',\n  html: 'http://www.w3.org/1999/xhtml',\n  mathml: 'http://www.w3.org/1998/Math/MathML'\n};\nconst SVGTags = new Set(['altGlyph', 'altGlyphDef', 'altGlyphItem', 'animate', 'animateColor', 'animateMotion', 'animateTransform', 'circle', 'clipPath', 'color-profile', 'cursor', 'defs', 'desc', 'ellipse', 'feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence', 'filter', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignObject', 'g', 'glyph', 'glyphRef', 'hkern', 'image', 'line', 'linearGradient', 'marker', 'mask', 'metadata', 'missing-glyph', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'script', 'set', 'stop', 'style', 'svg', 'switch', 'symbol', 'text', 'textPath', 'title', 'tref', 'tspan', 'use', 'view', 'vkern']);\nconst MathMLTags = new Set(['maction', 'math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msubsup', 'msup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'semantics']);\nfunction createElement(tagname, namespace) {\n  const res = /^([a-z][a-z0-9-]*):([a-z0-9-]+)$/i.exec(tagname);\n  const tag = res ? res[2] : tagname;\n  const ns = (namespace || (res === null || res === void 0 ? void 0 : res[1]) || SVGTags.has(tag.toLowerCase()) && 'svg' || MathMLTags.has(tag.toLowerCase()) && 'mathml' || '').toLowerCase();\n\n  if (!ns) {\n    return document.createElement(tag);\n  }\n\n  return document.createElementNS(ns in xmlnsMap && xmlnsMap[ns] || ns, tag);\n}\n\nfunction createComponent(renderer) {\n  const node = createElement('neep-component');\n  return [node, node.attachShadow({\n    mode: 'open'\n  })];\n}\n\nfunction createPlaceholder() {\n  return document.createComment('');\n}\n\nfunction createText(text) {\n  return document.createTextNode(text);\n}\n\nfunction getParent(node) {\n  return node.parentNode;\n}\n\nfunction insertNode(parent, node, next = null) {\n  parent.insertBefore(node, next);\n}\n\nfunction installNeep(renderer) {\n  install$1({\n    renderer\n  });\n}\n\nfunction getId(v) {\n  if (typeof v === 'string') {\n    return v;\n  }\n\n  if (typeof v === 'number') {\n    return String(v);\n  }\n\n  return undefined;\n}\n\nconst PropsMap = new WeakMap();\nfunction updateId(props, el) {\n  const old = PropsMap.get(el);\n  const id = getId(isValue(props.id) ? props.id() : props.id);\n  PropsMap.set(el, id);\n\n  if (id !== old) {\n    if (typeof id === 'string') {\n      el.id = id;\n    } else {\n      el.removeAttribute('id');\n    }\n  }\n}\n\nfunction* recursive2iterable(list) {\n  if (isValue(list)) {\n    yield* recursive2iterable(list());\n    return;\n  }\n\n  if (!Array.isArray(list)) {\n    yield list;\n    return;\n  }\n\n  for (const it of list) {\n    yield* recursive2iterable(it);\n  }\n}\n\nfunction getClass(list) {\n  const set = new Set();\n\n  for (const v of recursive2iterable(list)) {\n    if (!v) {\n      continue;\n    }\n\n    if (typeof v === 'string') {\n      for (let k of v.split(' ').filter(Boolean)) {\n        set.add(k);\n      }\n    } else if (typeof v === 'object') {\n      for (const k in v) {\n        let add = v[k];\n\n        if (isValue(add)) {\n          add = add.value;\n        }\n\n        for (let it of k.split(' ').filter(Boolean)) {\n          set[add ? 'add' : 'delete'](it);\n        }\n      }\n    }\n  }\n\n  if (!set.size) {\n    return undefined;\n  }\n\n  return set;\n}\n\nfunction update(el, classes, oClasses) {\n  if (classes && oClasses) {\n    const list = el.getAttribute('class') || '';\n    const classList = new Set(list.split(' ').filter(Boolean));\n    oClasses.forEach(c => classList.delete(c));\n    classes.forEach(c => classList.add(c));\n    el.setAttribute('class', [...classList].join(' '));\n  } else if (classes) {\n    el.setAttribute('class', [...classes].join(' '));\n  } else if (oClasses) {\n    el.removeAttribute('class');\n  }\n}\n\nconst PropsMap$1 = new WeakMap();\nfunction updateClass(props, el) {\n  const old = PropsMap$1.get(el);\n  const classes = getClass(isValue(props.class) ? props.class() : props.class);\n  update(el, classes, old);\n  PropsMap$1.set(el, classes);\n}\n\nconst unit = {\n  'width': 'px',\n  'height': 'px',\n  'top': 'px',\n  'right': 'px',\n  'bottom': 'px',\n  'left': 'px',\n  'border': 'px',\n  'border-top': 'px',\n  'border-right': 'px',\n  'border-left': 'px',\n  'border-bottom': 'px',\n  'border-width': 'px',\n  'border-top-width': 'px',\n  'border-right-width': 'px',\n  'border-left-width': 'px',\n  'border-bottom-width': 'px',\n  'border-radius': 'px',\n  'border-top-left-radius': 'px',\n  'border-top-right-radius': 'px',\n  'border-bottom-left-radius': 'px',\n  'border-bottom-right-radius': 'px',\n  'padding': 'px',\n  'padding-top': 'px',\n  'padding-right': 'px',\n  'padding-left': 'px',\n  'padding-bottom': 'px',\n  'margin': 'px',\n  'margin-top': 'px',\n  'margin-right': 'px',\n  'margin-left': 'px',\n  'margin-bottom': 'px'\n};\n\nfunction getStyle(style) {\n  if (isValue(style)) {\n    style = style();\n  }\n\n  if (typeof style === 'string') {\n    return style;\n  }\n\n  if (!style) {\n    return undefined;\n  }\n\n  if (typeof style !== 'object') {\n    return undefined;\n  }\n\n  const css = Object.create(null);\n\n  for (let k in style) {\n    let value = style[k];\n\n    if (isValue(value)) {\n      value = value();\n    }\n\n    const key = k.substr(0, 2) === '--' ? k : k.replace(/[A-Z]/g, '-$1').replace(/-+/g, '-').toLowerCase();\n\n    if (typeof value === 'number') {\n      const str = value && k in unit ? `${value}${unit[k]}` : `${value}`;\n      css[key] = [str, undefined];\n    } else if (value && typeof value === 'string') {\n      const v = value.replace(/!important\\s*$/, '');\n      css[key] = [v, v === value ? undefined : 'important'];\n    }\n  }\n\n  return css;\n}\n\nfunction update$1(css, style, oStyle) {\n  if (!style) {\n    if (!oStyle) {\n      return;\n    }\n\n    if (typeof oStyle === 'string') {\n      css.cssText = '';\n      return;\n    }\n\n    for (const k of Object.keys(oStyle)) {\n      css.removeProperty(k);\n    }\n\n    return;\n  }\n\n  if (typeof style === 'string') {\n    if (style !== typeof oStyle) {\n      css.cssText = style;\n    }\n\n    return;\n  }\n\n  if (!oStyle || typeof oStyle === 'string') {\n    if (typeof oStyle === 'string') {\n      css.cssText = '';\n    }\n\n    for (const k of Object.keys(style)) {\n      css.setProperty(k, ...style[k]);\n    }\n\n    return;\n  }\n\n  for (const k of Object.keys(style)) {\n    const v = style[k];\n\n    if (!oStyle[k] || oStyle[k][0] !== v[0] || oStyle[k][1] !== v[1]) {\n      css.setProperty(k, ...v);\n    }\n  }\n\n  for (const k of Object.keys(oStyle)) {\n    if (!style[k]) {\n      css.removeProperty(k);\n    }\n  }\n}\n\nconst PropsMap$2 = new WeakMap();\nfunction updateStyle(props, el, css, hasStyle) {\n  if (!hasStyle) {\n    return undefined;\n  }\n\n  const old = PropsMap$2.get(el);\n  const style = getStyle(isValue(props.style) ? props.style() : props.style);\n  update$1(css, style, old);\n  PropsMap$2.set(el, style);\n  return style;\n}\n\nfunction setAttrs(el, attrs) {\n  if (el instanceof HTMLInputElement && 'checked' in attrs) {\n    switch (el.type.toLowerCase()) {\n      case 'checkbox':\n      case 'radio':\n        if (attrs.checked !== null !== el.checked) {\n          el.checked = attrs.checked !== null;\n        }\n\n    }\n  }\n\n  if ((el instanceof HTMLSelectElement || el instanceof HTMLInputElement || el instanceof HTMLTextAreaElement) && 'value' in attrs) {\n    const value = attrs.value || '';\n\n    if (el.value !== value) {\n      el.value = value;\n    }\n  }\n\n  if (el instanceof HTMLDetailsElement && 'open' in attrs) {\n    const value = attrs.open !== null;\n\n    if (el.open !== value) {\n      el.open = value;\n    }\n  }\n\n  if (el instanceof HTMLMediaElement) {\n    if ('muted' in attrs) {\n      const value = attrs.muted !== null;\n\n      if (el.muted !== value) {\n        el.muted = value;\n      }\n    }\n\n    if ('paused' in attrs) {\n      const value = attrs.paused !== null;\n\n      if (el.paused !== value) {\n        if (value) {\n          el.pause();\n        } else {\n          el.play();\n        }\n      }\n    }\n\n    if ('currentTime' in attrs) {\n      const value = attrs.currentTime;\n\n      if (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n        const num = Number(value);\n\n        if (el.currentTime !== num) {\n          el.currentTime = num;\n        }\n      }\n    }\n\n    if ('playbackRate' in attrs) {\n      const value = attrs.playbackRate;\n\n      if (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n        const num = Number(value);\n\n        if (el.playbackRate !== num) {\n          el.playbackRate = num;\n        }\n      }\n    }\n\n    if ('volume' in attrs) {\n      const value = attrs.volume;\n\n      if (value && /^\\d+(\\.\\d+)?$/.test(value)) {\n        const num = Number(value);\n\n        if (el.volume !== num) {\n          el.volume = num;\n        }\n      }\n    }\n  }\n}\n\nfunction stringify(data, isOn = false) {\n  if (data === undefined || data === null) {\n    return data;\n  }\n\n  if (isOn && typeof data === 'function') {\n    return undefined;\n  }\n\n  if (typeof data === 'boolean') {\n    return data ? '' : null;\n  }\n\n  if (typeof data !== 'object') {\n    return String(data);\n  }\n\n  if (data instanceof Date) {\n    return data.toISOString();\n  }\n\n  if (data instanceof RegExp) {\n    return data.toString();\n  }\n\n  return JSON.stringify(data);\n}\n\nfunction getAttrs(props, hasStyle) {\n  const attrs = Object.create(null);\n\n  for (const k in props) {\n    if (/^(n|on|bind|slot)[:-]/.test(k)) {\n      continue;\n    }\n\n    if (!/^[a-zA-Z:_][a-zA-Z0-9:_-]*$/.test(k)) {\n      continue;\n    }\n\n    const name = k.toLowerCase();\n\n    switch (name) {\n      case 'style':\n        if (!hasStyle) {\n          break;\n        }\n\n      case 'ref':\n      case 'is':\n      case 'id':\n      case 'class':\n        continue;\n    }\n\n    let data = props[k];\n\n    if (isValue(data)) {\n      data = data();\n    }\n\n    const value = stringify(data, name.substr(0, 2) === 'on');\n\n    if (value !== undefined) {\n      attrs[name] = value;\n    }\n  }\n\n  return attrs;\n}\n\nfunction update$2(el, attrs, old) {\n  for (const k of Object.keys(attrs)) {\n    const v = attrs[k];\n\n    if (!(k in old) || old[k] !== v) {\n      if (v === null) {\n        el.removeAttribute(k);\n      } else {\n        el.setAttribute(k, v);\n      }\n    }\n  }\n\n  for (const k of Object.keys(old)) {\n    if (!(k in attrs)) {\n      el.removeAttribute(k);\n    }\n  }\n}\n\nconst PropsMap$3 = new WeakMap();\nfunction updateAttrs(props, el, hasStyle) {\n  const old = PropsMap$3.get(el) || {};\n  const attrs = getAttrs(props, hasStyle);\n  update$2(el, attrs, old);\n  setAttrs(el, attrs);\n  PropsMap$3.set(el, attrs);\n}\n\nfunction* getElementModel(el) {\n  if (el instanceof HTMLInputElement) {\n    switch (el.type.toLowerCase()) {\n      case 'checkbox':\n        yield ['indeterminate', 'change', e => e.currentTarget.indeterminate];\n        return yield ['checked', 'change', e => e.currentTarget.checked];\n\n      case 'radio':\n        return yield ['checked', 'change', e => e.currentTarget.checked];\n    }\n\n    return yield ['value', 'input', e => e.currentTarget.value];\n  }\n\n  if (el instanceof HTMLTextAreaElement) {\n    return yield ['value', 'input', e => e.currentTarget.value];\n  }\n\n  if (el instanceof HTMLSelectElement) {\n    return yield ['value', 'change', e => e.currentTarget.value];\n  }\n\n  if (el instanceof HTMLDetailsElement) {\n    return yield ['open', 'toggle', e => e.currentTarget.open];\n  }\n\n  if (el instanceof HTMLMediaElement) {\n    yield ['currentTime', 'timeupdate', e => e.currentTarget.currentTime];\n    yield ['playbackRate', 'ratechange', e => e.currentTarget.playbackRate];\n    yield ['volume', 'volumechange', e => e.currentTarget.volume];\n    yield ['muted', 'volumechange', e => e.currentTarget.muted];\n    yield ['paused', 'playing', e => e.currentTarget.paused];\n    return yield ['paused', 'pause', e => e.currentTarget.paused];\n  }\n}\n\nconst ValueEventMap = new WeakMap();\n\nfunction getValueEventBind(el) {\n  let list = ValueEventMap.get(el);\n\n  if (list) {\n    return list;\n  }\n\n  list = Object.create(null);\n  ValueEventMap.set(el, list);\n  return list;\n}\n\nconst bindMap = new WeakMap();\n\nfunction getEventBind(el) {\n  let list = bindMap.get(el);\n\n  if (list) {\n    return list;\n  }\n\n  list = Object.create(null);\n  bindMap.set(el, list);\n  return list;\n}\n\nfunction updateEvent(props, el, emit) {\n  const valueEventMap = getValueEventBind(el);\n\n  for (const [prop, name, t] of getElementModel(el)) {\n    const value = props[prop];\n    const item = valueEventMap[prop];\n\n    if (item && item[0] === value) {\n      continue;\n    }\n\n    if (item) {\n      item[1]();\n    }\n\n    if (!isValue(value)) {\n      continue;\n    }\n\n    const f = e => {\n      value(t(e));\n    };\n\n    el.addEventListener(name, f);\n    valueEventMap[name] = [value, () => el.removeEventListener(name, f)];\n  }\n\n  const names = new Set(emit.names.map(String));\n  const eventBind = getEventBind(el);\n\n  for (const k of Object.keys(eventBind)) {\n    if (names.has(k)) {\n      continue;\n    }\n\n    eventBind[k]();\n    delete eventBind[k];\n  }\n\n  for (const k of names) {\n    if (k in eventBind) {\n      continue;\n    }\n\n    const f = p => emit(k, p);\n\n    el.addEventListener(k, f);\n\n    eventBind[k] = () => {\n      el.removeEventListener(k, f);\n    };\n  }\n}\n\nfunction updateProps(renderer, el, props, emit) {\n  const css = el.style;\n  const hasStyle = css instanceof CSSStyleDeclaration;\n  updateId(props, el);\n  updateClass(props, el);\n  updateAttrs(props, el, hasStyle);\n  updateStyle(props, el, css, hasStyle);\n  updateEvent(props, el, emit);\n  return el;\n}\n\nfunction nextFrame(f) {\n  window.requestAnimationFrame(f);\n}\n\nfunction getTarget(renderer, container, target, parent) {\n  if (isValue(target)) {\n    target = target.value;\n  }\n\n  if (target === null) {\n    return {\n      target: container,\n      insert: null,\n      next: null\n    };\n  }\n\n  if (typeof target === 'string') {\n    target = document.querySelector(target);\n  }\n\n  if (target instanceof Element) {\n    return {\n      target,\n      insert: null,\n      next: null\n    };\n  }\n\n  return {\n    target: null,\n    insert: null,\n    next: null\n  };\n}\n\nfunction mountContainer(renderer, element, {\n  target: targetProps,\n  ...props\n}, emit, parent) {\n  const container = createElement('div');\n  updateProps(renderer, container, (element === null || element === void 0 ? void 0 : element.props) || props, emit);\n  return { ...getTarget(renderer, container, targetProps),\n    container,\n    exposed: null\n  };\n}\n\nfunction unmountContainer(renderer, container, node) {\n  if (node === null) {\n    container.remove();\n  }\n}\n\nfunction updateContainer(renderer, container, element, {\n  target,\n  ...props\n}, emit, parent) {\n  updateProps(renderer, container, (element === null || element === void 0 ? void 0 : element.props) || props, emit);\n  return getTarget(renderer, container, target);\n}\n\nfunction removeNode(renderer, node) {\n  const p = renderer.getParent(node);\n\n  if (!p) {\n    return;\n  }\n\n  p.removeChild(node);\n}\n\nfunction getContainer(renderer, container, target, next) {\n  if (typeof target === 'string') {\n    target = document.querySelector(target);\n  }\n\n  if (target === null) {\n    return [null, null];\n  }\n\n  if (!(target instanceof Element)) {\n    target = document.body;\n  }\n\n  if (typeof next === 'string') {\n    next = document.querySelector(next);\n  }\n\n  if (!(next instanceof Element) || next.parentElement !== target) {\n    next = null;\n  }\n\n  return [target, next];\n}\n\nconst renderer = {\n  type: 'html',\n  nextFrame,\n\n  isNode(v) {\n    return v instanceof Node;\n  },\n\n  getContainer(container, target, next) {\n    return getContainer(this, container, target, next);\n  },\n\n  mountContainer(data, props, emit, parent) {\n    return mountContainer(this, data, props, emit);\n  },\n\n  updateContainer(container, target, insert, next, data, props, emit, parent) {\n    return updateContainer(this, container, data, props, emit);\n  },\n\n  recoveryContainer() {},\n\n  unmountContainer(container, data, props, parent) {\n    return unmountContainer(this, container, data);\n  },\n\n  getMountOptions() {},\n\n  createElement(data) {\n    if (!data || typeof data !== 'string') {\n      return null;\n    }\n\n    return createElement(data);\n  },\n\n  createText(text) {\n    return createText(text);\n  },\n\n  createPlaceholder() {\n    return createPlaceholder();\n  },\n\n  createComponent() {\n    return createComponent();\n  },\n\n  getParent(node) {\n    return getParent(node);\n  },\n\n  nextNode(node) {\n    return node.nextSibling;\n  },\n\n  updateProps(node, data, props, emit) {\n    updateProps(this, node, props, emit);\n  },\n\n  insertNode(parent, node, next = null) {\n    return insertNode(parent, node, next);\n  },\n\n  removeNode(node) {\n    return removeNode(this, node);\n  }\n\n};\n\nlet Container;\nfunction initContainer() {\n  Container = createContainerComponent(createElement$1(''), {\n    renderer,\n    name: '[HTML]'\n  });\n}\n\nfunction init() {\n  initContainer();\n}\n\nfunction install(Neep) {}\ninstallNeep(renderer);\ninit();\n\n\n\nvar NeepHtmlRender = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\trenderer: renderer,\n\tinstall: install,\n\tget Container () { return Container; }\n});\n\nexport default NeepHtmlRender;\nexport { Container, install, renderer };\n","/*!\n * NeepDevtools v0.1.0-alpha.10\n * (c) 2019-2021 Fierflame\n * @license MIT\n */\nimport Neep, { install as install$2, value, createElementBase, Slot, createTemplateElement, getNode, Render, isProxy, isContainerComponent, isSimpleComponent, isDeliverComponent, nameSymbol, encase, createRenderElement, isValue, asValue, render as render$1 } from '@neep/core';\n\nlet Type;\n\n(function (Type) {\n  Type[\"tag\"] = \"tag\";\n  Type[\"placeholder\"] = \"placeholder\";\n  Type[\"standard\"] = \"standard\";\n  Type[\"simple\"] = \"simple\";\n  Type[\"native\"] = \"native\";\n  Type[\"container\"] = \"container\";\n  Type[\"special\"] = \"special\";\n  Type[\"deliver\"] = \"deliver\";\n})(Type || (Type = {}));\n\nfunction install() {\n  return install$2;\n}\n\nconst Deliver = Neep.createDeliverComponent({\n  keys: {},\n  selected: value(-1),\n  options: {}\n});\n\nfunction NodeTag({\n  proxy,\n  key,\n  switchOpen,\n  opened,\n  setSelected,\n  selected\n}) {\n  const childNodes = opened ? getChildTree(proxy) : [];\n  const hasChildNodes = Boolean(opened && childNodes.length);\n  return createElementBase('div', {\n    style: `\n\t\t\tposition: relative;\n\t\t\tmin-height: 20px;\n\t\t\tfont-size: 14px;\n\t\t\tline-height: 20px;\n\t\t\tpadding-left: 20px;\n\t\t\tbackground: ${selected ? '#CCC' : ''};\n\t\t`\n  }, createElementBase('div', {\n    style: `\n\t\t\tposition: absolute;\n\t\t\tleft: 0;\n\t\t\ttop: 0;\n\t\t\twidth: 20px;\n\t\t\theight: 20px;\n\t\t\ttext-align: center;\n\t\t\tcursor: pointer;\n\t\t\tbackground: #DDD;\n\t\t\t`,\n    'on:click': switchOpen\n  }, opened ? '-' : '+'), createElementBase('div', {\n    'on:click': setSelected\n  }, '<', createElementBase(Slot), getKey(key), '>', !hasChildNodes && createTemplateElement(opened ? createElementBase('span') : createElementBase('span', null, '...'), '</', createElementBase(Slot), '>')), hasChildNodes && createTemplateElement(createElementBase('div', {\n    style: 'padding-left: 20px'\n  }, childNodes), createElementBase('div', {\n    'on-click': setSelected\n  }, '</', createElementBase(Slot), '>')));\n}\n\nfunction ValueTag({\n  proxy,\n  switchOpen,\n  opened,\n  setSelected,\n  selected\n}) {\n  const {\n    text\n  } = proxy;\n  const childNodes = opened ? typeof text === 'string' ? [text] : getChildTree(proxy) : [];\n  const hasChildNodes = Boolean(opened && childNodes.length);\n  return createElementBase('div', {\n    style: `\n\t\t\t\tposition: relative;\n\t\t\t\tmin-height: 20px;\n\t\t\t\tfont-size: 14px;\n\t\t\t\tline-height: 20px;\n\t\t\t\tpadding-left: 20px;\n\t\t\t\tbackground: ${selected ? '#CCC' : ''};\n\t\t\t`\n  }, createElementBase('div', {\n    style: 'position: absolute; left: 0; top: 0; width: 20px; height: 20px; text-align: center; cursor: pointer; background: #DDD;',\n    'on:click': switchOpen\n  }, opened ? '-' : '+'), createElementBase('div', {\n    'on:click': setSelected\n  }, createElementBase('span', {\n    style: 'font-style: italic;font-weight: bold;'\n  }, '[Value]'), !hasChildNodes && createTemplateElement(opened ? createElementBase('span') : createElementBase('span', null, '...'), createElementBase('span', {\n    style: 'font-style: italic;font-weight: bold;'\n  }, '[/Value]'))), hasChildNodes && createTemplateElement(createElementBase('div', {\n    style: 'padding-left: 20px'\n  }, childNodes), createElementBase('div', {\n    'on:click': setSelected,\n    style: 'font-style: italic; font-weight: bold;'\n  }, '[/Value]')));\n}\n\nfunction getType(proxy) {\n  if (isProxy(proxy, 'component')) {\n    return '';\n  }\n\n  if (isProxy(proxy, 'container')) {\n    return 'container';\n  }\n\n  if (isProxy(proxy, 'deliver')) {\n    return 'deliver';\n  }\n\n  if (isProxy(proxy, 'element')) {\n    return 'native';\n  }\n\n  if (isProxy(proxy, 'shell')) {\n    return 'shell';\n  }\n\n  if (isProxy(proxy, 'slot')) {\n    return 'scopeSlot';\n  }\n\n  if (isSimpleComponent(proxy.tag)) {\n    return 'simple';\n  }\n\n  if (isProxy(proxy, 'group')) {\n    return 'group';\n  }\n\n  return null;\n}\n\nconst render = Neep.createRenderComponent(({\n  tagId,\n  keys,\n  selected,\n  setSelected,\n  switchOpen,\n  options\n}) => {\n  const el = getNode(tagId);\n\n  if (!el) {\n    return null;\n  }\n\n  const selectedThis = selected.value === tagId;\n\n  if (!el.proxy && !el.tag) {\n    if (!options.placeholder) {\n      return null;\n    }\n\n    return createElementBase('span', {\n      'on:click': setSelected,\n      style: `font-weight: bold; background: ${selectedThis ? '#CCC' : ''};`\n    }, '[', el.tag === null ? 'Placeholder' : 'Native', ']');\n  }\n\n  const {\n    proxy,\n    tag\n  } = el;\n\n  if (tag === Render) {\n    if (!options.slotRender) {\n      return null;\n    }\n\n    return createElementBase('div', {\n      'on:click': setSelected,\n      key: tagId,\n      style: `\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tmin-height: 20px;\n\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\tline-height: 20px;\n\t\t\t\t\tbackground: ${selectedThis ? '#CCC' : ''};\n\t\t\t\t`\n    }, '<', createElementBase('span', {\n      style: 'font-style: italic;'\n    }, 'Render'), getKey(el.key), '/>');\n  }\n\n  if (isProxy(proxy, 'value')) {\n    if (!proxy.isValue) {\n      const {\n        text\n      } = proxy;\n\n      if (typeof text !== 'string') {\n        return createTemplateElement(getChildTree(proxy));\n      }\n\n      if (!options.value) {\n        return null;\n      }\n\n      return createTemplateElement(text);\n    }\n\n    if (!options.value) {\n      if (typeof proxy.text === 'string') {\n        return null;\n      }\n\n      return createTemplateElement(getChildTree(proxy));\n    }\n\n    return createElementBase(ValueTag, {\n      opened: keys[tagId],\n      selected: selectedThis,\n      setSelected: setSelected,\n      proxy: proxy,\n      switchOpen: switchOpen\n    });\n  }\n\n  const type = getType(proxy);\n\n  if (type === null) {\n    return null;\n  }\n\n  if (type && !options[type]) {\n    return createTemplateElement(getChildTree(proxy));\n  }\n\n  let tagName = null;\n\n  switch (type) {\n    case '':\n      tagName = createElementBase('span', {\n        style: 'font-weight: bold;'\n      }, getTagName(tag));\n      break;\n\n    case 'container':\n      if (isContainerComponent(tag)) {\n        tagName = createElementBase('span', {\n          style: 'font-style: italic;font-weight: bold;'\n        }, getTagName(tag));\n      } else {\n        tagName = createElementBase('span', {\n          style: 'font-style: italic;'\n        }, 'Container');\n      }\n\n      break;\n\n    case 'deliver':\n      tagName = createElementBase('span', {\n        style: 'font-style: italic;'\n      }, 'Deliver');\n      break;\n\n    case 'scopeSlot':\n      tagName = createElementBase('span', {\n        style: 'font-style: italic;'\n      }, 'ScopeSlot');\n      break;\n\n    case 'group':\n      tagName = createElementBase('span', {\n        style: 'font-style: italic;'\n      }, 'Template');\n      break;\n\n    case 'native':\n      tagName = getTagName(tag);\n      break;\n\n    case 'shell':\n      tagName = createElementBase('span', {\n        style: 'text-decoration: underline;font-weight: bold;'\n      }, getTagName(tag));\n      break;\n\n    case 'simple':\n      tagName = createElementBase('span', {\n        style: 'text-decoration: line-through;font-weight: bold;'\n      }, getTagName(tag));\n      break;\n  }\n\n  return createElementBase(NodeTag, {\n    key: el.key,\n    opened: keys[tagId],\n    selected: selectedThis,\n    setSelected: setSelected,\n    proxy: proxy,\n    switchOpen: switchOpen\n  }, tagName);\n});\nfunction TreeNode({\n  tagId\n}) {\n  const {\n    keys,\n    selected,\n    options\n  } = Neep.withDelivered(Deliver);\n\n  function setSelected() {\n    selected.value = selected.value === tagId ? -1 : tagId;\n  }\n\n  function switchOpen() {\n    keys[tagId] = !keys[tagId];\n  }\n\n  return render({\n    keys,\n    selected,\n    tagId,\n    setSelected,\n    switchOpen,\n    options\n  });\n}\n\nfunction getKey(key) {\n  if (typeof key === 'string') {\n    return ` key=${JSON.stringify(key)}`;\n  }\n\n  if (typeof key === 'number') {\n    return ` key=${key}`;\n  }\n\n  if (typeof key === 'boolean') {\n    return ` key=${key}`;\n  }\n\n  if (typeof key === 'bigint') {\n    return ` key=${key}`;\n  }\n\n  if (typeof key === 'symbol') {\n    return ` key=${String(key)}`;\n  }\n\n  if (key === null) {\n    return ` key=${key}`;\n  }\n\n  if (key !== undefined) {\n    return ` key=${String(key)}`;\n  }\n}\nfunction getChildTree(proxy) {\n  const childNodes = proxy.content.flat(Infinity).map(t => createElementBase(TreeNode, {\n    'n:key': t.id,\n    tagId: t.id\n  }));\n  return childNodes;\n}\nfunction getTagName(tag) {\n  if (!tag) {\n    return '';\n  }\n\n  if (typeof tag === 'string') {\n    return tag;\n  }\n\n  if (isDeliverComponent(tag)) {\n    return 'Deliver';\n  }\n\n  return tag[nameSymbol] || tag.name;\n}\n\nvar Tree = (props => {\n  const value = {\n    keys: encase({}),\n    options: props.options,\n    selected: props.selected\n  };\n  return createRenderElement(() => createElementBase(Deliver, {\n    value: value\n  }, getChildTree(props.container)));\n});\n\nfunction getKeyValue(key) {\n  if (typeof key === 'string') {\n    return JSON.stringify(key);\n  }\n\n  if (typeof key === 'number') {\n    return `${key}`;\n  }\n\n  if (typeof key === 'boolean') {\n    return `${key}`;\n  }\n\n  if (typeof key === 'bigint') {\n    return `${key}`;\n  }\n\n  if (typeof key === 'symbol') {\n    return `${String(key)}`;\n  }\n\n  if (key === null) {\n    return `${key}`;\n  }\n\n  if (key !== undefined) {\n    return `${String(key)}`;\n  }\n}\nfunction getValue(value) {\n  const type = typeof value;\n\n  if (type === 'function') {\n    return createElementBase('span', {\n      style: 'font-weight: bold;'\n    }, '[Function]');\n  }\n\n  if (type === 'string') {\n    return createElementBase('span', null, value);\n  }\n\n  if (type === 'bigint' || type === 'boolean' || type === 'number' || type === 'symbol' || type === 'undefined' || value === null) {\n    return createElementBase('span', {\n      style: 'font-style: italic;'\n    }, String(value));\n  } else if (value instanceof RegExp) {\n    return createElementBase('span', {\n      style: 'font-weight: bold;'\n    }, String(value));\n  } else if (value instanceof Date) {\n    return createElementBase('span', {\n      style: 'font-weight: bold;'\n    }, value.toISOString());\n  } else if (type === 'object') {\n    return createElementBase('span', {\n      style: 'font-style: italic;'\n    }, String(value));\n  }\n\n  return null;\n}\n\nfunction Prop ({\n  props,\n  key\n}) {\n  let p = props[key];\n  let propIsValue = false;\n\n  if (isValue(p)) {\n    propIsValue = true;\n    p = p();\n  }\n\n  return createElementBase('div', null, key, ': ', propIsValue && createElementBase('span', {\n    style: 'font-weight: bold;'\n  }, '[Value: '), getValue(p), propIsValue && createElementBase('span', {\n    style: 'font-weight: bold;'\n  }, ' ]'));\n}\n\nfunction Attr({\n  selected\n}) {\n  const element = getNode(selected.value);\n\n  if (!element) {\n    return createElementBase('temlpate');\n  }\n\n  const {\n    props = {}\n  } = element;\n  return createElementBase('div', null, createElementBase('div', null, 'key:', getKeyValue(element.key)), createElementBase('div', null, '属性: '), Object.keys(props).map(k => createElementBase(Prop, {\n    'n:key': k,\n    'key': k,\n    props\n  })));\n}\n\nfunction Settings (props) {\n  const options = asValue(props.options);\n  const value = options('value');\n  const tag = options('tag');\n  const placeholder = options('placeholder');\n  const simple = options('simple');\n  const container = options('container');\n  const scopeSlot = options('scopeSlot');\n  const slotRender = options('slotRender');\n  const deliver = options('deliver');\n  const native = options('native');\n  const group = options('group');\n  const shell = options('shell');\n  return createElementBase('div', null, createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: value\n  }), 'value'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: tag\n  }), 'tag'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: placeholder\n  }), 'placeholder'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: simple\n  }), 'simple'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: container\n  }), 'container'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: scopeSlot\n  }), 'scopeSlot'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: slotRender\n  }), 'slotRender'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: deliver\n  }), 'deliver'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: native\n  }), 'native'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: group\n  }), 'group'), createElementBase('label', null, createElementBase('input', {\n    type: 'checkbox',\n    checked: shell\n  }), 'shell'));\n}\n\nfunction DefaultContainer(props) {\n  return createElementBase('template', null, createElementBase(Slot, {\n    name: 'settings'\n  }), createElementBase(Slot, {\n    name: 'tree'\n  }), createElementBase(Slot, {\n    name: 'attr'\n  }));\n}\n\nlet currentContainer = DefaultContainer;\nfunction setContainer(container) {\n  currentContainer = typeof container === 'function' ? container : DefaultContainer;\n}\n\nlet creating = false;\nfunction renderHook(rootEntity, container) {\n  if (creating) {\n    return;\n  }\n\n  rootEntity.setHook('mounted', () => {\n    creating = true;\n\n    try {\n      const options = encase({});\n      const selected = value(-1);\n      render$1(createElementBase(currentContainer, {\n        options\n      }, createElementBase(Tree, {\n        'n:slot': 'tree',\n        container,\n        options,\n        selected\n      }), createElementBase(Settings, {\n        'n:slot': 'settings',\n        options\n      }), createElementBase(Attr, {\n        'n:slot': 'attr',\n        selected\n      }))).mount();\n    } finally {\n      creating = false;\n    }\n  });\n}\n\nconst devtools = {\n  renderHook\n};\n\ninstall()({\n  devtools\n});\nfunction install$1(Neep) {}\n\n\n\nvar NeepDevtools = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tinstall: install$1,\n\tsetContainer: setContainer,\n\tget Type () { return Type; }\n});\n\nexport default NeepDevtools;\nexport { Type, install$1 as install, setContainer };\n","export {\n\tvalue,\n\tisValue,\n\tregister,\n\tError,\n\tcreateElementBase,\n\tcreateShellComponent,\n\tcreateDeliverComponent,\n\tcreateWith,\n\twithDelivered,\n\twithLabel,\n} from '@neep/core';\n\n\nexport default function installNeep(Neep: typeof import ('@neep/core').default) {\n}\n","import Neep from '@neep/core';\nimport { createDeliverComponent } from './neep';\nimport Router from '../Router';\n\nexport interface RouterDeliver {\n\trouter: Router;\n\tdepth: number;\n}\nexport let RouterDeliver: Neep.DeliverComponent<RouterDeliver | undefined>;\n\nexport default function initDelivers() {\n\tRouterDeliver = createDeliverComponent<RouterDeliver>();\n}\n","import { createShellComponent, createElementBase, withLabel, withDelivered } from './install/neep';\nimport Router from './Router';\nimport { RouterDeliver } from './install/initDelivers';\nimport { ViewProps } from './types';\n\n\nfunction getDepth(\n\trouter: Router,\n\tdef: number,\n\tdepthProp: number | undefined,\n) {\n\tif (typeof depthProp !== 'number') { return def; }\n\tif (!Number.isInteger(depthProp)) { return def; }\n\tif (depthProp < 0) { return router.size + depthProp; }\n\treturn depthProp;\n}\n\nfunction get(props: ViewProps): RouterDeliver | null {\n\tconst propsRouter = props.router;\n\tif (propsRouter instanceof Router) {\n\t\tlet depth = getDepth(propsRouter, 0, props.depth);\n\t\tif (depth < 0) { return null; }\n\t\treturn { router: propsRouter, depth};\n\t}\n\tconst routerDeliver = withDelivered(RouterDeliver);\n\tif (!routerDeliver) { return null; }\n\tconst {router} = routerDeliver;\n\tlet depth = getDepth(router, routerDeliver.depth + 1, props.depth);\n\tif (depth < 0) { return null; }\n\treturn { router, depth };\n\n}\nexport default createShellComponent<ViewProps, any>(function RouterView(\n\tprops,\n\tcontext,\n) {\n\tconst info = get(props);\n\tif (!info) { return null; }\n\tconst {router} = info;\n\tlet {depth} = info;\n\n\tconst name = props.name || 'default';\n\tfor(let match = router._get(depth); match; match = router._get(++depth)) {\n\t\tconst { components } = match.route;\n\t\tif (!components) { continue; }\n\t\tif (!(name in components)) { continue; }\n\t\tconst component = components[name];\n\t\tif (!component) { continue; }\n\t\twithLabel({text: `{path=${match.path}}[${name}]`, color: '#987654'});\n\t\treturn createElementBase(\n\t\t\tRouterDeliver,\n\t\t\t{ value: { depth, router }},\n\t\t\tcreateElementBase(component, props),\n\t\t);\n\t}\n\treturn context.childNodes() as any;\n}, { name: 'RouterView'});\n","import RouterView from '../View';\nimport RouterLink from '../Link';\nimport { register } from './neep';\n\nexport default function installComponents() {\n\tregister('RouterView', RouterView);\n\tregister('router-view', RouterView);\n\tregister('RouterLink', RouterLink);\n\tregister('router-link', RouterLink);\n}\n","import {\n\tcreateWith,\n\twithDelivered,\n} from './neep';\nimport { RouterDeliver } from './initDelivers';\nimport Router from '../Router';\nimport { Match, RouteContext } from '../types';\n\n\nexport function createRouteContext(router: Router, depth: number): RouteContext {\n\treturn {\n\t\tget size(): number { return router.size; },\n\t\tget matches(): Match[] { return router.matches; },\n\t\tget match(): Match | undefined { return router._get(depth); },\n\t\tget alias(): string { return router.alias; },\n\t\tget path(): string { return router.path; },\n\t\tget search(): string { return router.search; },\n\t\tget hash(): string { return router.hash; },\n\t\tget state(): string { return router.state; },\n\t\tget params(): Record<string, string> { return router.params; },\n\t\tget query(): Record<string, any> { return router.query; },\n\t\tget meta(): Record<string, any> { return router.meta; },\n\t\tget router() { return router ; },\n\t\tpush(location: Location | string, state?: any): void {\n\t\t\treturn router.push(location, state);\n\t\t},\n\t\treplace(location: Location | string, state?: any): void {\n\t\t\treturn router.replace(location, state);\n\t\t},\n\t\tgetUrl(location: Location | string): string {\n\t\t\treturn router.getUrl(location);\n\t\t},\n\t\tgo(index: number): void {\n\t\t\treturn router.go(index);\n\t\t},\n\t\tback(): void {\n\t\t\treturn router.back();\n\t\t},\n\t\tforward(): void {\n\t\t\treturn router.forward();\n\t\t},\n\t};\n}\n\nexport let withRouter: (() => RouteContext | undefined);\nexport default function init() {\n\twithRouter = createWith({\n\t\tname: 'withRouter',\n\t\tcreate() {\n\t\t\tconst data = withDelivered(RouterDeliver);\n\t\t\tif (!data) { return; }\n\t\t\tconst {router, depth} = data;\n\t\t\treturn createRouteContext(router, depth);\n\t\t},\n\t});\n}\n","import installComponents from './installComponents';\nimport initDelivers from './initDelivers';\nimport initWith from './initWith';\n\nexport default [\n\tinstallComponents,\n\tinitDelivers,\n\tinitWith,\n];\n","import moduleList from './moduleList';\n\nexport default function install(Neep: typeof import ('@neep/core').default) {\n}\nfor (const f of moduleList) {\n\tf();\n}\n","import { LinkProps } from './types';\nimport { createElementBase, createShellComponent } from './install/neep';\nimport { withRouter } from './install';\n\n\nexport default createShellComponent<LinkProps, any>(function RouterLink(props, context) {\n\tconst { childNodes } = context;\n\tconst route = withRouter();\n\tif (!route) { return createElementBase('template', {}, ...childNodes()); }\n\tlet {to, append, replace, path, search, hash, query, alias, params} = props;\n\tif (!to) {\n\t\tto = { path, search, hash, query, alias, params };\n\t} else if (typeof to === 'string') {\n\t\tto = { path: to };\n\t}\n\tif (append) {\n\t\tto.append = true;\n\t}\n\tfunction onclick() {\n\t\tif (!route || !to) { return; }\n\t\tif (replace) {\n\t\t\troute.replace(to);\n\t\t} else {\n\t\t\troute.push(to);\n\t\t}\n\t}\n\treturn route.router\n\t\t.history?.link({...props, to}, context, onclick)\n\t\t|| createElementBase('span', {'on:click': onclick}, ...childNodes());\n\n}, {name: 'RouterLink'});\n","export function cleanPath(path: string) {\n\tpath = `/${path}`.replace(/\\/+(\\/|$)/g, '$1');\n\twhile(/[^/]+\\/\\.{2,}(\\/|$)/.test(path)) {\n\t\tpath = path.replace(/\\/[^/]+\\/\\.(\\.+(?:\\/|$))/g, '/$1');\n\t}\n\tpath = path.replace(/\\/\\.+(\\/|$)/g, '$1');\n\treturn path || '/';\n}\n","/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n    var tokens = [];\n    var i = 0;\n    while (i < str.length) {\n        var char = str[i];\n        if (char === \"*\" || char === \"+\" || char === \"?\") {\n            tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"\\\\\") {\n            tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n            continue;\n        }\n        if (char === \"{\") {\n            tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"}\") {\n            tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \":\") {\n            var name = \"\";\n            var j = i + 1;\n            while (j < str.length) {\n                var code = str.charCodeAt(j);\n                if (\n                // `0-9`\n                (code >= 48 && code <= 57) ||\n                    // `A-Z`\n                    (code >= 65 && code <= 90) ||\n                    // `a-z`\n                    (code >= 97 && code <= 122) ||\n                    // `_`\n                    code === 95) {\n                    name += str[j++];\n                    continue;\n                }\n                break;\n            }\n            if (!name)\n                throw new TypeError(\"Missing parameter name at \" + i);\n            tokens.push({ type: \"NAME\", index: i, value: name });\n            i = j;\n            continue;\n        }\n        if (char === \"(\") {\n            var count = 1;\n            var pattern = \"\";\n            var j = i + 1;\n            if (str[j] === \"?\") {\n                throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \" + j);\n            }\n            while (j < str.length) {\n                if (str[j] === \"\\\\\") {\n                    pattern += str[j++] + str[j++];\n                    continue;\n                }\n                if (str[j] === \")\") {\n                    count--;\n                    if (count === 0) {\n                        j++;\n                        break;\n                    }\n                }\n                else if (str[j] === \"(\") {\n                    count++;\n                    if (str[j + 1] !== \"?\") {\n                        throw new TypeError(\"Capturing groups are not allowed at \" + j);\n                    }\n                }\n                pattern += str[j++];\n            }\n            if (count)\n                throw new TypeError(\"Unbalanced pattern at \" + i);\n            if (!pattern)\n                throw new TypeError(\"Missing pattern at \" + i);\n            tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n            i = j;\n            continue;\n        }\n        tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n    }\n    tokens.push({ type: \"END\", index: i, value: \"\" });\n    return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str, options) {\n    if (options === void 0) { options = {}; }\n    var tokens = lexer(str);\n    var _a = options.prefixes, prefixes = _a === void 0 ? \"./\" : _a;\n    var defaultPattern = \"[^\" + escapeString(options.delimiter || \"/#?\") + \"]+?\";\n    var result = [];\n    var key = 0;\n    var i = 0;\n    var path = \"\";\n    var tryConsume = function (type) {\n        if (i < tokens.length && tokens[i].type === type)\n            return tokens[i++].value;\n    };\n    var mustConsume = function (type) {\n        var value = tryConsume(type);\n        if (value !== undefined)\n            return value;\n        var _a = tokens[i], nextType = _a.type, index = _a.index;\n        throw new TypeError(\"Unexpected \" + nextType + \" at \" + index + \", expected \" + type);\n    };\n    var consumeText = function () {\n        var result = \"\";\n        var value;\n        // tslint:disable-next-line\n        while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n            result += value;\n        }\n        return result;\n    };\n    while (i < tokens.length) {\n        var char = tryConsume(\"CHAR\");\n        var name = tryConsume(\"NAME\");\n        var pattern = tryConsume(\"PATTERN\");\n        if (name || pattern) {\n            var prefix = char || \"\";\n            if (prefixes.indexOf(prefix) === -1) {\n                path += prefix;\n                prefix = \"\";\n            }\n            if (path) {\n                result.push(path);\n                path = \"\";\n            }\n            result.push({\n                name: name || key++,\n                prefix: prefix,\n                suffix: \"\",\n                pattern: pattern || defaultPattern,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        var value = char || tryConsume(\"ESCAPED_CHAR\");\n        if (value) {\n            path += value;\n            continue;\n        }\n        if (path) {\n            result.push(path);\n            path = \"\";\n        }\n        var open = tryConsume(\"OPEN\");\n        if (open) {\n            var prefix = consumeText();\n            var name_1 = tryConsume(\"NAME\") || \"\";\n            var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n            var suffix = consumeText();\n            mustConsume(\"CLOSE\");\n            result.push({\n                name: name_1 || (pattern_1 ? key++ : \"\"),\n                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n                prefix: prefix,\n                suffix: suffix,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        mustConsume(\"END\");\n    }\n    return result;\n}\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile(str, options) {\n    return tokensToFunction(parse(str, options), options);\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction(tokens, options) {\n    if (options === void 0) { options = {}; }\n    var reFlags = flags(options);\n    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;\n    // Compile all the tokens into regexps.\n    var matches = tokens.map(function (token) {\n        if (typeof token === \"object\") {\n            return new RegExp(\"^(?:\" + token.pattern + \")$\", reFlags);\n        }\n    });\n    return function (data) {\n        var path = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (typeof token === \"string\") {\n                path += token;\n                continue;\n            }\n            var value = data ? data[token.name] : undefined;\n            var optional = token.modifier === \"?\" || token.modifier === \"*\";\n            var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n            if (Array.isArray(value)) {\n                if (!repeat) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not repeat, but got an array\");\n                }\n                if (value.length === 0) {\n                    if (optional)\n                        continue;\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not be empty\");\n                }\n                for (var j = 0; j < value.length; j++) {\n                    var segment = encode(value[j], token);\n                    if (validate && !matches[i].test(segment)) {\n                        throw new TypeError(\"Expected all \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                    }\n                    path += token.prefix + segment + token.suffix;\n                }\n                continue;\n            }\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                var segment = encode(String(value), token);\n                if (validate && !matches[i].test(segment)) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                }\n                path += token.prefix + segment + token.suffix;\n                continue;\n            }\n            if (optional)\n                continue;\n            var typeOfMessage = repeat ? \"an array\" : \"a string\";\n            throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to be \" + typeOfMessage);\n        }\n        return path;\n    };\n}\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match(str, options) {\n    var keys = [];\n    var re = pathToRegexp(str, keys, options);\n    return regexpToFunction(re, keys, options);\n}\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction(re, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.decode, decode = _a === void 0 ? function (x) { return x; } : _a;\n    return function (pathname) {\n        var m = re.exec(pathname);\n        if (!m)\n            return false;\n        var path = m[0], index = m.index;\n        var params = Object.create(null);\n        var _loop_1 = function (i) {\n            // tslint:disable-next-line\n            if (m[i] === undefined)\n                return \"continue\";\n            var key = keys[i - 1];\n            if (key.modifier === \"*\" || key.modifier === \"+\") {\n                params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {\n                    return decode(value, key);\n                });\n            }\n            else {\n                params[key.name] = decode(m[i], key);\n            }\n        };\n        for (var i = 1; i < m.length; i++) {\n            _loop_1(i);\n        }\n        return { path: path, index: index, params: params };\n    };\n}\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options) {\n    return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path, keys) {\n    if (!keys)\n        return path;\n    var groupsRegex = /\\((?:\\?<(.*?)>)?(?!\\?)/g;\n    var index = 0;\n    var execResult = groupsRegex.exec(path.source);\n    while (execResult) {\n        keys.push({\n            // Use parenthesized substring match if available, index otherwise\n            name: execResult[1] || index++,\n            prefix: \"\",\n            suffix: \"\",\n            modifier: \"\",\n            pattern: \"\"\n        });\n        execResult = groupsRegex.exec(path.source);\n    }\n    return path;\n}\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(paths, keys, options) {\n    var parts = paths.map(function (path) { return pathToRegexp(path, keys, options).source; });\n    return new RegExp(\"(?:\" + parts.join(\"|\") + \")\", flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(path, keys, options) {\n    return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(tokens, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function (x) { return x; } : _d;\n    var endsWith = \"[\" + escapeString(options.endsWith || \"\") + \"]|$\";\n    var delimiter = \"[\" + escapeString(options.delimiter || \"/#?\") + \"]\";\n    var route = start ? \"^\" : \"\";\n    // Iterate over the tokens and create our regexp string.\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        if (typeof token === \"string\") {\n            route += escapeString(encode(token));\n        }\n        else {\n            var prefix = escapeString(encode(token.prefix));\n            var suffix = escapeString(encode(token.suffix));\n            if (token.pattern) {\n                if (keys)\n                    keys.push(token);\n                if (prefix || suffix) {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        var mod = token.modifier === \"*\" ? \"?\" : \"\";\n                        route += \"(?:\" + prefix + \"((?:\" + token.pattern + \")(?:\" + suffix + prefix + \"(?:\" + token.pattern + \"))*)\" + suffix + \")\" + mod;\n                    }\n                    else {\n                        route += \"(?:\" + prefix + \"(\" + token.pattern + \")\" + suffix + \")\" + token.modifier;\n                    }\n                }\n                else {\n                    route += \"(\" + token.pattern + \")\" + token.modifier;\n                }\n            }\n            else {\n                route += \"(?:\" + prefix + suffix + \")\" + token.modifier;\n            }\n        }\n    }\n    if (end) {\n        if (!strict)\n            route += delimiter + \"?\";\n        route += !options.endsWith ? \"$\" : \"(?=\" + endsWith + \")\";\n    }\n    else {\n        var endToken = tokens[tokens.length - 1];\n        var isEndDelimited = typeof endToken === \"string\"\n            ? delimiter.indexOf(endToken[endToken.length - 1]) > -1\n            : // tslint:disable-next-line\n                endToken === undefined;\n        if (!strict) {\n            route += \"(?:\" + delimiter + \"(?=\" + endsWith + \"))?\";\n        }\n        if (!isEndDelimited) {\n            route += \"(?=\" + delimiter + \"|\" + endsWith + \")\";\n        }\n    }\n    return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(path, keys, options) {\n    if (path instanceof RegExp)\n        return regexpToRegexp(path, keys);\n    if (Array.isArray(path))\n        return arrayToRegexp(path, keys, options);\n    return stringToRegexp(path, keys, options);\n}\n//# sourceMappingURL=index.js.map","\nimport { match, compile } from 'path-to-regexp';\nimport { RouteConfig, Route, Match } from './types';\nimport { cleanPath } from './util';\n\n\nexport function addRoute(\n\tcfg: RouteConfig,\n\tnamed: Record<string, Route>,\n\tparent?: Route,\n) {\n\tlet { path, children, alias, meta, component, components, ...p } = cfg;\n\tlet end = !(Array.isArray(children) && children.length);\n\tif (!path || path === '*') {\n\t\tpath = '';\n\t\tend = false;\n\t}\n\tif (path[0] !== '/') {\n\t\tpath = `${parent?.path || ''}/${path}`;\n\t}\n\tpath = cleanPath(path);\n\tif (component) {\n\t\tif (!components) {\n\t\t\tcomponents = {};\n\t\t}\n\t\tcomponents.default = component;\n\t}\n\tconst item: Route = {\n\t\t...p,\n\t\tpath,\n\t\talias,\n\t\tcomponent,\n\t\tcomponents,\n\t\tmeta: meta || {},\n\t\ttoPath: compile(path || '', { encode: encodeURIComponent }),\n\t\tmatch: match(path || '', {end, decode: decodeURIComponent}),\n\t};\n\tif (alias) { named[alias] = item; }\n\tif (Array.isArray(children)) {\n\t\titem.children = children.map(c => addRoute(c, named, item));\n\t}\n\treturn item;\n}\n\nexport function *matchRoutes(path: string, routes: Route[] = []): Iterable<Match>{\n\tfor (const route of routes) {\n\t\tconst result = route.match(path);\n\t\tif (!result) { continue; }\n\t\tif (route.components || route.redirect) {\n\t\t\tyield { ...result, route };\n\t\t}\n\t\tif (!route.redirect) {\n\t\t\tyield* matchRoutes(path, route.children);\n\t\t}\n\t\treturn;\n\t}\n}\n","import { isValue } from './install/neep';\n\nfunction getValue(v: any): string | undefined | null {\n\tif (v === undefined) { return undefined; }\n\tif (v === null) { return null; }\n\tif (v === false) { return undefined; }\n\tif (typeof v === 'number' && !Number.isFinite(v)) { return; }\n\tif (typeof v === 'function') { return; }\n\treturn encodeURIComponent(String(v));\n}\nexport function stringify(s: any): string {\n\tconst list: string[] = [];\n\tfor (const key of Object.keys(s)) {\n\t\tconst item = s[key];\n\t\tconst value = isValue(item) ? item() : item;\n\t\tconst k = encodeURIComponent(key);\n\t\tif (!Array.isArray(value)) {\n\t\t\tconst v = getValue(value);\n\t\t\tif (v === undefined) { continue; }\n\t\t\tlist.push(v === null ? k : `${k}=${v}`);\n\t\t\tcontinue;\n\t\t}\n\t\tfor (const val of value) {\n\t\t\tconst v = getValue(val);\n\t\t\tif (v === undefined) { continue; }\n\t\t\tlist.push(v === null ? k : `${k}=${v}`);\n\t\t}\n\t}\n\treturn list.join('&');\n}\n\nexport function parse(s: string): object {\n\tconst query = Object.create(null);\n\tfunction set(k: string, v: null | string = null) {\n\t\tif (!(k in query)) {\n\t\t\tquery[k] = v;\n\t\t\treturn;\n\t\t}\n\t\tconst it = query[k];\n\t\tif (Array.isArray(it)) {\n\t\t\tit.push(v);\n\t\t} else {\n\t\t\tquery[k] = [it, v];\n\t\t}\n\n\t}\n\tfor (const it of s.split('&')) {\n\t\tconst index = it.indexOf('=');\n\t\tif (index < 0) {\n\t\t\tset(decodeURIComponent(it));\n\t\t\tcontinue;\n\t\t}\n\t\tconst k = decodeURIComponent(it.substr(0, index));\n\t\tconst v = decodeURIComponent(it.substr(index + 1));\n\t\tset(k, v);\n\t}\n\treturn query;\n}\n","import Neep from '@neep/core';\nimport { IHistory, IHistoryLinkProps } from '../types';\nimport Router from '../Router';\nimport { createElementBase } from '../install/neep';\n\nexport default class StoreHistory implements IHistory {\n\trouter: Router;\n\tconstructor(router: Router) {\n\t\tthis.router = router;\n\t}\n\tindex = 0;\n\thistory: [string, string, string, any][] = [];\n\tpush(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\tthis.history.length = this.index + 1;\n\t\tthis.index++;\n\t\tthis.history.push([path, search, hash, state]);\n\t}\n\treplace(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\tthis.history[this.index] = [path, search, hash, state];\n\t}\n\tgo(index: number) {\n\t\tlet newIndex = this.index + index;\n\t\tif (newIndex >= this.history.length) { return; }\n\t\tif (newIndex < 0) { return; }\n\t\tif (newIndex === this.index) { return; }\n\t\tthis.index = newIndex;\n\t\treturn this.history[newIndex];\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\tprops: IHistoryLinkProps,\n\t\t{ childNodes, emit }: Neep.ShellContext<any>,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElementBase('span', {\n\t\t\t...props,\n\t\t\t'on:click': (v: any) => {\n\t\t\t\tif (!emit('click', v)) { return; }\n\t\t\t\tonClick();\n\t\t\t},\n\t\t}, ...childNodes());\n\t}\n}\n","import { IHistory, IHistoryLinkProps } from '../types';\nimport Router from '../Router';\nimport { cleanPath } from '../util';\nimport Neep from '@neep/core';\nimport { createElementBase } from '../install/neep';\n\nexport default class WebPathHistory implements IHistory {\n\treadonly router: Router;\n\treadonly base: string;\n\tconstructor(router: Router, opt?: {\n\t\tbase?: string;\n\t}) {\n\t\tthis.router = router;\n\t\tlet base = cleanPath(opt?.base || '');\n\t\tthis.base = base === '/' ? '' : base;\n\t\tconst f = () => {\n\t\t\tthis.router._update(\n\t\t\t\tthis.getPath(),\n\t\t\t\tlocation.search,\n\t\t\t\tlocation.hash,\n\t\t\t\thistory.state,\n\t\t\t);\n\t\t};\n\t\twindow.addEventListener('popstate', f);\n\t\tthis.destroy = () => {\n\t\t\tthis.destroy = () => {};\n\t\t\twindow.removeEventListener('popstate', f);\n\t\t};\n\t}\n\tstart() {\n\t\tthis.router._update(\n\t\t\tthis.getPath(),\n\t\t\tlocation.search,\n\t\t\tlocation.hash,\n\t\t\thistory.state,\n\t\t);\n\t}\n\tdestroy() {}\n\tpush(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\thistory.pushState(state, '', `${this.base}${path}${search}${hash}`);\n\t}\n\treplace(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\thistory.replaceState(state, '', `${this.base}${path}${search}${hash}`);\n\t}\n\tprivate getPath() {\n\t\tconst path = location.pathname;\n\t\tconst { base } = this;\n\t\tif (!base) { return path; }\n\t\tif (path.indexOf(`${base}/`) !== 0) { return path; }\n\t\treturn path.substr(base.length);\n\t}\n\tgo(index: number) {\n\t\tconst old = {\n\t\t\tpath: this.getPath(),\n\t\t\tsearch: location.search,\n\t\t\thash: location.hash,\n\t\t\tstate: history.state,\n\t\t};\n\t\thistory.go(index);\n\t\tconst path = this.getPath();\n\t\tconst search = location.search;\n\t\tconst hash = location.hash;\n\t\tconst state = history.state;\n\t\tif (\n\t\t\tpath !== old.path\n\t\t\t|| search !== old.search\n\t\t\t|| hash !== old.hash\n\t\t\t|| state !== old.state\n\t\t) {\n\t\t\treturn [path, search, hash, state] as [string, string, string, any];\n\t\t}\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\t{ to, ...props }: IHistoryLinkProps,\n\t\t{ childNodes, emit }: Neep.ShellContext<any>,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElementBase('a', {\n\t\t\t...props,\n\t\t\thref: `${this.base}${this.router.getUrl(to)}`,\n\t\t\t'on:click': (e: MouseEvent) => {\n\t\t\t\tlet cancel = !emit('click', e);\n\t\t\t\tif (e.defaultPrevented) { return; }\n\t\t\t\te.preventDefault();\n\t\t\t\tif (cancel) { return; }\n\t\t\t\tonClick();\n\t\t\t},\n\t\t}, ...childNodes());\n\t}\n}\n","import Neep from '@neep/core';\nimport { IHistory, IHistoryLinkProps } from '../types';\nimport Router from '../Router';\nimport { createElementBase } from '../install/neep';\n\nfunction parse(p: string): [string, string, string] {\n\tconst result = /^([^?#]*)((?:\\?[^#]*)?)((?:#.*)?)$/.exec(p);\n\tif (!result) { return ['/', '', '']; }\n\treturn [result[1] || '/', result[2], result[3]];\n}\n\nexport default class WebPathHistory implements IHistory {\n\trouter: Router;\n\tconstructor(router: Router) {\n\t\tthis.router = router;\n\t\tconst f = () => {\n\t\t\tconst [path, search, hash] = parse(location.hash.substr(1));\n\t\t\tthis.router._update(path, search, hash);\n\t\t};\n\t\twindow.addEventListener('hashchange', f);\n\t\tthis.destroy = () => {\n\t\t\tthis.destroy = () => {};\n\t\t\twindow.removeEventListener('hashchange', f);\n\t\t};\n\t}\n\tstart() {\n\t\tconst [path, search, hash] = parse(location.hash.substr(1));\n\t\tthis.router._update(path, search, hash);\n\t}\n\tdestroy() {}\n\tpush(path: string, search: string, hash: string) {\n\t\tlocation.hash = `#${path}${search}${hash}`;\n\t}\n\treplace(path: string, search: string, hash: string) {\n\t\tlocation.replace(`#${path}${search}${hash}`);\n\t}\n\tgo(index: number) {\n\t\tconst oldHash = location.hash;\n\t\thistory.go(index);\n\t\tconst hash = location.hash;\n\t\tif (hash === oldHash) { return; }\n\t\treturn [...parse(hash.substr(1)), undefined] as [string, string, string, any];\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\t{ to, ...props }: IHistoryLinkProps,\n\t\t{ childNodes, emit }: Neep.ShellContext<any>,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElementBase('a', {\n\t\t\t...props,\n\t\t\thref: `#${this.router.getUrl(to)}`,\n\t\t\t'on:click': (e: MouseEvent) => {\n\t\t\t\tlet cancel = !emit('click', e);\n\t\t\t\tif (e.defaultPrevented) { return; }\n\t\t\t\te.preventDefault();\n\t\t\t\tif (cancel) { return; }\n\t\t\t\tonClick();\n\t\t\t},\n\t\t}, ...childNodes());\n\t}\n}\n","import Neep from '@neep/core';\nimport install from './install/neep';\nimport { Error, value } from './install/neep';\nimport RouterView from './View';\nimport RouterLink from './Link';\nimport { Route, Location, IHistory, Match, RouteConfig } from './types';\nimport { cleanPath } from './util';\nimport { addRoute, matchRoutes } from './route';\nimport { stringify, parse } from './query';\nimport * as history from './history';\nimport { createShellComponent } from './install/neep';\n\nfunction get(\n\tlocation: Location | string,\n\troutes: Record<string, Route>,\n\tbasePath: string,\n\tstringifyQuery = stringify,\n): {\n\tpath: string;\n\tsearch: string;\n\thash: string;\n} {\n\tif (typeof location === 'string') { location = { path: location }; }\n\n\tconst route = location.alias && routes[location.alias];\n\tconst result = location.path && /^([^?#]*)((?:\\?[^#]*)?)((?:#.*)?)$/\n\t\t.exec(location.path);\n\tlet path = result?.[1] || '';\n\tif (!path) {\n\t\tpath = route ? route.toPath(location.params || {}) : basePath;\n\t} else if (route) {\n\t\tlet routePath = route.toPath(location.params || {});\n\t\tif (!location.append) {\n\t\t\troutePath = routePath.replace(/\\/[^/]*\\/?$/, '');\n\t\t}\n\t\tpath = `${route.toPath(location.params || {})}/${path}`;\n\t} else if (location.append) {\n\t\tpath = `${basePath}/${path}`;\n\t} if (path[0] !== '/') {\n\t\tpath = `${basePath.replace(/\\/[^/]*\\/?$/, '')}/${path}`;\n\t}\n\tpath = cleanPath(path);\n\tconst search = location.query && `?${ stringifyQuery(location.query) }`\n\t\t|| location.search || result?.[2] || '';\n\tconst hash = location.hash || result?.[3] || '';\n\treturn { path, search, hash };\n}\n\nconst redirects: string[] = [];\nclass Router {\n\tstatic get history() { return history; }\n\tstatic get install() { return install; }\n\tstatic get View() { return RouterView; }\n\tstatic get Link() { return RouterLink; }\n\tstringify?(query: Record<any, any>): string;\n\tparse?(search: string): Record<any, any>;\n\tprivate _namedRoutes: Record<string, Route> = Object.create(null);\n\tprivate _routes: Route[] = [];\n\thistory?: IHistory;\n\tprivate readonly _size = value(0);\n\tprivate readonly _nodes: Neep.Value<Match | undefined>[] = [];\n\tprivate readonly _matches = value<Match[]>([]);\n\tprivate readonly _hash = value('');\n\tprivate readonly _search = value('');\n\tprivate readonly _alias = value('');\n\tprivate readonly _path = value('/');\n\tprivate readonly _state = value(undefined as any);\n\tprivate readonly _params = value({} as Record<string, string>);\n\tprivate readonly _query = value({} as Record<string, any>);\n\tprivate readonly _meta = value({} as Record<string, any>);\n\tget size() { return this._size(); }\n\tget matches() { return this._matches(); }\n\tget alias() { return this._alias(); }\n\tget path(): string { return this._path(); }\n\tget search() { return this._search(); }\n\tget hash() { return this._hash(); }\n\tget state() { return this._state(); }\n\tget params() { return this._params(); }\n\tget query() { return this._query(); }\n\tget meta() { return this._meta(); }\n\tconstructor({History, historyOption}: {\n\t\tHistory?: {new(router: Router, opt?: any): IHistory }\n\t\thistoryOption?: any;\n\t}) {\n\t\tif (History) {\n\t\t\tconst history = new History(this, historyOption);\n\t\t\tthis.history = history;\n\t\t\thistory.start?.();\n\t\t}\n\t}\n\tsetRoutes(routes: RouteConfig[]) {\n\t\tconst named = Object.create(null);\n\t\tthis._routes = routes.map(c => addRoute(c, named));\n\t\tthis._namedRoutes = named;\n\t\tthis._update(\n\t\t\tthis._path(),\n\t\t\tthis._search(),\n\t\t\tthis._hash(),\n\t\t\tthis._state(),\n\t\t\ttrue,\n\t\t);\n\t}\n\t_get(index: number): Match | undefined {\n\t\tconst item =  this._nodes[index]?.();\n\t\tif (!item) {\n\t\t\tthis._size();\n\t\t\treturn undefined;\n\t\t}\n\t\treturn item;\n\t}\n\t_update(path: string, search: string, hash: string, state?: any, force = false) {\n\t\tif (this._path() !== path || force) {\n\t\t\tconst matches = [...matchRoutes(path, this._routes)];\n\t\t\tconst last = matches[matches.length - 1] as Match | undefined;\n\t\t\tif (last && !last.route.components) {\n\t\t\t\tredirects.push(path);\n\t\t\t\tif (redirects.length >= 10) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Too many consecutive redirect jumps: \\n${\n\t\t\t\t\t\t\tredirects.join('\\n')\n\t\t\t\t\t\t}`,\n\t\t\t\t\t\t'router',\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst {redirect, append} = last.route;\n\t\t\t\ttry {\n\t\t\t\t\tif (append) {\n\t\t\t\t\t\tthis.replace(`${path}/${redirect}`, state);\n\t\t\t\t\t} else if (redirect && redirect[0] === '/') {\n\t\t\t\t\t\tthis.replace(redirect, state);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.replace(`${path}/../${redirect}`, state);\n\t\t\t\t\t}\n\t\t\t\t\treturn ;\n\t\t\t\t} finally {\n\t\t\t\t\tredirects.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst nodes = this._nodes;\n\t\t\tconst nodesLength = nodes.length;\n\t\t\tconst matchesLength = matches.length;\n\t\t\tconst min = Math.min(matchesLength, nodesLength);\n\t\t\tfor (let i = 0; i < min; i++) { nodes[i](matches[i]); }\n\t\t\tfor (let i = min; i < nodesLength; i++) {\n\t\t\t\tnodes[i](undefined);\n\t\t\t}\n\t\t\tfor (let i = min; i < matchesLength; i++) {\n\t\t\t\tnodes[i] = value(matches[i]);\n\t\t\t}\n\t\t\tnodes.length = matchesLength;\n\t\t\tthis._size(matchesLength);\n\t\t\tthis._matches(matches);\n\t\t\tthis._path(path);\n\t\t\tthis._alias(last?.route?.alias || '');\n\t\t\tthis._params(last?.params || {} as any);\n\t\t\tthis._meta(Object.assign({}, ...matches.map(m => m.route.meta)));\n\t\t}\n\t\tif (this._search() !== search) {\n\t\t\tthis._search(search);\n\t\t\tthis._query((this.parse || parse)(search.substr(1)));\n\t\t}\n\t\tthis._hash(hash);\n\t\tthis._state(state);\n\t}\n\tpush(location: Location | string, state?: any) {\n\t\tconst { path, search, hash } = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\tthis.history?.push(path, search, hash, state);\n\t\tthis._update(path, search, hash, state);\n\t}\n\treplace(location: Location | string, state?: any) {\n\t\tconst {path, search, hash} = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\tthis.history?.replace(path, search, hash, state);\n\t\tthis._update(path, search, hash, state);\n\t}\n\tgetUrl(location: Location | string) {\n\t\tconst {path, search, hash} = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\treturn `${path}${search}${hash}`;\n\n\t}\n\tgo(index: number) {\n\t\tconst it = this.history?.go(index);\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tback() {\n\t\tconst it = this.history?.back();\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tforward() {\n\t\tconst it = this.history?.forward();\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tget view() {\n\t\tconst view = createShellComponent((props, ...p) =>\n\t\t\tRouterView({...props, router: this}, ...p), {\n\t\t\t\tname: 'Router',\n\t\t\t});\n\t\tReflect.defineProperty(this, 'view', {\n\t\t\tvalue: view,\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t});\n\t\treturn view;\n\t}\n}\n\nexport default Router;\n","import Neep from '@neep/core';\nimport Router, { withRouter } from '@neep/router';\n\nconst 组件 = Neep.createComponent(() => {\n\treturn <div>这是中文组件</div>;\n});\nexport default Neep.createComponent((\n\tprops: { a?: any,  set?: () => void},\n) => {\n\tconst route = withRouter();\n\tconst v = Neep.useValue(() => Math.random());\n\tconst s = Neep.useValue(() => Neep.value(0));\n\ts.value++;\n\treturn <Neep.Template>\n\t{s.value}: {v}\n\t\t<组件 />\n\t\t<div>用户首页</div>\n\t\t<div>Id: {route?.params?.['id']}</div>\n\t\t<hr />\n\t\t<div><Router.Link path=\"/\">首页</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1\">用户1</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/2\">用户2</Router.Link></div>\n\t\t<div><Router.Link path={`/users/${route?.params?.['id']}/info`}>用户{route?.params?.['id']}信息</Router.Link></div>\n\t\t<div><Router.Link path={`/users/${route?.params?.['id']}/settings`}>用户{route?.params?.['id']}设置</Router.Link></div>\n\t\t<hr />\n\t\t<Router.View />\n\t</Neep.Template>;\n}, {name: 'User'});\n","import Neep from '@neep/core';\nimport { withRouter } from '@neep/router';\n\nexport default  Neep.createComponent((\n\tprops: { a?: any,  set?: () => void},\n) => {\n\tconst route = withRouter();\n\tconst v = Neep.useValue(() => Math.random());\n\treturn <Neep.Template>\n\t\t{v}\n\t\t<div>用户信息</div>\n\t\t<div>Id: {route?.params?.['id']}</div>\n\t</Neep.Template>;\n}, { name: 'UserInfo'});\n","import Neep from '@neep/core';\nimport { withRouter } from '@neep/router';\n\nexport default Neep.createComponent((\n\tprops: { a?: any,  set?: () => void},\n) => {\n\tconst route = withRouter();\n\treturn <Neep.Template>\n\t\t<div>用户设置</div>\n\t\t<div>Id: {route?.params?.['id']}</div>\n\t</Neep.Template>;\n}, {name: 'UserSettings'});\n","import Neep from '@neep/core';\n\nimport Router from '@neep/router';\n\n\nexport default Neep.createComponent(() => {\n\treturn <Neep.Template>\n\t\t<div>首页</div>\n\t\t<hr />\n\t\t<div><Router.Link path=\"/\">首页</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1\">用户1</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1/settings\">用户1设置</Router.Link></div>\n\t\t<hr />\n\t\t<Router.View />\n\t</Neep.Template>;\n}, {name: 'Home'});\n","import Router from '@neep/router';\nimport User from './components/User';\nimport Info from './components/User/Info';\nimport Settings from './components/User/Settings';\nimport Home from './components/Home';\nconst router = new Router({\n\tHistory: Router.history.WebPath,\n});\nrouter.setRoutes([\n\t{ path: '/', redirect: '/home' },\n\t{path: '/users/:id', component: User, children: [\n\t\t{path: 'info', component: Info},\n\t\t{path: 'settings', component: Settings},\n\t]},\n\t{path: '/home', component: Home},\n\t{ path: '*', redirect: '/home' },\n]);\n(window as any).router = router;\nexport default router.view;\n","import '@neep/renderer-html';\nimport Neep from '@neep/core';\nimport '@neep/devtools';\nimport App from './App';\nNeep.render(App).mount();\n"],"names":["console","fn","printError","String","map","value","def","version","isProduction","process","devtools","renderHook","installDevtools","tools","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","NeepError","Error","constructor","message","tag","assert","v","nextFrameApi","nextFrame","renderers","create","getRender","type","default","installRender","renderer","bind","installMonitorable","api","install","apis","monitorable","destroyFns","nextId","isInit","hookList","root","runs","hookSafe","length","initHook","init","useData","state","list","undefined","restoreHookState","item","isEnd","createUse","name","destroy","exec","id","p","parent","shift","runList","push","runParent","ret","destroyUseData","data","setLabels","current","runCurrent","newContextData","entity","oldCurrent","hookState","created","runCurrentWithLabel","setLabel","oldSetLabel","checkCurrent","setHook","hook","contextData","hooks","safeify","set","Set","add","delete","callHook","withWatch","cb","run","stop","isValue","watch","computed","s","withHook","initOnly","rendererSymbol","Symbol","for","nameSymbol","componentsSymbol","propsSymbol","componentValueSymbol","objectTypeSymbol","objectTypeSymbolElement","objectTypeSymbolDeliverComponent","objectTypeSymbolNativeComponent","objectTypeSymbolSimpleComponent","objectTypeSymbolShellComponent","objectTypeSymbolRenderComponent","objectTypeSymbolContainerComponent","objectTypeSymbolElementComponent","objectTypeSymbolRootEntity","deliverKeySymbol","deliverDefaultSymbol","isSimpleComponent","isShellComponent","isNativeComponent","isRenderComponent","isContainerComponent","isElementComponent","isDeliverComponent","withDelivered","deliver","delivered","withRefresh","f","refresh","withParent","withChildren","getChildren","withCallback","createElementBase","attrs","children","props","node","slot","ScopeSlot","Render","Slot","Container","Template","Fragment","createTemplateElement","isElement","equal","a","b","is","Array","isArray","i","execed","inserted","isDefault","aprops","bprops","aKeys","keys","bKeys","size","k","has","isRenderElement","toLowerCase","withLabel","label","labels","filter","Boolean","t","text","ids","Nodes","IdMap","WeakMap","createMountedNode","n","newNode","markChange","recoveryMountedNode","getNode","get","markRead","toElement","drawPlaceholder","createPlaceholder","createItem","mountOptions","source","proxy","mount","createList","it","createAll","unmount","tree","forEach","e","removeNode","getNodes","getFirstNode","drawReplace","newTree","oldTree","next","parentNode","getParent","insertNode","getLastNode","updateItem","index","findIndex","all","splice","updateList","newList","mountedMap","Map","src","old","last","nextNode","o","updateAll","Math","min","max","draw","completeList","setCompleteList","complete","BaseProxy","originalTag","parentProxy","update","_update","__executed_destroy","_destroy","destroyed","__mountOptions","result","exec$1","c","requestDraw","newMountOptions","_mount","mounted","__cancelDrawMonitor","__executed_unmounted","_unmount","unmounted","redraw","_redraw","NodeProxy","container","componentRoot","markDraw","delayedRefresh","objectSet","wait","clear","asyncRefresh","delayRefresh","async","destroyFns$1","nextId$1","createWith","withData","isSimple","isShell","destroyContextData","createBy","by","getSlots","slots","native","nativeList","Reflect","ownKeys","isNode","el","setSlot","setSlots","oldChildren","renderSlot","argv","render","getSlot","createSlotApi","slotApi","createEmit","emitter","omitNames","emit","options","cancelable","target","defaultPrevented","eventInfo","prevented","preventDefault","prevent","events","event","omit","names","includes","EventEmitter","_names","eventSet","on","listener","_event","printError$1","removed","updateInProps","oldPropsEvents","__propsEvents","oldEventNames","entName","getEvents","olfFn","cl","eventMap","__eventMap","oldEventMapNames","getEventsMap","oldEmitEvents","__propsEmitEvents","eventsFn","getEmitFn","__propsEmitEvent","oldNames","substr","createSimpleEmit","getComponents","components","getNodeArray","register","component","findComponent","components$1","test","ltag","args","createSimpleSlots","normalizeAuxiliaryObject","slotMap","createSimpleContextData","simpleParent","execSimple","childNodes","nodes","getSlotRenderFn","renderFn","slotRenderFnList","newFn","call","simpleSlot","_node$props","slotRenderFn","slotName","postpone","normalize","isNative","getText","Date","toISOString","RegExp","getNodeArray$1","ValueProxy","content","__value","__render","monitor","changed","__nodes","convert","__needRefresh","__refreshing","needDraw","createText","DeliverProxy","__valueObject","GroupProxy","updateData","oldKeys","dataset","RefProxy","exposed","__exposed","setExposed","ref","__ref","createEntity","oldRef","ElementProxy","__elementTagData","cfg","createElement","subMountOptions","getMountOptions","updateProps","_redrawChildren","createInfo","CustomComponentProxy","_parent$componentRoot","_this","parentComponentProxy","parentEntity","info","needRefresh","__delayedRefresh","_render","_nodes","_stopRender","getNodeArray$2","ShellProxy","context","l","lastSlots","SlotProxy","_obj$parentComponentP","h","disabledKey","propsObj","newKeys","propsDefined","nativeNodes","ComponentProxy","assign","createObject","_init","expose","stopRender","_initRender","getNodeArray$3","initRender","renderNode","componentsList","RenderComponentProxy","createResponsiveRender","func","slotRenderFns","initRender$1","resultOnly","normalizeRefresh","StandardComponentProxy","_this$renderer$create","_this$renderer","createComponent","_shadow","nativeTreeNountOptions","nativeTree","__nativeTreeNountOptions","recognizers","recognize","any","recognizer","res","addRecognizer","createProxy","ContainerProxy","componentTag","createItem$1","createAll$1","flat","Infinity","updateItem$1","recursive2iterable","updateList$1","updateAll$1","awaitDraw","rendererDraw","baseTick","middleTick","endTick","execTickList","execList","sort","execContainerList","drawAll","execRendererDrawList","rendererDrawList","requested","request","nextTick","level","addRendererDraw","createEntity$1","setmountedRoot","__container","r","getContainer","__containerData","rootContainer","setChildren","opt","parentRenderer","targetNode","insert","mountContainer","subOpt","placeholder","__placeholder","placeholderNode","__placeholderNode","__insertNode","__nextNode","__targetNode","_redrawSelf","updateContainer","recoveryContainer","opts","unmountContainer","_this$parentProxy","__awaitDraw","markDrawContainer","drawContainer","__containers","containers","createContainerEntity","createRender","params","refreshObj","setObjectType","setName","setValue","setComponents","createSelfComponent","createDeliverComponent","createRenderComponent","createContainerComponent","createElementComponent","createStandardComponent","createComponentFunc","renderComponent","StandardComponent","createNativeComponent","createSimpleComponent","createShellComponent","isProxy","attrProps","useValue","createEntitySetRef","refValue","_0","_1","createExposedSetRef","oldNode","replace","createEntityRefValue","_2","createExposedRefValue","isEntity","LOADING","FAILING","COMPLETE","lazy","Placeholder","reslut","isLoad","ComponentValue","load","error","com","loading","createRenderElement","elements","concat","simple","isFragmentElement","isSimpleElement","withAncestor","_","depth","d","Neep","freeze","__proto__","isDeliver","encase","valueify","asValue","mixValue","xmlnsMap","svg","html","mathml","SVGTags","MathMLTags","tagname","namespace","ns","document","createElementNS","attachShadow","mode","createComment","createTextNode","insertBefore","installNeep","install$1","getId","PropsMap","updateId","removeAttribute","getClass","split","classes","oClasses","getAttribute","classList","setAttribute","join","PropsMap$1","updateClass","class","unit","getStyle","style","css","str","update$1","oStyle","cssText","removeProperty","setProperty","PropsMap$2","updateStyle","hasStyle","setAttrs","HTMLInputElement","checked","HTMLSelectElement","HTMLTextAreaElement","HTMLDetailsElement","open","HTMLMediaElement","muted","paused","pause","play","currentTime","num","Number","playbackRate","volume","stringify","isOn","toString","JSON","getAttrs","update$2","PropsMap$3","updateAttrs","getElementModel","currentTarget","indeterminate","ValueEventMap","getValueEventBind","bindMap","getEventBind","updateEvent","valueEventMap","prop","addEventListener","removeEventListener","eventBind","CSSStyleDeclaration","window","requestAnimationFrame","getTarget","querySelector","Element","element","targetProps","remove","removeChild","body","parentElement","Node","nextSibling","initContainer","createElement$1","Type","install$2","Deliver","selected","NodeTag","switchOpen","opened","setSelected","getChildTree","hasChildNodes","getKey","ValueTag","getType","tagId","selectedThis","slotRender","tagName","getTagName","TreeNode","Tree","getKeyValue","getValue","Prop","propIsValue","Attr","Settings","scopeSlot","group","shell","DefaultContainer","currentContainer","creating","rootEntity","render$1","RouterDeliver","initDelivers","getDepth","router","depthProp","isInteger","propsRouter","Router","routerDeliver","RouterView","match","_get","route","path","color","installComponents","RouterLink","createRouteContext","matches","alias","search","hash","query","meta","location","getUrl","go","back","forward","withRouter","initWith","moduleList","to","append","onclick","history","link","cleanPath","addRoute","named","end","toPath","compile","encode","encodeURIComponent","decode","decodeURIComponent","matchRoutes","routes","redirect","isFinite","val","parse","indexOf","StoreHistory","newIndex","onClick","WebPathHistory","base","getPath","start","pushState","replaceState","pathname","href","cancel","oldHash","basePath","stringifyQuery","routePath","redirects","View","Link","_size","_matches","_alias","_path","_search","_hash","_state","_params","_query","_meta","History","historyOption","setRoutes","_routes","_namedRoutes","force","pop","nodesLength","matchesLength","m","view","组件","random","WebPath","User","Info","Home","App"],"mappings":"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"}