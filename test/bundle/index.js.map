{"version":3,"file":"index.js","sources":["../../node_modules/@neep/core/node_modules/monitorable/dist/monitorable.esm.js","../../node_modules/@neep/core/dist/neep.core.mjs","../../node_modules/@neep/web-render/dist/neep.web.render.mjs","../../node_modules/@neep/devtools/dist/neep.devtools.mjs","../../src/install/installContextConstructor.ts","../../src/View.ts","../../src/Link.ts","../../src/install/installComponents.ts","../../src/install/install.ts","../../src/util.ts","../../node_modules/path-to-regexp/dist.es2015/index.js","../../src/route.ts","../../src/query.ts","../../src/history/Memory.ts","../../src/history/WebPath.ts","../../src/history/WebHash.ts","../../src/Router.ts","../components/User/index.tsx","../components/User/Info.tsx","../components/User/Settings.tsx","../components/Home.tsx","../App.tsx","../index.tsx"],"sourcesContent":["\n/*!\n * monitorable v0.1.0-alpha.7\n * (c) 2020 Fierflame\n * @license MIT\n */\n\nlet printErrorLog;\n/** 打印错误 */\n\nfunction printError(info) {\n  if (typeof printErrorLog === 'function') {\n    printErrorLog(info);\n    return;\n  }\n\n  console.error(info);\n}\nfunction setPrintError(p) {\n  printErrorLog = typeof p === 'function' ? p : undefined;\n}\n/**\n * 判断对象是否可被代理\n */\n\nfunction encashable(v) {\n  return Boolean(v && ['object', 'function'].includes(typeof v));\n}\n/** 回调函数安全化处理 */\n\nfunction safeify(fn) {\n  return (...p) => {\n    try {\n      fn(...p);\n    } catch (e) {\n      printError(e);\n    }\n  };\n}\nfunction getIndexes(target, prop) {\n  if (!target) {\n    return undefined;\n  }\n\n  if (typeof target !== 'function' && typeof target !== 'object') {\n    return undefined;\n  }\n\n  if (typeof prop === 'number') {\n    return [target, String(prop)];\n  }\n\n  if (typeof prop === 'symbol') {\n    return [target, prop];\n  }\n\n  if (typeof prop === 'string') {\n    return [target, prop];\n  }\n\n  if (typeof prop === 'boolean') {\n    return [target, prop];\n  }\n\n  return undefined;\n}\nfunction getMapValue(map, key, def) {\n  if (map.has(key)) {\n    return map.get(key);\n  }\n\n  const value = def();\n  map.set(key, value);\n  return value;\n}\n\n/** 已被读取的 */\nlet read;\n/**\n * 标记已读状态\n * @param obj  要标记的对象\n * @param prop 要标记的属性\n */\n\nfunction markRead(target, prop) {\n  if (!read) {\n    return;\n  }\n\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return;\n  }\n\n  [target, prop] = indexes;\n  const propMap = getMapValue(read, target, () => new Map());\n\n  if (propMap.has(prop)) {\n    return;\n  }\n\n  propMap.set(prop, false);\n}\n\n/**\n * 监听函数的执行，并将执行过程中读取的对象值设置到 map 中\n * @param fn 要执行的含糊\n * @param map 用于存储被读取对象的 map\n */\nfunction observeRun(map, fn, options) {\n  const oldRead = read;\n  read = map;\n\n  try {\n    if (!(options === null || options === void 0 ? void 0 : options.postpone)) {\n      return fn();\n    }\n\n    return postpone(fn, options.postpone === 'priority');\n  } finally {\n    read = oldRead;\n  }\n}\nfunction observe(map, fn, options) {\n  if (typeof fn === 'function') {\n    return observeRun(map, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return observeRun(map, options, fn);\n}\nconst watchList = new WeakMap();\n\nfunction execWatch(target, prop) {\n  var _watchList$get;\n\n  const watch = (_watchList$get = watchList.get(target)) === null || _watchList$get === void 0 ? void 0 : _watchList$get.get(prop);\n\n  if (!watch) {\n    return;\n  }\n\n  [...watch].forEach(w => w());\n}\n\nlet waitList;\n\nfunction run(list) {\n  for (const [target, set] of list.entries()) {\n    var _read;\n\n    const propMap = (_read = read) === null || _read === void 0 ? void 0 : _read.get(target);\n\n    for (const prop of set) {\n      execWatch(target, prop);\n\n      if (propMap === null || propMap === void 0 ? void 0 : propMap.has(prop)) {\n        propMap.set(prop, true);\n      }\n    }\n  }\n}\n\nfunction postponeRun(f, priority) {\n  const list = !priority && waitList || new Map();\n  const old = waitList;\n  waitList = list;\n\n  try {\n    return f();\n  } finally {\n    waitList = old;\n\n    if (list !== waitList) {\n      run(list);\n    }\n  }\n}\n\nfunction postpone(fn, priority) {\n  if (typeof fn === 'function') {\n    return postponeRun(fn, priority);\n  }\n\n  if (typeof priority !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return postponeRun(priority, fn);\n}\n\nfunction wait(target, prop) {\n  if (!waitList) {\n    return false;\n  }\n\n  getMapValue(waitList, target, () => new Set()).add(prop);\n  return true;\n}\n/**\n * 标记属性的修改，同时触发监听函数\n * @param target 要标记的对象\n * @param prop   要标记的属性 特别的，false 表示原型，true 表示成员\n */\n\n\nfunction markChange(target, prop) {\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return;\n  }\n\n  [target, prop] = indexes;\n\n  if (wait(target, prop)) {\n    return;\n  }\n\n  execWatch(target, prop);\n}\n/**\n * 观察对象属性的变化\n * @param target 要观察的对象\n * @param prop   要观察的属性名 特别的，false 表示原型，true 表示成员\n * @param fn     属性改变后触发的函数\n */\n\nfunction watchProp(target, prop, cb) {\n  if (typeof cb !== 'function') {\n    return () => {};\n  }\n\n  const indexes = getIndexes(target, prop);\n\n  if (!indexes) {\n    return () => {};\n  }\n\n  [target, prop] = indexes;\n  const key = prop;\n  let map = watchList.get(target);\n\n  if (!map) {\n    map = new Map();\n    watchList.set(target, map);\n  }\n\n  const list = getMapValue(map, key, () => new Set());\n  cb = safeify(cb);\n  list.add(cb);\n  let removed = false;\n  return () => {\n    if (removed) {\n      return;\n    }\n\n    removed = true; // 从当前列表中移除\n\n    list.delete(cb); // 从属性关联中删除\n\n    if (list.size) {\n      return;\n    }\n\n    if (!map) {\n      return;\n    }\n\n    map.delete(key); // 映射列表中删除\n\n    if (map.size) {\n      return;\n    }\n\n    watchList.delete(target);\n  };\n}\n\n/**\n * 判断对象是否可被代理\n */\n\nfunction encashable$1(v) {\n  return Boolean(v && ['object', 'function'].includes(typeof v));\n}\n\nlet getValue;\n/**\n * 获取被代理对象\n * @param obj  要被代理的对象\n * @param nest 递归代理的层数\n */\n\nfunction encase(value, nest = 0) {\n  if (!encashable$1(value)) {\n    return value;\n  }\n\n  const original = recover(value);\n  const nestLayer = nest === true ? Infinity : nest || 0;\n  const proxy = new Proxy(original, {\n    set(target, prop, value, receiver) {\n      if (nest === false) {\n        return Reflect.set(target, prop, value, receiver);\n      }\n\n      const has = Reflect.has(target, prop);\n      const modified = Reflect.set(target, prop, value, encase(receiver));\n\n      if (!modified) {\n        return modified;\n      }\n\n      if (has !== Reflect.has(target, prop)) {\n        markChange(target, true);\n      }\n\n      return modified;\n    },\n\n    get(target, prop, receiver) {\n      if (getValue === proxy) {\n        if (prop === '__monitorable__recover__') {\n          getValue = original;\n          return;\n        }\n      }\n\n      if (nest === false) {\n        return Reflect.get(target, prop, receiver);\n      }\n\n      markRead(target, prop);\n      const value = Reflect.get(target, prop, encase(receiver));\n\n      if (nestLayer > 0) {\n        return encase(value, nestLayer - 1);\n      }\n\n      return value;\n    },\n\n    setPrototypeOf(target, proto) {\n      if (nest === false) {\n        return Reflect.setPrototypeOf(target, proto);\n      }\n\n      const oldProto = Reflect.getPrototypeOf(target);\n      const modified = Reflect.setPrototypeOf(target, proto);\n\n      if (modified && oldProto !== proto) {\n        markChange(target, false);\n      }\n\n      return modified;\n    },\n\n    getPrototypeOf(target) {\n      if (nest === false) {\n        return Reflect.getPrototypeOf(target);\n      }\n\n      markRead(target, false);\n      const value = Reflect.getPrototypeOf(target);\n\n      if (nestLayer > 0) {\n        return encase(value, nestLayer - 1);\n      }\n\n      return value;\n    },\n\n    defineProperty(target, prop, attr) {\n      if (nest === false) {\n        return Reflect.defineProperty(target, prop, attr);\n      }\n\n      let changed = true;\n\n      if ('value' in attr) {\n        const desc = Reflect.getOwnPropertyDescriptor(target, prop);\n\n        if (desc && 'value' in desc && recover(attr.value) === recover(desc.value)) {\n          changed = false;\n        }\n      }\n\n      const modified = Reflect.defineProperty(target, prop, attr);\n\n      if (changed && modified) {\n        markChange(target, prop);\n      }\n\n      return modified;\n    },\n\n    getOwnPropertyDescriptor(target, prop) {\n      if (nest === false) {\n        return Reflect.getOwnPropertyDescriptor(target, prop);\n      }\n\n      markRead(target, prop);\n      return Reflect.getOwnPropertyDescriptor(target, prop);\n    },\n\n    deleteProperty(target, prop) {\n      if (nest === false) {\n        return Reflect.deleteProperty(target, prop);\n      }\n\n      const has = Reflect.has(target, prop);\n      const deleted = Reflect.deleteProperty(target, prop);\n\n      if (has && !Reflect.has(target, prop)) {\n        markChange(target, prop);\n        markChange(target, true);\n      }\n\n      return deleted;\n    },\n\n    ownKeys(target) {\n      if (nest === false) {\n        return Reflect.ownKeys(target);\n      }\n\n      markRead(target, true);\n      return Reflect.ownKeys(target);\n    },\n\n    has(target, prop) {\n      if (nest === false) {\n        return Reflect.has(target, prop);\n      }\n\n      markRead(target, true);\n      return Reflect.has(target, prop);\n    }\n\n  });\n  return proxy;\n}\n/** 获取被代理的原始值 */\n\nfunction recover(v) {\n  if (!v) {\n    return v;\n  }\n\n  if (!encashable$1(v)) {\n    return v;\n  }\n\n  let value = v;\n\n  try {\n    getValue = v;\n    value = v.__monitorable__recover__;\n  } catch (_unused) {}\n\n  value = getValue;\n  getValue = false;\n\n  if (!value) {\n    return v;\n  }\n\n  if (typeof value === 'object') {\n    return value;\n  }\n\n  if (typeof value === 'function') {\n    return value;\n  }\n\n  return v;\n}\nfunction equal(a, b) {\n  return recover(a) === recover(b);\n}\n\nfunction run$1(cb, fn, options) {\n  cb = safeify(cb);\n  let cancelList;\n  const postpone = options === null || options === void 0 ? void 0 : options.postpone;\n  let end = false;\n  /** 取消监听 */\n\n  function cancel() {\n    if (end) {\n      return false;\n    }\n\n    end = true;\n\n    if (!cancelList) {\n      return true;\n    }\n\n    const list = cancelList;\n    cancelList = undefined;\n    list.forEach(f => f());\n    return true;\n  }\n\n  function trigger() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(true);\n  }\n\n  function run(thisRead) {\n    if (end) {\n      return false;\n    }\n\n    if (!thisRead.size) {\n      end = true;\n      return cb(false);\n    }\n\n    const list = [];\n\n    for (let [obj, props] of thisRead) {\n      for (const [p, m] of props) {\n        if (m) {\n          return cb(true);\n        }\n\n        list.push([obj, p]);\n      }\n    }\n\n    cancelList = list.map(([obj, p]) => watchProp(recover(obj), p, trigger));\n  }\n\n  function stop() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(false);\n  }\n  const thisRead = new Map();\n  const result = observe(thisRead, () => fn(stop), {\n    postpone\n  });\n  run(thisRead);\n\n  if (options === null || options === void 0 ? void 0 : options.resultOnly) {\n    return result;\n  }\n\n  return {\n    result,\n    stop\n  };\n}\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\n\n\nfunction exec(cb, fn, options) {\n  if (typeof cb !== 'function') {\n    throw new Error('cb needs to be a function');\n  }\n\n  if (typeof fn === 'function') {\n    return run$1(cb, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return run$1(cb, options, fn);\n}\n\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\nfunction create(cb, fn, options) {\n  cb = safeify(cb);\n  let cancelList;\n  /** 取消监听 */\n\n  function cancel() {\n    if (!cancelList) {\n      return false;\n    }\n\n    const list = cancelList;\n    cancelList = undefined;\n    list.forEach(f => f());\n    return true;\n  }\n\n  function trigger() {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(true);\n  }\n\n  function run(thisRead) {\n    if (!thisRead.size) {\n      return cb(false);\n    }\n\n    const list = [];\n\n    for (let [obj, props] of thisRead) {\n      for (const [p, m] of props) {\n        if (m) {\n          return cb(true);\n        }\n\n        list.push([obj, p]);\n      }\n    }\n\n    cancelList = list.map(([obj, p]) => watchProp(recover(obj), p, trigger));\n  }\n\n  function exec() {\n    cancel();\n    const thisRead = new Map();\n    const result = observe(thisRead, fn, options);\n    run(thisRead);\n    return result;\n  }\n\n  exec.stop = () => {\n    if (!cancel()) {\n      return;\n    }\n\n    cb(false);\n  };\n\n  return exec;\n}\n/**\n * 创建可监听执行函数\n * @param fn 要监听执行的函数\n * @param cb 当监听的值发生可能改变时触发的回调函数，单如果没有被执行的函数或抛出错误，将会在每次 fn 被执行后直接执行\n */\n\n\nfunction createExecutable(cb, fn, options) {\n  if (typeof fn === 'function') {\n    return create(cb, fn, options);\n  }\n\n  if (typeof options !== 'function') {\n    throw new Error('fn needs to be a function');\n  }\n\n  return create(cb, options, fn);\n}\n\n/** 取消监听的方法 */\n\nconst values = new WeakSet();\nfunction isValue(x) {\n  return values.has(x);\n}\n/** 触发监听 */\n\nfunction valueOf() {\n  const value = this();\n\n  if (value === undefined) {\n    return value;\n  }\n\n  if (value === null) {\n    return value;\n  }\n\n  return value.valueOf();\n}\n\nfunction toString(...p) {\n  const value = this();\n\n  if (value === undefined) {\n    return String(value);\n  }\n\n  if (value === null) {\n    return String(value);\n  }\n\n  if (typeof value.toString === 'function') {\n    return value.toString(...p);\n  }\n\n  return String(value);\n}\n\nfunction toPrimitive(hint) {\n  const value = this();\n\n  if (value === undefined) {\n    return String(value);\n  }\n\n  if (value === null) {\n    return String(value);\n  }\n\n  if (typeof value[Symbol.toPrimitive] === 'function') {\n    return value[Symbol.toPrimitive](hint);\n  }\n\n  if (hint === 'string') {\n    return String(value);\n  }\n\n  if (hint === 'number') {\n    return Number(value);\n  }\n\n  return value;\n}\n\nfunction createValue(recover, setValue, stop = () => {}, change = () => {}) {\n  function set(v, marked = false) {\n    if (!setValue) {\n      return;\n    }\n\n    try {\n      setValue(v, () => {\n        marked = true;\n      });\n    } finally {\n      if (marked) {\n        trigger();\n      }\n    }\n  }\n\n  function get() {\n    markRead(value, 'value');\n    return recover();\n  }\n\n  const value = (...v) => {\n    if (v.length) {\n      set(v[0], v[1]);\n      return v[0];\n    }\n\n    return get();\n  };\n\n  Reflect.defineProperty(value, 'value', {\n    get,\n    set,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, 'valueOf', {\n    value: valueOf,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, 'toString', {\n    value: toString,\n    enumerable: true,\n    configurable: true\n  });\n  Reflect.defineProperty(value, Symbol.toPrimitive, {\n    value: toPrimitive,\n    enumerable: true,\n    configurable: true\n  });\n\n  function watch(cb) {\n    if (!callbacks) {\n      return () => {};\n    }\n\n    cb = safeify(cb);\n    callbacks.push(cb);\n    change();\n    let cancelled = false;\n    return () => {\n      if (cancelled) {\n        return;\n      }\n\n      cancelled = true;\n\n      if (!callbacks) {\n        return;\n      }\n\n      const index = callbacks.findIndex(a => a === cb);\n\n      if (index < 0) {\n        return;\n      }\n\n      callbacks.splice(index, 1);\n      change();\n    };\n  }\n\n  let callbacks = [];\n  Reflect.defineProperty(value, 'watch', {\n    get() {\n      return watch;\n    },\n\n    set() {},\n\n    configurable: true\n  });\n\n  const trigger = () => {\n    if (!callbacks) {\n      return;\n    }\n\n    markChange(value, 'value');\n\n    for (const cb of [...callbacks]) {\n      cb(value, false);\n    }\n  };\n\n  trigger.has = () => {\n    var _callbacks;\n\n    return Boolean((_callbacks = callbacks) === null || _callbacks === void 0 ? void 0 : _callbacks.length);\n  };\n\n  trigger.stop = () => {\n    if (!callbacks) {\n      return;\n    }\n\n    const list = callbacks;\n    callbacks = undefined;\n\n    for (const cb of [...list]) {\n      cb(value, true);\n    }\n  };\n\n  values.add(value);\n  let stopped = false;\n\n  value.stop = () => {\n    if (stopped) {\n      return;\n    }\n\n    stopped = true;\n    stop();\n    trigger.stop();\n  };\n\n  return {\n    value,\n    trigger\n  };\n}\n/**\n * 创建引用值\n * @param value 初始值\n * @param options 选项\n */\n\n\nfunction value(def, options) {\n  const proxy = options === true || options && options.proxy;\n  let source;\n  let proxyValue;\n  const {\n    value\n  } = createValue(() => proxyValue, (v, mark) => {\n    if (proxy) {\n      v = recover(v);\n    }\n\n    if (v === source) {\n      return;\n    }\n\n    source = v;\n    proxyValue = proxy ? encase(source) : source;\n    mark();\n  });\n  value(def);\n  return value;\n}\nfunction computed(getter, setter, options) {\n  var _options;\n\n  if (typeof setter !== 'function') {\n    options = setter;\n    setter = undefined;\n  }\n\n  const setValue = setter;\n  const proxy = options === true || options && options.proxy;\n  const postpone = typeof options === 'object' && ((_options = options) === null || _options === void 0 ? void 0 : _options.postpone);\n  let source;\n  let proxyValue;\n  let stopped = false;\n  let computed = false;\n  let trigger;\n  const executable = createExecutable(changed => {\n    computed = !changed;\n\n    if (changed && trigger) {\n      trigger();\n    }\n  }, getter, {\n    postpone\n  });\n\n  function run() {\n    computed = true;\n\n    try {\n      source = executable();\n\n      if (proxy) {\n        source = recover(source);\n      }\n\n      proxyValue = proxy ? encase(source) : source;\n      return proxyValue;\n    } catch (e) {\n      if (!stopped) {\n        computed = false;\n      }\n\n      throw e;\n    }\n  }\n\n  let value;\n  ({\n    value,\n    trigger\n  } = createValue(() => computed || stopped ? proxyValue : run(), setValue && (v => setValue(proxy ? recover(v) : v)), () => {\n    if (stopped) {\n      return;\n    }\n\n    stopped = true;\n\n    if (computed) {\n      return;\n    }\n\n    run();\n  }));\n  return value;\n}\nfunction merge(cb) {\n  let oldValue;\n  let ran = false;\n  return (v, stopped) => {\n    if (stopped) {\n      return cb(v, stopped);\n    }\n\n    const newValue = recover(v());\n\n    if (newValue === oldValue && ran) {\n      return;\n    }\n\n    ran = true;\n    oldValue = newValue;\n    cb(v, stopped);\n  };\n}\nfunction mix(source) {\n  for (const k of Reflect.ownKeys(source)) {\n    const descriptor = Reflect.getOwnPropertyDescriptor(source, k);\n\n    if (!descriptor) {\n      continue;\n    }\n\n    if (!('value' in descriptor) || 'get' in descriptor || 'set' in descriptor) {\n      continue;\n    }\n\n    const value = descriptor.value;\n\n    if (!isValue(value)) {\n      continue;\n    }\n\n    descriptor.get = () => value.value;\n\n    if (descriptor.writable) {\n      descriptor.set = v => value.value = v;\n    }\n\n    delete descriptor.value;\n    delete descriptor.writable;\n    Reflect.defineProperty(source, k, descriptor);\n  }\n\n  return source;\n}\n\nfunction createValue$1(props, key, def = value(undefined), set) {\n  function setValue(value, setted) {\n    if (!set) {\n      return;\n    }\n\n    set(value, setted);\n  }\n\n  return computed(() => {\n    if (!(key in props)) {\n      return def();\n    }\n\n    const p = props[key];\n    return isValue(p) ? p() : p;\n  }, v => {\n    if (!(key in props)) {\n      def(v);\n      setValue(v, false);\n      return;\n    }\n\n    const p = props[key];\n\n    if (isValue(p)) {\n      p(v);\n      setValue(v, true);\n      return;\n    }\n\n    setValue(v, false);\n  });\n}\n\nfunction valueify(props, key, def, set) {\n  if (arguments.length >= 2) {\n    return createValue$1(props, key, def, set);\n  }\n\n  return (k, d, s) => createValue$1(props, k, d, s);\n}\n\nexport { computed, createExecutable, encase, encashable, equal, exec, getIndexes, getMapValue, isValue, markChange, markRead, merge, mix, observe, observeRun, postpone, printError, recover, safeify, setPrintError, value, valueify, watchProp };\n//# sourceMappingURL=monitorable.esm.js.map\n","/*!\n * Neep v0.1.0-alpha.9\n * (c) 2019-2020 Fierflame\n * @license MIT\n */\nimport { markRead, markChange, value, safeify, isValue, computed, encase, recover, valueify, exec as exec$1, createExecutable } from 'monitorable';\nexport { computed, encase, isValue, recover, value, valueify } from 'monitorable';\n\nconst version = 'undefined';\nconst isProduction = process.env.NODE_ENV === 'production';\n\nvar Constant = /*#__PURE__*/Object.freeze({\n\tversion: version,\n\tisProduction: isProduction\n});\n\nconst devtools = {\n  renderHook() {}\n\n};\nfunction installDevtools(tools) {\n  if (!tools) {\n    return;\n  }\n\n  if (typeof tools !== 'object') {\n    return;\n  }\n\n  const {\n    renderHook\n  } = tools;\n\n  if (typeof renderHook === 'function') {\n    devtools.renderHook = renderHook;\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nclass NeepError extends Error {\n  constructor(message, tag = '') {\n    super(tag ? `[${tag}] ${message}` : message);\n\n    _defineProperty(this, \"tag\", void 0);\n\n    this.tag = tag;\n  }\n\n}\nfunction assert(v, message, tag) {\n  if (v) {\n    return;\n  }\n\n  throw new NeepError(message, tag);\n}\n\nlet nextFrameApi;\nfunction nextFrame(fn) {\n  assert(nextFrameApi, 'The basic renderer is not installed', 'install');\n  nextFrameApi(fn);\n}\nconst renders = Object.create(null);\nfunction getRender(type = '') {\n  if (typeof type === 'object') {\n    return type;\n  }\n\n  return renders[type] || renders.default;\n}\nfunction installRender(render) {\n  if (!render) {\n    return;\n  }\n\n  renders[render.type] = render;\n\n  if (nextFrameApi) {\n    return;\n  }\n\n  if (!renders.default) {\n    renders.default = render;\n  }\n\n  if (!nextFrameApi && render.nextFrame) {\n    renders.default = render;\n    nextFrameApi = render.nextFrame;\n  }\n}\n\nfunction installMonitorable(api) {}\n\nfunction install(apis) {\n  installMonitorable(apis.monitorable);\n  installRender(apis.render);\n\n  if (!isProduction) {\n    installDevtools(apis.devtools);\n  }\n}\n\nfunction getEventName(k) {\n  if (k[0] === '@') {\n    return k.substr(1);\n  }\n\n  if (/^on[:-]/.test(k)) {\n    return k.substr(3);\n  }\n\n  if (/^n([:-])on(\\1|:)/.test(k)) {\n    return k.substr(5);\n  }\n\n  return '';\n}\n\nfunction addEventFromCollection(addEvent, events) {\n  if (!events) {\n    return;\n  }\n\n  if (typeof events === 'function') {\n    const {\n      names\n    } = events;\n\n    if (!Array.isArray(names)) {\n      return;\n    }\n\n    for (const n of names) {\n      if (!n) {\n        continue;\n      }\n\n      addEvent(n, (...p) => events(n, ...p));\n    }\n\n    return;\n  }\n\n  if (typeof events !== 'object') {\n    return;\n  }\n\n  for (const k of Object.keys(events)) {\n    const f = events[k];\n\n    if (typeof f !== 'function') {\n      continue;\n    }\n\n    addEvent(k, f);\n  }\n}\n\nclass EventEmitter {\n  static update(emitter, events) {\n    if (!events) {\n      return [];\n    }\n\n    const newHandles = [];\n\n    if (events && typeof events === 'object') {\n      for (const n of Object.keys(events)) {\n        if (!n) {\n          continue;\n        }\n\n        const fn = events[n];\n\n        if (typeof fn !== 'function') {\n          continue;\n        }\n\n        newHandles.push(emitter.on(n, fn));\n      }\n    }\n\n    return newHandles;\n  }\n\n  static updateInProps(emitter, props, custom) {\n    if (!props) {\n      return [];\n    }\n\n    const newHandles = [];\n\n    function addEvent(entName, listener) {\n      newHandles.push(emitter.on(entName, listener));\n    }\n\n    for (const k of Object.keys(props)) {\n      const fn = props[k];\n\n      if (typeof fn !== 'function') {\n        continue;\n      }\n\n      const entName = getEventName(k);\n\n      if (!entName) {\n        continue;\n      }\n\n      addEvent(entName, fn);\n    }\n\n    addEventFromCollection(addEvent, props['@']);\n    addEventFromCollection(addEvent, props['n:on']);\n    addEventFromCollection(addEvent, props['n-on']);\n\n    if (typeof custom === 'function') {\n      custom(addEvent);\n    }\n\n    newHandles.push(...EventEmitter.update(emitter, props['@']));\n    return newHandles;\n  }\n\n  get names() {\n    return [...this._names];\n  }\n\n  constructor() {\n    _defineProperty(this, \"_names\", new Set());\n\n    _defineProperty(this, \"_cancelHandles\", new Set());\n\n    _defineProperty(this, \"emit\", void 0);\n\n    _defineProperty(this, \"on\", void 0);\n\n    const events = Object.create(null);\n    const names = this._names;\n\n    function createEmit(...omitNames) {\n      function emit(name, ...p) {\n        const event = events[name];\n\n        if (!event) {\n          return true;\n        }\n\n        let res = true;\n\n        for (const fn of [...event]) {\n          res = fn(...p) && res;\n        }\n\n        return res;\n      }\n\n      emit.omit = (...names) => createEmit(...omitNames, ...names);\n\n      Reflect.defineProperty(emit, 'names', {\n        get: () => {\n          markRead(createEmit, 'names');\n          return [...names].filter(t => !omitNames.includes(t));\n        },\n        configurable: true\n      });\n      return emit;\n    }\n\n    const on = (name, listener) => {\n      var _event;\n\n      function fn(...p) {\n        try {\n          return listener(...p) !== false;\n        } catch (e) {\n          console.error(e);\n          return false;\n        }\n      }\n\n      let event = events[name];\n\n      if (!((_event = event) === null || _event === void 0 ? void 0 : _event.size)) {\n        event = new Set();\n        events[name] = event;\n        markChange(createEmit, 'names');\n        names.add(name);\n      }\n\n      event.add(fn);\n      let removed = false;\n      return () => {\n        if (removed) {\n          return;\n        }\n\n        removed = true;\n        event.delete(fn);\n\n        if (event.size) {\n          return;\n        }\n\n        markChange(createEmit, 'names');\n        names.delete(name);\n      };\n    };\n\n    this.emit = createEmit();\n    this.on = on;\n  }\n\n  updateHandles(newHandles) {\n    const eventCancelHandles = this._cancelHandles;\n    const oldHandles = [...eventCancelHandles];\n    eventCancelHandles.clear();\n\n    for (const fn of oldHandles) {\n      fn();\n    }\n\n    newHandles.forEach(f => eventCancelHandles.add(f));\n    return newHandles;\n  }\n\n  update(list) {\n    const handles = EventEmitter.update(this, list);\n    return this.updateHandles(handles);\n  }\n\n  updateInProps(list, custom) {\n    const handles = EventEmitter.updateInProps(this, list, custom);\n    return this.updateHandles(handles);\n  }\n\n}\n\nconst components = Object.create(null);\nfunction register(name, component) {\n  components[name] = component;\n}\n\nconst isElementSymbol = Symbol.for('isNeepElement');\nconst typeSymbol = Symbol.for('type');\nconst nameSymbol = Symbol.for('name');\nconst renderSymbol = Symbol.for('render');\nconst componentsSymbol = Symbol.for('components');\nconst configSymbol = Symbol.for('config');\n\nfunction Mark(symbol, value) {\n  return component => {\n    component[symbol] = value;\n    return component;\n  };\n}\n\nfunction MarkValue(symbol, key, value) {\n  return component => {\n    let obj = component[symbol];\n\n    if (!obj) {\n      obj = Object.create(null);\n      component[symbol] = obj;\n    }\n\n    obj[key] = value;\n    return component;\n  };\n}\n\nfunction mName(name, component) {\n  if (!component) {\n    return Mark(nameSymbol, name);\n  }\n\n  component[nameSymbol] = name;\n  return component;\n}\nfunction mType(type, component) {\n  if (!component) {\n    return Mark(typeSymbol, type);\n  }\n\n  component[typeSymbol] = type;\n  return component;\n}\nfunction mSimple(component) {\n  if (!component) {\n    return Mark(typeSymbol, 'simple');\n  }\n\n  component[typeSymbol] = 'simple';\n  return component;\n}\nfunction mNative(component) {\n  if (!component) {\n    return Mark(typeSymbol, 'native');\n  }\n\n  component[typeSymbol] = 'native';\n  return component;\n}\nfunction mRender(fn, component) {\n  if (!component) {\n    return Mark(renderSymbol, fn);\n  }\n\n  component[renderSymbol] = fn;\n  return component;\n}\nfunction mConfig(name, config, component) {\n  const mark = MarkValue(configSymbol, name, config);\n\n  if (!component) {\n    return mark;\n  }\n\n  return mark(component);\n}\nfunction mComponent(name, item, component) {\n  const mark = MarkValue(componentsSymbol, name, item);\n\n  if (!component) {\n    return mark;\n  }\n\n  return mark(component);\n}\nfunction create(c, r) {\n  if (typeof r === 'function') {\n    c[renderSymbol] = r;\n  }\n\n  return c;\n}\nfunction mark(component, ...marks) {\n  for (const m of marks) {\n    m(component);\n  }\n\n  return component;\n}\n\nfunction lazy(component, Placeholder) {\n  const reslut = value(0);\n  const Component = value(undefined);\n\n  async function load() {\n    if (reslut()) {\n      return;\n    }\n\n    reslut(1);\n\n    try {\n      const c = await component();\n\n      if (typeof c === 'function') {\n        Component(c);\n        return;\n      }\n\n      if (!c) {\n        reslut(-1);\n        return;\n      }\n\n      if (typeof c.default === 'function') {\n        Component(c.default);\n        return;\n      }\n\n      reslut(-1);\n    } catch (_unused) {\n      reslut(-1);\n    }\n  }\n\n  function Lazy(props, {\n    childNodes\n  }, {\n    createElement\n  }) {\n    const com = Component();\n\n    if (com) {\n      return createElement(com, props, ...childNodes);\n    }\n\n    load();\n\n    if (!Placeholder) {\n      return null;\n    }\n\n    return createElement(Placeholder, {\n      loading: reslut() > 0\n    });\n  }\n\n  return mark(Lazy, mSimple, mName('Lazy'));\n}\n\nconst ScopeSlot = 'Neep:ScopeSlot';\nconst SlotRender = 'Neep:SlotRender';\nconst Slot = 'Neep:Slot';\nconst Value = 'Neep:Value';\nconst Container = 'Neep:Container';\nconst Deliver = 'Neep:Deliver';\nconst Template = 'template';\nconst Fragment = Template;\n\nvar Tags = /*#__PURE__*/Object.freeze({\n\tScopeSlot: ScopeSlot,\n\tSlotRender: SlotRender,\n\tSlot: Slot,\n\tValue: Value,\n\tContainer: Container,\n\tDeliver: Deliver,\n\tTemplate: Template,\n\tFragment: Fragment\n});\n\nlet current;\nfunction setCurrent(fn, entity) {\n  const oldEntity = current;\n  current = entity;\n\n  try {\n    current.$_valueIndex = 0;\n    const ret = fn();\n\n    if (current.$_valueIndex !== current.$_values.length) {\n      throw new NeepError('Inconsistent number of useValue executions', 'life');\n    }\n\n    return ret;\n  } finally {\n    current = oldEntity;\n  }\n}\nfunction checkCurrent(name, initOnly = false) {\n  if (!current) {\n    throw new NeepError(`Function \\`${name}\\` can only be called within a cycle.`, 'life');\n  }\n\n  if (!initOnly) {\n    return current;\n  }\n\n  if (!current.created) {\n    return current;\n  }\n\n  throw new NeepError(`Function \\`${name}\\` can only be called at initialization time.`, 'life');\n}\n\nconst constructors = [];\nfunction initContext(context, exposed) {\n  for (const constructor of constructors) {\n    constructor(context, exposed);\n  }\n\n  return context;\n}\nfunction addContextConstructor(constructor) {\n  constructors.push(safeify(constructor));\n}\n\nconst hooks = Object.create(null);\nfunction setHook(id, hook, entity) {\n  let list = (entity === null || entity === void 0 ? void 0 : entity.$_hooks) || hooks;\n\n  if (!list) {\n    return () => {};\n  }\n\n  hook = safeify(hook);\n  let set = list[id];\n\n  if (!set) {\n    set = new Set();\n    list[id] = set;\n  }\n\n  set.add(hook);\n  return () => set.delete(hook);\n}\nfunction callHook(id, exposed) {\n  if (!exposed) {\n    return;\n  }\n\n  for (const hook of exposed.$_hooks[id] || []) {\n    hook(exposed);\n  }\n\n  for (const hook of hooks[id] || []) {\n    hook(exposed);\n  }\n}\n\nfunction watch(value, cb) {\n  const entity = checkCurrent('watch');\n\n  if (typeof value !== 'function') {\n    return () => {};\n  }\n\n  const stop = isValue(value) ? value.watch(cb) : computed(value).watch((v, s) => cb(v(), s));\n  setHook('beforeDestroy', () => stop(), entity);\n  return stop;\n}\nfunction useValue(fn, name = 'useValue') {\n  const entity = checkCurrent(name);\n  const index = entity.$_valueIndex++;\n  const values = entity.$_values;\n\n  if (!entity.created) {\n    values[index] = undefined;\n    const v = typeof fn === 'function' ? fn() : value(undefined);\n    return values[index] = v;\n  }\n\n  if (index >= values.length) {\n    throw new NeepError('Inconsistent number of useValue executions', 'life');\n  }\n\n  return values[index];\n}\nfunction hook(name, hook, initOnly) {\n  const entity = checkCurrent('setHook');\n\n  if (initOnly && entity.created) {\n    return undefined;\n  }\n\n  return setHook(name, () => hook(), entity);\n}\n\nfunction setValue(obj, name, value, opt) {\n  if (typeof name === 'string' && ['$', '_'].includes(name[0])) {\n    return;\n  }\n\n  if (isValue(value) && opt) {\n    Reflect.defineProperty(obj, name, {\n      get() {\n        return value();\n      },\n\n      set(v) {\n        value(v);\n      },\n\n      configurable: true,\n      enumerable: true\n    });\n    return;\n  }\n\n  if (typeof value === 'function' && opt) {\n    Reflect.defineProperty(obj, name, {\n      get: value,\n      set: typeof opt === 'function' ? opt : undefined,\n      configurable: true,\n      enumerable: true\n    });\n    return;\n  }\n\n  Reflect.defineProperty(obj, name, {\n    get() {\n      return value;\n    },\n\n    configurable: true,\n    enumerable: true\n  });\n}\n\nfunction expose(name, value, opt) {\n  setValue(checkCurrent('expose', true).exposed, name, value, opt);\n}\nfunction deliver(name, value, opt) {\n  setValue(checkCurrent('deliver', true).delivered, name, value, opt);\n}\n\nvar Life = /*#__PURE__*/Object.freeze({\n\twatch: watch,\n\tuseValue: useValue,\n\thook: hook,\n\texpose: expose,\n\tdeliver: deliver\n});\n\nfunction isElement(v) {\n  if (!v) {\n    return false;\n  }\n\n  if (typeof v !== 'object') {\n    return false;\n  }\n\n  return v[isElementSymbol] === true;\n}\nfunction createElement(tag, attrs, ...children) {\n  attrs = attrs ? { ...attrs\n  } : {};\n  const node = {\n    [isElementSymbol]: true,\n    tag,\n    children: []\n  };\n\n  if ('key' in attrs) {\n    node.key = attrs.key;\n  }\n\n  if ('slot' in attrs) {\n    node.slot = attrs.slot;\n  }\n\n  if (typeof attrs.ref === 'function') {\n    node.ref = attrs.ref;\n  }\n\n  if (tag === Value) {\n    node.value = attrs.value;\n    return node;\n  }\n\n  node.children = children;\n\n  if (tag === Template) {\n    return node;\n  }\n\n  if (tag === SlotRender) {\n    node.render = attrs.render;\n    return node;\n  }\n\n  if (tag === ScopeSlot || tag === Slot) {\n    const {\n      render,\n      argv,\n      args,\n      name\n    } = attrs;\n    node.render = render;\n    node.args = argv && [argv] || Array.isArray(args) && args.length && args || [{}];\n\n    if (tag === ScopeSlot) {\n      node.props = {\n        name\n      };\n      return node;\n    }\n  }\n\n  node.props = {};\n\n  for (let k in attrs) {\n    node.props[k] = attrs[k];\n  }\n\n  return node;\n}\nfunction elements(node, opt = {}) {\n  if (Array.isArray(node)) {\n    const list = [];\n\n    for (let n of node) {\n      list.push(elements(n, opt));\n    }\n\n    return [].concat(...list);\n  }\n\n  if (!isElement(node)) {\n    return [node];\n  }\n\n  let {\n    tag\n  } = node;\n\n  if (!tag) {\n    return [node];\n  }\n\n  if ([Template, ScopeSlot].includes(tag)) {\n    return elements(node.children, opt);\n  }\n\n  if (typeof tag !== 'function') {\n    return [node];\n  }\n\n  if (tag[typeSymbol] !== 'simple') {\n    return [node];\n  }\n\n  const {\n    simple\n  } = opt;\n\n  if (!simple) {\n    return [node];\n  }\n\n  if (Array.isArray(simple)) {\n    if (simple.includes(tag)) {\n      return [node];\n    }\n  } else if (typeof simple === 'function') {\n    if (!simple(tag)) {\n      return [node];\n    }\n  }\n\n  return elements(node.children, opt);\n}\n\nvar Element = /*#__PURE__*/Object.freeze({\n\tisElement: isElement,\n\tcreateElement: createElement,\n\telements: elements\n});\n\nlet label;\nfunction setLabel(l) {\n  label = l;\n}\nfunction getLabel() {\n  const l = label;\n  label = undefined;\n  return l;\n}\n\nfunction label$1(text, color = '') {\n  if (!isProduction) {\n    if (!current) {\n      setLabel([text, color]);\n      return;\n    }\n\n    Reflect.defineProperty(current.exposed, '$label', {\n      value: [text, color],\n      configurable: true\n    });\n  }\n}\n\nvar Dev = /*#__PURE__*/Object.freeze({\n\tlabel: label$1\n});\n\nconst auxiliary = { ...Tags,\n  ...Life,\n  ...Element,\n  ...Dev,\n  ...Constant,\n\n  get value() {\n    return value;\n  },\n\n  get computed() {\n    return computed;\n  },\n\n  get isValue() {\n    return isValue;\n  },\n\n  get encase() {\n    return encase;\n  },\n\n  get recover() {\n    return recover;\n  }\n\n};\nfunction setAuxiliary(name, value) {\n  Reflect.defineProperty(auxiliary, name, {\n    value,\n    enumerable: true,\n    configurable: true\n  });\n}\nfunction defineAuxiliary(name, get) {\n  Reflect.defineProperty(auxiliary, name, {\n    get,\n    enumerable: true,\n    configurable: true\n  });\n}\n\nlet ids = 0;\nconst Nodes = {};\nlet IdMap;\n\nif (!isProduction) {\n  IdMap = new Map();\n}\n\nfunction createMountedNode(n, id) {\n  if (!isProduction) {\n    id = id || ++ids;\n    const {\n      node\n    } = n;\n\n    if (node && IdMap) {\n      IdMap.set(node, id);\n    }\n\n    return Nodes[id] = { ...n,\n      id\n    };\n  }\n\n  return { ...n,\n    id: 0\n  };\n}\nfunction recoveryMountedNode(node) {\n  if (!isProduction) {\n    delete Nodes[node.id];\n  }\n}\n\nfunction* recursive2iterable(list) {\n  if (!Array.isArray(list)) {\n    yield list;\n    return;\n  }\n\n  for (const it of list) {\n    yield* recursive2iterable(it);\n  }\n}\n\nlet refList;\nfunction setRefList(list) {\n  refList = list;\n}\n\nfunction setRef(ref, node, isRemove) {\n  if (typeof ref !== 'function') {\n    return;\n  }\n\n  if (!node) {\n    return;\n  }\n\n  if (!refList) {\n    ref(node, isRemove);\n  } else {\n    refList.push(() => ref(node, isRemove));\n  }\n}\n\nfunction getLastNode(tree) {\n  if (Array.isArray(tree)) {\n    return getLastNode(tree[tree.length - 1]);\n  }\n\n  const {\n    component,\n    children,\n    node\n  } = tree;\n\n  if (node) {\n    return node;\n  }\n\n  if (component) {\n    return getLastNode(component.tree);\n  }\n\n  return getLastNode(children);\n}\n\nfunction getFirstNode(tree) {\n  if (Array.isArray(tree)) {\n    return getFirstNode(tree[0]);\n  }\n\n  const {\n    component,\n    children,\n    node\n  } = tree;\n\n  if (node) {\n    return node;\n  }\n\n  if (component) {\n    return getFirstNode(component.tree);\n  }\n\n  return getFirstNode(children[0]);\n}\n\nfunction* getNodes(tree) {\n  if (Array.isArray(tree)) {\n    for (const it of tree) {\n      yield* getNodes(it);\n    }\n\n    return;\n  }\n\n  const {\n    children,\n    node,\n    component\n  } = tree;\n\n  if (node) {\n    yield node;\n    return;\n  }\n\n  if (component) {\n    yield* getNodes(component.tree);\n    return;\n  }\n\n  yield* getNodes(children);\n}\nfunction unmount(iRender, tree) {\n  if (Array.isArray(tree)) {\n    tree.forEach(e => unmount(iRender, e));\n    return;\n  }\n\n  const {\n    component,\n    children,\n    node,\n    ref\n  } = tree;\n  recoveryMountedNode(tree);\n\n  if (node) {\n    setRef(ref, node, true);\n    iRender.remove(node);\n    return;\n  }\n\n  if (component) {\n    setRef(ref, component.exposed, true);\n    component.unmount();\n    return;\n  }\n\n  unmount(iRender, children);\n}\n\nfunction replace(iRender, newTree, oldTree) {\n  const next = getFirstNode(oldTree);\n\n  if (!next) {\n    return newTree;\n  }\n\n  const parent = iRender.parent(next);\n\n  if (!parent) {\n    return newTree;\n  }\n\n  for (const it of getNodes(newTree)) {\n    iRender.insert(parent, it, next);\n  }\n\n  unmount(iRender, oldTree);\n  return newTree;\n}\n\nfunction updateList(iRender, source, tree) {\n  if (!source.length) {\n    const node = createItem(iRender, {\n      tag: null,\n      children: []\n    });\n    return [replace(iRender, node, tree)];\n  }\n\n  if (!Array.isArray(tree)) {\n    tree = [tree];\n  }\n\n  const newList = [];\n  const list = [...tree];\n  const mountedMap = new Map();\n\n  for (const src of source) {\n    const index = list.findIndex(it => it.tag === src.tag && it.key === src.key);\n\n    if (index >= 0) {\n      const old = list[index];\n      const item = updateItem(iRender, src, old);\n      mountedMap.set(old, item);\n      newList.push(item);\n      list.splice(index, 1);\n    } else {\n      const item = createItem(iRender, src);\n      newList.push(item);\n    }\n  }\n\n  if (!mountedMap.size) {\n    return replace(iRender, newList, list);\n  }\n\n  unmount(iRender, list);\n  tree = tree.filter(t => mountedMap.has(t));\n  const last = getLastNode(tree[tree.length - 1]);\n  const parent = iRender.parent(last);\n\n  if (!parent) {\n    return newList;\n  }\n\n  let next = iRender.next(last);\n\n  for (let i = newList.length - 1; i >= 0; i--) {\n    const item = newList[i];\n    const index = tree.findIndex(o => mountedMap.get(o) === item);\n\n    if (index >= 0) {\n      for (const it of tree.splice(index)) {\n        mountedMap.delete(it);\n      }\n    } else {\n      for (const it of getNodes(item)) {\n        iRender.insert(parent, it, next);\n      }\n    }\n\n    next = getFirstNode(item) || next;\n  }\n\n  return newList;\n}\n\nfunction updateAll(iRender, source, tree) {\n  let index = 0;\n  let length = Math.min(source.length, source.length || 1);\n  const list = [];\n\n  for (; index < length; index++) {\n    const src = source[index];\n\n    if (Array.isArray(src)) {\n      list.push(updateList(iRender, src, tree[index]));\n    } else {\n      list.push(updateItem(iRender, src, tree[index]));\n    }\n  }\n\n  length = Math.max(source.length, tree.length);\n\n  if (tree.length > length) {\n    for (; index < length; index++) {\n      unmount(iRender, tree[index]);\n    }\n  }\n\n  if (source.length > length) {\n    const last = getLastNode(list[list.length - 1]);\n    const parent = iRender.parent(last);\n    const next = iRender.next(last);\n\n    for (; index < length; index++) {\n      const src = source[index];\n      const item = Array.isArray(src) ? createList(iRender, src) : createItem(iRender, src);\n      list.push(item);\n\n      if (!parent) {\n        continue;\n      }\n\n      for (const it of getNodes(item)) {\n        iRender.insert(parent, it, next);\n      }\n    }\n  }\n\n  return list;\n}\n\nfunction updateItem(iRender, source, tree) {\n  if (Array.isArray(tree)) {\n    const index = tree.findIndex(it => it.tag === source.tag && it.component === source.component);\n\n    if (index < 0) {\n      return replace(iRender, createItem(iRender, source), tree);\n    }\n\n    const all = tree;\n    [tree] = tree.splice(index, 1);\n    unmount(iRender, all);\n  }\n\n  const {\n    tag,\n    component\n  } = source;\n  const ref = source.ref !== tree.ref && source.ref || undefined;\n\n  if (tag !== tree.tag || component !== tree.component) {\n    return replace(iRender, createItem(iRender, source), tree);\n  }\n\n  if (!tag) {\n    return tree;\n  }\n\n  const ltag = typeof tag !== 'string' ? '' : tag.toLowerCase();\n\n  if (typeof tag !== 'string' || ltag === 'neep:container') {\n    if (!component) {\n      return createMountedNode({ ...source,\n        node: undefined,\n        component: undefined,\n        children: draw(iRender, source.children, tree.children)\n      }, tree.id);\n    }\n\n    setRef(ref, component.exposed);\n    return createMountedNode({ ...source,\n      node: undefined,\n      component,\n      children: []\n    }, tree.id);\n  }\n\n  if (ltag === 'neep:value') {\n    let value = source.value;\n\n    if (isValue(value)) {\n      value = value();\n    }\n\n    if (tree.value === value) {\n      setRef(ref, tree.node);\n      return createMountedNode({ ...tree,\n        ...source,\n        value,\n        children: []\n      }, tree.id);\n    }\n\n    return replace(iRender, createValue(iRender, source, value), tree);\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return createMountedNode({ ...source,\n      node: undefined,\n      component: undefined,\n      children: updateAll(iRender, source.children, tree.children)\n    }, tree.id);\n  }\n\n  const {\n    node\n  } = tree;\n  iRender.update(node, source.props || {});\n  setRef(ref, node);\n\n  if (!source.children.length && !tree.children.length) {\n    return createMountedNode({ ...tree,\n      ...source,\n      children: []\n    }, tree.id);\n  }\n\n  if (!source.children.length && tree.children.length) {\n    unmount(iRender, tree.children);\n  }\n\n  if (source.children.length && !tree.children.length) {\n    const children = createAll(iRender, source.children);\n\n    for (const it of getNodes(children)) {\n      iRender.insert(node, it);\n    }\n\n    return createMountedNode({ ...tree,\n      ...source,\n      children\n    }, tree.id);\n  }\n\n  return createMountedNode({ ...tree,\n    ...source,\n    children: updateAll(iRender, source.children, tree.children)\n  }, tree.id);\n}\n\nfunction createValue(iRender, source, value) {\n  let {\n    ref\n  } = source;\n\n  if (iRender.isNode(value)) {\n    setRef(ref, value);\n    return createMountedNode({ ...source,\n      value,\n      node: value,\n      children: [],\n      component: undefined\n    });\n  }\n\n  const type = typeof value;\n  let node;\n\n  if (type === 'bigint' || type === 'boolean' || type === 'number' || type === 'string' || type === 'symbol' || value instanceof RegExp) {\n    node = iRender.text(String(value));\n  } else if (value instanceof Date) {\n    node = iRender.text(value.toISOString());\n  } else if (type === 'object' && value) {\n    node = iRender.text(String(value));\n  }\n\n  if (!node) {\n    node = iRender.placeholder();\n  }\n\n  setRef(ref, node);\n  return createMountedNode({ ...source,\n    value,\n    node,\n    component: undefined,\n    children: []\n  });\n}\n\nfunction createAll(iRender, source) {\n  if (!source.length) {\n    return [createMountedNode({\n      tag: null,\n      node: iRender.placeholder(),\n      component: undefined,\n      children: []\n    })];\n  }\n\n  return source.map(item => Array.isArray(item) ? createList(iRender, item) : createItem(iRender, item));\n}\n\nfunction createList(iRender, source) {\n  if (source.length) {\n    return source.map(it => createItem(iRender, it));\n  }\n\n  return [createMountedNode({\n    tag: null,\n    node: iRender.placeholder(),\n    component: undefined,\n    children: []\n  })];\n}\n\nfunction createItem(iRender, source) {\n  var _source$children;\n\n  const {\n    tag,\n    ref,\n    component\n  } = source;\n\n  if (!tag) {\n    const node = iRender.placeholder();\n    setRef(ref, node);\n    return createMountedNode({\n      tag: null,\n      node,\n      component: undefined,\n      children: []\n    });\n  }\n\n  const ltag = typeof tag !== 'string' ? '' : tag.toLowerCase();\n\n  if (typeof tag !== 'string' || ltag === 'neep:container') {\n    if (!component) {\n      return createMountedNode({ ...source,\n        node: undefined,\n        component: undefined,\n        children: draw(iRender, source.children)\n      });\n    }\n\n    component.mount();\n    setRef(ref, component.exposed);\n    return createMountedNode({ ...source,\n      node: undefined,\n      component,\n      children: []\n    });\n  }\n\n  if (ltag === 'neep:value') {\n    let value = source.value;\n\n    if (isValue(value)) {\n      value = value();\n    }\n\n    return createValue(iRender, source, value);\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return createMountedNode({ ...source,\n      node: undefined,\n      component: undefined,\n      children: createAll(iRender, source.children)\n    });\n  }\n\n  const node = iRender.create(tag, source.props || {});\n  setRef(ref, node);\n  let children = [];\n\n  if ((_source$children = source.children) === null || _source$children === void 0 ? void 0 : _source$children.length) {\n    children = createAll(iRender, source.children);\n\n    for (const it of getNodes(children)) {\n      iRender.insert(node, it);\n    }\n  }\n\n  return createMountedNode({ ...source,\n    node,\n    component: undefined,\n    children\n  });\n}\n\nfunction draw(iRender, source, tree) {\n  if (tree) {\n    return updateAll(iRender, source, tree);\n  }\n\n  return createAll(iRender, source);\n}\n\nfunction getSlots(iRender, children, slots, native = false) {\n  const nativeList = [];\n\n  for (const it of children) {\n    if (Array.isArray(it)) {\n      const list = Object.create(null);\n      nativeList.push(getSlots(iRender, it, list, native));\n\n      for (const k of Reflect.ownKeys(list)) {\n        if (k in slots) {\n          slots[k].push(list[k]);\n        } else {\n          slots[k] = [list[k]];\n        }\n      }\n\n      continue;\n    }\n\n    if (native) {\n      if (iRender.isNode(it)) {\n        nativeList.push(it);\n        continue;\n      }\n\n      if (!isElement(it)) {\n        nativeList.push(it);\n        continue;\n      }\n\n      if (it.tag !== SlotRender) {\n        nativeList.push(it);\n        continue;\n      }\n    }\n\n    const slot = isElement(it) && it.slot || 'default';\n    const el = isElement(it) ? { ...it,\n      slot: undefined,\n      props: { ...it.props,\n        slot: undefined\n      }\n    } : it;\n\n    if (slot in slots) {\n      slots[slot].push(el);\n    } else {\n      slots[slot] = [el];\n    }\n  }\n\n  return nativeList;\n}\n\nfunction renderSlots(list, ...props) {\n  return list.map(it => {\n    if (Array.isArray(it)) {\n      return renderSlots(it, ...props);\n    }\n\n    if (!isElement(it)) {\n      return it;\n    }\n\n    if (it.tag !== SlotRender) {\n      return { ...it,\n        slot: undefined\n      };\n    }\n\n    if (typeof it.render === 'function') {\n      return it.render(...props);\n    }\n\n    return it.children;\n  });\n}\n\nfunction createSlots(name, list) {\n  const slot = (...props) => ({\n    [isElementSymbol]: true,\n    tag: ScopeSlot,\n    children: renderSlots(list, ...props),\n    inserted: true,\n    label: isProduction ? undefined : [`[${name}]`, '#00F']\n  });\n\n  slot.children = list;\n  return slot;\n}\n\nfunction setSlots(children, slots = Object.create(null)) {\n  for (const k of Reflect.ownKeys(slots)) {\n    if (!(k in children)) {\n      delete slots[k];\n    }\n  }\n\n  for (const k of Reflect.ownKeys(children)) {\n    slots[k] = createSlots(k, children[k]);\n  }\n\n  return slots;\n}\n\nconst disabledKey = new Set([':', '@', '#', '*', '!', '%', '^', '~', '&', '=', '+', '.', '(', ')', '[', ']', '{', '}', '<', '>']);\n\nfunction filter(k) {\n  if (typeof k !== 'string') {\n    return true;\n  }\n\n  if (disabledKey.has(k[0])) {\n    return false;\n  }\n\n  if (/^n[:-]/.test(k)) {\n    return false;\n  }\n\n  if (/^on[:-]/.test(k)) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction updateProps(obj, props, oldProps = {}, define = false, isProps = false) {\n  const keys = Reflect.ownKeys(props);\n  const newKeys = new Set(isProps ? keys.filter(filter) : keys);\n\n  for (const k of Reflect.ownKeys(obj)) {\n    if (!newKeys.has(k)) {\n      delete obj[k];\n    }\n  }\n\n  if (!define) {\n    for (const k of newKeys) {\n      obj[k] = props[k];\n    }\n\n    return obj;\n  }\n\n  for (const k of newKeys) {\n    const value = props[k];\n\n    if (k in oldProps && oldProps[k] === value) {\n      continue;\n    }\n\n    if (isValue(value)) {\n      Reflect.defineProperty(obj, k, {\n        configurable: true,\n        enumerable: true,\n\n        get() {\n          return value();\n        },\n\n        set(v) {\n          value(v);\n        }\n\n      });\n      continue;\n    }\n\n    Reflect.defineProperty(obj, k, {\n      configurable: true,\n      enumerable: true,\n      value\n    });\n  }\n\n  return obj;\n}\n\nfunction getComponents(...components) {\n  return components.filter(Boolean);\n}\n\nfunction execSimple(nObject, delivered, node, tag, components, children) {\n  const {\n    iRender\n  } = nObject;\n  const slotMap = Object.create(null);\n  getSlots(iRender, children, slotMap);\n  const slots = setSlots(slotMap);\n  const event = new EventEmitter();\n  event.updateInProps(node.props);\n  const props = { ...node.props\n  };\n  const context = initContext({\n    slots,\n    created: false,\n    parent: nObject.exposed,\n    delivered,\n    children: new Set(),\n    childNodes: children,\n\n    refresh(f) {\n      nObject.refresh(f);\n    },\n\n    emit: event.emit,\n    valueifyProp: valueify(props)\n  });\n\n  if (!isProduction) {\n    getLabel();\n  }\n\n  const result = tag(props, context, auxiliary);\n  let label;\n\n  if (!isProduction) {\n    label = getLabel();\n  }\n\n  const nodes = exec(nObject, delivered, renderNode(iRender, result, context, tag[renderSymbol]), slots, getComponents(...components, tag[componentsSymbol]));\n  return { ...node,\n    tag,\n    children: Array.isArray(nodes) ? nodes : [nodes],\n    label\n  };\n}\n\nfunction execSlot(nObject, delivered, node, slots, components, children, args = [{}], native) {\n  var _node$props;\n\n  const slotName = ((_node$props = node.props) === null || _node$props === void 0 ? void 0 : _node$props.name) || 'default';\n  const slot = slots[slotName];\n\n  if (typeof slot === 'function') {\n    return { ...node,\n      ...slot(...args)\n    };\n  }\n\n  const {\n    render\n  } = node;\n  const label = isProduction ? undefined : [`[${slotName}]`, '#00F'];\n  return { ...node,\n    tag: ScopeSlot,\n    label,\n    children: exec(nObject, delivered, typeof render !== 'function' ? children : render(...args), slots, components, native)\n  };\n}\n\nfunction findComponent(tag, components$1) {\n  if (!tag) {\n    return null;\n  }\n\n  if (typeof tag !== 'string') {\n    return tag;\n  }\n\n  if (tag === 'template') {\n    return tag;\n  }\n\n  if (/^neep:.+/i.test(tag)) {\n    return tag;\n  }\n\n  for (const list of components$1) {\n    const component = list[tag];\n\n    if (component) {\n      return component;\n    }\n  }\n\n  return components[tag] || tag;\n}\n\nfunction exec(nObject, delivered, node, slots, components, native = false) {\n  if (Array.isArray(node)) {\n    return node.map(n => exec(nObject, delivered, n, slots, components, native));\n  }\n\n  if (!isElement(node)) {\n    return node;\n  }\n\n  const {\n    inserted,\n    args = [{}]\n  } = node;\n  let tag = findComponent(node.tag, components);\n\n  if (tag === Deliver) {\n    const props = { ...node.props\n    };\n    delete props.ref;\n    delete props.slot;\n    delete props.key;\n    const newDelivered = Object.create(delivered);\n    updateProps(newDelivered, props || {}, {}, true);\n    return { ...node,\n      tag,\n      $__neep__delivered: newDelivered,\n      children: node.children.map(n => exec(nObject, newDelivered, n, slots, components, native))\n    };\n  }\n\n  const children = node.children.map(n => exec(nObject, delivered, n, slots, components, native));\n\n  if (typeof tag === 'function') {\n    if (tag[typeSymbol] === 'simple') {\n      return execSimple(nObject, delivered, node, tag, components, exec(nObject, delivered, children, slots, components, native));\n    }\n\n    return { ...node,\n      $__neep__delivered: delivered,\n      children,\n      tag\n    };\n  }\n\n  if (tag === Slot) {\n    tag = native ? 'slot' : ScopeSlot;\n  }\n\n  if (tag !== ScopeSlot || inserted) {\n    return { ...node,\n      children,\n      tag\n    };\n  }\n\n  return execSlot(nObject, delivered, { ...node,\n    tag\n  }, slots, components, children, args, native);\n}\n\nfunction renderNode(iRender, node, context, render) {\n  if (Array.isArray(node)) {\n    return node;\n  }\n\n  if (isElement(node)) {\n    return [node];\n  }\n\n  if (node === undefined || node === null) {\n    return [{\n      [isElementSymbol]: true,\n      tag: null,\n      children: []\n    }];\n  }\n\n  if (!iRender.isNode(node) && node && typeof node === 'object' && render) {\n    node = render(node, context, auxiliary);\n  }\n\n  if (isElement(node)) {\n    return [node];\n  }\n\n  if (node === undefined || node === null) {\n    return [{\n      [isElementSymbol]: true,\n      tag: null,\n      children: []\n    }];\n  }\n\n  return [{\n    [isElementSymbol]: true,\n    tag: Value,\n    value: node,\n    children: []\n  }];\n}\n\nfunction normalize(nObject, result) {\n  const {\n    component\n  } = nObject;\n  return exec(nObject, nObject.delivered, renderNode(nObject.iRender, result, nObject.context, component[renderSymbol]), nObject.context.slots, getComponents(component[componentsSymbol]), Boolean(nObject.native));\n}\n\nlet delayedRefresh = 0;\nconst objectSet = new Set();\nfunction wait(obj) {\n  if (delayedRefresh <= 0) {\n    return false;\n  }\n\n  objectSet.add(obj);\n  return true;\n}\n\nfunction run() {\n  if (delayedRefresh > 0) {\n    return;\n  }\n\n  const list = [...objectSet];\n  objectSet.clear();\n  list.forEach(o => o.refresh());\n}\n\nasync function asyncRefresh(f) {\n  try {\n    delayedRefresh++;\n    return await f();\n  } finally {\n    delayedRefresh--;\n    run();\n  }\n}\n\nfunction refresh(f, async) {\n  if (async) {\n    return asyncRefresh(f);\n  }\n\n  try {\n    delayedRefresh++;\n    return f();\n  } finally {\n    delayedRefresh--;\n    run();\n  }\n}\n\nfunction createExposed(obj) {\n  const cfg = {\n    $parent: {\n      configurable: true,\n      get: () => {\n        var _obj$parent;\n\n        return (_obj$parent = obj.parent) === null || _obj$parent === void 0 ? void 0 : _obj$parent.exposed;\n      }\n    },\n    $component: {\n      configurable: true,\n      value: null\n    },\n    $isContainer: {\n      configurable: true,\n      value: false\n    },\n    $created: {\n      configurable: true,\n      get: () => obj.created\n    },\n    $destroyed: {\n      configurable: true,\n      get: () => obj.destroyed\n    },\n    $mounted: {\n      configurable: true,\n      get: () => obj.mounted\n    },\n    $unmounted: {\n      configurable: true,\n      get: () => obj.unmounted\n    }\n  };\n  const exposed = Object.create(null, cfg);\n  return exposed;\n}\n\nlet completeList;\nfunction setCompleteList(list) {\n  completeList = list;\n}\nfunction complete(it) {\n  if (!completeList) {\n    it();\n  } else {\n    completeList.push(it);\n  }\n}\n\nfunction createEntity(obj) {\n  const cfg = {\n    exposed: {\n      configurable: true,\n      get: () => obj.exposed\n    },\n    delivered: {\n      configurable: true,\n      get: () => obj.delivered\n    },\n    parent: {\n      configurable: true,\n      get: () => {\n        var _obj$parent2;\n\n        return (_obj$parent2 = obj.parent) === null || _obj$parent2 === void 0 ? void 0 : _obj$parent2.entity;\n      }\n    },\n    component: {\n      configurable: true,\n      value: null\n    },\n    isContainer: {\n      configurable: true,\n      value: false\n    },\n    created: {\n      configurable: true,\n      get: () => obj.created\n    },\n    destroyed: {\n      configurable: true,\n      get: () => obj.destroyed\n    },\n    mounted: {\n      configurable: true,\n      get: () => obj.mounted\n    },\n    unmounted: {\n      configurable: true,\n      get: () => obj.unmounted\n    },\n    $_hooks: {\n      configurable: true,\n      value: Object.create(null)\n    },\n    $_valueIndex: {\n      configurable: true,\n      value: 0,\n      writable: true\n    },\n    $_values: {\n      configurable: true,\n      value: []\n    },\n    callHook: {\n      configurable: true,\n\n      value(h) {\n        callHook(h, entity);\n      }\n\n    },\n    setHook: {\n      configurable: true,\n\n      value(id, hook) {\n        return setHook(id, hook, entity);\n      }\n\n    },\n    refresh: {\n      configurable: true,\n      value: obj.refresh.bind(obj)\n    },\n    on: {\n      configurable: true,\n      value: obj.on\n    },\n    emit: {\n      configurable: true,\n      value: obj.emit\n    },\n    config: {\n      configurable: true,\n      value: obj.config\n    }\n  };\n  const entity = Object.create(null, cfg);\n  return entity;\n}\n\nclass NeepObject {\n  constructor(iRender, parent, delivered = (parent === null || parent === void 0 ? void 0 : parent.delivered) || Object.create(null), container) {\n    _defineProperty(this, \"events\", new EventEmitter());\n\n    _defineProperty(this, \"emit\", this.events.emit);\n\n    _defineProperty(this, \"on\", this.events.on);\n\n    _defineProperty(this, \"eventCancelHandles\", new Set());\n\n    _defineProperty(this, \"iRender\", void 0);\n\n    _defineProperty(this, \"components\", Object.create(null));\n\n    _defineProperty(this, \"config\", Object.create(null));\n\n    _defineProperty(this, \"parentDelivered\", void 0);\n\n    _defineProperty(this, \"delivered\", void 0);\n\n    _defineProperty(this, \"exposed\", createExposed(this));\n\n    _defineProperty(this, \"entity\", createEntity(this));\n\n    _defineProperty(this, \"parent\", void 0);\n\n    _defineProperty(this, \"native\", void 0);\n\n    _defineProperty(this, \"created\", false);\n\n    _defineProperty(this, \"destroyed\", false);\n\n    _defineProperty(this, \"mounted\", false);\n\n    _defineProperty(this, \"unmounted\", false);\n\n    _defineProperty(this, \"children\", new Set());\n\n    _defineProperty(this, \"tree\", []);\n\n    _defineProperty(this, \"container\", void 0);\n\n    _defineProperty(this, \"_render\", () => []);\n\n    _defineProperty(this, \"_needRefresh\", false);\n\n    _defineProperty(this, \"_delayedRefresh\", 0);\n\n    _defineProperty(this, \"_refreshing\", false);\n\n    _defineProperty(this, \"_nodes\", []);\n\n    _defineProperty(this, \"childNodes\", []);\n\n    _defineProperty(this, \"__executed_destroy\", false);\n\n    _defineProperty(this, \"__executed_mount\", false);\n\n    _defineProperty(this, \"__executed_mounted\", false);\n\n    _defineProperty(this, \"_cancelDrawMonitor\", void 0);\n\n    this.iRender = iRender;\n    this.parentDelivered = delivered;\n    this.delivered = Object.create(delivered);\n\n    if (parent) {\n      this.parent = parent;\n    }\n\n    this.container = container || this;\n  }\n\n  get canRefresh() {\n    if (wait(this)) {\n      return false;\n    }\n\n    return !this._delayedRefresh;\n  }\n\n  get needRefresh() {\n    if (wait(this)) {\n      return false;\n    }\n\n    if (this._delayedRefresh) {\n      return false;\n    }\n\n    const needRefresh = this._needRefresh;\n    this._needRefresh = false;\n    return needRefresh;\n  }\n\n  requestDraw() {}\n\n  async asyncRefresh(f) {\n    try {\n      this._delayedRefresh++;\n      return await f();\n    } finally {\n      this._delayedRefresh--;\n      this.refresh();\n    }\n  }\n\n  refresh(f, async) {\n    if (typeof f === 'function') {\n      if (async) {\n        return this.asyncRefresh(f);\n      }\n\n      try {\n        this._delayedRefresh++;\n        return f();\n      } finally {\n        this._delayedRefresh--;\n\n        if (this._delayedRefresh <= 0) {\n          this.refresh();\n        }\n      }\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this._needRefresh = true;\n\n    if (!this.created) {\n      return;\n    }\n\n    if (this._refreshing) {\n      return;\n    }\n\n    this._refreshing = true;\n    let nodes;\n\n    while (this.needRefresh) {\n      nodes = this._render();\n\n      if (this.destroyed) {\n        return;\n      }\n    }\n\n    this._refreshing = false;\n\n    if (!this.canRefresh) {\n      return;\n    }\n\n    if (!nodes) {\n      return;\n    }\n\n    this._nodes = convert(this, nodes, this._nodes);\n\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    if (this.unmounted) {\n      return;\n    }\n\n    this.requestDraw();\n  }\n\n  callHook(id) {\n    callHook(id, this.entity);\n  }\n\n  _update(props, children) {\n    this.childNodes = children;\n  }\n\n  update(props, children) {\n    this._update(props, children);\n  }\n\n  _destroy() {}\n\n  destroy() {\n    if (this.__executed_destroy) {\n      return;\n    }\n\n    this.__executed_destroy = true;\n    this.callHook('beforeDestroy');\n\n    this._destroy();\n\n    this.callHook('destroyed');\n    this.destroyed = true;\n  }\n\n  _mount() {}\n\n  mount() {\n    if (this.__executed_destroy) {\n      return;\n    }\n\n    if (this.__executed_mount) {\n      return;\n    }\n\n    this.__executed_mount = true;\n    this.callHook('beforeMount');\n    const result = exec$1(c => c && this.requestDraw(), () => {\n      this._mount();\n\n      this.mounted = true;\n    });\n    this._cancelDrawMonitor = result.stop;\n    complete(() => this.callHook('mounted'));\n  }\n\n  _unmount() {}\n\n  unmount() {\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.__executed_mounted) {\n      return;\n    }\n\n    this.__executed_mounted = true;\n    this.callHook('beforeUnmount');\n\n    this._unmount();\n\n    this.callHook('unmounted');\n    this.unmounted = true;\n  }\n\n  _draw() {}\n\n  draw() {\n    var _this$_cancelDrawMoni;\n\n    if (this.__executed_destroy) {\n      return;\n    }\n\n    (_this$_cancelDrawMoni = this._cancelDrawMonitor) === null || _this$_cancelDrawMoni === void 0 ? void 0 : _this$_cancelDrawMoni.call(this);\n    this.callHook('beforeUpdate');\n    const result = exec$1(c => c && this.requestDraw(), () => this._draw());\n    this._cancelDrawMonitor = result.stop;\n    complete(() => this.callHook('updated'));\n  }\n\n}\n\nfunction update(nObject, props, children) {\n  updateProps(nObject.props, props, {}, false, true);\n  nObject.events.updateInProps(props);\n  const slots = Object.create(null);\n  const {\n    native\n  } = nObject;\n  const childNodes = getSlots(nObject.iRender, children, slots, Boolean(native));\n  setSlots(slots, nObject.slots);\n\n  if (!native) {\n    return;\n  }\n\n  nObject.nativeNodes = convert(nObject, childNodes, nObject.nativeNodes);\n\n  if (!nObject.mounted) {\n    return;\n  }\n\n  nObject.requestDraw();\n}\n\nfunction createContext(nObject) {\n  return initContext({\n    slots: nObject.slots,\n\n    get created() {\n      return nObject.created;\n    },\n\n    get parent() {\n      return nObject.parent.exposed;\n    },\n\n    get delivered() {\n      return nObject.parentDelivered;\n    },\n\n    get children() {\n      return nObject.children;\n    },\n\n    get childNodes() {\n      return nObject.childNodes;\n    },\n\n    get emit() {\n      return nObject.emit;\n    },\n\n    refresh(f) {\n      nObject.refresh(f);\n    },\n\n    valueifyProp: valueify(nObject.props)\n  }, nObject.exposed);\n}\n\nfunction initRender(nObject) {\n  const {\n    component,\n    props,\n    context,\n    entity\n  } = nObject;\n\n  const refresh = changed => changed && nObject.refresh();\n\n  const result = exec$1(refresh, () => setCurrent(() => component(props, context, auxiliary), entity), {\n    resultOnly: true\n  });\n\n  if (typeof result === 'function') {\n    const render = createExecutable(refresh, () => normalize(nObject, result()));\n    return {\n      nodes: render(),\n      render,\n      stopRender: () => render.stop()\n    };\n  }\n\n  const render = createExecutable(refresh, () => normalize(nObject, setCurrent(() => component(props, context, auxiliary), entity)));\n  return {\n    nodes: exec$1(refresh, () => normalize(nObject, result), {\n      resultOnly: true\n    }),\n    render,\n    stopRender: () => render.stop()\n  };\n}\n\nclass Entity extends NeepObject {\n  constructor(component, props, children, parent, delivered) {\n    var _this$iRender$compone, _this$iRender;\n\n    super(parent.iRender, parent, delivered, parent.container);\n\n    _defineProperty(this, \"component\", void 0);\n\n    _defineProperty(this, \"props\", encase(Object.create(null)));\n\n    _defineProperty(this, \"slots\", encase(Object.create(null)));\n\n    _defineProperty(this, \"_stopRender\", void 0);\n\n    _defineProperty(this, \"nativeNodes\", void 0);\n\n    _defineProperty(this, \"shadowTree\", []);\n\n    _defineProperty(this, \"nativeTree\", []);\n\n    _defineProperty(this, \"_shadow\", void 0);\n\n    _defineProperty(this, \"context\", void 0);\n\n    _defineProperty(this, \"parent\", void 0);\n\n    this.component = component;\n    Object.assign(this.config, component[configSymbol]);\n    Object.assign(this.components, component[componentsSymbol]);\n    Reflect.defineProperty(this.exposed, '$component', {\n      value: component,\n      enumerable: true,\n      configurable: true\n    });\n    [this.native, this._shadow] = component[typeSymbol] === 'native' && ((_this$iRender$compone = (_this$iRender = this.iRender).component) === null || _this$iRender$compone === void 0 ? void 0 : _this$iRender$compone.call(_this$iRender)) || [];\n    this.parent = parent;\n    parent.children.add(this.exposed);\n    const context = createContext(this);\n    this.context = context;\n    this.callHook('beforeCreate');\n    this.childNodes = children;\n    refresh(() => update(this, props, children));\n    const {\n      render,\n      nodes,\n      stopRender\n    } = initRender(this);\n    this._render = render;\n    this._stopRender = stopRender;\n    this._nodes = convert(this, nodes);\n    this.callHook('created');\n    this.created = true;\n\n    if (this._needRefresh) {\n      this.refresh();\n    }\n  }\n\n  _update(props, children) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.childNodes = children;\n    refresh(() => update(this, props, children));\n  }\n\n  _destroy() {\n    if (this._stopRender) {\n      this._stopRender();\n    }\n\n    this.parent.children.delete(this.exposed);\n    destroy(this._nodes);\n  }\n\n  requestDraw() {\n    this.container.markDraw(this);\n  }\n\n  _draw() {\n    const {\n      nativeNodes,\n      iRender,\n      _shadow,\n      native\n    } = this;\n\n    if (!native || !nativeNodes || !_shadow) {\n      this.tree = draw(iRender, this._nodes, this.tree);\n      return;\n    }\n\n    this.shadowTree = draw(iRender, this._nodes, this.shadowTree);\n    this.nativeTree = draw(iRender, nativeNodes, this.nativeTree);\n  }\n\n  _mount() {\n    const {\n      nativeNodes,\n      iRender,\n      _shadow,\n      native,\n      _nodes\n    } = this;\n\n    if (!native || !nativeNodes || !_shadow) {\n      this.tree = draw(iRender, _nodes);\n      return;\n    }\n\n    this.tree = draw(iRender, convert(this, native));\n    this.shadowTree = draw(iRender, _nodes);\n\n    for (const it of getNodes(this.shadowTree)) {\n      iRender.insert(_shadow, it);\n    }\n\n    this.nativeTree = draw(iRender, nativeNodes);\n\n    for (const it of getNodes(this.nativeTree)) {\n      iRender.insert(native, it);\n    }\n  }\n\n  _unmount() {\n    const {\n      iRender,\n      nativeTree\n    } = this;\n    unmount(iRender, this.tree);\n\n    if (!nativeTree) {\n      return;\n    }\n\n    unmount(iRender, nativeTree);\n  }\n\n}\n\nfunction toElement(t) {\n  if (t === false || t === null || t === undefined) {\n    return null;\n  }\n\n  if (isElement(t)) {\n    return t;\n  }\n\n  return {\n    [isElementSymbol]: true,\n    tag: 'Neep:Value',\n    key: t,\n    value: t,\n    children: []\n  };\n}\n\nfunction destroy(tree) {\n  if (Array.isArray(tree)) {\n    tree.forEach(t => destroy(t));\n    return;\n  }\n\n  const {\n    component\n  } = tree;\n\n  if (component) {\n    component.destroy();\n  }\n}\n\nfunction createItem$1(nObject, source) {\n  if (!source) {\n    return {\n      tag: null,\n      children: []\n    };\n  }\n\n  const {\n    tag\n  } = source;\n\n  if (!tag) {\n    return {\n      tag: null,\n      children: []\n    };\n  }\n\n  if (typeof tag !== 'string') {\n    if (tag[typeSymbol] === 'simple') {\n      return { ...source,\n        children: convert(nObject, source.children),\n        component: undefined\n      };\n    }\n\n    return { ...source,\n      children: [],\n      component: new Entity(tag, source.props || {}, source.children, nObject, source.$__neep__delivered)\n    };\n  }\n\n  const ltag = tag.toLowerCase();\n\n  if (ltag === 'neep:container') {\n    var _source$props;\n\n    const type = source === null || source === void 0 ? void 0 : (_source$props = source.props) === null || _source$props === void 0 ? void 0 : _source$props.type;\n    const iRender = type ? getRender(type) : nObject.iRender;\n    return { ...source,\n      children: [],\n      component: new Container$1(iRender, source.props || {}, source.children, nObject, source.$__neep__delivered)\n    };\n  }\n\n  if (ltag === 'neep:value') {\n    return { ...source,\n      children: []\n    };\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return { ...source,\n      children: convert(nObject, source.children)\n    };\n  }\n\n  return { ...source,\n    children: convert(nObject, source.children)\n  };\n}\n\nfunction updateList$1(nObject, source, tree) {\n  if (!Array.isArray(tree)) {\n    tree = [tree];\n  }\n\n  const newList = [];\n\n  for (const src of recursive2iterable(source)) {\n    const node = toElement(src);\n\n    if (!node) {\n      continue;\n    }\n\n    const index = tree.findIndex(it => it.tag === node.tag && it.key === node.key);\n\n    if (index >= 0) {\n      newList.push(updateItem$1(nObject, node, tree[index]));\n      tree.splice(index, 1);\n    } else {\n      newList.push(createItem$1(nObject, node));\n    }\n  }\n\n  destroy(tree);\n  return newList;\n}\n\nfunction updateItem$1(nObject, source, tree) {\n  if (!tree) {\n    return createItem$1(nObject, source);\n  }\n\n  if (!source) {\n    destroy(tree);\n    return {\n      tag: null,\n      children: []\n    };\n  }\n\n  if (Array.isArray(tree)) {\n    if (!tree.length) {\n      return createItem$1(nObject, source);\n    }\n\n    const index = tree.findIndex(it => it.tag === source.tag);\n\n    if (index < 0) {\n      destroy(tree);\n      return createItem$1(nObject, source);\n    }\n\n    const all = tree;\n    [tree] = tree.splice(index, 1);\n    destroy(all);\n  }\n\n  const {\n    tag\n  } = source;\n\n  if (tag !== tree.tag) {\n    destroy(tree);\n    return createItem$1(nObject, source);\n  }\n\n  if (!tag) {\n    return {\n      tag: null,\n      children: []\n    };\n  }\n\n  if (typeof tag !== 'string') {\n    if (tag[typeSymbol] === 'simple') {\n      return { ...source,\n        children: convert(nObject, source.children, tree.children),\n        component: undefined\n      };\n    }\n\n    const {\n      component\n    } = tree;\n\n    if (!component) {\n      return createItem$1(nObject, source);\n    }\n\n    component.update(source.props || {}, source.children);\n    return { ...source,\n      children: [],\n      component\n    };\n  }\n\n  const ltag = tag.toLowerCase();\n\n  if (ltag === 'neep:container') {\n    var _source$props2;\n\n    const {\n      component\n    } = tree;\n\n    if (!component) {\n      return createItem$1(nObject, source);\n    }\n\n    const type = source === null || source === void 0 ? void 0 : (_source$props2 = source.props) === null || _source$props2 === void 0 ? void 0 : _source$props2.type;\n    const iRender = type ? getRender(type) : nObject.iRender;\n\n    if (iRender !== component.iRender) {\n      return createItem$1(nObject, source);\n    }\n\n    component.update(source.props || {}, source.children);\n    return { ...source,\n      children: [],\n      component\n    };\n  }\n\n  if (ltag === 'neep:value') {\n    return { ...source,\n      children: []\n    };\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    let delivered;\n\n    if (ltag === 'neep:deliver') {\n      const props = { ...source.props\n      };\n      delete props.ref;\n      delete props.slot;\n      delete props.key;\n      delivered = updateProps(tree.$__neep__delivered, props, tree.props, true);\n    }\n\n    return { ...source,\n      $__neep__delivered: delivered,\n      children: convert(nObject, source.children, tree.children)\n    };\n  }\n\n  return { ...source,\n    children: convert(nObject, source.children, tree.children)\n  };\n}\n\nfunction createAll$1(nObject, source) {\n  if (!source.length) {\n    return [];\n  }\n\n  return source.map(item => {\n    if (!Array.isArray(item)) {\n      return createItem$1(nObject, toElement(item));\n    }\n\n    return [...recursive2iterable(item)].map(it => createItem$1(nObject, toElement(it)));\n  });\n}\n\nfunction* updateAll$1(nObject, source, tree) {\n  let index = 0;\n  let length = Math.min(source.length, source.length);\n\n  for (; index < length; index++) {\n    const src = source[index];\n\n    if (Array.isArray(src)) {\n      yield updateList$1(nObject, src, tree[index]);\n    } else {\n      yield updateItem$1(nObject, toElement(src), tree[index]);\n    }\n  }\n\n  length = Math.max(source.length, source.length);\n\n  if (tree.length > length) {\n    for (; index < length; index++) {\n      destroy(tree[index]);\n    }\n  }\n\n  if (source.length > length) {\n    for (; index < length; index++) {\n      const src = toElement(source[index]);\n\n      if (Array.isArray(src)) {\n        yield [...recursive2iterable(src)].map(it => createItem$1(nObject, it));\n      } else {\n        yield createItem$1(nObject, src);\n      }\n    }\n  }\n}\n\nfunction convert(nObject, source, tree) {\n  if (!Array.isArray(source)) {\n    source = [source];\n  }\n\n  if (!tree) {\n    return createAll$1(nObject, source);\n  }\n\n  return [...updateAll$1(nObject, source, tree)];\n}\n\nlet awaitDraw = new Set();\nlet requested = false;\n\nfunction markDraw(c) {\n  awaitDraw.add(c);\n\n  if (requested) {\n    return;\n  }\n\n  requested = true;\n  nextFrame(() => {\n    requested = false;\n    const list = [...awaitDraw];\n    awaitDraw.clear();\n    list.map(c => c.drawAll());\n  });\n}\n\nclass Container$1 extends NeepObject {\n  constructor(iRender, props, children, parent, delivered) {\n    super(iRender, parent, delivered);\n\n    _defineProperty(this, \"props\", void 0);\n\n    _defineProperty(this, \"content\", []);\n\n    _defineProperty(this, \"_node\", null);\n\n    _defineProperty(this, \"_container\", null);\n\n    _defineProperty(this, \"rootContainer\", this);\n\n    _defineProperty(this, \"_drawChildren\", false);\n\n    _defineProperty(this, \"_drawContainer\", false);\n\n    _defineProperty(this, \"_awaitDraw\", new Set());\n\n    _defineProperty(this, \"_needDraw\", false);\n\n    _defineProperty(this, \"_containers\", new Set());\n\n    this.props = props;\n    this.parent = parent;\n\n    if (parent) {\n      this.rootContainer = parent.container.rootContainer;\n    }\n\n    this.callHook('beforeCreate');\n\n    this._render = () => children;\n\n    this._nodes = convert(this, children);\n    this.callHook('created');\n    this.created = true;\n  }\n\n  setChildren(children) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.childNodes = children;\n\n    this._render = () => children;\n\n    this._drawChildren = true;\n    this.refresh();\n  }\n\n  setProps(props) {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.props = props;\n    this._drawContainer = true;\n    this.refresh();\n  }\n\n  update(props, children) {\n    this.refresh(() => {\n      this.setProps(props);\n      this.setChildren(children);\n    });\n  }\n\n  requestDraw() {\n    this.markDraw(this);\n  }\n\n  _mount() {\n    const {\n      props,\n      parent,\n      iRender\n    } = this;\n    const content = draw(this.container.iRender, this._nodes);\n    this.content = content;\n    const [container, node] = iRender.mount(props, parent === null || parent === void 0 ? void 0 : parent.iRender);\n\n    for (const it of getNodes(content)) {\n      iRender.insert(container, it);\n    }\n\n    this.tree = [createMountedNode({\n      tag: Value,\n      component: undefined,\n      node,\n      value: node,\n      children: []\n    })];\n    this._node = node;\n    this._container = container;\n  }\n\n  _destroy() {\n    destroy(this.content);\n  }\n\n  _unmount() {\n    const {\n      parent,\n      iRender\n    } = this;\n\n    if (parent) {\n      unmount(parent.iRender, this.tree);\n    }\n\n    iRender.unmount(this._container, this._node, Boolean(parent));\n    unmount(this.iRender, this.content);\n  }\n\n  _draw() {\n    const {\n      _drawChildren: drawChildren,\n      _drawContainer: drawContainer\n    } = this;\n    this._drawContainer = false;\n\n    if (drawContainer) {\n      var _this$parent;\n\n      this.iRender.drawContainer(this._container, this._node, this.props, (_this$parent = this.parent) === null || _this$parent === void 0 ? void 0 : _this$parent.iRender);\n    }\n\n    if (this.parent && this.parent.iRender !== this.iRender) {\n      return;\n    }\n\n    this._drawChildren = false;\n\n    if (drawChildren) {\n      this.content = draw(this.iRender, this._nodes, this.content);\n    }\n  }\n\n  _drawSelf() {\n    const {\n      _drawChildren: drawChildren,\n      _drawContainer: drawContainer\n    } = this;\n    this._needDraw = false;\n    this._drawChildren = false;\n    this._drawContainer = false;\n\n    if (drawContainer) {\n      var _this$parent2;\n\n      this.iRender.drawContainer(this._container, this._node, this.props, (_this$parent2 = this.parent) === null || _this$parent2 === void 0 ? void 0 : _this$parent2.iRender, true);\n    }\n\n    if (drawChildren) {\n      this.content = draw(this.iRender, this._nodes, this.content);\n    }\n  }\n\n  drawSelf() {\n    if (!this.mounted) {\n      return;\n    }\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this.callHook('beforeUpdate');\n    exec$1(c => c && this.markDraw(this), () => this._drawSelf());\n    complete(() => this.callHook('updated'));\n  }\n\n  markDraw(nObject, remove = false) {\n    var _this$parent3;\n\n    if (((_this$parent3 = this.parent) === null || _this$parent3 === void 0 ? void 0 : _this$parent3.iRender) === this.iRender) {\n      this.parent.container.markDraw(nObject, remove);\n      return;\n    }\n\n    if (nObject === this && this.parent) {\n      this.parent.container.markDraw(this, remove);\n      this._needDraw = !remove;\n    } else if (remove) {\n      this._awaitDraw.delete(nObject);\n    } else {\n      this._awaitDraw.add(nObject);\n    }\n\n    this.rootContainer.markDrawContainer(this, !this._needDraw && !this._awaitDraw.size || this.destroyed);\n  }\n\n  drawContainer() {\n    const {\n      _node: node,\n      _container: container,\n      _awaitDraw: awaitDraw\n    } = this;\n\n    if (!node || !container) {\n      return;\n    }\n\n    this.callHook('beforeDraw');\n    const needDraw = this._needDraw;\n    this._needDraw = false;\n    const list = [...awaitDraw];\n    awaitDraw.clear();\n\n    if (needDraw) {\n      this.drawSelf();\n    }\n\n    list.map(c => c.draw());\n    this.iRender.draw(container, node);\n    complete(() => this.callHook('drawn'));\n  }\n\n  markDrawContainer(container, remove = false) {\n    if (remove) {\n      this._containers.delete(container);\n    } else {\n      this._containers.add(container);\n    }\n\n    markDraw(this);\n  }\n\n  drawAll() {\n    const containers = this._containers;\n\n    if (!containers.size) {\n      return;\n    }\n\n    this.callHook('beforeDrawAll');\n    const refs = [];\n    const completeList = [];\n    setCompleteList(completeList);\n    setRefList(refs);\n    const list = [...containers];\n    containers.clear();\n    list.forEach(c => c.drawContainer());\n    setRefList();\n    refs.forEach(r => r());\n    completeList.forEach(r => r());\n    this.callHook('drawnAll');\n  }\n\n}\n\nfunction render(e, p = {}) {\n  let params = { ...p\n  };\n  const container = new Container$1(getRender(p.type), params, e === undefined ? [] : isElement(e) ? [e] : [createElement(e)]);\n\n  if (!isProduction) {\n    devtools.renderHook(container);\n  }\n\n  const {\n    exposed\n  } = container;\n  Reflect.defineProperty(exposed, '$update', {\n    value(c) {\n      container.setChildren(c === undefined ? [] : isElement(c) ? [c] : [createElement(c)]);\n      return exposed;\n    },\n\n    configurable: true\n  });\n  Reflect.defineProperty(exposed, '$mount', {\n    value(target) {\n      if (exposed.$mounted) {\n        return exposed;\n      }\n\n      if (target) {\n        params.target = target;\n        container.setProps(params);\n      }\n\n      container.mount();\n      return exposed;\n    },\n\n    configurable: true\n  });\n  Reflect.defineProperty(exposed, '$unmount', {\n    value() {\n      if (!exposed.$mounted) {\n        return;\n      }\n\n      if (exposed.$unmounted) {\n        return;\n      }\n\n      if (exposed.$destroyed) {\n        return container.destroy();\n      }\n\n      container.unmount();\n      return;\n    },\n\n    configurable: true\n  });\n\n  if (params.target) {\n    container.mount();\n  }\n\n  return exposed;\n}\n\nexport { Container, Deliver, NeepError as Error, EventEmitter, Fragment, ScopeSlot, Slot, SlotRender, Tags, Template, Value, addContextConstructor, callHook, checkCurrent, componentsSymbol, configSymbol, create, createElement, current, defineAuxiliary, deliver, elements, expose, hook, install, isElement, isElementSymbol, isProduction, label$1 as label, lazy, mComponent, mConfig, mName, mNative, mRender, mSimple, mType, mark, nameSymbol, refresh, register, render, renderSymbol, setAuxiliary, setHook, typeSymbol, useValue, version, watch };\n","/*!\n * NeepWebRender v0.1.0-alpha.9\n * (c) 2019-2020 Fierflame\n * @license MIT\n */\nimport { install as install$1, isValue, EventEmitter } from '@neep/core';\n\nfunction installNeep() {\n  return install$1;\n}\n\nfunction getId(v) {\n  if (typeof v === 'string') {\n    return v;\n  }\n\n  if (typeof v === 'number') {\n    return String(v);\n  }\n\n  return undefined;\n}\n\nfunction updateId(props, el, old) {\n  const id = getId(isValue(props.id) ? props.id() : props.id);\n\n  if (id !== old) {\n    if (typeof id === 'string') {\n      el.id = props.id;\n    } else {\n      el.removeAttribute('id');\n    }\n  }\n\n  return id;\n}\n\nfunction* recursive2iterable(list) {\n  if (isValue(list)) {\n    yield* recursive2iterable(list());\n    return;\n  }\n\n  if (!Array.isArray(list)) {\n    yield list;\n    return;\n  }\n\n  for (const it of list) {\n    yield* recursive2iterable(it);\n  }\n}\n\nfunction getClass(list) {\n  const set = new Set();\n\n  for (const v of recursive2iterable(list)) {\n    if (!v) {\n      continue;\n    }\n\n    if (typeof v === 'string') {\n      for (let k of v.split(' ').filter(Boolean)) {\n        set.add(k);\n      }\n    } else if (typeof v === 'object') {\n      for (const k in v) {\n        const add = v[k];\n\n        for (let it of k.split(' ').filter(Boolean)) {\n          set[add ? 'add' : 'delete'](it);\n        }\n      }\n    }\n  }\n\n  if (!set.size) {\n    return undefined;\n  }\n\n  return set;\n}\n\nfunction update(el, classes, oClasses) {\n  if (classes && oClasses) {\n    const list = el.getAttribute('class') || '';\n    const classList = new Set(list.split(' ').filter(Boolean));\n    oClasses.forEach(c => classList.delete(c));\n    classes.forEach(c => classList.add(c));\n    el.setAttribute('class', [...classList].join(' '));\n  } else if (classes) {\n    el.setAttribute('class', [...classes].join(' '));\n  } else if (oClasses) {\n    el.removeAttribute('class');\n  }\n}\n\nfunction updateClass(props, el, old) {\n  const classes = getClass(isValue(props.class) ? props.class() : props.class);\n  update(el, classes, old);\n  return classes;\n}\n\nfunction getStyle(style) {\n  if (typeof style === 'string') {\n    return style;\n  }\n\n  if (!style) {\n    return undefined;\n  }\n\n  if (typeof style !== 'object') {\n    return undefined;\n  }\n\n  const css = Object.create(null);\n\n  for (let k in style) {\n    let value = style[k];\n    const key = k.substr(0, 2) === '--' ? k : k.replace(/[A-Z]/g, '-$1').replace(/-+/g, '-').toLowerCase();\n\n    if (typeof value === 'number') {\n      css[key] = [value === 0 ? '0' : `${value}px`, null];\n    } else if (value && typeof value === 'string') {\n      const v = value.replace(/\\!important\\s*$/, '');\n      css[key] = [v, v === value ? null : 'important'];\n    }\n  }\n\n  return css;\n}\n\nfunction update$1(css, style, oStyle) {\n  if (!style) {\n    if (!oStyle) {\n      return;\n    }\n\n    if (typeof oStyle === 'string') {\n      css.cssText = '';\n      return;\n    }\n\n    for (const k of Object.keys(oStyle)) {\n      css.removeProperty(k);\n    }\n\n    return;\n  }\n\n  if (typeof style === 'string') {\n    if (style !== typeof oStyle) {\n      css.cssText = style;\n    }\n\n    return;\n  }\n\n  if (!oStyle || typeof oStyle === 'string') {\n    if (typeof oStyle === 'string') {\n      css.cssText = '';\n    }\n\n    for (const k of Object.keys(style)) {\n      css.setProperty(k, ...style[k]);\n    }\n\n    return;\n  }\n\n  for (const k of Object.keys(style)) {\n    const v = style[k];\n\n    if (!oStyle[k] || oStyle[k][0] !== v[0] || oStyle[k][1] !== v[1]) {\n      css.setProperty(k, ...v);\n    }\n  }\n\n  for (const k of Object.keys(oStyle)) {\n    if (!style[k]) {\n      css.removeProperty(k);\n    }\n  }\n}\n\nfunction updateStyle(props, css, old, hasStyle) {\n  if (!hasStyle) {\n    return undefined;\n  }\n\n  const style = getStyle(isValue(props.style) ? props.style() : props.style);\n  update$1(css, style, old);\n  return style;\n}\n\nfunction setAttrs(el, attrs) {\n  if (el instanceof HTMLInputElement && 'checked' in attrs) {\n    switch (el.type.toLowerCase()) {\n      case 'checkbox':\n      case 'radio':\n        if (attrs.checked !== null !== el.checked) {\n          el.checked = attrs.checked !== null;\n        }\n\n    }\n  }\n\n  if ((el instanceof HTMLSelectElement || el instanceof HTMLInputElement) && 'value' in attrs) {\n    const value = attrs.value || '';\n\n    if (el.value !== value) {\n      el.value = value;\n    }\n  }\n}\n\nfunction stringify(data, isOn = false) {\n  if (data === undefined || data === null) {\n    return data;\n  }\n\n  if (isOn && typeof data === 'function') {\n    return undefined;\n  }\n\n  if (typeof data === 'boolean') {\n    return data ? '' : null;\n  }\n\n  if (typeof data !== 'object') {\n    return String(data);\n  }\n\n  if (data instanceof Date) {\n    return data.toISOString();\n  }\n\n  if (data instanceof RegExp) {\n    return data.toString();\n  }\n\n  return JSON.stringify(data);\n}\n\nfunction getAttrs(props, hasStyle) {\n  const attrs = Object.create(null);\n\n  for (const k in props) {\n    if (/^(n|on|bind|slot)[:-]/.test(k)) {\n      continue;\n    }\n\n    if (!/^[a-zA-Z:_][a-zA-Z0-9:_-]*$/.test(k)) {\n      continue;\n    }\n\n    const name = k.toLowerCase();\n\n    switch (name) {\n      case 'style':\n        if (!hasStyle) {\n          break;\n        }\n\n      case 'ref':\n      case 'is':\n      case 'id':\n      case 'class':\n        continue;\n    }\n\n    let data = props[k];\n\n    if (isValue(data)) {\n      data = data();\n    }\n\n    const value = stringify(data, name.substr(0, 2) === 'on');\n\n    if (value !== undefined) {\n      attrs[name] = value;\n    }\n  }\n\n  return attrs;\n}\n\nfunction update$2(el, attrs, old) {\n  for (const k of Object.keys(attrs)) {\n    const v = attrs[k];\n\n    if (!(k in old) || old[k] !== v) {\n      if (v === null) {\n        el.removeAttribute(k);\n      } else {\n        el.setAttribute(k, v);\n      }\n    }\n  }\n\n  for (const k of Object.keys(old)) {\n    if (!(k in attrs)) {\n      el.removeAttribute(k);\n    }\n  }\n}\n\nfunction updateAttrs(props, el, old, hasStyle) {\n  const attrs = getAttrs(props, hasStyle);\n  update$2(el, attrs, old);\n  setAttrs(el, attrs);\n  return attrs;\n}\n\nfunction createEventEmitter() {\n  const events = new EventEmitter();\n  events.__eventBind = Object.create(null);\n  return events;\n}\n\nfunction* getElementModel(el) {\n  if (el instanceof HTMLInputElement) {\n    switch (el.type.toLowerCase()) {\n      case 'checkbox':\n      case 'radio':\n        return yield ['checked', 'change', e => e.currentTarget.checked];\n    }\n\n    return yield ['value', 'input', e => e.currentTarget.value];\n  }\n\n  if (el instanceof HTMLSelectElement) {\n    return yield ['value', 'select', e => e.currentTarget.value];\n  }\n}\n\nfunction getEventName(k) {\n  if (k.substr(0, 2) !== 'on') {\n    return '';\n  }\n\n  let n = k.substr(2);\n\n  if (n[0] === ':' || n[0] === '-') {\n    return '';\n  }\n\n  return n;\n}\n\nfunction updateEvent(props, el, event = createEventEmitter()) {\n  event.updateInProps(props, addEvent => {\n    for (const k in props) {\n      const f = props[k];\n\n      if (typeof f !== 'function') {\n        continue;\n      }\n\n      const name = getEventName(k);\n\n      if (!name) {\n        continue;\n      }\n\n      addEvent(name, f);\n    }\n\n    for (const [prop, name, t] of getElementModel(el)) {\n      const value = props[prop];\n\n      if (isValue(value)) {\n        addEvent(name, e => value(t(e)));\n      }\n    }\n  });\n  const names = new Set(event.names.map(String));\n  const eventBind = event.__eventBind;\n\n  for (const k of Object.keys(eventBind)) {\n    if (names.has(k)) {\n      continue;\n    }\n\n    eventBind[k]();\n    delete eventBind[k];\n  }\n\n  const {\n    emit\n  } = event;\n\n  for (const k of names) {\n    if (k in eventBind) {\n      continue;\n    }\n\n    const f = (...p) => emit(k, ...p);\n\n    el.addEventListener(k, f);\n\n    eventBind[k] = () => {\n      el.removeEventListener(k, f);\n    };\n  }\n\n  return event;\n}\n\nconst PropsMap = new WeakMap();\nfunction update$3(el, props) {\n  const css = el.style;\n  const hasStyle = css instanceof CSSStyleDeclaration;\n  const old = PropsMap.get(el) || {\n    attrs: {}\n  };\n  const id = updateId(props, el, old.id);\n  const classes = updateClass(props, el, old.classes);\n  const style = updateStyle(props, css, old.style, hasStyle);\n  const attrs = updateAttrs(props, el, old.attrs, hasStyle);\n  const event = updateEvent(props, el, old.event);\n  PropsMap.set(el, {\n    id,\n    classes,\n    style,\n    attrs,\n    event\n  });\n  return el;\n}\n\nlet list;\nfunction nextFrame(f) {\n  if (list) {\n    list.push(f);\n    return;\n  }\n\n  list = [f];\n  window.requestAnimationFrame(() => {\n    const fs = list;\n    list = undefined;\n\n    if (!fs) {\n      return;\n    }\n\n    fs.forEach(f => f());\n  });\n}\n\nconst xmlnsMap = {\n  svg: 'http://www.w3.org/2000/svg',\n  html: 'http://www.w3.org/1999/xhtml',\n  mathml: 'http://www.w3.org/1998/Math/MathML'\n};\nconst SVGTags = new Set(['altGlyph', 'altGlyphDef', 'altGlyphItem', 'animate', 'animateColor', 'animateMotion', 'animateTransform', 'circle', 'clipPath', 'color-profile', 'cursor', 'defs', 'desc', 'ellipse', 'feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence', 'filter', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignObject', 'g', 'glyph', 'glyphRef', 'hkern', 'image', 'line', 'linearGradient', 'marker', 'mask', 'metadata', 'missing-glyph', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'script', 'set', 'stop', 'style', 'svg', 'switch', 'symbol', 'text', 'textPath', 'title', 'tref', 'tspan', 'use', 'view', 'vkern']);\nconst MathMLTags = new Set(['maction', 'math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msubsup', 'msup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'semantics']);\nfunction createElement(tagname, namespace) {\n  const res = /^([a-z][a-z0-9-]*):([a-z0-9-]+)$/i.exec(tagname);\n  const tag = res ? res[2] : tagname;\n  const ns = (namespace || (res === null || res === void 0 ? void 0 : res[1]) || SVGTags.has(tag.toLowerCase()) && 'svg' || MathMLTags.has(tag.toLowerCase()) && 'mathml' || '').toLowerCase();\n\n  if (!ns) {\n    return document.createElement(tag);\n  }\n\n  return document.createElementNS(ns in xmlnsMap && xmlnsMap[ns] || ns, tag);\n}\n\nconst render = {\n  type: 'web',\n  nextFrame,\n\n  isNode(v) {\n    return v instanceof Node;\n  },\n\n  mount({\n    target,\n    class: className,\n    style,\n    tag\n  }, parent) {\n    if (!(typeof tag === 'string' && /^[a-z][a-z0-9]*(?:\\-[a-z0-9]+)?(?:\\:[a-z0-9]+(?:\\-[a-z0-9]+)?)?$/i.test(tag))) {\n      tag = 'div';\n    }\n\n    const container = render.create(tag, {\n      class: className,\n      style\n    });\n\n    if (typeof target === 'string') {\n      target = document.querySelector(target);\n    }\n\n    if (target instanceof Element) {\n      target.appendChild(container);\n\n      if (parent) {\n        return [container, parent.placeholder()];\n      }\n\n      return [container, container];\n    }\n\n    if (parent !== render) {\n      document.body.appendChild(container);\n      return [container, container];\n    }\n\n    return [container, container];\n  },\n\n  unmount(container, node, removed) {\n    if (container === node && removed) {\n      return;\n    }\n\n    container.remove();\n  },\n\n  drawContainer(container, node, {\n    target,\n    class: className,\n    style,\n    tag\n  }, parent) {\n    render.update(container, {\n      class: className,\n      style\n    });\n\n    if (typeof target === 'string') {\n      target = document.querySelector(target);\n    }\n\n    if (parent !== render && !(target instanceof Element)) {\n      target = document.body;\n    }\n\n    const oldTarget = parent === render && container === node ? undefined : render.parent(node);\n\n    if (oldTarget === target) {\n      return [container, node];\n    }\n\n    if (parent !== render) {\n      target.appendChild(container);\n      return [container, node];\n    }\n\n    if (!oldTarget) {\n      const newNode = parent.placeholder();\n      const pNode = parent.parent(node);\n\n      if (pNode) {\n        render.insert(pNode, newNode, node);\n        render.remove(node);\n      }\n\n      return [container, newNode];\n    }\n\n    if (!target) {\n      const pNode = parent.parent(node);\n\n      if (pNode) {\n        render.insert(pNode, container, node);\n        render.remove(node);\n      }\n\n      return [container, container];\n    }\n\n    target.appendChild(node);\n    return [container, node];\n  },\n\n  draw() {},\n\n  create(tag, props) {\n    return update$3(createElement(tag), props);\n  },\n\n  text(text) {\n    return document.createTextNode(text);\n  },\n\n  placeholder() {\n    return document.createComment('');\n  },\n\n  component() {\n    const node = createElement('neep-component');\n    return [node, node.attachShadow({\n      mode: 'open'\n    })];\n  },\n\n  parent(node) {\n    return node.parentNode;\n  },\n\n  next(node) {\n    return node.nextSibling;\n  },\n\n  update(node, props) {\n    update$3(node, props);\n  },\n\n  insert(parent, node, next = null) {\n    parent.insertBefore(node, next);\n  },\n\n  remove(node) {\n    const p = render.parent(node);\n\n    if (!p) {\n      return;\n    }\n\n    p.removeChild(node);\n  }\n\n};\n\ninstallNeep()({\n  render\n});\nfunction install(Neep) {}\n\nvar index = { ...render,\n  install\n};\n\nexport default index;\n","/*!\n * NeepDevtools v0.1.0-alpha.4\n * (c) 2019-2020 Fierflame\n * @license MIT\n */\nimport { install as install$2, nameSymbol, typeSymbol, createElement, isValue, encase, setHook, render } from '@neep/core';\n\nfunction install() {\n  return install$2;\n}\n\nlet Type;\n\n(function (Type) {\n  Type[\"tag\"] = \"tag\";\n  Type[\"placeholder\"] = \"placeholder\";\n  Type[\"standard\"] = \"standard\";\n  Type[\"simple\"] = \"simple\";\n  Type[\"native\"] = \"native\";\n  Type[\"container\"] = \"container\";\n  Type[\"special\"] = \"special\";\n})(Type || (Type = {}));\n\nfunction* getTree(tree, parent = 0) {\n  var _component$exposed;\n\n  if (Array.isArray(tree)) {\n    for (const it of tree) {\n      yield* getTree(it);\n    }\n\n    return;\n  }\n\n  const {\n    id,\n    tag,\n    props,\n    children,\n    key,\n    component,\n    label = component === null || component === void 0 ? void 0 : (_component$exposed = component.exposed) === null || _component$exposed === void 0 ? void 0 : _component$exposed.$label\n  } = tree;\n\n  if (!tag) {\n    return yield {\n      id,\n      parent,\n      type: Type.placeholder,\n      tag: 'placeholder',\n      children: []\n    };\n  }\n\n  if (typeof tag !== 'string') {\n    const name = tag[nameSymbol] || tag.name;\n\n    if (!component) {\n      return yield {\n        id,\n        parent,\n        type: Type.simple,\n        tag: name,\n        children: [...getTree(children)],\n        props,\n        key,\n        label\n      };\n    }\n\n    const isNative = tag[typeSymbol] === 'native';\n    return yield {\n      id,\n      parent,\n      type: isNative ? Type.native : Type.standard,\n      tag: name,\n      children: [...getTree('content' in component ? component.content : isNative ? component.nativeTree : component.tree)],\n      props,\n      key,\n      label\n    };\n  }\n\n  const ltag = tag.toLowerCase();\n\n  if (ltag === 'neep:value') {\n    const treeValue = tree.value;\n    return yield {\n      id,\n      parent,\n      type: Type.special,\n      tag,\n      children: [],\n      isNative: treeValue === tree.node,\n      value: treeValue,\n      props,\n      key,\n      label\n    };\n  }\n\n  if (ltag.substr(0, 5) === 'neep:' || ltag === 'template') {\n    return yield {\n      id,\n      parent,\n      type: Type.special,\n      tag,\n      children: [...getTree(children)],\n      props,\n      key,\n      label\n    };\n  }\n\n  yield {\n    id,\n    parent,\n    type: Type.tag,\n    tag,\n    children: [...getTree(children)],\n    props,\n    key,\n    label\n  };\n}\n\nfunction getValue(value) {\n  const type = typeof value;\n\n  if (type === 'function') {\n    return createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, \"[Function]\");\n  }\n\n  if (type === 'string') {\n    return createElement(\"span\", null, value);\n  }\n\n  if (type === 'bigint' || type === 'boolean' || type === 'number' || type === 'symbol' || type === 'undefined' || value === null) {\n    return createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, String(value));\n  } else if (value instanceof RegExp) {\n    return createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, String(value));\n  } else if (value instanceof Date) {\n    return createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, value.toISOString());\n  } else if (type === 'object') {\n    return createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, String(value));\n  }\n\n  return null;\n}\nfunction TextNode({\n  isNative,\n  value\n}) {\n  if (isNative) {\n    return createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, \"[Native]\");\n  }\n\n  if (!isValue(value)) {\n    return getValue(value);\n  }\n\n  return createElement(\"template\", null, createElement(\"span\", {\n    style: \"font-weight: bold;\"\n  }, \"[Value:\\xA0\"), getValue(value()), createElement(\"span\", {\n    style: \"font-weight: bold;\"\n  }, \"\\xA0]\"));\n}\n\nfunction getOptions({\n  value = false,\n  tag = false,\n  placeholder = false,\n  simple = false,\n  container = false,\n  template = false,\n  scopeSlot = false,\n  slotRender = false,\n  deliver = false\n}) {\n  return {\n    value,\n    tag,\n    placeholder,\n    simple,\n    container,\n    template,\n    scopeSlot,\n    slotRender,\n    deliver\n  };\n}\n\nfunction createTag(name, keys, id, key, labels, ...children) {\n  const opened = keys[id];\n  const hasChildren = Boolean(children.length);\n  return createElement(\"div\", {\n    key: id,\n    style: \" position: relative; min-height: 20px; font-size: 14px; line-height: 20px; \"\n  }, children.length && createElement(\"div\", {\n    style: \" position: absolute; left: -20px; top: 0; width: 20px; height: 20px; text-align: center; cursor: pointer; background: #DDD;; \",\n    onclick: () => keys[id] = !opened\n  }, opened ? '-' : '+') || undefined, createElement(\"div\", null, '<', name, typeof key === 'string' ? ` key=\"${key}\"` : typeof key === 'number' ? ` key=${key}` : typeof key === 'boolean' ? ` key=${key}` : typeof key === 'bigint' ? ` key=${key}` : typeof key === 'symbol' ? ` key=${String(key)}` : key === null ? ` key=${key}` : key !== undefined && ` key={${String(key)}}`, hasChildren ? '>' : ' />', hasChildren && !opened && createElement(\"span\", null, createElement(\"span\", {\n    onclick: () => keys[id] = true,\n    style: \"cursor: pointer;\"\n  }, \"...\"), '</', name, '>'), hasChildren && labels.filter(Boolean).map(([v, color]) => createElement(\"span\", {\n    style: `color: ${color || '#000'}`\n  }, v))), hasChildren && opened && createElement(\"div\", {\n    style: \"padding-left: 20px\"\n  }, children), opened && hasChildren && createElement(\"div\", null, '</', name, '>'));\n}\n\nfunction* getList(list, keys, options, labels = []) {\n  if (Array.isArray(list)) {\n    for (const it of list) {\n      yield* getList(it, keys, options, labels);\n    }\n\n    return;\n  }\n\n  const {\n    id,\n    type,\n    tag,\n    children,\n    props,\n    key,\n    label,\n    value,\n    isNative\n  } = list;\n\n  if (type === Type.standard || type === Type.native) {\n    return yield createTag(createElement(\"span\", {\n      style: \"font-weight: bold;\"\n    }, tag), keys, id, key, [label, ...labels], ...getList(children, keys, options));\n  }\n\n  if (type === Type.tag) {\n    if (!options.tag) {\n      return yield* getList(children, keys, options, [label, ...labels]);\n    }\n\n    return yield createTag(tag, keys, id, key, [label, ...labels], ...getList(children, keys, options));\n  }\n\n  if (type === Type.simple) {\n    if (!options.simple) {\n      return yield* getList(children, keys, options, [label, ...labels]);\n    }\n\n    return yield createTag(createElement(\"span\", {\n      style: \" font-style: italic; font-weight: bold; \"\n    }, tag), keys, id, key, [label, ...labels], ...getList(children, keys, options));\n  }\n\n  if (type === Type.placeholder) {\n    if (!options.placeholder) {\n      return;\n    }\n\n    return yield createTag(createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"placeholder\"), keys, id, key, [label, ...labels], ...getList(children, keys, options));\n  }\n\n  if (type === Type.container) {\n    if (!options.container) {\n      return yield* getList(children, keys, options, [label, ...labels]);\n    }\n\n    return yield createTag(createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"container\"), keys, id, key, [label, ...labels], ...getList(children, keys, options));\n  }\n\n  const ltag = tag.toLowerCase();\n\n  if (ltag === 'neep:deliver') {\n    if (!options.deliver) {\n      return yield* getList(children, keys, options, [label, ...labels]);\n    }\n\n    return yield createTag(createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"Deliver\"), keys, id, key, [label, ...labels], ...getList(children, keys, options));\n  }\n\n  if (ltag === 'template') {\n    if (!options.template) {\n      return yield* getList(children, keys, options, [label, ...labels]);\n    }\n\n    return yield createTag(createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"Template\"), keys, id, key, [label, ...labels], ...getList(children, keys, options));\n  }\n\n  if (ltag === 'neep:scopeslot' || ltag === 'neep:scope-slot') {\n    if (!options.scopeSlot) {\n      return yield* getList(children, keys, options, [label, ...labels]);\n    }\n\n    return yield createTag(createElement(\"span\", {\n      style: \"font-style: italic;\"\n    }, \"ScopeSlot\"), keys, id, key, [label, ...labels], ...getList(children, keys, options));\n  }\n\n  if (ltag === 'neep:slotrender' || ltag === 'neep:slot-render') {\n    if (options.slotRender) ;\n\n    return;\n  }\n\n  if (ltag === 'neep:value') {\n    if (!options.tag) {\n      return;\n    }\n\n    if (!options.value) {\n      return;\n    }\n\n    return yield createElement(TextNode, {\n      isNative: isNative,\n      value: value\n    });\n  }\n}\n\nvar App = (props => {\n  const keys = encase({});\n  return () => createElement(\"div\", {\n    style: \"padding-left: 20px;\"\n  }, [...getList(props.tree, keys, getOptions(props))]);\n});\n\nlet creating = false;\n\nfunction create() {\n  creating = true;\n\n  try {\n    return render();\n  } finally {\n    creating = false;\n  }\n}\n\nconst devtools = {\n  renderHook(container) {\n    if (creating) {\n      return;\n    }\n\n    let app;\n\n    const getData = () => {\n      if (!app) {\n        app = create();\n      }\n\n      const tree = [...getTree(container.content)];\n      app.$update(createElement(App, {\n        tree,\n        value: true,\n        tag: true\n      }));\n    };\n\n    setHook('drawnAll', getData, container.entity);\n    setHook('mounted', () => {\n      if (!app) {\n        app = create();\n      }\n\n      getData();\n      app.$mount();\n    }, container.entity);\n  }\n\n};\n\ninstall()({\n  devtools\n});\nfunction install$1(Neep) {}\n\nexport { install$1 as install };\n","import { Context } from '@neep/core';\nimport { addContextConstructor } from './neep';\n\nexport function contextConstructor(context: Context) {\n\tconst router = context.delivered.__NeepRouter__;\n\tconst depth = context.delivered.__RouteDepth__ || 0;\n\tReflect.defineProperty(context, 'route', {\n\t\tvalue: router,\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n\tReflect.defineProperty(context, 'match', {\n\t\tget: () => router?._get(depth),\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t});\n}\n\nexport default function installContextConstructor() {\n\taddContextConstructor(contextConstructor);\n}\n","import { Context, Auxiliary, mName, mSimple } from '@neep/core';\nimport Router from './Router';\n\nexport interface ViewProps {\n\tname?: string;\n\tdepth?: number;\n\trouter?: Router;\n}\nexport default function RouterView(\n\tprops: ViewProps,\n\t{ delivered }: Context,\n\t{ createElement, Deliver, label }: Auxiliary,\n) {\n\tconst isNew = props.router instanceof Router;\n\tconst router = isNew ? props.router : delivered.__NeepRouter__;\n\tif (!(router instanceof Router)) { return; }\n\tlet depth = props.depth;\n\tif (typeof depth === 'number' && Number.isInteger(depth)) {\n\t\tif (depth < 0) { depth = router.size - depth; }\n\t} else {\n\t\tdepth = isNew ? 0 : (delivered.__RouteDepth__ || 0) + 1;\n\t}\n\tif (depth < 0) { return null; }\n\tconst match = router._get(depth);\n\tif (!match) { return; }\n\tconst { route: { components } } = match;\n\tif (!components) { return null; }\n\tconst name = props.name || 'default';\n\tconst component = name in components ? components[name] : undefined;\n\tif (!component) { return null; }\n\tlabel(`[path=${match.path}]`, '#987654');\n\treturn createElement(Deliver, {\n\t\t__RouteDepth__: depth,\n\t\t__NeepRouter__: router,\n\t}, createElement(component, props));\n}\nmSimple(RouterView);\nmName('RouterView', RouterView);\n","import { Context, Auxiliary, mName, mSimple } from '@neep/core';\nimport { Location } from './type';\n\nexport interface LinkProps extends Location {\n\tto?: Location | string;\n\treplace?: boolean;\n}\nexport default function RouterLink(\n\tprops: LinkProps,\n\tcontext: Context,\n\tauxiliary: Auxiliary,\n) {\n\tconst { route, childNodes } = context;\n\tconst { createElement } = auxiliary;\n\tif (!route) { return createElement('template', {}, ...childNodes); }\n\tlet {to, append, replace, path, search, hash, query, alias, params} = props;\n\tif (!to) {\n\t\tto = { path, search, hash, query, alias, params };\n\t} else if (typeof to === 'string') {\n\t\tto = { path: to };\n\t}\n\tif (append) {\n\t\tto.append = true;\n\t}\n\tfunction onclick() {\n\t\tif (!route || !to) { return; }\n\t\tif (replace) {\n\t\t\troute.replace(to);\n\t\t} else {\n\t\t\troute.push(to);\n\t\t}\n\t}\n\treturn route\n\t\t.history?.link({...props, to}, context, auxiliary, onclick)\n\t\t|| createElement('span', {'@click': onclick}, ...childNodes);\n\n}\nmSimple(RouterLink);\nmName('RouterLink', RouterLink);\n","import RouterView from '../View';\nimport RouterLink from '../Link';\nimport { register } from './neep';\n\nexport default function installComponents() {\n\tregister('RouterView', RouterView);\n\tregister('router-view', RouterView);\n\tregister('RouterLink', RouterLink);\n\tregister('router-link', RouterLink);\n}\n","import installContextConstructor from './installContextConstructor';\nimport installComponents from './installComponents';\n\nexport default function install(Neep: typeof import ('@neep/core')) {\n}\ninstallComponents();\ninstallContextConstructor();\n","export function cleanPath(path: string) {\n\tpath = `/${path}`.replace(/\\/+(\\/|$)/g, '$1');\n\twhile(/[^/]+\\/\\.{2,}(\\/|$)/.test(path)) {\n\t\tpath = path.replace(/\\/[^/]+\\/\\.(\\.+(?:\\/|$))/g, '/$1');\n\t}\n\tpath = path.replace(/\\/\\.+(\\/|$)/g, '$1');\n\treturn path || '/';\n}\n","/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n    var tokens = [];\n    var i = 0;\n    while (i < str.length) {\n        var char = str[i];\n        if (char === \"*\" || char === \"+\" || char === \"?\") {\n            tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"\\\\\") {\n            tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n            continue;\n        }\n        if (char === \"{\") {\n            tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"}\") {\n            tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \":\") {\n            var name = \"\";\n            var j = i + 1;\n            while (j < str.length) {\n                var code = str.charCodeAt(j);\n                if (\n                // `0-9`\n                (code >= 48 && code <= 57) ||\n                    // `A-Z`\n                    (code >= 65 && code <= 90) ||\n                    // `a-z`\n                    (code >= 97 && code <= 122) ||\n                    // `_`\n                    code === 95) {\n                    name += str[j++];\n                    continue;\n                }\n                break;\n            }\n            if (!name)\n                throw new TypeError(\"Missing parameter name at \" + i);\n            tokens.push({ type: \"NAME\", index: i, value: name });\n            i = j;\n            continue;\n        }\n        if (char === \"(\") {\n            var count = 1;\n            var pattern = \"\";\n            var j = i + 1;\n            if (str[j] === \"?\") {\n                throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \" + j);\n            }\n            while (j < str.length) {\n                if (str[j] === \"\\\\\") {\n                    pattern += str[j++] + str[j++];\n                    continue;\n                }\n                if (str[j] === \")\") {\n                    count--;\n                    if (count === 0) {\n                        j++;\n                        break;\n                    }\n                }\n                else if (str[j] === \"(\") {\n                    count++;\n                    if (str[j + 1] !== \"?\") {\n                        throw new TypeError(\"Capturing groups are not allowed at \" + j);\n                    }\n                }\n                pattern += str[j++];\n            }\n            if (count)\n                throw new TypeError(\"Unbalanced pattern at \" + i);\n            if (!pattern)\n                throw new TypeError(\"Missing pattern at \" + i);\n            tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n            i = j;\n            continue;\n        }\n        tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n    }\n    tokens.push({ type: \"END\", index: i, value: \"\" });\n    return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str, options) {\n    if (options === void 0) { options = {}; }\n    var tokens = lexer(str);\n    var _a = options.prefixes, prefixes = _a === void 0 ? \"./\" : _a;\n    var defaultPattern = \"[^\" + escapeString(options.delimiter || \"/#?\") + \"]+?\";\n    var result = [];\n    var key = 0;\n    var i = 0;\n    var path = \"\";\n    var tryConsume = function (type) {\n        if (i < tokens.length && tokens[i].type === type)\n            return tokens[i++].value;\n    };\n    var mustConsume = function (type) {\n        var value = tryConsume(type);\n        if (value !== undefined)\n            return value;\n        var _a = tokens[i], nextType = _a.type, index = _a.index;\n        throw new TypeError(\"Unexpected \" + nextType + \" at \" + index + \", expected \" + type);\n    };\n    var consumeText = function () {\n        var result = \"\";\n        var value;\n        // tslint:disable-next-line\n        while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n            result += value;\n        }\n        return result;\n    };\n    while (i < tokens.length) {\n        var char = tryConsume(\"CHAR\");\n        var name = tryConsume(\"NAME\");\n        var pattern = tryConsume(\"PATTERN\");\n        if (name || pattern) {\n            var prefix = char || \"\";\n            if (prefixes.indexOf(prefix) === -1) {\n                path += prefix;\n                prefix = \"\";\n            }\n            if (path) {\n                result.push(path);\n                path = \"\";\n            }\n            result.push({\n                name: name || key++,\n                prefix: prefix,\n                suffix: \"\",\n                pattern: pattern || defaultPattern,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        var value = char || tryConsume(\"ESCAPED_CHAR\");\n        if (value) {\n            path += value;\n            continue;\n        }\n        if (path) {\n            result.push(path);\n            path = \"\";\n        }\n        var open = tryConsume(\"OPEN\");\n        if (open) {\n            var prefix = consumeText();\n            var name_1 = tryConsume(\"NAME\") || \"\";\n            var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n            var suffix = consumeText();\n            mustConsume(\"CLOSE\");\n            result.push({\n                name: name_1 || (pattern_1 ? key++ : \"\"),\n                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n                prefix: prefix,\n                suffix: suffix,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        mustConsume(\"END\");\n    }\n    return result;\n}\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile(str, options) {\n    return tokensToFunction(parse(str, options), options);\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction(tokens, options) {\n    if (options === void 0) { options = {}; }\n    var reFlags = flags(options);\n    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;\n    // Compile all the tokens into regexps.\n    var matches = tokens.map(function (token) {\n        if (typeof token === \"object\") {\n            return new RegExp(\"^(?:\" + token.pattern + \")$\", reFlags);\n        }\n    });\n    return function (data) {\n        var path = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (typeof token === \"string\") {\n                path += token;\n                continue;\n            }\n            var value = data ? data[token.name] : undefined;\n            var optional = token.modifier === \"?\" || token.modifier === \"*\";\n            var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n            if (Array.isArray(value)) {\n                if (!repeat) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not repeat, but got an array\");\n                }\n                if (value.length === 0) {\n                    if (optional)\n                        continue;\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not be empty\");\n                }\n                for (var j = 0; j < value.length; j++) {\n                    var segment = encode(value[j], token);\n                    if (validate && !matches[i].test(segment)) {\n                        throw new TypeError(\"Expected all \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                    }\n                    path += token.prefix + segment + token.suffix;\n                }\n                continue;\n            }\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                var segment = encode(String(value), token);\n                if (validate && !matches[i].test(segment)) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                }\n                path += token.prefix + segment + token.suffix;\n                continue;\n            }\n            if (optional)\n                continue;\n            var typeOfMessage = repeat ? \"an array\" : \"a string\";\n            throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to be \" + typeOfMessage);\n        }\n        return path;\n    };\n}\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match(str, options) {\n    var keys = [];\n    var re = pathToRegexp(str, keys, options);\n    return regexpToFunction(re, keys, options);\n}\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction(re, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.decode, decode = _a === void 0 ? function (x) { return x; } : _a;\n    return function (pathname) {\n        var m = re.exec(pathname);\n        if (!m)\n            return false;\n        var path = m[0], index = m.index;\n        var params = Object.create(null);\n        var _loop_1 = function (i) {\n            // tslint:disable-next-line\n            if (m[i] === undefined)\n                return \"continue\";\n            var key = keys[i - 1];\n            if (key.modifier === \"*\" || key.modifier === \"+\") {\n                params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {\n                    return decode(value, key);\n                });\n            }\n            else {\n                params[key.name] = decode(m[i], key);\n            }\n        };\n        for (var i = 1; i < m.length; i++) {\n            _loop_1(i);\n        }\n        return { path: path, index: index, params: params };\n    };\n}\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options) {\n    return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path, keys) {\n    if (!keys)\n        return path;\n    // Use a negative lookahead to match only capturing groups.\n    var groups = path.source.match(/\\((?!\\?)/g);\n    if (groups) {\n        for (var i = 0; i < groups.length; i++) {\n            keys.push({\n                name: i,\n                prefix: \"\",\n                suffix: \"\",\n                modifier: \"\",\n                pattern: \"\"\n            });\n        }\n    }\n    return path;\n}\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(paths, keys, options) {\n    var parts = paths.map(function (path) { return pathToRegexp(path, keys, options).source; });\n    return new RegExp(\"(?:\" + parts.join(\"|\") + \")\", flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(path, keys, options) {\n    return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(tokens, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function (x) { return x; } : _d;\n    var endsWith = \"[\" + escapeString(options.endsWith || \"\") + \"]|$\";\n    var delimiter = \"[\" + escapeString(options.delimiter || \"/#?\") + \"]\";\n    var route = start ? \"^\" : \"\";\n    // Iterate over the tokens and create our regexp string.\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        if (typeof token === \"string\") {\n            route += escapeString(encode(token));\n        }\n        else {\n            var prefix = escapeString(encode(token.prefix));\n            var suffix = escapeString(encode(token.suffix));\n            if (token.pattern) {\n                if (keys)\n                    keys.push(token);\n                if (prefix || suffix) {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        var mod = token.modifier === \"*\" ? \"?\" : \"\";\n                        route += \"(?:\" + prefix + \"((?:\" + token.pattern + \")(?:\" + suffix + prefix + \"(?:\" + token.pattern + \"))*)\" + suffix + \")\" + mod;\n                    }\n                    else {\n                        route += \"(?:\" + prefix + \"(\" + token.pattern + \")\" + suffix + \")\" + token.modifier;\n                    }\n                }\n                else {\n                    route += \"(\" + token.pattern + \")\" + token.modifier;\n                }\n            }\n            else {\n                route += \"(?:\" + prefix + suffix + \")\" + token.modifier;\n            }\n        }\n    }\n    if (end) {\n        if (!strict)\n            route += delimiter + \"?\";\n        route += !options.endsWith ? \"$\" : \"(?=\" + endsWith + \")\";\n    }\n    else {\n        var endToken = tokens[tokens.length - 1];\n        var isEndDelimited = typeof endToken === \"string\"\n            ? delimiter.indexOf(endToken[endToken.length - 1]) > -1\n            : // tslint:disable-next-line\n                endToken === undefined;\n        if (!strict) {\n            route += \"(?:\" + delimiter + \"(?=\" + endsWith + \"))?\";\n        }\n        if (!isEndDelimited) {\n            route += \"(?=\" + delimiter + \"|\" + endsWith + \")\";\n        }\n    }\n    return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(path, keys, options) {\n    if (path instanceof RegExp)\n        return regexpToRegexp(path, keys);\n    if (Array.isArray(path))\n        return arrayToRegexp(path, keys, options);\n    return stringToRegexp(path, keys, options);\n}\n//# sourceMappingURL=index.js.map","\nimport { match, compile } from 'path-to-regexp';\nimport { RouteConfig, Route, Match } from './type';\nimport { cleanPath } from './util';\n\n\nexport function addRoute(\n\tcfg: RouteConfig,\n\tnamed: Record<string, Route>,\n\tparent?: Route,\n) {\n\tlet { path, children, alias, meta, component, components, ...p } = cfg;\n\tlet end = !(Array.isArray(children) && children.length);\n\tif (!path || path === '*') {\n\t\tpath = '';\n\t\tend = false;\n\t}\n\tif (path[0] !== '/') {\n\t\tpath = `${parent?.path || ''}/${path}`;\n\t}\n\tpath = cleanPath(path);\n\tif (component) {\n\t\tif (!components) {\n\t\t\tcomponents = {};\n\t\t}\n\t\tcomponents.default = component;\n\t}\n\tconst item: Route = {\n\t\t...p,\n\t\tpath,\n\t\talias,\n\t\tcomponent,\n\t\tcomponents,\n\t\tmeta: meta || {},\n\t\ttoPath: compile(path || '', { encode: encodeURIComponent }),\n\t\tmatch: match(path || '', {end, decode: decodeURIComponent}),\n\t};\n\tif (alias) { named[alias] = item; }\n\tif (Array.isArray(children)) {\n\t\titem.children = children.map(c => addRoute(c, named, item));\n\t}\n\treturn item;\n}\n\nexport function *matchRoutes(path: string, routes: Route[] = []): Iterable<Match>{\n\tfor (const route of routes) {\n\t\tconst result = route.match(path);\n\t\tif (!result) { continue; }\n\t\tif (route.components || route.redirect) {\n\t\t\tyield { ...result, route };\n\t\t}\n\t\tif (!route.redirect) {\n\t\t\tyield* matchRoutes(path, route.children);\n\t\t}\n\t\treturn;\n\t}\n}\n","\nfunction getValue(v: any): string | undefined | null {\n\tif (v === undefined) { return undefined; }\n\tif (v === null) { return null; }\n\tif (v === false) { return undefined; }\n\tif (typeof v === 'number' && !Number.isFinite(v)) { return; }\n\tif (typeof v === 'function') { return; }\n\treturn encodeURIComponent(String(v));\n}\nexport function stringify(s: any): string {\n\tconst list: string[] = [];\n\tfor (const key of Object.keys(s)) {\n\t\tconst value = s[key];\n\t\tconst k = encodeURIComponent(key);\n\t\tif (!Array.isArray(value)) {\n\t\t\tconst v = getValue(value);\n\t\t\tif (v === undefined) { continue; }\n\t\t\tlist.push(v === null ? k : `${k}=${v}`);\n\t\t\tcontinue;\n\t\t}\n\t\tfor (const val of value) {\n\t\t\tconst v = getValue(val);\n\t\t\tif (v === undefined) { continue; }\n\t\t\tlist.push(v === null ? k : `${k}=${v}`);\n\t\t}\n\t}\n\treturn list.join('&');\n}\n\nexport function parse(s: string): object {\n\tconst query = Object.create(null);\n\tfunction set(k: string, v: null | string = null) {\n\t\tif (!(k in query)) {\n\t\t\tquery[k] = v;\n\t\t\treturn;\n\t\t}\n\t\tconst it = query[k];\n\t\tif (Array.isArray(it)) {\n\t\t\tit.push(v);\n\t\t} else {\n\t\t\tquery[k] = [it, v];\n\t\t}\n\n\t}\n\tfor (const it of s.split('&')) {\n\t\tconst index = it.indexOf('=');\n\t\tif (index < 0) {\n\t\t\tset(decodeURIComponent(it));\n\t\t\tcontinue;\n\t\t}\n\t\tconst k = decodeURIComponent(it.substr(0, index));\n\t\tconst v = decodeURIComponent(it.substr(index + 1));\n\t\tset(k, v);\n\t}\n\treturn query;\n}\n","import { IHistory } from '../type';\nimport Router from '../Router';\nimport { Auxiliary, Context } from '@neep/core';\n\nexport default class StoreHistory implements IHistory {\n\trouter: Router;\n\tconstructor(router: Router) {\n\t\tthis.router = router;\n\t}\n\tindex = 0;\n\thistory: [string, string, string, any][] = [];\n\tpush(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\tthis.history.length = this.index + 1;\n\t\tthis.index++;\n\t\tthis.history.push([path, search, hash, state]);\n\t}\n\treplace(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\tthis.history[this.index] = [path, search, hash, state];\n\t}\n\tgo(index: number) {\n\t\tlet newIndex = this.index + index;\n\t\tif (newIndex >= this.history.length) { return; }\n\t\tif (newIndex < 0) { return; }\n\t\tif (newIndex === this.index) { return; }\n\t\tthis.index = newIndex;\n\t\treturn this.history[newIndex];\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\t{ id, class: className, style }: any,\n\t\t{ childNodes, emit }: Context,\n\t\t{ createElement }: Auxiliary,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElement('span', {\n\t\t\tid, class: className, style,\n\t\t\t'n-on': emit.omit('click'),\n\t\t\t'@click': (...any: any) => {\n\t\t\t\tif (!emit('click', ...any)) { return; }\n\t\t\t\tonClick();\n\t\t\t},\n\t\t}, ...childNodes);\n\t}\n}\n","import { IHistory, Location } from '../type';\nimport Router from '../Router';\nimport { cleanPath } from '../util';\nimport { Context, Auxiliary } from '@neep/core';\n\nexport default class WebPathHistory implements IHistory {\n\treadonly router: Router;\n\treadonly base: string;\n\tconstructor(router: Router, opt?: {\n\t\tbase?: string;\n\t}) {\n\t\tthis.router = router;\n\t\tlet base = cleanPath(opt?.base || '');\n\t\tthis.base = base === '/' ? '' : base;\n\t\tconst f = () => {\n\t\t\tthis.router._update(\n\t\t\t\tthis.getPath(),\n\t\t\t\tlocation.search,\n\t\t\t\tlocation.hash,\n\t\t\t\thistory.state,\n\t\t\t);\n\t\t};\n\t\twindow.addEventListener('popstate', f);\n\t\tthis.destroy = () => {\n\t\t\tthis.destroy = () => {};\n\t\t\twindow.removeEventListener('popstate', f);\n\t\t};\n\t}\n\tstart() {\n\t\tthis.router._update(\n\t\t\tthis.getPath(),\n\t\t\tlocation.search,\n\t\t\tlocation.hash,\n\t\t\thistory.state,\n\t\t);\n\t}\n\tdestroy() {}\n\tpush(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\thistory.pushState(state, '', `${this.base}${path}${search}${hash}`);\n\t}\n\treplace(\n\t\tpath: string,\n\t\tsearch: string,\n\t\thash: string,\n\t\tstate: any,\n\t) {\n\t\thistory.replaceState(state, '', `${this.base}${path}${search}${hash}`);\n\t}\n\tprivate getPath() {\n\t\tconst path = location.pathname;\n\t\tconst { base } = this;\n\t\tif (!base) { return path; }\n\t\tif (path.indexOf(`${base}/`) !== 0) { return path; }\n\t\treturn path.substr(base.length);\n\t}\n\tgo(index: number) {\n\t\tconst old = {\n\t\t\tpath: this.getPath(),\n\t\t\tsearch: location.search,\n\t\t\thash: location.hash,\n\t\t\tstate: history.state,\n\t\t};\n\t\thistory.go(index);\n\t\tconst path = this.getPath();\n\t\tconst search = location.search;\n\t\tconst hash = location.hash;\n\t\tconst state = history.state;\n\t\tif (\n\t\t\tpath !== old.path\n\t\t\t|| search !== old.search\n\t\t\t|| hash !== old.hash\n\t\t\t|| state !== old.state\n\t\t) {\n\t\t\treturn [path, search, hash, state] as [string, string, string, any];\n\t\t}\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\t{ to, onclick, id, class: className, style }: { to: Location; [any: string]: any },\n\t\t{ childNodes, emit }: Context,\n\t\t{createElement}: Auxiliary,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElement('a', {\n\t\t\tid, class: className, style,\n\t\t\thref: `${this.base}${this.router.getUrl(to)}`,\n\t\t\t'n-on': emit.omit('click'),\n\t\t\t'@click': (e: MouseEvent) => {\n\t\t\t\tlet cancel = !emit('click', e);\n\t\t\t\tif (typeof onclick === 'function') {\n\t\t\t\t\tonclick(e);\n\t\t\t\t}\n\t\t\t\tif (e.defaultPrevented) { return; }\n\t\t\t\te.preventDefault();\n\t\t\t\tif (cancel) { return; }\n\t\t\t\tonClick();\n\t\t\t},\n\t\t}, ...childNodes);\n\t}\n}\n","import { IHistory, Location } from '../type';\nimport Router from '../Router';\nimport { Context, Auxiliary } from '@neep/core';\n\nfunction parse(p: string): [string, string, string] {\n\tconst result = /^([^?#]*)((?:\\?[^#]*)?)((?:#.*)?)$/.exec(p);\n\tif (!result) { return ['/', '', '']; }\n\treturn [result[1] || '/', result[2], result[3]];\n}\n\nexport default class WebPathHistory implements IHistory {\n\trouter: Router;\n\tconstructor(router: Router) {\n\t\tthis.router = router;\n\t\tconst f = () => {\n\t\t\tconst [path, search, hash] = parse(location.hash.substr(1));\n\t\t\tthis.router._update(path, search, hash);\n\t\t};\n\t\twindow.addEventListener('hashchange', f);\n\t\tthis.destroy = () => {\n\t\t\tthis.destroy = () => {};\n\t\t\twindow.removeEventListener('hashchange', f);\n\t\t};\n\t}\n\tstart() {\n\t\tconst [path, search, hash] = parse(location.hash.substr(1));\n\t\tthis.router._update(path, search, hash);\n\t}\n\tdestroy() {}\n\tpush(path: string, search: string, hash: string) {\n\t\tlocation.hash = `#${path}${search}${hash}`;\n\t}\n\treplace(path: string, search: string, hash: string) {\n\t\tlocation.replace(`#${path}${search}${hash}`);\n\t}\n\tgo(index: number) {\n\t\tconst oldHash = location.hash;\n\t\thistory.go(index);\n\t\tconst hash = location.hash;\n\t\tif (hash === oldHash) { return; }\n\t\treturn [...parse(hash.substr(1)), undefined] as [string, string, string, any];\n\t}\n\tback() {\n\t\treturn this.go(-1);\n\t}\n\tforward() {\n\t\treturn this.go(1);\n\t}\n\tlink(\n\t\t{ to, onclick, id, class: className, style }: { to: Location; [any: string]: any },\n\t\t{ childNodes, emit }: Context,\n\t\t{createElement}: Auxiliary,\n\t\tonClick: ()=> void,\n\t) {\n\t\treturn createElement('a', {\n\t\t\tid, class: className, style,\n\t\t\thref: `#${this.router.getUrl(to)}`,\n\t\t\t'n-on': emit.omit('click'),\n\t\t\t'@click': (e: MouseEvent) => {\n\t\t\t\tlet cancel = !emit('click', e);\n\t\t\t\tif (typeof onclick === 'function') {\n\t\t\t\t\tonclick(e);\n\t\t\t\t}\n\t\t\t\tif (e.defaultPrevented) { return; }\n\t\t\t\te.preventDefault();\n\t\t\t\tif (cancel) { return; }\n\t\t\t\tonClick();\n\t\t\t},\n\t\t}, ...childNodes);\n\t}\n}\n","import install from './install';\nimport { Error, value, encase } from './install/neep';\nimport { Value } from 'monitorable';\nimport RouterView from './View';\nimport RouterLink from './Link';\nimport { Route, Location, IHistory, Match, RouteConfig } from './type';\nimport { cleanPath } from './util';\nimport { addRoute, matchRoutes } from './route';\nimport { stringify, parse } from './query';\nimport * as history from './history';\nimport { Component, mName } from '@neep/core';\n\nfunction get(\n\tlocation: Location | string,\n\troutes: Record<string, Route>,\n\tbasePath: string,\n\tstringifyQuery = stringify,\n): {\n\tpath: string;\n\tsearch: string;\n\thash: string;\n} {\n\tif (typeof location === 'string') { location = { path: location }; }\n\n\tconst route = location.alias && routes[location.alias];\n\tconst result = location.path && /^([^?#]*)((?:\\?[^#]*)?)((?:#.*)?)$/\n\t\t.exec(location.path);\n\tlet path = result?.[1] || '';\n\tif (!path) {\n\t\tpath = route ? route.toPath(location.params || {}) : basePath;\n\t} else if (route) {\n\t\tlet routePath = route.toPath(location.params || {});\n\t\tif (!location.append) {\n\t\t\troutePath = routePath.replace(/\\/[^/]*\\/?$/, '');\n\t\t}\n\t\tpath = `${route.toPath(location.params || {})}/${path}`;\n\t} else if (location.append) {\n\t\tpath = `${basePath}/${path}`;\n\t} if (path[0] !== '/') {\n\t\tpath = `${basePath.replace(/\\/[^/]*\\/?$/, '')}/${path}`;\n\t}\n\tpath = cleanPath(path);\n\tconst search = location.query && `?${ stringifyQuery(location.query) }`\n\t\t|| location.search || result?.[2] || '';\n\tconst hash = location.hash || result?.[3] || '';\n\treturn { path, search, hash };\n}\n\nfunction update(\n\tobj: any,\n\tprops: any = {},\n) {\n\tconst newKeys = new Set(Reflect.ownKeys(props));\n\tfor (const k of Reflect.ownKeys(obj)) {\n\t\tif (!newKeys.has(k)) {\n\t\t\tdelete obj[k];\n\t\t}\n\t}\n\tfor (const k of newKeys) {\n\t\tobj[k] = props[k];\n\t}\n\treturn obj;\n}\nconst redirects: string[] = [];\nclass Router {\n\tstatic get history() { return history; }\n\tstatic get install() { return install; }\n\tstatic get View() { return RouterView; }\n\tstatic get Link() { return RouterLink; }\n\tstringify?(query: Record<any, any>): string;\n\tparse?(search: string): Record<any, any>;\n\tprivate _namedRoutes: Record<string, Route> = Object.create(null);\n\tprivate _routes: Route[] = [];\n\thistory?: IHistory;\n\tprivate readonly _size = value(0);\n\tprivate readonly _nodes: Value<Match | undefined>[] = [];\n\tprivate readonly _matches = value<Match[]>([]);\n\tprivate readonly _hash = value('');\n\tprivate readonly _search = value('');\n\tprivate readonly _alias = value('');\n\tprivate readonly _path = value('/');\n\tprivate readonly _state = value(undefined as any);\n\tget size() { return this._size(); }\n\tget matches() { return this._matches(); }\n\tget alias() { return this._alias(); }\n\tget path(): string { return this._path(); }\n\tget search() { return this._search(); }\n\tget hash() { return this._hash(); }\n\tget state() { return this._state(); }\n\treadonly params: Record<string, string> = encase(Object.create(null));\n\treadonly query: Record<string, any> = encase(Object.create(null));\n\treadonly meta: Record<string, any> = encase(Object.create(null));\n\tconstructor({History, historyOption}: {\n\t\tHistory?: {new(router: Router, opt?: any): IHistory }\n\t\thistoryOption?: any;\n\t}) {\n\t\tif (History) {\n\t\t\tconst history = new History(this, historyOption);\n\t\t\tthis.history = history;\n\t\t\thistory.start?.();\n\t\t}\n\t}\n\tsetRoutes(routes: RouteConfig[]) {\n\t\tconst named = Object.create(null);\n\t\tthis._routes = routes.map(c => addRoute(c, named));\n\t\tthis._namedRoutes = named;\n\t\tthis._update(\n\t\t\tthis._path(),\n\t\t\tthis._search(),\n\t\t\tthis._hash(),\n\t\t\tthis._state(),\n\t\t\ttrue,\n\t\t);\n\t}\n\t_get(index: number): Match | undefined {\n\t\tconst item =  this._nodes[index]?.();\n\t\tif (!item) {\n\t\t\tthis._size();\n\t\t\treturn undefined;\n\t\t}\n\t\treturn item;\n\t}\n\t_update(path: string, search: string, hash: string, state?: any, force = false) {\n\t\tif (this._path() !== path || force) {\n\t\t\tconst matches = [...matchRoutes(path, this._routes)];\n\t\t\tconst last = matches[matches.length - 1] as Match | undefined;\n\t\t\tif (last && !last.route.components) {\n\t\t\t\tredirects.push(path);\n\t\t\t\tif (redirects.length >= 10) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Too many consecutive redirect jumps: \\n${\n\t\t\t\t\t\t\tredirects.join('\\n')\n\t\t\t\t\t\t}`,\n\t\t\t\t\t\t'router',\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst {redirect, append} = last.route;\n\t\t\t\ttry {\n\t\t\t\t\tif (append) {\n\t\t\t\t\t\tthis.replace(`${path}/${redirect}`, state);\n\t\t\t\t\t} else if (redirect && redirect[0] === '/') {\n\t\t\t\t\t\tthis.replace(redirect, state);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.replace(`${path}/../${redirect}`, state);\n\t\t\t\t\t}\n\t\t\t\t\treturn ;\n\t\t\t\t} finally {\n\t\t\t\t\tredirects.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst nodes = this._nodes;\n\t\t\tconst nodesLength = nodes.length;\n\t\t\tconst matchesLength = matches.length;\n\t\t\tconst min = Math.min(matchesLength, nodesLength);\n\t\t\tfor (let i = 0; i < min; i++) { nodes[i](matches[i]); }\n\t\t\tfor (let i = min; i < nodesLength; i++) {\n\t\t\t\tnodes[i](undefined);\n\t\t\t}\n\t\t\tfor (let i = min; i < matchesLength; i++) {\n\t\t\t\tnodes[i] = value(matches[i]);\n\t\t\t}\n\t\t\tnodes.length = matchesLength;\n\t\t\tthis._size(matchesLength);\n\t\t\tthis._matches(matches);\n\t\t\tthis._path(path);\n\t\t\tthis._alias(last?.route?.alias || '');\n\t\t\tupdate(this.params, last?.params || {});\n\t\t\tupdate(this.meta, last?.route?.meta || {});\n\t\t}\n\t\tif (this._search() !== search) {\n\t\t\tthis._search(search);\n\t\t\tupdate(this.query, (this.parse || parse)(search.substr(1)));\n\t\t}\n\t\tthis._hash(hash);\n\t\tthis._state(state);\n\t}\n\tpush(location: Location | string, state?: any) {\n\t\tconst { path, search, hash } = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\tthis.history?.push(path, search, hash, state);\n\t\tthis._update(path, search, hash, state);\n\t}\n\treplace(location: Location | string, state?: any) {\n\t\tconst {path, search, hash} = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\tthis.history?.replace(path, search, hash, state);\n\t\tthis._update(path, search, hash, state);\n\t}\n\tgetUrl(location: Location | string) {\n\t\tconst {path, search, hash} = get(\n\t\t\tlocation,\n\t\t\tthis._namedRoutes,\n\t\t\tthis._path(),\n\t\t\tthis.stringify,\n\t\t);\n\t\treturn `${path}${search}${hash}`;\n\n\t}\n\tgo(index: number) {\n\t\tconst it = this.history?.go(index);\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tback() {\n\t\tconst it = this.history?.back();\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tforward() {\n\t\tconst it = this.history?.forward();\n\t\tif (!it) { return; }\n\t\tthis._update(...it);\n\t}\n\tget view() {\n\t\tconst view: Component = (props, ...p) =>\n\t\t\tRouterView({...props, router: this}, ...p);\n\t\tmName('Router', view);\n\t\tReflect.defineProperty(this, 'view', {\n\t\t\tvalue: view,\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t});\n\t\treturn view;\n\t}\n}\n\nexport default Router;\n","import { create, mark, mName } from '@neep/core';\nimport Router from '@neep/router';\n\nconst User = create((\n\tprops: { a?: any,  set?: () => void},\n\t{ slots, delivered, route },\n\t{ Template, Slot, createElement, useValue }\n) => {\n\treturn <Template>\n\t\t<div>用户首页</div>\n\t\t<div>Id: {route?.params?.['id']}</div>\n\t\t<hr />\n\t\t<div><Router.Link path=\"/\">首页</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1\">用户1</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/2\">用户2</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1/info\">用户1信息</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1/settings\">用户1设置</Router.Link></div>\n\t\t<hr />\n\t\t<Router.View />\n\t</Template>;\n});\nexport default mark(User, mName('User'));\n","import { create, mark, mName } from '@neep/core';\n\nconst Info = create((\n\tprops: { a?: any,  set?: () => void},\n\t{ slots, delivered, route },\n\t{ Template, Slot, createElement, useValue }\n) => {\n\tconst v = useValue(() => Math.random());\n\treturn <Template>\n\t\t<div>用户信息</div>\n\t\t<div>Id: {route?.params?.['id']}</div>\n\t</Template>;\n});\nexport default mark(Info, mName('UserInfo'));\n","import { create, mark, mName } from '@neep/core';\n\nconst Settings = create((\n\tprops: { a?: any,  set?: () => void},\n\t{ slots, delivered, route },\n\t{ Template, Slot, createElement, useValue }\n) => {\n\treturn <Template>\n\t\t<div>用户设置</div>\n\t\t<div>Id: {route?.params?.['id']}</div>\n\t</Template>;\n});\nexport default mark(Settings, mName('UserSettings'));\n","import { create, mark, mName } from '@neep/core';\nimport Router from '@neep/router';\n\nconst Home = create((\n\tprops: { a?: any,  set?: () => void},\n\t{ slots, delivered, route },\n\t{ Template, Slot, createElement, useValue }\n) => {\n\treturn <Template>\n\t\t<div>首页</div>\n\t\t<hr />\n\t\t<div><Router.Link path=\"/\">首页</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1\">用户1</Router.Link></div>\n\t\t<div><Router.Link path=\"/users/1/settings\">用户1设置</Router.Link></div>\n\t\t<hr />\n\t\t<Router.View />\n\t</Template>;\n});\nexport default mark(Home, mName('Home'));\n","import { create, mName, mark } from '@neep/core';\nimport Router from '@neep/router';\nimport User from './components/User';\nimport Info from './components/User/Info';\nimport Settings from './components/User/Settings';\nimport Home from './components/Home';\nconst router = new Router({\n\tHistory: Router.history.WebHash,\n});\nrouter.setRoutes([\n\t{ path: '/', redirect: '/home' },\n\t{path: '/users/:id', component: User, children: [\n\t\t{path: 'info', component: Info},\n\t\t{path: 'settings', component: Settings},\n\t]},\n\t{path: '/home', component: Home},\n\t{ path: '*', redirect: '/home' },\n]);\n(window as any).router = router;\nconst App = create((props, context, { createElement }) =>\n<Router.View router={router}/>\n);\n\nexport default mark(App, mName('App'));\n","import { render } from '@neep/core';\nimport '@neep/web-render';\nimport '@neep/devtools';\nimport App from './App';\nrender(App).$mount();\n"],"names":["console","fn","printError","String","map","value","def","version","isProduction","process","Constant","Object","freeze","devtools","renderHook","installDevtools","tools","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable","NeepError","Error","constructor","message","tag","assert","v","nextFrameApi","nextFrame","renders","create","getRender","type","default","installRender","render","installMonitorable","api","install","apis","monitorable","getEventName","k","substr","test","addEventFromCollection","addEvent","events","names","Array","isArray","n","p","keys","f","EventEmitter","update","emitter","newHandles","push","on","updateInProps","props","custom","entName","listener","_names","Set","createEmit","omitNames","emit","name","event","res","omit","Reflect","get","markRead","filter","t","includes","_event","e","error","size","markChange","add","removed","delete","updateHandles","eventCancelHandles","_cancelHandles","oldHandles","clear","forEach","list","handles","components","register","component","isElementSymbol","Symbol","for","typeSymbol","nameSymbol","renderSymbol","componentsSymbol","configSymbol","Mark","symbol","mName","mSimple","c","r","mark","marks","m","ScopeSlot","SlotRender","Slot","Value","Container","Deliver","Template","Fragment","Tags","current","setCurrent","entity","oldEntity","$_valueIndex","ret","$_values","length","checkCurrent","initOnly","created","constructors","initContext","context","exposed","addContextConstructor","safeify","hooks","setHook","id","hook","$_hooks","set","callHook","watch","cb","stop","isValue","computed","s","useValue","index","values","undefined","setValue","opt","expose","deliver","delivered","Life","isElement","createElement","attrs","children","node","slot","ref","argv","args","elements","concat","simple","Element","label","setLabel","l","getLabel","label$1","text","color","Dev","auxiliary","encase","recover","ids","Nodes","IdMap","Map","createMountedNode","recoveryMountedNode","recursive2iterable","it","refList","setRefList","setRef","isRemove","getLastNode","tree","getFirstNode","getNodes","unmount","iRender","remove","replace","newTree","oldTree","next","parent","insert","updateList","source","createItem","newList","mountedMap","src","findIndex","old","item","updateItem","splice","has","last","i","o","updateAll","Math","min","max","createList","all","ltag","toLowerCase","draw","createValue","createAll","isNode","RegExp","Date","toISOString","placeholder","_source$children","mount","getSlots","slots","native","nativeList","ownKeys","el","renderSlots","createSlots","inserted","setSlots","disabledKey","updateProps","oldProps","define","isProps","newKeys","getComponents","Boolean","execSimple","nObject","slotMap","childNodes","refresh","valueifyProp","valueify","result","nodes","exec","renderNode","execSlot","_node$props","slotName","findComponent","components$1","newDelivered","$__neep__delivered","normalize","delayedRefresh","objectSet","wait","run","asyncRefresh","async","createExposed","cfg","$parent","_obj$parent","$component","$isContainer","$created","$destroyed","destroyed","$mounted","mounted","$unmounted","unmounted","completeList","setCompleteList","complete","createEntity","_obj$parent2","isContainer","h","bind","config","NeepObject","container","parentDelivered","canRefresh","_delayedRefresh","needRefresh","_needRefresh","requestDraw","_refreshing","_render","_nodes","convert","_update","_destroy","destroy","__executed_destroy","_mount","__executed_mount","exec$1","_cancelDrawMonitor","_unmount","__executed_mounted","_draw","_this$_cancelDrawMoni","call","nativeNodes","createContext","initRender","changed","resultOnly","createExecutable","stopRender","Entity","_this$iRender$compone","_this$iRender","assign","_shadow","_stopRender","markDraw","shadowTree","nativeTree","toElement","createItem$1","_source$props","Container$1","updateList$1","updateItem$1","_source$props2","createAll$1","updateAll$1","awaitDraw","requested","drawAll","rootContainer","setChildren","_drawChildren","setProps","_drawContainer","content","_node","_container","drawChildren","drawContainer","_this$parent","_drawSelf","_needDraw","_this$parent2","drawSelf","_this$parent3","_awaitDraw","markDrawContainer","needDraw","_containers","containers","refs","params","target","installNeep","install$1","getId","updateId","removeAttribute","getClass","split","classes","oClasses","getAttribute","classList","setAttribute","join","updateClass","class","getStyle","style","css","update$1","oStyle","cssText","removeProperty","setProperty","updateStyle","hasStyle","setAttrs","HTMLInputElement","checked","HTMLSelectElement","stringify","data","isOn","toString","JSON","getAttrs","update$2","updateAttrs","createEventEmitter","__eventBind","getElementModel","currentTarget","updateEvent","prop","eventBind","addEventListener","removeEventListener","PropsMap","WeakMap","update$3","CSSStyleDeclaration","window","requestAnimationFrame","fs","xmlnsMap","svg","html","mathml","SVGTags","MathMLTags","tagname","namespace","ns","document","createElementNS","Node","className","querySelector","appendChild","body","oldTarget","newNode","pNode","createTextNode","createComment","attachShadow","mode","parentNode","nextSibling","insertBefore","removeChild","install$2","Type","getTree","_component$exposed","$label","isNative","standard","treeValue","special","getValue","TextNode","getOptions","template","scopeSlot","slotRender","createTag","labels","opened","hasChildren","onclick","getList","options","App","creating","app","getData","$update","$mount","contextConstructor","router","__NeepRouter__","depth","__RouteDepth__","_get","installContextConstructor","RouterView","isNew","Router","Number","isInteger","match","route","path","RouterLink","to","append","search","hash","query","alias","history","link","installComponents","Neep","cleanPath","addRoute","named","meta","end","toPath","compile","encode","encodeURIComponent","decode","decodeURIComponent","matchRoutes","routes","redirect","isFinite","val","parse","indexOf","StoreHistory","state","go","newIndex","back","forward","onClick","any","WebPathHistory","base","getPath","location","start","pushState","replaceState","pathname","href","getUrl","cancel","defaultPrevented","preventDefault","oldHash","basePath","stringifyQuery","routePath","redirects","View","Link","_size","matches","_matches","_alias","_path","_search","_hash","_state","History","historyOption","setRoutes","_routes","_namedRoutes","force","pop","nodesLength","matchesLength","view","User","Info","random","Settings","Home","WebHash"],"mappings":"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"}